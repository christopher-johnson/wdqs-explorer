!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.WDQSGUI=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
module.exports = require('./index.js');

},{"./index.js":4}],2:[function(require,module,exports){
/**
 * vis.js
 * https://github.com/almende/vis
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 4.11.0
 * @date    2015-12-18
 *
 * @license
 * Copyright (C) 2011-2015 Almende B.V, http://almende.com
 *
 * Vis.js is dual licensed under both
 *
 * * The Apache 2.0 License
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * and
 *
 * * The MIT License
 *   http://opensource.org/licenses/MIT
 *
 * Vis.js may be distributed under either license.
 */
"use strict";!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.vis=e():t.vis=e()}(this,function(){return function(t){function e(o){if(i[o])return i[o].exports;var n=i[o]={exports:{},id:o,loaded:!1};return t[o].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){e.util=i(1),e.DOMutil=i(7),e.DataSet=i(8),e.DataView=i(10),e.Queue=i(9),e.Graph3d=i(11),e.graph3d={Camera:i(15),Filter:i(16),Point2d:i(14),Point3d:i(13),Slider:i(17),StepNumber:i(18)},e.Timeline=i(19),e.Graph2d=i(49),e.timeline={Core:i(28),DataStep:i(52),DateUtil:i(27),Range:i(24),stack:i(32),TimeStep:i(30),components:{items:{Item:i(34),BackgroundItem:i(38),BoxItem:i(36),PointItem:i(37),RangeItem:i(33)},BackgroundGroup:i(35),Component:i(26),CurrentTime:i(44),CustomTime:i(42),DataAxis:i(51),GraphGroup:i(53),Group:i(31),ItemSet:i(29),Legend:i(57),LineGraph:i(50),TimeAxis:i(39)}},e.Network=i(59),e.network={Images:i(117),dotparser:i(115),gephiParser:i(116),allOptions:i(111)},e.network.convertDot=function(t){return e.network.dotparser.DOTToGraph(t)},e.network.convertGephi=function(t,i){return e.network.gephiParser.parseGephi(t,i)},e.moment=i(2),e.Hammer=i(20),e.keycharm=i(41)},function(t,e,i){var o=i(2),n=i(6);e.isNumber=function(t){return t instanceof Number||"number"==typeof t},e.recursiveDOMDelete=function(t){if(t)for(;t.hasChildNodes()===!0;)e.recursiveDOMDelete(t.firstChild),t.removeChild(t.firstChild)},e.giveRange=function(t,e,i,o){if(e==t)return.5;var n=1/(e-t);return Math.max(0,(o-t)*n)},e.isString=function(t){return t instanceof String||"string"==typeof t},e.isDate=function(t){if(t instanceof Date)return!0;if(e.isString(t)){var i=s.exec(t);if(i)return!0;if(!isNaN(Date.parse(t)))return!0}return!1},e.randomUUID=function(){return n.v4()},e.assignAllKeys=function(t,e){for(var i in t)t.hasOwnProperty(i)&&"object"!=typeof t[i]&&(t[i]=e)},e.fillIfDefined=function(t,i){var o=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];for(var n in t)void 0!==i[n]&&("object"!=typeof i[n]?void 0!==i[n]&&null!==i[n]||void 0===t[n]||o!==!0?t[n]=i[n]:delete t[n]:"object"==typeof t[n]&&e.fillIfDefined(t[n],i[n],o))},e.protoExtend=function(t,e){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var n in o)t[n]=o[n]}return t},e.extend=function(t,e){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])}return t},e.selectiveExtend=function(t,e,i){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(var o=2;o<arguments.length;o++)for(var n=arguments[o],s=0;s<t.length;s++){var r=t[s];n.hasOwnProperty(r)&&(e[r]=n[r])}return e},e.selectiveDeepExtend=function(t,i,o){var n=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];if(Array.isArray(o))throw new TypeError("Arrays are not supported by deepExtend");for(var s=2;s<arguments.length;s++)for(var r=arguments[s],a=0;a<t.length;a++){var h=t[a];if(r.hasOwnProperty(h))if(o[h]&&o[h].constructor===Object)void 0===i[h]&&(i[h]={}),i[h].constructor===Object?e.deepExtend(i[h],o[h],!1,n):null===o[h]&&void 0!==i[h]&&n===!0?delete i[h]:i[h]=o[h];else{if(Array.isArray(o[h]))throw new TypeError("Arrays are not supported by deepExtend");null===o[h]&&void 0!==i[h]&&n===!0?delete i[h]:i[h]=o[h]}}return i},e.selectiveNotDeepExtend=function(t,i,o){var n=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];if(Array.isArray(o))throw new TypeError("Arrays are not supported by deepExtend");for(var s in o)if(o.hasOwnProperty(s)&&-1==t.indexOf(s))if(o[s]&&o[s].constructor===Object)void 0===i[s]&&(i[s]={}),i[s].constructor===Object?e.deepExtend(i[s],o[s]):null===o[s]&&void 0!==i[s]&&n===!0?delete i[s]:i[s]=o[s];else if(Array.isArray(o[s])){i[s]=[];for(var r=0;r<o[s].length;r++)i[s].push(o[s][r])}else null===o[s]&&void 0!==i[s]&&n===!0?delete i[s]:i[s]=o[s];return i},e.deepExtend=function(t,i,o,n){for(var s in i)if(i.hasOwnProperty(s)||o===!0)if(i[s]&&i[s].constructor===Object)void 0===t[s]&&(t[s]={}),t[s].constructor===Object?e.deepExtend(t[s],i[s],o):null===i[s]&&void 0!==t[s]&&n===!0?delete t[s]:t[s]=i[s];else if(Array.isArray(i[s])){t[s]=[];for(var r=0;r<i[s].length;r++)t[s].push(i[s][r])}else null===i[s]&&void 0!==t[s]&&n===!0?delete t[s]:t[s]=i[s];return t},e.equalArray=function(t,e){if(t.length!=e.length)return!1;for(var i=0,o=t.length;o>i;i++)if(t[i]!=e[i])return!1;return!0},e.convert=function(t,i){var n;if(void 0!==t){if(null===t)return null;if(!i)return t;if("string"!=typeof i&&!(i instanceof String))throw new Error("Type must be a string");switch(i){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return Number(t.valueOf());case"string":case"String":return String(t);case"Date":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(o.isMoment(t))return new Date(t.valueOf());if(e.isString(t))return n=s.exec(t),n?new Date(Number(n[1])):o(t).toDate();throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"Moment":if(e.isNumber(t))return o(t);if(t instanceof Date)return o(t.valueOf());if(o.isMoment(t))return o(t);if(e.isString(t))return n=s.exec(t),o(n?Number(n[1]):t);throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"ISODate":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(o.isMoment(t))return t.toDate().toISOString();if(e.isString(t))return n=s.exec(t),n?new Date(Number(n[1])).toISOString():new Date(t).toISOString();throw new Error("Cannot convert object of type "+e.getType(t)+" to type ISODate");case"ASPDate":if(e.isNumber(t))return"/Date("+t+")/";if(t instanceof Date)return"/Date("+t.valueOf()+")/";if(e.isString(t)){n=s.exec(t);var r;return r=n?new Date(Number(n[1])).valueOf():new Date(t).valueOf(),"/Date("+r+")/"}throw new Error("Cannot convert object of type "+e.getType(t)+" to type ASPDate");default:throw new Error('Unknown type "'+i+'"')}}};var s=/^\/?Date\((\-?\d+)/i;e.getType=function(t){var e=typeof t;return"object"==e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":"number"==e?"Number":"boolean"==e?"Boolean":"string"==e?"String":void 0===e?"undefined":e},e.copyAndExtendArray=function(t,e){for(var i=[],o=0;o<t.length;o++)i.push(t[o]);return i.push(e),i},e.copyArray=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e},e.getAbsoluteLeft=function(t){return t.getBoundingClientRect().left},e.getAbsoluteTop=function(t){return t.getBoundingClientRect().top},e.addClassName=function(t,e){var i=t.className.split(" ");-1==i.indexOf(e)&&(i.push(e),t.className=i.join(" "))},e.removeClassName=function(t,e){var i=t.className.split(" "),o=i.indexOf(e);-1!=o&&(i.splice(o,1),t.className=i.join(" "))},e.forEach=function(t,e){var i,o;if(Array.isArray(t))for(i=0,o=t.length;o>i;i++)e(t[i],i,t);else for(i in t)t.hasOwnProperty(i)&&e(t[i],i,t)},e.toArray=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(t[i]);return e},e.updateProperty=function(t,e,i){return t[e]!==i?(t[e]=i,!0):!1},e.throttle=function(t,e){var i=null,o=!1;return function n(){i?o=!0:(o=!1,t(),i=setTimeout(function(){i=null,o&&n()},e))}},e.addEventListener=function(t,e,i,o){t.addEventListener?(void 0===o&&(o=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.addEventListener(e,i,o)):t.attachEvent("on"+e,i)},e.removeEventListener=function(t,e,i,o){t.removeEventListener?(void 0===o&&(o=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.removeEventListener(e,i,o)):t.detachEvent("on"+e,i)},e.preventDefault=function(t){t||(t=window.event),t.preventDefault?t.preventDefault():t.returnValue=!1},e.getTarget=function(t){t||(t=window.event);var e;return t.target?e=t.target:t.srcElement&&(e=t.srcElement),void 0!=e.nodeType&&3==e.nodeType&&(e=e.parentNode),e},e.hasParent=function(t,e){for(var i=t;i;){if(i===e)return!0;i=i.parentNode}return!1},e.option={},e.option.asBoolean=function(t,e){return"function"==typeof t&&(t=t()),null!=t?0!=t:e||null},e.option.asNumber=function(t,e){return"function"==typeof t&&(t=t()),null!=t?Number(t)||e||null:e||null},e.option.asString=function(t,e){return"function"==typeof t&&(t=t()),null!=t?String(t):e||null},e.option.asSize=function(t,i){return"function"==typeof t&&(t=t()),e.isString(t)?t:e.isNumber(t)?t+"px":i||null},e.option.asElement=function(t,e){return"function"==typeof t&&(t=t()),t||e||null},e.hexToRGB=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,i,o){return e+e+i+i+o+o});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},e.overrideOpacity=function(t,i){if(-1!=t.indexOf("rgba"))return t;if(-1!=t.indexOf("rgb")){var o=t.substr(t.indexOf("(")+1).replace(")","").split(",");return"rgba("+o[0]+","+o[1]+","+o[2]+","+i+")"}var o=e.hexToRGB(t);return null==o?t:"rgba("+o.r+","+o.g+","+o.b+","+i+")"},e.RGBToHex=function(t,e,i){return"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},e.parseColor=function(t){var i;if(e.isString(t)===!0){if(e.isValidRGB(t)===!0){var o=t.substr(4).substr(0,t.length-5).split(",").map(function(t){return parseInt(t)});t=e.RGBToHex(o[0],o[1],o[2])}if(e.isValidHex(t)===!0){var n=e.hexToHSV(t),s={h:n.h,s:.8*n.s,v:Math.min(1,1.02*n.v)},r={h:n.h,s:Math.min(1,1.25*n.s),v:.8*n.v},a=e.HSVToHex(r.h,r.s,r.v),h=e.HSVToHex(s.h,s.s,s.v);i={background:t,border:a,highlight:{background:h,border:a},hover:{background:h,border:a}}}else i={background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else i={},i.background=t.background||void 0,i.border=t.border||void 0,e.isString(t.highlight)?i.highlight={border:t.highlight,background:t.highlight}:(i.highlight={},i.highlight.background=t.highlight&&t.highlight.background||void 0,i.highlight.border=t.highlight&&t.highlight.border||void 0),e.isString(t.hover)?i.hover={border:t.hover,background:t.hover}:(i.hover={},i.hover.background=t.hover&&t.hover.background||void 0,i.hover.border=t.hover&&t.hover.border||void 0);return i},e.RGBToHSV=function(t,e,i){t/=255,e/=255,i/=255;var o=Math.min(t,Math.min(e,i)),n=Math.max(t,Math.max(e,i));if(o==n)return{h:0,s:0,v:o};var s=t==o?e-i:i==o?t-e:i-t,r=t==o?3:i==o?1:5,a=60*(r-s/(n-o))/360,h=(n-o)/n,d=n;return{h:a,s:h,v:d}};var r={split:function(t){var e={};return t.split(";").forEach(function(t){if(""!=t.trim()){var i=t.split(":"),o=i[0].trim(),n=i[1].trim();e[o]=n}}),e},join:function(t){return Object.keys(t).map(function(e){return e+": "+t[e]}).join("; ")}};e.addCssText=function(t,i){var o=r.split(t.style.cssText),n=r.split(i),s=e.extend(o,n);t.style.cssText=r.join(s)},e.removeCssText=function(t,e){var i=r.split(t.style.cssText),o=r.split(e);for(var n in o)o.hasOwnProperty(n)&&delete i[n];t.style.cssText=r.join(i)},e.HSVToRGB=function(t,e,i){var o,n,s,r=Math.floor(6*t),a=6*t-r,h=i*(1-e),d=i*(1-a*e),l=i*(1-(1-a)*e);switch(r%6){case 0:o=i,n=l,s=h;break;case 1:o=d,n=i,s=h;break;case 2:o=h,n=i,s=l;break;case 3:o=h,n=d,s=i;break;case 4:o=l,n=h,s=i;break;case 5:o=i,n=h,s=d}return{r:Math.floor(255*o),g:Math.floor(255*n),b:Math.floor(255*s)}},e.HSVToHex=function(t,i,o){var n=e.HSVToRGB(t,i,o);return e.RGBToHex(n.r,n.g,n.b)},e.hexToHSV=function(t){var i=e.hexToRGB(t);return e.RGBToHSV(i.r,i.g,i.b)},e.isValidHex=function(t){var e=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t);return e},e.isValidRGB=function(t){t=t.replace(" ","");var e=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(t);return e},e.isValidRGBA=function(t){t=t.replace(" ","");var e=/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(t);return e},e.selectiveBridgeObject=function(t,i){if("object"==typeof i){for(var o=Object.create(i),n=0;n<t.length;n++)i.hasOwnProperty(t[n])&&"object"==typeof i[t[n]]&&(o[t[n]]=e.bridgeObject(i[t[n]]));return o}return null},e.bridgeObject=function(t){if("object"==typeof t){var i=Object.create(t);for(var o in t)t.hasOwnProperty(o)&&"object"==typeof t[o]&&(i[o]=e.bridgeObject(t[o]));return i}return null},e.insertSort=function(t,e){for(var i=0;i<t.length;i++){for(var o=t[i],n=i;n>0&&e(o,t[n-1])<0;n--)t[n]=t[n-1];t[n]=o}return t},e.mergeOptions=function(t,e,i){var o=(arguments.length<=3||void 0===arguments[3]?!1:arguments[3],arguments.length<=4||void 0===arguments[4]?{}:arguments[4]);if(null===e[i])t[i]=Object.create(o[i]);else if(void 0!==e[i])if("boolean"==typeof e[i])t[i].enabled=e[i];else{void 0===e[i].enabled&&(t[i].enabled=!0);for(var n in e[i])e[i].hasOwnProperty(n)&&(t[i][n]=e[i][n])}},e.binarySearchCustom=function(t,e,i,o){for(var n=1e4,s=0,r=0,a=t.length-1;a>=r&&n>s;){var h=Math.floor((r+a)/2),d=t[h],l=void 0===o?d[i]:d[i][o],u=e(l);if(0==u)return h;-1==u?r=h+1:a=h-1,s++}return-1},e.binarySearchValue=function(t,e,i,o){for(var n,s,r,a,h=1e4,d=0,l=0,u=t.length-1;u>=l&&h>d;){if(a=Math.floor(.5*(u+l)),n=t[Math.max(0,a-1)][i],s=t[a][i],r=t[Math.min(t.length-1,a+1)][i],s==e)return a;if(e>n&&s>e)return"before"==o?Math.max(0,a-1):a;if(e>s&&r>e)return"before"==o?a:Math.min(t.length-1,a+1);e>s?l=a+1:u=a-1,d++}return-1},e.easingFunctions={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return.5>t?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return.5>t?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t}}},function(t,e,i){t.exports="undefined"!=typeof window&&window.moment||i(3)},function(t,e,i){(function(t){!function(e,i){t.exports=i()}(this,function(){function e(){return zi.apply(null,arguments)}function i(t){zi=t}function o(t){return"[object Array]"===Object.prototype.toString.call(t)}function n(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function s(t,e){var i,o=[];for(i=0;i<t.length;++i)o.push(e(t[i],i));return o}function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){for(var i in e)r(e,i)&&(t[i]=e[i]);return r(e,"toString")&&(t.toString=e.toString),r(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e,i,o){return St(t,e,i,o,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function l(t){return null==t._pf&&(t._pf=d()),t._pf}function u(t){if(null==t._isValid){var e=l(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function c(t){var e=h(NaN);return null!=t?a(l(e),t):l(e).userInvalidated=!0,e}function p(t,e){var i,o,n;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=l(e)),"undefined"!=typeof e._locale&&(t._locale=e._locale),Ai.length>0)for(i in Ai)o=Ai[i],n=e[o],"undefined"!=typeof n&&(t[o]=n);return t}function f(t){p(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),Bi===!1&&(Bi=!0,e.updateOffset(this),Bi=!1)}function m(t){return t instanceof f||null!=t&&null!=t._isAMomentObject}function v(t){return 0>t?Math.ceil(t):Math.floor(t)}function g(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=v(e)),i}function y(t,e,i){var o,n=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),r=0;for(o=0;n>o;o++)(i&&t[o]!==e[o]||!i&&g(t[o])!==g(e[o]))&&r++;return r+s}function b(){}function w(t){return t?t.toLowerCase().replace("_","-"):t}function _(t){for(var e,i,o,n,s=0;s<t.length;){for(n=w(t[s]).split("-"),e=n.length,i=w(t[s+1]),i=i?i.split("-"):null;e>0;){if(o=x(n.slice(0,e).join("-")))return o;if(i&&i.length>=e&&y(n,i,!0)>=e-1)break;e--}s++}return null}function x(e){var i=null;if(!Fi[e]&&"undefined"!=typeof t&&t&&t.exports)try{i=Li._abbr,!function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),k(i)}catch(o){}return Fi[e]}function k(t,e){var i;return t&&(i="undefined"==typeof e?M(t):O(t,e),i&&(Li=i)),Li._abbr}function O(t,e){return null!==e?(e.abbr=t,Fi[t]=Fi[t]||new b,Fi[t].set(e),k(t),Fi[t]):(delete Fi[t],null)}function M(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Li;if(!o(t)){if(e=x(t))return e;t=[t]}return _(t)}function D(t,e){var i=t.toLowerCase();Ri[i]=Ri[i+"s"]=Ri[e]=t}function C(t){return"string"==typeof t?Ri[t]||Ri[t.toLowerCase()]:void 0}function T(t){var e,i,o={};for(i in t)r(t,i)&&(e=C(i),e&&(o[e]=t[i]));return o}function S(t,i){return function(o){return null!=o?(P(this,t,o),e.updateOffset(this,i),this):E(this,t)}}function E(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function P(t,e,i){return t._d["set"+(t._isUTC?"UTC":"")+e](i)}function I(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else if(t=C(t),"function"==typeof this[t])return this[t](e);return this}function N(t,e,i){var o=""+Math.abs(t),n=e-o.length,s=t>=0;return(s?i?"+":"":"-")+Math.pow(10,Math.max(0,n)).toString().substr(1)+o}function z(t,e,i,o){var n=o;"string"==typeof o&&(n=function(){return this[o]()}),t&&(Yi[t]=n),e&&(Yi[e[0]]=function(){return N(n.apply(this,arguments),e[1],e[2])}),i&&(Yi[i]=function(){return this.localeData().ordinal(n.apply(this,arguments),t)})}function L(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function A(t){var e,i,o=t.match(ji);for(e=0,i=o.length;i>e;e++)Yi[o[e]]?o[e]=Yi[o[e]]:o[e]=L(o[e]);return function(n){var s="";for(e=0;i>e;e++)s+=o[e]instanceof Function?o[e].call(n,t):o[e];return s}}function B(t,e){return t.isValid()?(e=F(e,t.localeData()),Wi[e]=Wi[e]||A(e),Wi[e](t)):t.localeData().invalidDate()}function F(t,e){function i(t){return e.longDateFormat(t)||t}var o=5;for(Hi.lastIndex=0;o>=0&&Hi.test(t);)t=t.replace(Hi,i),Hi.lastIndex=0,o-=1;return t}function R(t){return"function"==typeof t&&"[object Function]"===Object.prototype.toString.call(t)}function j(t,e,i){no[t]=R(e)?e:function(t){return t&&i?i:e}}function H(t,e){return r(no,t)?no[t](e._strict,e._locale):new RegExp(W(t))}function W(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,o,n){return e||i||o||n}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Y(t,e){var i,o=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(o=function(t,i){i[e]=g(t)}),i=0;i<t.length;i++)so[t[i]]=o}function G(t,e){Y(t,function(t,i,o,n){o._w=o._w||{},e(t,o._w,o,n)})}function U(t,e,i){null!=e&&r(so,t)&&so[t](e,i._a,i,t)}function V(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function q(t){return this._months[t.month()]}function X(t){return this._monthsShort[t.month()]}function Z(t,e,i){var o,n,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;12>o;o++){if(n=h([2e3,o]),i&&!this._longMonthsParse[o]&&(this._longMonthsParse[o]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[o]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),i||this._monthsParse[o]||(s="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[o]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[o].test(t))return o;if(i&&"MMM"===e&&this._shortMonthsParse[o].test(t))return o;if(!i&&this._monthsParse[o].test(t))return o}}function K(t,e){var i;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(i=Math.min(t.date(),V(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t)}function J(t){return null!=t?(K(this,t),e.updateOffset(this,!0),this):E(this,"Month")}function Q(){return V(this.year(),this.month())}function $(t){var e,i=t._a;return i&&-2===l(t).overflow&&(e=i[ao]<0||i[ao]>11?ao:i[ho]<1||i[ho]>V(i[ro],i[ao])?ho:i[lo]<0||i[lo]>24||24===i[lo]&&(0!==i[uo]||0!==i[co]||0!==i[po])?lo:i[uo]<0||i[uo]>59?uo:i[co]<0||i[co]>59?co:i[po]<0||i[po]>999?po:-1,l(t)._overflowDayOfYear&&(ro>e||e>ho)&&(e=ho),l(t).overflow=e),t}function tt(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function et(t,e){var i=!0;return a(function(){return i&&(tt(t+"\n"+(new Error).stack),i=!1),e.apply(this,arguments)},e)}function it(t,e){vo[t]||(tt(e),vo[t]=!0)}function ot(t){var e,i,o=t._i,n=go.exec(o);if(n){for(l(t).iso=!0,e=0,i=yo.length;i>e;e++)if(yo[e][1].exec(o)){t._f=yo[e][0];break}for(e=0,i=bo.length;i>e;e++)if(bo[e][1].exec(o)){t._f+=(n[6]||" ")+bo[e][0];break}o.match(eo)&&(t._f+="Z"),xt(t)}else t._isValid=!1}function nt(t){var i=wo.exec(t._i);return null!==i?void(t._d=new Date(+i[1])):(ot(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function st(t,e,i,o,n,s,r){var a=new Date(t,e,i,o,n,s,r);return 1970>t&&a.setFullYear(t),a}function rt(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function at(t){return ht(t)?366:365}function ht(t){return t%4===0&&t%100!==0||t%400===0}function dt(){return ht(this.year())}function lt(t,e,i){var o,n=i-e,s=i-t.day();return s>n&&(s-=7),n-7>s&&(s+=7),o=Et(t).add(s,"d"),{week:Math.ceil(o.dayOfYear()/7),year:o.year()}}function ut(t){return lt(t,this._week.dow,this._week.doy).week}function ct(){return this._week.dow}function pt(){return this._week.doy}function ft(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function mt(t){var e=lt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function vt(t,e,i,o,n){var s,r=6+n-o,a=rt(t,0,1+r),h=a.getUTCDay();return n>h&&(h+=7),i=null!=i?1*i:n,s=1+r+7*(e-1)-h+i,{year:s>0?t:t-1,dayOfYear:s>0?s:at(t-1)+s}}function gt(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function yt(t,e,i){return null!=t?t:null!=e?e:i}function bt(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function wt(t){var e,i,o,n,s=[];if(!t._d){for(o=bt(t),t._w&&null==t._a[ho]&&null==t._a[ao]&&_t(t),t._dayOfYear&&(n=yt(t._a[ro],o[ro]),t._dayOfYear>at(n)&&(l(t)._overflowDayOfYear=!0),i=rt(n,0,t._dayOfYear),t._a[ao]=i.getUTCMonth(),t._a[ho]=i.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=s[e]=o[e];for(;7>e;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[lo]&&0===t._a[uo]&&0===t._a[co]&&0===t._a[po]&&(t._nextDay=!0,t._a[lo]=0),t._d=(t._useUTC?rt:st).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[lo]=24)}}function _t(t){var e,i,o,n,s,r,a;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(s=1,r=4,i=yt(e.GG,t._a[ro],lt(Et(),1,4).year),o=yt(e.W,1),n=yt(e.E,1)):(s=t._locale._week.dow,r=t._locale._week.doy,i=yt(e.gg,t._a[ro],lt(Et(),s,r).year),o=yt(e.w,1),null!=e.d?(n=e.d,s>n&&++o):n=null!=e.e?e.e+s:s),a=vt(i,o,n,r,s),t._a[ro]=a.year,t._dayOfYear=a.dayOfYear}function xt(t){if(t._f===e.ISO_8601)return void ot(t);t._a=[],l(t).empty=!0;var i,o,n,s,r,a=""+t._i,h=a.length,d=0;for(n=F(t._f,t._locale).match(ji)||[],i=0;i<n.length;i++)s=n[i],o=(a.match(H(s,t))||[])[0],o&&(r=a.substr(0,a.indexOf(o)),r.length>0&&l(t).unusedInput.push(r),a=a.slice(a.indexOf(o)+o.length),d+=o.length),Yi[s]?(o?l(t).empty=!1:l(t).unusedTokens.push(s),U(s,o,t)):t._strict&&!o&&l(t).unusedTokens.push(s);l(t).charsLeftOver=h-d,a.length>0&&l(t).unusedInput.push(a),l(t).bigHour===!0&&t._a[lo]<=12&&t._a[lo]>0&&(l(t).bigHour=void 0),t._a[lo]=kt(t._locale,t._a[lo],t._meridiem),wt(t),$(t)}function kt(t,e,i){var o;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(o=t.isPM(i),o&&12>e&&(e+=12),o||12!==e||(e=0),e):e}function Ot(t){var e,i,o,n,s;if(0===t._f.length)return l(t).invalidFormat=!0,void(t._d=new Date(NaN));for(n=0;n<t._f.length;n++)s=0,e=p({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[n],xt(e),u(e)&&(s+=l(e).charsLeftOver,s+=10*l(e).unusedTokens.length,l(e).score=s,(null==o||o>s)&&(o=s,i=e));a(t,i||e)}function Mt(t){if(!t._d){var e=T(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],wt(t)}}function Dt(t){var e=new f($(Ct(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Ct(t){var e=t._i,i=t._f;return t._locale=t._locale||M(t._l),null===e||void 0===i&&""===e?c({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),m(e)?new f($(e)):(o(i)?Ot(t):i?xt(t):n(e)?t._d=e:Tt(t),t))}function Tt(t){var i=t._i;void 0===i?t._d=new Date:n(i)?t._d=new Date(+i):"string"==typeof i?nt(t):o(i)?(t._a=s(i.slice(0),function(t){return parseInt(t,10)}),wt(t)):"object"==typeof i?Mt(t):"number"==typeof i?t._d=new Date(i):e.createFromInputFallback(t)}function St(t,e,i,o,n){var s={};return"boolean"==typeof i&&(o=i,i=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=n,s._l=i,s._i=t,s._f=e,s._strict=o,Dt(s)}function Et(t,e,i,o){return St(t,e,i,o,!1)}function Pt(t,e){var i,n;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return Et();for(i=e[0],n=1;n<e.length;++n)(!e[n].isValid()||e[n][t](i))&&(i=e[n]);return i}function It(){var t=[].slice.call(arguments,0);return Pt("isBefore",t)}function Nt(){var t=[].slice.call(arguments,0);return Pt("isAfter",t)}function zt(t){var e=T(t),i=e.year||0,o=e.quarter||0,n=e.month||0,s=e.week||0,r=e.day||0,a=e.hour||0,h=e.minute||0,d=e.second||0,l=e.millisecond||0;this._milliseconds=+l+1e3*d+6e4*h+36e5*a,this._days=+r+7*s,this._months=+n+3*o+12*i,this._data={},this._locale=M(),this._bubble()}function Lt(t){return t instanceof zt}function At(t,e){z(t,0,0,function(){var t=this.utcOffset(),i="+";return 0>t&&(t=-t,i="-"),i+N(~~(t/60),2)+e+N(~~t%60,2)})}function Bt(t){var e=(t||"").match(eo)||[],i=e[e.length-1]||[],o=(i+"").match(Mo)||["-",0,0],n=+(60*o[1])+g(o[2]);return"+"===o[0]?n:-n}function Ft(t,i){var o,s;return i._isUTC?(o=i.clone(),s=(m(t)||n(t)?+t:+Et(t))-+o,o._d.setTime(+o._d+s),e.updateOffset(o,!1),o):Et(t).local()}function Rt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function jt(t,i){var o,n=this._offset||0;return null!=t?("string"==typeof t&&(t=Bt(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&i&&(o=Rt(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),n!==t&&(!i||this._changeInProgress?ie(this,Jt(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?n:Rt(this)}function Ht(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Wt(t){return this.utcOffset(0,t)}function Yt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Rt(this),"m")),this}function Gt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Bt(this._i)),this}function Ut(t){return t=t?Et(t).utcOffset():0,(this.utcOffset()-t)%60===0}function Vt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function qt(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var t={};if(p(t,this),t=Ct(t),t._a){var e=t._isUTC?h(t._a):Et(t._a);this._isDSTShifted=this.isValid()&&y(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Xt(){return!this._isUTC}function Zt(){return this._isUTC}function Kt(){return this._isUTC&&0===this._offset}function Jt(t,e){var i,o,n,s=t,a=null;return Lt(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(s={},e?s[e]=t:s.milliseconds=t):(a=Do.exec(t))?(i="-"===a[1]?-1:1,s={y:0,d:g(a[ho])*i,h:g(a[lo])*i,m:g(a[uo])*i,s:g(a[co])*i,ms:g(a[po])*i}):(a=Co.exec(t))?(i="-"===a[1]?-1:1,s={y:Qt(a[2],i),M:Qt(a[3],i),d:Qt(a[4],i),h:Qt(a[5],i),m:Qt(a[6],i),s:Qt(a[7],i),w:Qt(a[8],i)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(n=te(Et(s.from),Et(s.to)),s={},s.ms=n.milliseconds,s.M=n.months),o=new zt(s),Lt(t)&&r(t,"_locale")&&(o._locale=t._locale),o}function Qt(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function $t(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function te(t,e){var i;return e=Ft(e,t),t.isBefore(e)?i=$t(t,e):(i=$t(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function ee(t,e){return function(i,o){var n,s;return null===o||isNaN(+o)||(it(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=i,i=o,o=s),i="string"==typeof i?+i:i,n=Jt(i,o),ie(this,n,t),this}}function ie(t,i,o,n){var s=i._milliseconds,r=i._days,a=i._months;n=null==n?!0:n,s&&t._d.setTime(+t._d+s*o),r&&P(t,"Date",E(t,"Date")+r*o),a&&K(t,E(t,"Month")+a*o),n&&e.updateOffset(t,r||a)}function oe(t,e){var i=t||Et(),o=Ft(i,this).startOf("day"),n=this.diff(o,"days",!0),s=-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse";return this.format(e&&e[s]||this.localeData().calendar(s,this,Et(i)))}function ne(){return new f(this)}function se(t,e){var i;return e=C("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=m(t)?t:Et(t),+this>+t):(i=m(t)?+t:+Et(t),i<+this.clone().startOf(e))}function re(t,e){var i;return e=C("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=m(t)?t:Et(t),+t>+this):(i=m(t)?+t:+Et(t),+this.clone().endOf(e)<i)}function ae(t,e,i){return this.isAfter(t,i)&&this.isBefore(e,i)}function he(t,e){var i;return e=C(e||"millisecond"),"millisecond"===e?(t=m(t)?t:Et(t),+this===+t):(i=+Et(t),+this.clone().startOf(e)<=i&&i<=+this.clone().endOf(e))}function de(t,e,i){var o,n,s=Ft(t,this),r=6e4*(s.utcOffset()-this.utcOffset());return e=C(e),"year"===e||"month"===e||"quarter"===e?(n=le(this,s),"quarter"===e?n/=3:"year"===e&&(n/=12)):(o=this-s,n="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-r)/864e5:"week"===e?(o-r)/6048e5:o),i?n:v(n)}function le(t,e){var i,o,n=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(n,"months");return 0>e-s?(i=t.clone().add(n-1,"months"),o=(e-s)/(s-i)):(i=t.clone().add(n+1,"months"),o=(e-s)/(i-s)),-(n+o)}function ue(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ce(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():B(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):B(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function pe(t){var i=B(this,t||e.defaultFormat);return this.localeData().postformat(i)}function fe(t,e){return this.isValid()?Jt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function me(t){return this.from(Et(),t)}function ve(t,e){return this.isValid()?Jt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ge(t){return this.to(Et(),t)}function ye(t){var e;return void 0===t?this._locale._abbr:(e=M(t),null!=e&&(this._locale=e),this)}function be(){return this._locale}function we(t){switch(t=C(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function _e(t){
return t=C(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function xe(){return+this._d-6e4*(this._offset||0)}function ke(){return Math.floor(+this/1e3)}function Oe(){return this._offset?new Date(+this):this._d}function Me(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function De(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Ce(){return u(this)}function Te(){return a({},l(this))}function Se(){return l(this).overflow}function Ee(t,e){z(0,[t,t.length],0,e)}function Pe(t,e,i){return lt(Et([t,11,31+e-i]),e,i).week}function Ie(t){var e=lt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Ne(t){var e=lt(this,1,4).year;return null==t?e:this.add(t-e,"y")}function ze(){return Pe(this.year(),1,4)}function Le(){var t=this.localeData()._week;return Pe(this.year(),t.dow,t.doy)}function Ae(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Be(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Fe(t){return this._weekdays[t.day()]}function Re(t){return this._weekdaysShort[t.day()]}function je(t){return this._weekdaysMin[t.day()]}function He(t){var e,i,o;for(this._weekdaysParse=this._weekdaysParse||[],e=0;7>e;e++)if(this._weekdaysParse[e]||(i=Et([2e3,1]).day(e),o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(o.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function We(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Be(t,this.localeData()),this.add(t-e,"d")):e}function Ye(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ge(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function Ue(t,e){z(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Ve(t,e){return e._meridiemParse}function qe(t){return"p"===(t+"").toLowerCase().charAt(0)}function Xe(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}function Ze(t,e){e[po]=g(1e3*("0."+t))}function Ke(){return this._isUTC?"UTC":""}function Je(){return this._isUTC?"Coordinated Universal Time":""}function Qe(t){return Et(1e3*t)}function $e(){return Et.apply(null,arguments).parseZone()}function ti(t,e,i){var o=this._calendar[t];return"function"==typeof o?o.call(e,i):o}function ei(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function ii(){return this._invalidDate}function oi(t){return this._ordinal.replace("%d",t)}function ni(t){return t}function si(t,e,i,o){var n=this._relativeTime[i];return"function"==typeof n?n(t,e,i,o):n.replace(/%d/i,t)}function ri(t,e){var i=this._relativeTime[t>0?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)}function ai(t){var e,i;for(i in t)e=t[i],"function"==typeof e?this[i]=e:this["_"+i]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function hi(t,e,i,o){var n=M(),s=h().set(o,e);return n[i](s,t)}function di(t,e,i,o,n){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return hi(t,e,i,n);var s,r=[];for(s=0;o>s;s++)r[s]=hi(t,s,i,n);return r}function li(t,e){return di(t,e,"months",12,"month")}function ui(t,e){return di(t,e,"monthsShort",12,"month")}function ci(t,e){return di(t,e,"weekdays",7,"day")}function pi(t,e){return di(t,e,"weekdaysShort",7,"day")}function fi(t,e){return di(t,e,"weekdaysMin",7,"day")}function mi(){var t=this._data;return this._milliseconds=Ko(this._milliseconds),this._days=Ko(this._days),this._months=Ko(this._months),t.milliseconds=Ko(t.milliseconds),t.seconds=Ko(t.seconds),t.minutes=Ko(t.minutes),t.hours=Ko(t.hours),t.months=Ko(t.months),t.years=Ko(t.years),this}function vi(t,e,i,o){var n=Jt(e,i);return t._milliseconds+=o*n._milliseconds,t._days+=o*n._days,t._months+=o*n._months,t._bubble()}function gi(t,e){return vi(this,t,e,1)}function yi(t,e){return vi(this,t,e,-1)}function bi(t){return 0>t?Math.floor(t):Math.ceil(t)}function wi(){var t,e,i,o,n,s=this._milliseconds,r=this._days,a=this._months,h=this._data;return s>=0&&r>=0&&a>=0||0>=s&&0>=r&&0>=a||(s+=864e5*bi(xi(a)+r),r=0,a=0),h.milliseconds=s%1e3,t=v(s/1e3),h.seconds=t%60,e=v(t/60),h.minutes=e%60,i=v(e/60),h.hours=i%24,r+=v(i/24),n=v(_i(r)),a+=n,r-=bi(xi(n)),o=v(a/12),a%=12,h.days=r,h.months=a,h.years=o,this}function _i(t){return 4800*t/146097}function xi(t){return 146097*t/4800}function ki(t){var e,i,o=this._milliseconds;if(t=C(t),"month"===t||"year"===t)return e=this._days+o/864e5,i=this._months+_i(e),"month"===t?i:i/12;switch(e=this._days+Math.round(xi(this._months)),t){case"week":return e/7+o/6048e5;case"day":return e+o/864e5;case"hour":return 24*e+o/36e5;case"minute":return 1440*e+o/6e4;case"second":return 86400*e+o/1e3;case"millisecond":return Math.floor(864e5*e)+o;default:throw new Error("Unknown unit "+t)}}function Oi(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function Mi(t){return function(){return this.as(t)}}function Di(t){return t=C(t),this[t+"s"]()}function Ci(t){return function(){return this._data[t]}}function Ti(){return v(this.days()/7)}function Si(t,e,i,o,n){return n.relativeTime(e||1,!!i,t,o)}function Ei(t,e,i){var o=Jt(t).abs(),n=pn(o.as("s")),s=pn(o.as("m")),r=pn(o.as("h")),a=pn(o.as("d")),h=pn(o.as("M")),d=pn(o.as("y")),l=n<fn.s&&["s",n]||1===s&&["m"]||s<fn.m&&["mm",s]||1===r&&["h"]||r<fn.h&&["hh",r]||1===a&&["d"]||a<fn.d&&["dd",a]||1===h&&["M"]||h<fn.M&&["MM",h]||1===d&&["y"]||["yy",d];return l[2]=e,l[3]=+t>0,l[4]=i,Si.apply(null,l)}function Pi(t,e){return void 0===fn[t]?!1:void 0===e?fn[t]:(fn[t]=e,!0)}function Ii(t){var e=this.localeData(),i=Ei(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}function Ni(){var t,e,i,o=mn(this._milliseconds)/1e3,n=mn(this._days),s=mn(this._months);t=v(o/60),e=v(t/60),o%=60,t%=60,i=v(s/12),s%=12;var r=i,a=s,h=n,d=e,l=t,u=o,c=this.asSeconds();return c?(0>c?"-":"")+"P"+(r?r+"Y":"")+(a?a+"M":"")+(h?h+"D":"")+(d||l||u?"T":"")+(d?d+"H":"")+(l?l+"M":"")+(u?u+"S":""):"P0D"}var zi,Li,Ai=e.momentProperties=[],Bi=!1,Fi={},Ri={},ji=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Hi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wi={},Yi={},Gi=/\d/,Ui=/\d\d/,Vi=/\d{3}/,qi=/\d{4}/,Xi=/[+-]?\d{6}/,Zi=/\d\d?/,Ki=/\d{1,3}/,Ji=/\d{1,4}/,Qi=/[+-]?\d{1,6}/,$i=/\d+/,to=/[+-]?\d+/,eo=/Z|[+-]\d\d:?\d\d/gi,io=/[+-]?\d+(\.\d{1,3})?/,oo=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,no={},so={},ro=0,ao=1,ho=2,lo=3,uo=4,co=5,po=6;z("M",["MM",2],"Mo",function(){return this.month()+1}),z("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),z("MMMM",0,0,function(t){return this.localeData().months(this,t)}),D("month","M"),j("M",Zi),j("MM",Zi,Ui),j("MMM",oo),j("MMMM",oo),Y(["M","MM"],function(t,e){e[ao]=g(t)-1}),Y(["MMM","MMMM"],function(t,e,i,o){var n=i._locale.monthsParse(t,o,i._strict);null!=n?e[ao]=n:l(i).invalidMonth=t});var fo="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),mo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),vo={};e.suppressDeprecationWarnings=!1;var go=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],bo=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],wo=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=et("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),z(0,["YY",2],0,function(){return this.year()%100}),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),D("year","y"),j("Y",to),j("YY",Zi,Ui),j("YYYY",Ji,qi),j("YYYYY",Qi,Xi),j("YYYYYY",Qi,Xi),Y(["YYYYY","YYYYYY"],ro),Y("YYYY",function(t,i){i[ro]=2===t.length?e.parseTwoDigitYear(t):g(t)}),Y("YY",function(t,i){i[ro]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(t){return g(t)+(g(t)>68?1900:2e3)};var _o=S("FullYear",!1);z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),D("week","w"),D("isoWeek","W"),j("w",Zi),j("ww",Zi,Ui),j("W",Zi),j("WW",Zi,Ui),G(["w","ww","W","WW"],function(t,e,i,o){e[o.substr(0,1)]=g(t)});var xo={dow:0,doy:6};z("DDD",["DDDD",3],"DDDo","dayOfYear"),D("dayOfYear","DDD"),j("DDD",Ki),j("DDDD",Vi),Y(["DDD","DDDD"],function(t,e,i){i._dayOfYear=g(t)}),e.ISO_8601=function(){};var ko=et("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Et.apply(null,arguments);return this>t?this:t}),Oo=et("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Et.apply(null,arguments);return t>this?this:t});At("Z",":"),At("ZZ",""),j("Z",eo),j("ZZ",eo),Y(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Bt(t)});var Mo=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Do=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Co=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Jt.fn=zt.prototype;var To=ee(1,"add"),So=ee(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Eo=et("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});z(0,["gg",2],0,function(){return this.weekYear()%100}),z(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ee("gggg","weekYear"),Ee("ggggg","weekYear"),Ee("GGGG","isoWeekYear"),Ee("GGGGG","isoWeekYear"),D("weekYear","gg"),D("isoWeekYear","GG"),j("G",to),j("g",to),j("GG",Zi,Ui),j("gg",Zi,Ui),j("GGGG",Ji,qi),j("gggg",Ji,qi),j("GGGGG",Qi,Xi),j("ggggg",Qi,Xi),G(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,o){e[o.substr(0,2)]=g(t)}),G(["gg","GG"],function(t,i,o,n){i[n]=e.parseTwoDigitYear(t)}),z("Q",0,0,"quarter"),D("quarter","Q"),j("Q",Gi),Y("Q",function(t,e){e[ao]=3*(g(t)-1)}),z("D",["DD",2],"Do","date"),D("date","D"),j("D",Zi),j("DD",Zi,Ui),j("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),Y(["D","DD"],ho),Y("Do",function(t,e){e[ho]=g(t.match(Zi)[0],10)});var Po=S("Date",!0);z("d",0,"do","day"),z("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),z("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),z("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),D("day","d"),D("weekday","e"),D("isoWeekday","E"),j("d",Zi),j("e",Zi),j("E",Zi),j("dd",oo),j("ddd",oo),j("dddd",oo),G(["dd","ddd","dddd"],function(t,e,i){var o=i._locale.weekdaysParse(t);null!=o?e.d=o:l(i).invalidWeekday=t}),G(["d","e","E"],function(t,e,i,o){e[o]=g(t)});var Io="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),No="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),zo="Su_Mo_Tu_We_Th_Fr_Sa".split("_");z("H",["HH",2],0,"hour"),z("h",["hh",2],0,function(){return this.hours()%12||12}),Ue("a",!0),Ue("A",!1),D("hour","h"),j("a",Ve),j("A",Ve),j("H",Zi),j("h",Zi),j("HH",Zi,Ui),j("hh",Zi,Ui),Y(["H","HH"],lo),Y(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),Y(["h","hh"],function(t,e,i){e[lo]=g(t),l(i).bigHour=!0});var Lo=/[ap]\.?m?\.?/i,Ao=S("Hours",!0);z("m",["mm",2],0,"minute"),D("minute","m"),j("m",Zi),j("mm",Zi,Ui),Y(["m","mm"],uo);var Bo=S("Minutes",!1);z("s",["ss",2],0,"second"),D("second","s"),j("s",Zi),j("ss",Zi,Ui),Y(["s","ss"],co);var Fo=S("Seconds",!1);z("S",0,0,function(){return~~(this.millisecond()/100)}),z(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,function(){return 10*this.millisecond()}),z(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),z(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),z(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),z(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),z(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),D("millisecond","ms"),j("S",Ki,Gi),j("SS",Ki,Ui),j("SSS",Ki,Vi);var Ro;for(Ro="SSSS";Ro.length<=9;Ro+="S")j(Ro,$i);for(Ro="S";Ro.length<=9;Ro+="S")Y(Ro,Ze);var jo=S("Milliseconds",!1);z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var Ho=f.prototype;Ho.add=To,Ho.calendar=oe,Ho.clone=ne,Ho.diff=de,Ho.endOf=_e,Ho.format=pe,Ho.from=fe,Ho.fromNow=me,Ho.to=ve,Ho.toNow=ge,Ho.get=I,Ho.invalidAt=Se,Ho.isAfter=se,Ho.isBefore=re,Ho.isBetween=ae,Ho.isSame=he,Ho.isValid=Ce,Ho.lang=Eo,Ho.locale=ye,Ho.localeData=be,Ho.max=Oo,Ho.min=ko,Ho.parsingFlags=Te,Ho.set=I,Ho.startOf=we,Ho.subtract=So,Ho.toArray=Me,Ho.toObject=De,Ho.toDate=Oe,Ho.toISOString=ce,Ho.toJSON=ce,Ho.toString=ue,Ho.unix=ke,Ho.valueOf=xe,Ho.year=_o,Ho.isLeapYear=dt,Ho.weekYear=Ie,Ho.isoWeekYear=Ne,Ho.quarter=Ho.quarters=Ae,Ho.month=J,Ho.daysInMonth=Q,Ho.week=Ho.weeks=ft,Ho.isoWeek=Ho.isoWeeks=mt,Ho.weeksInYear=Le,Ho.isoWeeksInYear=ze,Ho.date=Po,Ho.day=Ho.days=We,Ho.weekday=Ye,Ho.isoWeekday=Ge,Ho.dayOfYear=gt,Ho.hour=Ho.hours=Ao,Ho.minute=Ho.minutes=Bo,Ho.second=Ho.seconds=Fo,Ho.millisecond=Ho.milliseconds=jo,Ho.utcOffset=jt,Ho.utc=Wt,Ho.local=Yt,Ho.parseZone=Gt,Ho.hasAlignedHourOffset=Ut,Ho.isDST=Vt,Ho.isDSTShifted=qt,Ho.isLocal=Xt,Ho.isUtcOffset=Zt,Ho.isUtc=Kt,Ho.isUTC=Kt,Ho.zoneAbbr=Ke,Ho.zoneName=Je,Ho.dates=et("dates accessor is deprecated. Use date instead.",Po),Ho.months=et("months accessor is deprecated. Use month instead",J),Ho.years=et("years accessor is deprecated. Use year instead",_o),Ho.zone=et("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ht);var Wo=Ho,Yo={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Go={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Uo="Invalid date",Vo="%d",qo=/\d{1,2}/,Xo={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Zo=b.prototype;Zo._calendar=Yo,Zo.calendar=ti,Zo._longDateFormat=Go,Zo.longDateFormat=ei,Zo._invalidDate=Uo,Zo.invalidDate=ii,Zo._ordinal=Vo,Zo.ordinal=oi,Zo._ordinalParse=qo,Zo.preparse=ni,Zo.postformat=ni,Zo._relativeTime=Xo,Zo.relativeTime=si,Zo.pastFuture=ri,Zo.set=ai,Zo.months=q,Zo._months=fo,Zo.monthsShort=X,Zo._monthsShort=mo,Zo.monthsParse=Z,Zo.week=ut,Zo._week=xo,Zo.firstDayOfYear=pt,Zo.firstDayOfWeek=ct,Zo.weekdays=Fe,Zo._weekdays=Io,Zo.weekdaysMin=je,Zo._weekdaysMin=zo,Zo.weekdaysShort=Re,Zo._weekdaysShort=No,Zo.weekdaysParse=He,Zo.isPM=qe,Zo._meridiemParse=Lo,Zo.meridiem=Xe,k("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===g(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),e.lang=et("moment.lang is deprecated. Use moment.locale instead.",k),e.langData=et("moment.langData is deprecated. Use moment.localeData instead.",M);var Ko=Math.abs,Jo=Mi("ms"),Qo=Mi("s"),$o=Mi("m"),tn=Mi("h"),en=Mi("d"),on=Mi("w"),nn=Mi("M"),sn=Mi("y"),rn=Ci("milliseconds"),an=Ci("seconds"),hn=Ci("minutes"),dn=Ci("hours"),ln=Ci("days"),un=Ci("months"),cn=Ci("years"),pn=Math.round,fn={s:45,m:45,h:22,d:26,M:11},mn=Math.abs,vn=zt.prototype;vn.abs=mi,vn.add=gi,vn.subtract=yi,vn.as=ki,vn.asMilliseconds=Jo,vn.asSeconds=Qo,vn.asMinutes=$o,vn.asHours=tn,vn.asDays=en,vn.asWeeks=on,vn.asMonths=nn,vn.asYears=sn,vn.valueOf=Oi,vn._bubble=wi,vn.get=Di,vn.milliseconds=rn,vn.seconds=an,vn.minutes=hn,vn.hours=dn,vn.days=ln,vn.weeks=Ti,vn.months=un,vn.years=cn,vn.humanize=Ii,vn.toISOString=Ni,vn.toString=Ni,vn.toJSON=Ni,vn.locale=ye,vn.localeData=be,vn.toIsoString=et("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ni),vn.lang=Eo,z("X",0,0,"unix"),z("x",0,0,"valueOf"),j("x",to),j("X",io),Y("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),Y("x",function(t,e,i){i._d=new Date(g(t))}),e.version="2.10.6",i(Et),e.fn=Wo,e.min=It,e.max=Nt,e.utc=h,e.unix=Qe,e.months=li,e.isDate=n,e.locale=k,e.invalid=c,e.duration=Jt,e.isMoment=m,e.weekdays=ci,e.parseZone=$e,e.localeData=M,e.isDuration=Lt,e.monthsShort=ui,e.weekdaysMin=fi,e.defineLocale=O,e.weekdaysShort=pi,e.normalizeUnits=C,e.relativeTimeThreshold=Pi;var gn=e;return gn})}).call(e,i(4)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){function i(t){throw new Error("Cannot find module '"+t+"'.")}i.keys=function(){return[]},i.resolve=i,t.exports=i,i.id=5},function(t,e){(function(e){function i(t,e,i){var o=e&&i||0,n=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){16>n&&(e[o+n++]=u[t])});16>n;)e[o+n++]=0;return e}function o(t,e){var i=e||0,o=l;return o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]}function n(t,e,i){var n=e&&i||0,s=e||[];t=t||{};var r=void 0!==t.clockseq?t.clockseq:m,a=void 0!==t.msecs?t.msecs:(new Date).getTime(),h=void 0!==t.nsecs?t.nsecs:g+1,d=a-v+(h-g)/1e4;if(0>d&&void 0===t.clockseq&&(r=r+1&16383),(0>d||a>v)&&void 0===t.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");v=a,g=h,m=r,a+=122192928e5;var l=(1e4*(268435455&a)+h)%4294967296;s[n++]=l>>>24&255,s[n++]=l>>>16&255,s[n++]=l>>>8&255,s[n++]=255&l;var u=a/4294967296*1e4&268435455;s[n++]=u>>>8&255,s[n++]=255&u,s[n++]=u>>>24&15|16,s[n++]=u>>>16&255,s[n++]=r>>>8|128,s[n++]=255&r;for(var c=t.node||f,p=0;6>p;p++)s[n+p]=c[p];return e?e:o(s)}function s(t,e,i){var n=e&&i||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),t=t||{};var s=t.random||(t.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;16>a;a++)e[n+a]=s[a];return e||o(s)}var r,a="undefined"!=typeof window?window:"undefined"!=typeof e?e:null;if(a&&a.crypto&&crypto.getRandomValues){var h=new Uint8Array(16);r=function(){return crypto.getRandomValues(h),h}}if(!r){var d=new Array(16);r=function(){for(var t,e=0;16>e;e++)0===(3&e)&&(t=4294967296*Math.random()),d[e]=t>>>((3&e)<<3)&255;return d}}for(var l=[],u={},c=0;256>c;c++)l[c]=(c+256).toString(16).substr(1),u[l[c]]=c;var p=r(),f=[1|p[0],p[1],p[2],p[3],p[4],p[5]],m=16383&(p[6]<<8|p[7]),v=0,g=0,y=s;y.v1=n,y.v4=s,y.parse=i,y.unparse=o,t.exports=y}).call(e,function(){return this}())},function(t,e){e.prepareElements=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])},e.cleanupElements=function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var i=0;i<t[e].redundant.length;i++)t[e].redundant[i].parentNode.removeChild(t[e].redundant[i]);t[e].redundant=[]}},e.resetElements=function(t){e.prepareElements(t),e.cleanupElements(t),e.prepareElements(t)},e.getSVGElement=function(t,e,i){var o;return e.hasOwnProperty(t)?e[t].redundant.length>0?(o=e[t].redundant[0],e[t].redundant.shift()):(o=document.createElementNS("http://www.w3.org/2000/svg",t),i.appendChild(o)):(o=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},i.appendChild(o)),e[t].used.push(o),o},e.getDOMElement=function(t,e,i,o){var n;return e.hasOwnProperty(t)?e[t].redundant.length>0?(n=e[t].redundant[0],e[t].redundant.shift()):(n=document.createElement(t),void 0!==o?i.insertBefore(n,o):i.appendChild(n)):(n=document.createElement(t),e[t]={used:[],redundant:[]},void 0!==o?i.insertBefore(n,o):i.appendChild(n)),e[t].used.push(n),n},e.drawPoint=function(t,i,o,n,s,r){var a;if("circle"==o.style?(a=e.getSVGElement("circle",n,s),a.setAttributeNS(null,"cx",t),a.setAttributeNS(null,"cy",i),a.setAttributeNS(null,"r",.5*o.size)):(a=e.getSVGElement("rect",n,s),a.setAttributeNS(null,"x",t-.5*o.size),a.setAttributeNS(null,"y",i-.5*o.size),a.setAttributeNS(null,"width",o.size),a.setAttributeNS(null,"height",o.size)),void 0!==o.styles&&a.setAttributeNS(null,"style",o.styles),a.setAttributeNS(null,"class",o.className+" vis-point"),r){var h=e.getSVGElement("text",n,s);r.xOffset&&(t+=r.xOffset),r.yOffset&&(i+=r.yOffset),r.content&&(h.textContent=r.content),r.className&&h.setAttributeNS(null,"class",r.className+" vis-label"),h.setAttributeNS(null,"x",t),h.setAttributeNS(null,"y",i)}return a},e.drawBar=function(t,i,o,n,s,r,a,h){if(0!=n){0>n&&(n*=-1,i-=n);var d=e.getSVGElement("rect",r,a);d.setAttributeNS(null,"x",t-.5*o),d.setAttributeNS(null,"y",i),d.setAttributeNS(null,"width",o),d.setAttributeNS(null,"height",n),d.setAttributeNS(null,"class",s),h&&d.setAttributeNS(null,"style",h)}}},function(t,e,i){function o(t,e){if(t&&!Array.isArray(t)&&(e=t,t=null),this._options=e||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var i=Object.keys(this._options.type),o=0,n=i.length;n>o;o++){var s=i[o],r=this._options.type[s];"Date"==r||"ISODate"==r||"ASPDate"==r?this._type[s]="Date":this._type[s]=r}if(this._options.convert)throw new Error('Option "convert" is deprecated. Use "type" instead.');this._subscribers={},t&&this.add(t),this.setOptions(e)}var n=i(1),s=i(9);o.prototype.setOptions=function(t){t&&void 0!==t.queue&&(t.queue===!1?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=s.extend(this,{replace:["add","update","remove"]})),"object"==typeof t.queue&&this._queue.setOptions(t.queue)))},o.prototype.on=function(t,e){var i=this._subscribers[t];i||(i=[],this._subscribers[t]=i),i.push({callback:e})},o.prototype.subscribe=function(){throw new Error("DataSet.subscribe is deprecated. Use DataSet.on instead.")},o.prototype.off=function(t,e){var i=this._subscribers[t];i&&(this._subscribers[t]=i.filter(function(t){return t.callback!=e}))},o.prototype.unsubscribe=function(){throw new Error("DataSet.unsubscribe is deprecated. Use DataSet.off instead.")},o.prototype._trigger=function(t,e,i){if("*"==t)throw new Error("Cannot trigger event *");var o=[];t in this._subscribers&&(o=o.concat(this._subscribers[t])),"*"in this._subscribers&&(o=o.concat(this._subscribers["*"]));for(var n=0,s=o.length;s>n;n++){var r=o[n];r.callback&&r.callback(t,e,i||null)}},o.prototype.add=function(t,e){var i,o=[],n=this;if(Array.isArray(t))for(var s=0,r=t.length;r>s;s++)i=n._addItem(t[s]),o.push(i);else{if(!(t instanceof Object))throw new Error("Unknown dataType");i=n._addItem(t),o.push(i)}return o.length&&this._trigger("add",{items:o},e),o},o.prototype.update=function(t,e){var i=[],o=[],s=[],r=[],a=this,h=a._fieldId,d=function(t){var e=t[h];if(a._data[e]){var d=n.extend({},a._data[e]);e=a._updateItem(t),o.push(e),r.push(t),s.push(d)}else e=a._addItem(t),i.push(e)};if(Array.isArray(t))for(var l=0,u=t.length;u>l;l++)t[l]instanceof Object?d(t[l]):console.warn("Ignoring input item, which is not an object at index"+l);else{if(!(t instanceof Object))throw new Error("Unknown dataType");d(t)}if(i.length&&this._trigger("add",{items:i},e),o.length){var c={items:o,oldData:s,data:r};this._trigger("update",c,e)}return i.concat(o)},o.prototype.get=function(t){var e,i,o,s=this,r=n.getType(arguments[0]);"String"==r||"Number"==r?(e=arguments[0],o=arguments[1]):"Array"==r?(i=arguments[0],o=arguments[1]):o=arguments[0];var a;if(o&&o.returnType){var h=["Array","Object"];a=-1==h.indexOf(o.returnType)?"Array":o.returnType}else a="Array";var d,l,u,c,p,f=o&&o.type||this._options.type,m=o&&o.filter,v=[];if(void 0!=e)d=s._getItem(e,f),d&&m&&!m(d)&&(d=null);else if(void 0!=i)for(c=0,p=i.length;p>c;c++)d=s._getItem(i[c],f),(!m||m(d))&&v.push(d);else for(l=Object.keys(this._data),c=0,p=l.length;p>c;c++)u=l[c],d=s._getItem(u,f),(!m||m(d))&&v.push(d);if(o&&o.order&&void 0==e&&this._sort(v,o.order),o&&o.fields){var g=o.fields;if(void 0!=e)d=this._filterFields(d,g);else for(c=0,p=v.length;p>c;c++)v[c]=this._filterFields(v[c],g)}if("Object"==a){var y,b={};for(c=0,p=v.length;p>c;c++)y=v[c],b[y.id]=y;return b}return void 0!=e?d:v},o.prototype.getIds=function(t){var e,i,o,n,s,r=this._data,a=t&&t.filter,h=t&&t.order,d=t&&t.type||this._options.type,l=Object.keys(r),u=[];if(a)if(h){for(s=[],e=0,i=l.length;i>e;e++)o=l[e],n=this._getItem(o,d),a(n)&&s.push(n);for(this._sort(s,h),e=0,i=s.length;i>e;e++)u.push(s[e][this._fieldId])}else for(e=0,i=l.length;i>e;e++)o=l[e],n=this._getItem(o,d),a(n)&&u.push(n[this._fieldId]);else if(h){for(s=[],e=0,i=l.length;i>e;e++)o=l[e],s.push(r[o]);for(this._sort(s,h),e=0,i=s.length;i>e;e++)u.push(s[e][this._fieldId])}else for(e=0,i=l.length;i>e;e++)o=l[e],n=r[o],u.push(n[this._fieldId]);return u},o.prototype.getDataSet=function(){return this},o.prototype.forEach=function(t,e){var i,o,n,s,r=e&&e.filter,a=e&&e.type||this._options.type,h=this._data,d=Object.keys(h);if(e&&e.order){var l=this.get(e);for(i=0,o=l.length;o>i;i++)n=l[i],s=n[this._fieldId],t(n,s)}else for(i=0,o=d.length;o>i;i++)s=d[i],n=this._getItem(s,a),(!r||r(n))&&t(n,s)},o.prototype.map=function(t,e){var i,o,n,s,r=e&&e.filter,a=e&&e.type||this._options.type,h=[],d=this._data,l=Object.keys(d);for(i=0,o=l.length;o>i;i++)n=l[i],s=this._getItem(n,a),(!r||r(s))&&h.push(t(s,n));return e&&e.order&&this._sort(h,e.order),h},o.prototype._filterFields=function(t,e){if(!t)return t;var i,o,n={},s=Object.keys(t),r=s.length;if(Array.isArray(e))for(i=0;r>i;i++)o=s[i],-1!=e.indexOf(o)&&(n[o]=t[o]);else for(i=0;r>i;i++)o=s[i],e.hasOwnProperty(o)&&(n[e[o]]=t[o]);return n},o.prototype._sort=function(t,e){if(n.isString(e)){var i=e;t.sort(function(t,e){var o=t[i],n=e[i];return o>n?1:n>o?-1:0})}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}},o.prototype.remove=function(t,e){var i,o,n,s=[];if(Array.isArray(t))for(i=0,o=t.length;o>i;i++)n=this._remove(t[i]),null!=n&&s.push(n);else n=this._remove(t),null!=n&&s.push(n);return s.length&&this._trigger("remove",{items:s},e),s},o.prototype._remove=function(t){if(n.isNumber(t)||n.isString(t)){if(this._data[t])return delete this._data[t],this.length--,t}else if(t instanceof Object){var e=t[this._fieldId];if(void 0!==e&&this._data[e])return delete this._data[e],this.length--,e}return null},o.prototype.clear=function(t){var e=Object.keys(this._data);return this._data={},this.length=0,this._trigger("remove",{items:e},t),e},o.prototype.max=function(t){var e,i,o=this._data,n=Object.keys(o),s=null,r=null;for(e=0,i=n.length;i>e;e++){var a=n[e],h=o[a],d=h[t];null!=d&&(!s||d>r)&&(s=h,r=d)}return s},o.prototype.min=function(t){var e,i,o=this._data,n=Object.keys(o),s=null,r=null;for(e=0,i=n.length;i>e;e++){var a=n[e],h=o[a],d=h[t];null!=d&&(!s||r>d)&&(s=h,r=d)}return s},o.prototype.distinct=function(t){var e,i,o,s=this._data,r=Object.keys(s),a=[],h=this._options.type&&this._options.type[t]||null,d=0;for(e=0,o=r.length;o>e;e++){var l=r[e],u=s[l],c=u[t],p=!1;for(i=0;d>i;i++)if(a[i]==c){p=!0;break}p||void 0===c||(a[d]=c,d++)}if(h)for(e=0,o=a.length;o>e;e++)a[e]=n.convert(a[e],h);return a},o.prototype._addItem=function(t){var e=t[this._fieldId];if(void 0!=e){if(this._data[e])throw new Error("Cannot add item: item with id "+e+" already exists")}else e=n.randomUUID(),t[this._fieldId]=e;var i,o,s={},r=Object.keys(t);for(i=0,o=r.length;o>i;i++){var a=r[i],h=this._type[a];s[a]=n.convert(t[a],h)}return this._data[e]=s,this.length++,e},o.prototype._getItem=function(t,e){var i,o,s,r,a=this._data[t];if(!a)return null;var h={},d=Object.keys(a);if(e)for(s=0,r=d.length;r>s;s++)i=d[s],o=a[i],h[i]=n.convert(o,e[i]);else for(s=0,r=d.length;r>s;s++)i=d[s],o=a[i],h[i]=o;return h},o.prototype._updateItem=function(t){var e=t[this._fieldId];if(void 0==e)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(t)+")");var i=this._data[e];if(!i)throw new Error("Cannot update item: no item with id "+e+" found");for(var o=Object.keys(t),s=0,r=o.length;r>s;s++){var a=o[s],h=this._type[a];i[a]=n.convert(t[a],h)}return e},t.exports=o},function(t,e){function i(t){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(t)}i.prototype.setOptions=function(t){t&&"undefined"!=typeof t.delay&&(this.delay=t.delay),t&&"undefined"!=typeof t.max&&(this.max=t.max),this._flushIfNeeded()},i.extend=function(t,e){var o=new i(e);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){o.flush()};var n=[{name:"flush",original:void 0}];if(e&&e.replace)for(var s=0;s<e.replace.length;s++){var r=e.replace[s];n.push({name:r,original:t[r]}),o.replace(t,r)}return o._extended={object:t,methods:n},o},i.prototype.destroy=function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,i=0;i<e.length;i++){var o=e[i];o.original?t[o.name]=o.original:delete t[o.name]}this._extended=null}},i.prototype.replace=function(t,e){var i=this,o=t[e];if(!o)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.queue({args:t,fn:o,context:this})}},i.prototype.queue=function(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()},i.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var t=this;this._timeout=setTimeout(function(){t.flush()},this.delay)}},i.prototype.flush=function(){for(;this._queue.length>0;){var t=this._queue.shift();t.fn.apply(t.context||t.fn,t.args||[])}},t.exports=i},function(t,e,i){function o(t,e){this._data=null,this._ids={},this.length=0,this._options=e||{},this._fieldId="id",this._subscribers={};var i=this;this.listener=function(){i._onEvent.apply(i,arguments)},this.setData(t)}var n=i(1),s=i(8);o.prototype.setData=function(t){var e,i,o,n;if(this._data&&(this._data.off&&this._data.off("*",this.listener),e=Object.keys(this._ids),this._ids={},this.length=0,this._trigger("remove",{items:e})),this._data=t,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",e=this._data.getIds({filter:this._options&&this._options.filter}),o=0,n=e.length;n>o;o++)i=e[o],this._ids[i]=!0;this.length=e.length,this._trigger("add",{items:e}),this._data.on&&this._data.on("*",this.listener)}},o.prototype.refresh=function(){var t,e,i,o=this._data.getIds({filter:this._options&&this._options.filter}),n=Object.keys(this._ids),s={},r=[],a=[];for(e=0,i=o.length;i>e;e++)t=o[e],s[t]=!0,this._ids[t]||(r.push(t),this._ids[t]=!0);for(e=0,i=n.length;i>e;e++)t=n[e],s[t]||(a.push(t),delete this._ids[t]);this.length+=r.length-a.length,r.length&&this._trigger("add",{items:r}),a.length&&this._trigger("remove",{items:a})},o.prototype.get=function(t){var e,i,o,s=this,r=n.getType(arguments[0]);"String"==r||"Number"==r||"Array"==r?(e=arguments[0],i=arguments[1],o=arguments[2]):(i=arguments[0],o=arguments[1]);var a=n.extend({},this._options,i);this._options.filter&&i&&i.filter&&(a.filter=function(t){return s._options.filter(t)&&i.filter(t)});var h=[];return void 0!=e&&h.push(e),h.push(a),h.push(o),this._data&&this._data.get.apply(this._data,h)},o.prototype.getIds=function(t){var e;if(this._data){var i,o=this._options.filter;i=t&&t.filter?o?function(e){
return o(e)&&t.filter(e)}:t.filter:o,e=this._data.getIds({filter:i,order:t&&t.order})}else e=[];return e},o.prototype.map=function(t,e){var i=[];if(this._data){var o,n=this._options.filter;o=e&&e.filter?n?function(t){return n(t)&&e.filter(t)}:e.filter:n,i=this._data.map(t,{filter:o,order:e&&e.order})}else i=[];return i},o.prototype.getDataSet=function(){for(var t=this;t instanceof o;)t=t._data;return t||null},o.prototype._onEvent=function(t,e,i){var o,n,s,r,a=e&&e.items,h=this._data,d=[],l=[],u=[],c=[];if(a&&h){switch(t){case"add":for(o=0,n=a.length;n>o;o++)s=a[o],r=this.get(s),r&&(this._ids[s]=!0,l.push(s));break;case"update":for(o=0,n=a.length;n>o;o++)s=a[o],r=this.get(s),r?this._ids[s]?(u.push(s),d.push(e.data[o])):(this._ids[s]=!0,l.push(s)):this._ids[s]&&(delete this._ids[s],c.push(s));break;case"remove":for(o=0,n=a.length;n>o;o++)s=a[o],this._ids[s]&&(delete this._ids[s],c.push(s))}this.length+=l.length-c.length,l.length&&this._trigger("add",{items:l},i),u.length&&this._trigger("update",{items:u,data:d},i),c.length&&this._trigger("remove",{items:c},i)}},o.prototype.on=s.prototype.on,o.prototype.off=s.prototype.off,o.prototype._trigger=s.prototype._trigger,o.prototype.subscribe=o.prototype.on,o.prototype.unsubscribe=o.prototype.off,t.exports=o},function(t,e,i){function o(t,e,i){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=t,this.width="400px",this.height="400px",this.margin=10,this.defaultXCenter="55%",this.defaultYCenter="50%",this.xLabel="x",this.yLabel="y",this.zLabel="z";var n=function(t){return t};this.xValueLabel=n,this.yValueLabel=n,this.zValueLabel=n,this.filterLabel="time",this.legendLabel="value",this.style=o.STYLE.DOT,this.showPerspective=!0,this.showGrid=!0,this.keepAspectRatio=!0,this.showShadow=!1,this.showGrayBottom=!1,this.showTooltip=!1,this.verticalRatio=.5,this.animationInterval=1e3,this.animationPreload=!1,this.camera=new c,this.camera.setArmRotation(1,.5),this.camera.setArmLength(1.7),this.eye=new l(0,0,-1),this.dataTable=null,this.dataPoints=null,this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.colFilter=void 0,this.xMin=0,this.xStep=void 0,this.xMax=1,this.yMin=0,this.yStep=void 0,this.yMax=1,this.zMin=0,this.zStep=void 0,this.zMax=1,this.valueMin=0,this.valueMax=1,this.xBarWidth=1,this.yBarWidth=1,this.axisColor="#4D4D4D",this.gridColor="#D3D3D3",this.dataColor={fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},this.create(),this.setOptions(i),e&&this.setData(e)}function n(t){return"clientX"in t?t.clientX:t.targetTouches[0]&&t.targetTouches[0].clientX||0}function s(t){return"clientY"in t?t.clientY:t.targetTouches[0]&&t.targetTouches[0].clientY||0}var r=i(12),a=i(8),h=i(10),d=i(1),l=i(13),u=i(14),c=i(15),p=i(16),f=i(17),m=i(18);r(o.prototype),o.prototype._setScale=function(){this.scale=new l(1/(this.xMax-this.xMin),1/(this.yMax-this.yMin),1/(this.zMax-this.zMin)),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,this.scale.value=1/(this.valueMax-this.valueMin);var t=(this.xMax+this.xMin)/2*this.scale.x,e=(this.yMax+this.yMin)/2*this.scale.y,i=(this.zMax+this.zMin)/2*this.scale.z;this.camera.setArmLocation(t,e,i)},o.prototype._convert3Dto2D=function(t){var e=this._convertPointToTranslation(t);return this._convertTranslationToScreen(e)},o.prototype._convertPointToTranslation=function(t){var e=t.x*this.scale.x,i=t.y*this.scale.y,o=t.z*this.scale.z,n=this.camera.getCameraLocation().x,s=this.camera.getCameraLocation().y,r=this.camera.getCameraLocation().z,a=Math.sin(this.camera.getCameraRotation().x),h=Math.cos(this.camera.getCameraRotation().x),d=Math.sin(this.camera.getCameraRotation().y),u=Math.cos(this.camera.getCameraRotation().y),c=Math.sin(this.camera.getCameraRotation().z),p=Math.cos(this.camera.getCameraRotation().z),f=u*(c*(i-s)+p*(e-n))-d*(o-r),m=a*(u*(o-r)+d*(c*(i-s)+p*(e-n)))+h*(p*(i-s)-c*(e-n)),v=h*(u*(o-r)+d*(c*(i-s)+p*(e-n)))-a*(p*(i-s)-c*(e-n));return new l(f,m,v)},o.prototype._convertTranslationToScreen=function(t){var e,i,o=this.eye.x,n=this.eye.y,s=this.eye.z,r=t.x,a=t.y,h=t.z;return this.showPerspective?(e=(r-o)*(s/h),i=(a-n)*(s/h)):(e=r*-(s/this.camera.getArmLength()),i=a*-(s/this.camera.getArmLength())),new u(this.xcenter+e*this.frame.canvas.clientWidth,this.ycenter-i*this.frame.canvas.clientWidth)},o.prototype._setBackgroundColor=function(t){var e="white",i="gray",o=1;if("string"==typeof t)e=t,i="none",o=0;else if("object"==typeof t)void 0!==t.fill&&(e=t.fill),void 0!==t.stroke&&(i=t.stroke),void 0!==t.strokeWidth&&(o=t.strokeWidth);else if(void 0!==t)throw"Unsupported type of backgroundColor";this.frame.style.backgroundColor=e,this.frame.style.borderColor=i,this.frame.style.borderWidth=o+"px",this.frame.style.borderStyle="solid"},o.STYLE={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},o.prototype._getStyleNumber=function(t){switch(t){case"dot":return o.STYLE.DOT;case"dot-line":return o.STYLE.DOTLINE;case"dot-color":return o.STYLE.DOTCOLOR;case"dot-size":return o.STYLE.DOTSIZE;case"line":return o.STYLE.LINE;case"grid":return o.STYLE.GRID;case"surface":return o.STYLE.SURFACE;case"bar":return o.STYLE.BAR;case"bar-color":return o.STYLE.BARCOLOR;case"bar-size":return o.STYLE.BARSIZE}return-1},o.prototype._determineColumnIndexes=function(t,e){if(this.style===o.STYLE.DOT||this.style===o.STYLE.DOTLINE||this.style===o.STYLE.LINE||this.style===o.STYLE.GRID||this.style===o.STYLE.SURFACE||this.style===o.STYLE.BAR)this.colX=0,this.colY=1,this.colZ=2,this.colValue=void 0,t.getNumberOfColumns()>3&&(this.colFilter=3);else{if(this.style!==o.STYLE.DOTCOLOR&&this.style!==o.STYLE.DOTSIZE&&this.style!==o.STYLE.BARCOLOR&&this.style!==o.STYLE.BARSIZE)throw'Unknown style "'+this.style+'"';this.colX=0,this.colY=1,this.colZ=2,this.colValue=3,t.getNumberOfColumns()>4&&(this.colFilter=4)}},o.prototype.getNumberOfRows=function(t){return t.length},o.prototype.getNumberOfColumns=function(t){var e=0;for(var i in t[0])t[0].hasOwnProperty(i)&&e++;return e},o.prototype.getDistinctValues=function(t,e){for(var i=[],o=0;o<t.length;o++)-1==i.indexOf(t[o][e])&&i.push(t[o][e]);return i},o.prototype.getColumnRange=function(t,e){for(var i={min:t[0][e],max:t[0][e]},o=0;o<t.length;o++)i.min>t[o][e]&&(i.min=t[o][e]),i.max<t[o][e]&&(i.max=t[o][e]);return i},o.prototype._dataInitialize=function(t,e){var i=this;if(this.dataSet&&this.dataSet.off("*",this._onChange),void 0!==t){Array.isArray(t)&&(t=new a(t));var n;if(!(t instanceof a||t instanceof h))throw new Error("Array, DataSet, or DataView expected");if(n=t.get(),0!=n.length){this.dataSet=t,this.dataTable=n,this._onChange=function(){i.setData(i.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z",this.colValue="style",this.colFilter="filter",n[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new p(t,this.colFilter,this),this.dataFilter.setOnLoadCallback(function(){i.redraw()}));var s=this.style==o.STYLE.BAR||this.style==o.STYLE.BARCOLOR||this.style==o.STYLE.BARSIZE;if(s){if(void 0!==this.defaultXBarWidth)this.xBarWidth=this.defaultXBarWidth;else{var r=this.getDistinctValues(n,this.colX);this.xBarWidth=r[1]-r[0]||1}if(void 0!==this.defaultYBarWidth)this.yBarWidth=this.defaultYBarWidth;else{var d=this.getDistinctValues(n,this.colY);this.yBarWidth=d[1]-d[0]||1}}var l=this.getColumnRange(n,this.colX);s&&(l.min-=this.xBarWidth/2,l.max+=this.xBarWidth/2),this.xMin=void 0!==this.defaultXMin?this.defaultXMin:l.min,this.xMax=void 0!==this.defaultXMax?this.defaultXMax:l.max,this.xMax<=this.xMin&&(this.xMax=this.xMin+1),this.xStep=void 0!==this.defaultXStep?this.defaultXStep:(this.xMax-this.xMin)/5;var u=this.getColumnRange(n,this.colY);s&&(u.min-=this.yBarWidth/2,u.max+=this.yBarWidth/2),this.yMin=void 0!==this.defaultYMin?this.defaultYMin:u.min,this.yMax=void 0!==this.defaultYMax?this.defaultYMax:u.max,this.yMax<=this.yMin&&(this.yMax=this.yMin+1),this.yStep=void 0!==this.defaultYStep?this.defaultYStep:(this.yMax-this.yMin)/5;var c=this.getColumnRange(n,this.colZ);if(this.zMin=void 0!==this.defaultZMin?this.defaultZMin:c.min,this.zMax=void 0!==this.defaultZMax?this.defaultZMax:c.max,this.zMax<=this.zMin&&(this.zMax=this.zMin+1),this.zStep=void 0!==this.defaultZStep?this.defaultZStep:(this.zMax-this.zMin)/5,void 0!==this.colValue){var f=this.getColumnRange(n,this.colValue);this.valueMin=void 0!==this.defaultValueMin?this.defaultValueMin:f.min,this.valueMax=void 0!==this.defaultValueMax?this.defaultValueMax:f.max,this.valueMax<=this.valueMin&&(this.valueMax=this.valueMin+1)}this._setScale()}}},o.prototype._getDataPoints=function(t){var e,i,n,s,r,a,h=[];if(this.style===o.STYLE.GRID||this.style===o.STYLE.SURFACE){var d=[],u=[];for(n=0;n<this.getNumberOfRows(t);n++)e=t[n][this.colX]||0,i=t[n][this.colY]||0,-1===d.indexOf(e)&&d.push(e),-1===u.indexOf(i)&&u.push(i);var c=function(t,e){return t-e};d.sort(c),u.sort(c);var p=[];for(n=0;n<t.length;n++){e=t[n][this.colX]||0,i=t[n][this.colY]||0,s=t[n][this.colZ]||0;var f=d.indexOf(e),m=u.indexOf(i);void 0===p[f]&&(p[f]=[]);var v=new l;v.x=e,v.y=i,v.z=s,r={},r.point=v,r.trans=void 0,r.screen=void 0,r.bottom=new l(e,i,this.zMin),p[f][m]=r,h.push(r)}for(e=0;e<p.length;e++)for(i=0;i<p[e].length;i++)p[e][i]&&(p[e][i].pointRight=e<p.length-1?p[e+1][i]:void 0,p[e][i].pointTop=i<p[e].length-1?p[e][i+1]:void 0,p[e][i].pointCross=e<p.length-1&&i<p[e].length-1?p[e+1][i+1]:void 0)}else for(n=0;n<t.length;n++)a=new l,a.x=t[n][this.colX]||0,a.y=t[n][this.colY]||0,a.z=t[n][this.colZ]||0,void 0!==this.colValue&&(a.value=t[n][this.colValue]||0),r={},r.point=a,r.bottom=new l(a.x,a.y,this.zMin),r.trans=void 0,r.screen=void 0,h.push(r);return h},o.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var e=this,i=function(t){e._onMouseDown(t)},o=function(t){e._onTouchStart(t)},n=function(t){e._onWheel(t)},s=function(t){e._onTooltip(t)};d.addEventListener(this.frame.canvas,"keydown",onkeydown),d.addEventListener(this.frame.canvas,"mousedown",i),d.addEventListener(this.frame.canvas,"touchstart",o),d.addEventListener(this.frame.canvas,"mousewheel",n),d.addEventListener(this.frame.canvas,"mousemove",s),this.containerElement.appendChild(this.frame)},o.prototype.setSize=function(t,e){this.frame.style.width=t,this.frame.style.height=e,this._resizeCanvas()},o.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},o.prototype.animationStart=function(){if(!this.frame.filter||!this.frame.filter.slider)throw"No animation available";this.frame.filter.slider.play()},o.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},o.prototype._resizeCenter=function(){"%"===this.defaultXCenter.charAt(this.defaultXCenter.length-1)?this.xcenter=parseFloat(this.defaultXCenter)/100*this.frame.canvas.clientWidth:this.xcenter=parseFloat(this.defaultXCenter),"%"===this.defaultYCenter.charAt(this.defaultYCenter.length-1)?this.ycenter=parseFloat(this.defaultYCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.ycenter=parseFloat(this.defaultYCenter)},o.prototype.setCameraPosition=function(t){void 0!==t&&(void 0!==t.horizontal&&void 0!==t.vertical&&this.camera.setArmRotation(t.horizontal,t.vertical),void 0!==t.distance&&this.camera.setArmLength(t.distance),this.redraw())},o.prototype.getCameraPosition=function(){var t=this.camera.getArmRotation();return t.distance=this.camera.getArmLength(),t},o.prototype._readData=function(t){this._dataInitialize(t,this.style),this.dataFilter?this.dataPoints=this.dataFilter._getDataPoints():this.dataPoints=this._getDataPoints(this.dataTable),this._redrawFilter()},o.prototype.setData=function(t){this._readData(t),this.redraw(),this.animationAutoStart&&this.dataFilter&&this.animationStart()},o.prototype.setOptions=function(t){var e=void 0;if(this.animationStop(),void 0!==t){if(void 0!==t.width&&(this.width=t.width),void 0!==t.height&&(this.height=t.height),void 0!==t.xCenter&&(this.defaultXCenter=t.xCenter),void 0!==t.yCenter&&(this.defaultYCenter=t.yCenter),void 0!==t.filterLabel&&(this.filterLabel=t.filterLabel),void 0!==t.legendLabel&&(this.legendLabel=t.legendLabel),void 0!==t.xLabel&&(this.xLabel=t.xLabel),void 0!==t.yLabel&&(this.yLabel=t.yLabel),void 0!==t.zLabel&&(this.zLabel=t.zLabel),void 0!==t.xValueLabel&&(this.xValueLabel=t.xValueLabel),void 0!==t.yValueLabel&&(this.yValueLabel=t.yValueLabel),void 0!==t.zValueLabel&&(this.zValueLabel=t.zValueLabel),void 0!==t.style){var i=this._getStyleNumber(t.style);-1!==i&&(this.style=i)}void 0!==t.showGrid&&(this.showGrid=t.showGrid),void 0!==t.showPerspective&&(this.showPerspective=t.showPerspective),void 0!==t.showShadow&&(this.showShadow=t.showShadow),void 0!==t.tooltip&&(this.showTooltip=t.tooltip),void 0!==t.showAnimationControls&&(this.showAnimationControls=t.showAnimationControls),void 0!==t.keepAspectRatio&&(this.keepAspectRatio=t.keepAspectRatio),void 0!==t.verticalRatio&&(this.verticalRatio=t.verticalRatio),void 0!==t.animationInterval&&(this.animationInterval=t.animationInterval),void 0!==t.animationPreload&&(this.animationPreload=t.animationPreload),void 0!==t.animationAutoStart&&(this.animationAutoStart=t.animationAutoStart),void 0!==t.xBarWidth&&(this.defaultXBarWidth=t.xBarWidth),void 0!==t.yBarWidth&&(this.defaultYBarWidth=t.yBarWidth),void 0!==t.xMin&&(this.defaultXMin=t.xMin),void 0!==t.xStep&&(this.defaultXStep=t.xStep),void 0!==t.xMax&&(this.defaultXMax=t.xMax),void 0!==t.yMin&&(this.defaultYMin=t.yMin),void 0!==t.yStep&&(this.defaultYStep=t.yStep),void 0!==t.yMax&&(this.defaultYMax=t.yMax),void 0!==t.zMin&&(this.defaultZMin=t.zMin),void 0!==t.zStep&&(this.defaultZStep=t.zStep),void 0!==t.zMax&&(this.defaultZMax=t.zMax),void 0!==t.valueMin&&(this.defaultValueMin=t.valueMin),void 0!==t.valueMax&&(this.defaultValueMax=t.valueMax),void 0!==t.backgroundColor&&this._setBackgroundColor(t.backgroundColor),void 0!==t.cameraPosition&&(e=t.cameraPosition),void 0!==e&&(this.camera.setArmRotation(e.horizontal,e.vertical),this.camera.setArmLength(e.distance)),void 0!==t.axisColor&&(this.axisColor=t.axisColor),void 0!==t.gridColor&&(this.gridColor=t.gridColor),t.dataColor&&("string"==typeof t.dataColor?(this.dataColor.fill=t.dataColor,this.dataColor.stroke=t.dataColor):(t.dataColor.fill&&(this.dataColor.fill=t.dataColor.fill),t.dataColor.stroke&&(this.dataColor.stroke=t.dataColor.stroke),void 0!==t.dataColor.strokeWidth&&(this.dataColor.strokeWidth=t.dataColor.strokeWidth)))}this.setSize(this.width,this.height),this.dataTable&&this.setData(this.dataTable),this.animationAutoStart&&this.dataFilter&&this.animationStart()},o.prototype.redraw=function(){if(void 0===this.dataPoints)throw"Error: graph data not initialized";this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this.style===o.STYLE.GRID||this.style===o.STYLE.SURFACE?this._redrawDataGrid():this.style===o.STYLE.LINE?this._redrawDataLine():this.style===o.STYLE.BAR||this.style===o.STYLE.BARCOLOR||this.style===o.STYLE.BARSIZE?this._redrawDataBar():this._redrawDataDot(),this._redrawInfo(),this._redrawLegend()},o.prototype._redrawClear=function(){var t=this.frame.canvas,e=t.getContext("2d");e.clearRect(0,0,t.width,t.height)},o.prototype._redrawLegend=function(){var t;if(this.style===o.STYLE.DOTCOLOR||this.style===o.STYLE.DOTSIZE){var e,i,n=.02*this.frame.clientWidth;this.style===o.STYLE.DOTSIZE?(e=n/2,i=n/2+2*n):(e=20,i=20);var s=Math.max(.25*this.frame.clientHeight,100),r=this.margin,a=this.frame.clientWidth-this.margin,h=a-i,d=r+s}var l=this.frame.canvas,u=l.getContext("2d");if(u.lineWidth=1,u.font="14px arial",this.style===o.STYLE.DOTCOLOR){var c=0,p=s;for(t=c;p>t;t++){var f=(t-c)/(p-c),v=240*f,g=this._hsv2rgb(v,1,1);u.strokeStyle=g,u.beginPath(),u.moveTo(h,r+t),u.lineTo(a,r+t),u.stroke()}u.strokeStyle=this.axisColor,u.strokeRect(h,r,i,s)}if(this.style===o.STYLE.DOTSIZE&&(u.strokeStyle=this.axisColor,u.fillStyle=this.dataColor.fill,u.beginPath(),u.moveTo(h,r),u.lineTo(a,r),u.lineTo(a-i+e,d),u.lineTo(h,d),u.closePath(),u.fill(),u.stroke()),this.style===o.STYLE.DOTCOLOR||this.style===o.STYLE.DOTSIZE){var y=5,b=new m(this.valueMin,this.valueMax,(this.valueMax-this.valueMin)/5,!0);for(b.start(),b.getCurrent()<this.valueMin&&b.next();!b.end();)t=d-(b.getCurrent()-this.valueMin)/(this.valueMax-this.valueMin)*s,u.beginPath(),u.moveTo(h-y,t),u.lineTo(h,t),u.stroke(),u.textAlign="right",u.textBaseline="middle",u.fillStyle=this.axisColor,u.fillText(b.getCurrent(),h-2*y,t),b.next();u.textAlign="right",u.textBaseline="top";var w=this.legendLabel;u.fillText(w,a,d+this.margin)}},o.prototype._redrawFilter=function(){if(this.frame.filter.innerHTML="",this.dataFilter){var t={visible:this.showAnimationControls},e=new f(this.frame.filter,t);this.frame.filter.slider=e,this.frame.filter.style.padding="10px",e.setValues(this.dataFilter.values),e.setPlayInterval(this.animationInterval);var i=this,o=function(){var t=e.getIndex();i.dataFilter.selectValue(t),i.dataPoints=i.dataFilter._getDataPoints(),i.redraw()};e.setOnChangeCallback(o)}else this.frame.filter.slider=void 0},o.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},o.prototype._redrawInfo=function(){if(this.dataFilter){var t=this.frame.canvas,e=t.getContext("2d");e.font="14px arial",e.lineStyle="gray",e.fillStyle="gray",e.textAlign="left",e.textBaseline="top";var i=this.margin,o=this.margin;e.fillText(this.dataFilter.getLabel()+": "+this.dataFilter.getSelectedValue(),i,o)}},o.prototype._redrawAxis=function(){var t,e,i,o,n,s,r,a,h,d,u,c,p,f=this.frame.canvas,v=f.getContext("2d");v.font=24/this.camera.getArmLength()+"px arial";var g=.025/this.scale.x,y=.025/this.scale.y,b=5/this.camera.getArmLength(),w=this.camera.getArmRotation().horizontal;for(v.lineWidth=1,o=void 0===this.defaultXStep,i=new m(this.xMin,this.xMax,this.xStep,o),i.start(),i.getCurrent()<this.xMin&&i.next();!i.end();){var _=i.getCurrent();this.showGrid?(t=this._convert3Dto2D(new l(_,this.yMin,this.zMin)),e=this._convert3Dto2D(new l(_,this.yMax,this.zMin)),v.strokeStyle=this.gridColor,v.beginPath(),v.moveTo(t.x,t.y),v.lineTo(e.x,e.y),v.stroke()):(t=this._convert3Dto2D(new l(_,this.yMin,this.zMin)),e=this._convert3Dto2D(new l(_,this.yMin+g,this.zMin)),v.strokeStyle=this.axisColor,v.beginPath(),v.moveTo(t.x,t.y),v.lineTo(e.x,e.y),v.stroke(),t=this._convert3Dto2D(new l(_,this.yMax,this.zMin)),e=this._convert3Dto2D(new l(_,this.yMax-g,this.zMin)),v.strokeStyle=this.axisColor,v.beginPath(),v.moveTo(t.x,t.y),v.lineTo(e.x,e.y),v.stroke()),r=Math.cos(w)>0?this.yMin:this.yMax,n=this._convert3Dto2D(new l(_,r,this.zMin)),Math.cos(2*w)>0?(v.textAlign="center",v.textBaseline="top",n.y+=b):Math.sin(2*w)<0?(v.textAlign="right",v.textBaseline="middle"):(v.textAlign="left",v.textBaseline="middle"),v.fillStyle=this.axisColor,v.fillText("  "+this.xValueLabel(i.getCurrent())+"  ",n.x,n.y),i.next()}for(v.lineWidth=1,o=void 0===this.defaultYStep,i=new m(this.yMin,this.yMax,this.yStep,o),i.start(),i.getCurrent()<this.yMin&&i.next();!i.end();)this.showGrid?(t=this._convert3Dto2D(new l(this.xMin,i.getCurrent(),this.zMin)),e=this._convert3Dto2D(new l(this.xMax,i.getCurrent(),this.zMin)),v.strokeStyle=this.gridColor,v.beginPath(),v.moveTo(t.x,t.y),v.lineTo(e.x,e.y),v.stroke()):(t=this._convert3Dto2D(new l(this.xMin,i.getCurrent(),this.zMin)),e=this._convert3Dto2D(new l(this.xMin+y,i.getCurrent(),this.zMin)),v.strokeStyle=this.axisColor,v.beginPath(),v.moveTo(t.x,t.y),v.lineTo(e.x,e.y),v.stroke(),t=this._convert3Dto2D(new l(this.xMax,i.getCurrent(),this.zMin)),e=this._convert3Dto2D(new l(this.xMax-y,i.getCurrent(),this.zMin)),v.strokeStyle=this.axisColor,v.beginPath(),v.moveTo(t.x,t.y),v.lineTo(e.x,e.y),v.stroke()),s=Math.sin(w)>0?this.xMin:this.xMax,n=this._convert3Dto2D(new l(s,i.getCurrent(),this.zMin)),Math.cos(2*w)<0?(v.textAlign="center",v.textBaseline="top",n.y+=b):Math.sin(2*w)>0?(v.textAlign="right",v.textBaseline="middle"):(v.textAlign="left",v.textBaseline="middle"),v.fillStyle=this.axisColor,v.fillText("  "+this.yValueLabel(i.getCurrent())+"  ",n.x,n.y),i.next();for(v.lineWidth=1,o=void 0===this.defaultZStep,i=new m(this.zMin,this.zMax,this.zStep,o),i.start(),i.getCurrent()<this.zMin&&i.next(),s=Math.cos(w)>0?this.xMin:this.xMax,r=Math.sin(w)<0?this.yMin:this.yMax;!i.end();)t=this._convert3Dto2D(new l(s,r,i.getCurrent())),v.strokeStyle=this.axisColor,v.beginPath(),v.moveTo(t.x,t.y),v.lineTo(t.x-b,t.y),v.stroke(),v.textAlign="right",v.textBaseline="middle",v.fillStyle=this.axisColor,v.fillText(this.zValueLabel(i.getCurrent())+" ",t.x-5,t.y),i.next();v.lineWidth=1,t=this._convert3Dto2D(new l(s,r,this.zMin)),e=this._convert3Dto2D(new l(s,r,this.zMax)),v.strokeStyle=this.axisColor,v.beginPath(),v.moveTo(t.x,t.y),v.lineTo(e.x,e.y),v.stroke(),v.lineWidth=1,c=this._convert3Dto2D(new l(this.xMin,this.yMin,this.zMin)),p=this._convert3Dto2D(new l(this.xMax,this.yMin,this.zMin)),v.strokeStyle=this.axisColor,v.beginPath(),v.moveTo(c.x,c.y),v.lineTo(p.x,p.y),v.stroke(),c=this._convert3Dto2D(new l(this.xMin,this.yMax,this.zMin)),p=this._convert3Dto2D(new l(this.xMax,this.yMax,this.zMin)),v.strokeStyle=this.axisColor,v.beginPath(),v.moveTo(c.x,c.y),v.lineTo(p.x,p.y),v.stroke(),v.lineWidth=1,t=this._convert3Dto2D(new l(this.xMin,this.yMin,this.zMin)),e=this._convert3Dto2D(new l(this.xMin,this.yMax,this.zMin)),v.strokeStyle=this.axisColor,v.beginPath(),v.moveTo(t.x,t.y),v.lineTo(e.x,e.y),v.stroke(),t=this._convert3Dto2D(new l(this.xMax,this.yMin,this.zMin)),e=this._convert3Dto2D(new l(this.xMax,this.yMax,this.zMin)),v.strokeStyle=this.axisColor,v.beginPath(),v.moveTo(t.x,t.y),v.lineTo(e.x,e.y),v.stroke();var x=this.xLabel;x.length>0&&(u=.1/this.scale.y,s=(this.xMin+this.xMax)/2,r=Math.cos(w)>0?this.yMin-u:this.yMax+u,n=this._convert3Dto2D(new l(s,r,this.zMin)),Math.cos(2*w)>0?(v.textAlign="center",v.textBaseline="top"):Math.sin(2*w)<0?(v.textAlign="right",v.textBaseline="middle"):(v.textAlign="left",v.textBaseline="middle"),v.fillStyle=this.axisColor,v.fillText(x,n.x,n.y));var k=this.yLabel;k.length>0&&(d=.1/this.scale.x,s=Math.sin(w)>0?this.xMin-d:this.xMax+d,r=(this.yMin+this.yMax)/2,n=this._convert3Dto2D(new l(s,r,this.zMin)),Math.cos(2*w)<0?(v.textAlign="center",v.textBaseline="top"):Math.sin(2*w)>0?(v.textAlign="right",v.textBaseline="middle"):(v.textAlign="left",v.textBaseline="middle"),v.fillStyle=this.axisColor,v.fillText(k,n.x,n.y));var O=this.zLabel;O.length>0&&(h=30,s=Math.cos(w)>0?this.xMin:this.xMax,r=Math.sin(w)<0?this.yMin:this.yMax,a=(this.zMin+this.zMax)/2,n=this._convert3Dto2D(new l(s,r,a)),v.textAlign="right",v.textBaseline="middle",v.fillStyle=this.axisColor,v.fillText(O,n.x-h,n.y))},o.prototype._hsv2rgb=function(t,e,i){var o,n,s,r,a,h;switch(r=i*e,a=Math.floor(t/60),h=r*(1-Math.abs(t/60%2-1)),a){case 0:o=r,n=h,s=0;break;case 1:o=h,n=r,s=0;break;case 2:o=0,n=r,s=h;break;case 3:o=0,n=h,s=r;break;case 4:o=h,n=0,s=r;break;case 5:o=r,n=0,s=h;break;default:o=0,n=0,s=0}return"RGB("+parseInt(255*o)+","+parseInt(255*n)+","+parseInt(255*s)+")"},o.prototype._redrawDataGrid=function(){var t,e,i,n,s,r,a,h,d,u,c,p,f=this.frame.canvas,m=f.getContext("2d");if(m.lineJoin="round",m.lineCap="round",!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(s=0;s<this.dataPoints.length;s++){var v=this._convertPointToTranslation(this.dataPoints[s].point),g=this._convertTranslationToScreen(v);this.dataPoints[s].trans=v,this.dataPoints[s].screen=g;var y=this._convertPointToTranslation(this.dataPoints[s].bottom);this.dataPoints[s].dist=this.showPerspective?y.length():-y.z}var b=function(t,e){return e.dist-t.dist};if(this.dataPoints.sort(b),this.style===o.STYLE.SURFACE){for(s=0;s<this.dataPoints.length;s++)if(t=this.dataPoints[s],e=this.dataPoints[s].pointRight,i=this.dataPoints[s].pointTop,n=this.dataPoints[s].pointCross,void 0!==t&&void 0!==e&&void 0!==i&&void 0!==n){if(this.showGrayBottom||this.showShadow){var w=l.subtract(n.trans,t.trans),_=l.subtract(i.trans,e.trans),x=l.crossProduct(w,_),k=x.length();r=x.z>0}else r=!0;r?(p=(t.point.z+e.point.z+i.point.z+n.point.z)/4,d=240*(1-(p-this.zMin)*this.scale.z/this.verticalRatio),u=1,this.showShadow?(c=Math.min(1+x.x/k/2,1),a=this._hsv2rgb(d,u,c),h=a):(c=1,a=this._hsv2rgb(d,u,c),h=this.axisColor)):(a="gray",h=this.axisColor),m.lineWidth=this._getStrokeWidth(t),m.fillStyle=a,m.strokeStyle=h,m.beginPath(),m.moveTo(t.screen.x,t.screen.y),m.lineTo(e.screen.x,e.screen.y),m.lineTo(n.screen.x,n.screen.y),m.lineTo(i.screen.x,i.screen.y),m.closePath(),m.fill(),m.stroke()}}else for(s=0;s<this.dataPoints.length;s++)t=this.dataPoints[s],e=this.dataPoints[s].pointRight,i=this.dataPoints[s].pointTop,void 0!==t&&void 0!==e&&(p=(t.point.z+e.point.z)/2,d=240*(1-(p-this.zMin)*this.scale.z/this.verticalRatio),m.lineWidth=2*this._getStrokeWidth(t),m.strokeStyle=this._hsv2rgb(d,1,1),m.beginPath(),m.moveTo(t.screen.x,t.screen.y),m.lineTo(e.screen.x,e.screen.y),m.stroke()),void 0!==t&&void 0!==i&&(p=(t.point.z+i.point.z)/2,d=240*(1-(p-this.zMin)*this.scale.z/this.verticalRatio),m.lineWidth=2*this._getStrokeWidth(t),m.strokeStyle=this._hsv2rgb(d,1,1),m.beginPath(),m.moveTo(t.screen.x,t.screen.y),m.lineTo(i.screen.x,i.screen.y),m.stroke())}},o.prototype._getStrokeWidth=function(t){return void 0!==t?this.showPerspective?1/-t.trans.z*this.dataColor.strokeWidth:-(this.eye.z/this.camera.getArmLength())*this.dataColor.strokeWidth:this.dataColor.strokeWidth},o.prototype._redrawDataDot=function(){var t,e=this.frame.canvas,i=e.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(t=0;t<this.dataPoints.length;t++){var n=this._convertPointToTranslation(this.dataPoints[t].point),s=this._convertTranslationToScreen(n);this.dataPoints[t].trans=n,this.dataPoints[t].screen=s;var r=this._convertPointToTranslation(this.dataPoints[t].bottom);this.dataPoints[t].dist=this.showPerspective?r.length():-r.z}var a=function(t,e){return e.dist-t.dist};this.dataPoints.sort(a);var h=.02*this.frame.clientWidth;for(t=0;t<this.dataPoints.length;t++){var d=this.dataPoints[t];if(this.style===o.STYLE.DOTLINE){var l=this._convert3Dto2D(d.bottom);i.lineWidth=1,i.strokeStyle=this.gridColor,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(d.screen.x,d.screen.y),i.stroke()}var u;u=this.style===o.STYLE.DOTSIZE?h/2+2*h*(d.point.value-this.valueMin)/(this.valueMax-this.valueMin):h;var c;c=this.showPerspective?u/-d.trans.z:u*-(this.eye.z/this.camera.getArmLength()),0>c&&(c=0);var p,f,m;this.style===o.STYLE.DOTCOLOR?(p=240*(1-(d.point.value-this.valueMin)*this.scale.value),f=this._hsv2rgb(p,1,1),m=this._hsv2rgb(p,1,.8)):this.style===o.STYLE.DOTSIZE?(f=this.dataColor.fill,m=this.dataColor.stroke):(p=240*(1-(d.point.z-this.zMin)*this.scale.z/this.verticalRatio),f=this._hsv2rgb(p,1,1),m=this._hsv2rgb(p,1,.8)),i.lineWidth=this._getStrokeWidth(d),i.strokeStyle=m,i.fillStyle=f,i.beginPath(),i.arc(d.screen.x,d.screen.y,c,0,2*Math.PI,!0),i.fill(),i.stroke()}}},o.prototype._redrawDataBar=function(){var t,e,i,n,s=this.frame.canvas,r=s.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(t=0;t<this.dataPoints.length;t++){var a=this._convertPointToTranslation(this.dataPoints[t].point),h=this._convertTranslationToScreen(a);this.dataPoints[t].trans=a,this.dataPoints[t].screen=h;var d=this._convertPointToTranslation(this.dataPoints[t].bottom);this.dataPoints[t].dist=this.showPerspective?d.length():-d.z}var u=function(t,e){return e.dist-t.dist};this.dataPoints.sort(u),r.lineJoin="round",r.lineCap="round";var c=this.xBarWidth/2,p=this.yBarWidth/2;for(t=0;t<this.dataPoints.length;t++){var f,m,v,g=this.dataPoints[t];this.style===o.STYLE.BARCOLOR?(f=240*(1-(g.point.value-this.valueMin)*this.scale.value),m=this._hsv2rgb(f,1,1),v=this._hsv2rgb(f,1,.8)):this.style===o.STYLE.BARSIZE?(m=this.dataColor.fill,v=this.dataColor.stroke):(f=240*(1-(g.point.z-this.zMin)*this.scale.z/this.verticalRatio),m=this._hsv2rgb(f,1,1),v=this._hsv2rgb(f,1,.8)),this.style===o.STYLE.BARSIZE&&(c=this.xBarWidth/2*((g.point.value-this.valueMin)/(this.valueMax-this.valueMin)*.8+.2),p=this.yBarWidth/2*((g.point.value-this.valueMin)/(this.valueMax-this.valueMin)*.8+.2));var y=this,b=g.point,w=[{point:new l(b.x-c,b.y-p,b.z)},{point:new l(b.x+c,b.y-p,b.z)},{point:new l(b.x+c,b.y+p,b.z)},{point:new l(b.x-c,b.y+p,b.z)}],_=[{point:new l(b.x-c,b.y-p,this.zMin)},{point:new l(b.x+c,b.y-p,this.zMin)},{point:new l(b.x+c,b.y+p,this.zMin)},{point:new l(b.x-c,b.y+p,this.zMin)}];w.forEach(function(t){t.screen=y._convert3Dto2D(t.point)}),_.forEach(function(t){t.screen=y._convert3Dto2D(t.point)});var x=[{corners:w,center:l.avg(_[0].point,_[2].point)},{corners:[w[0],w[1],_[1],_[0]],center:l.avg(_[1].point,_[0].point)},{corners:[w[1],w[2],_[2],_[1]],center:l.avg(_[2].point,_[1].point)},{corners:[w[2],w[3],_[3],_[2]],center:l.avg(_[3].point,_[2].point)},{corners:[w[3],w[0],_[0],_[3]],center:l.avg(_[0].point,_[3].point)}];for(g.surfaces=x,e=0;e<x.length;e++){i=x[e];var k=this._convertPointToTranslation(i.center);i.dist=this.showPerspective?k.length():-k.z}for(x.sort(function(t,e){var i=e.dist-t.dist;return i?i:t.corners===w?1:e.corners===w?-1:0}),r.lineWidth=this._getStrokeWidth(g),r.strokeStyle=v,r.fillStyle=m,e=2;e<x.length;e++)i=x[e],n=i.corners,r.beginPath(),r.moveTo(n[3].screen.x,n[3].screen.y),r.lineTo(n[0].screen.x,n[0].screen.y),r.lineTo(n[1].screen.x,n[1].screen.y),r.lineTo(n[2].screen.x,n[2].screen.y),r.lineTo(n[3].screen.x,n[3].screen.y),r.fill(),r.stroke()}}},o.prototype._redrawDataLine=function(){var t,e,i=this.frame.canvas,o=i.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(e=0;e<this.dataPoints.length;e++){var n=this._convertPointToTranslation(this.dataPoints[e].point),s=this._convertTranslationToScreen(n);this.dataPoints[e].trans=n,this.dataPoints[e].screen=s}if(this.dataPoints.length>0){for(t=this.dataPoints[0],o.lineWidth=this._getStrokeWidth(t),o.lineJoin="round",o.lineCap="round",o.strokeStyle=this.dataColor.stroke,o.beginPath(),o.moveTo(t.screen.x,t.screen.y),e=1;e<this.dataPoints.length;e++)t=this.dataPoints[e],o.lineTo(t.screen.x,t.screen.y);o.stroke()}}},o.prototype._onMouseDown=function(t){if(t=t||window.event,this.leftButtonDown&&this._onMouseUp(t),this.leftButtonDown=t.which?1===t.which:1===t.button,this.leftButtonDown||this.touchDown){this.startMouseX=n(t),this.startMouseY=s(t),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},d.addEventListener(document,"mousemove",e.onmousemove),d.addEventListener(document,"mouseup",e.onmouseup),d.preventDefault(t)}},o.prototype._onMouseMove=function(t){t=t||window.event;var e=parseFloat(n(t))-this.startMouseX,i=parseFloat(s(t))-this.startMouseY,o=this.startArmRotation.horizontal+e/200,r=this.startArmRotation.vertical+i/200,a=4,h=Math.sin(a/360*2*Math.PI);
Math.abs(Math.sin(o))<h&&(o=Math.round(o/Math.PI)*Math.PI-.001),Math.abs(Math.cos(o))<h&&(o=(Math.round(o/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(r))<h&&(r=Math.round(r/Math.PI)*Math.PI),Math.abs(Math.cos(r))<h&&(r=(Math.round(r/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(o,r),this.redraw();var l=this.getCameraPosition();this.emit("cameraPositionChange",l),d.preventDefault(t)},o.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",this.leftButtonDown=!1,d.removeEventListener(document,"mousemove",this.onmousemove),d.removeEventListener(document,"mouseup",this.onmouseup),d.preventDefault(t)},o.prototype._onTooltip=function(t){var e=300,i=this.frame.getBoundingClientRect(),o=n(t)-i.left,r=s(t)-i.top;if(this.showTooltip){if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)return void this._hideTooltip();if(this.tooltip&&this.tooltip.dataPoint){var a=this._dataPointFromXY(o,r);a!==this.tooltip.dataPoint&&(a?this._showTooltip(a):this._hideTooltip())}else{var h=this;this.tooltipTimeout=setTimeout(function(){h.tooltipTimeout=null;var t=h._dataPointFromXY(o,r);t&&h._showTooltip(t)},e)}}},o.prototype._onTouchStart=function(t){this.touchDown=!0;var e=this;this.ontouchmove=function(t){e._onTouchMove(t)},this.ontouchend=function(t){e._onTouchEnd(t)},d.addEventListener(document,"touchmove",e.ontouchmove),d.addEventListener(document,"touchend",e.ontouchend),this._onMouseDown(t)},o.prototype._onTouchMove=function(t){this._onMouseMove(t)},o.prototype._onTouchEnd=function(t){this.touchDown=!1,d.removeEventListener(document,"touchmove",this.ontouchmove),d.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(t)},o.prototype._onWheel=function(t){t||(t=window.event);var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){var i=this.camera.getArmLength(),o=i*(1-e/10);this.camera.setArmLength(o),this.redraw(),this._hideTooltip()}var n=this.getCameraPosition();this.emit("cameraPositionChange",n),d.preventDefault(t)},o.prototype._insideTriangle=function(t,e){function i(t){return t>0?1:0>t?-1:0}var o=e[0],n=e[1],s=e[2],r=i((n.x-o.x)*(t.y-o.y)-(n.y-o.y)*(t.x-o.x)),a=i((s.x-n.x)*(t.y-n.y)-(s.y-n.y)*(t.x-n.x)),h=i((o.x-s.x)*(t.y-s.y)-(o.y-s.y)*(t.x-s.x));return!(0!=r&&0!=a&&r!=a||0!=a&&0!=h&&a!=h||0!=r&&0!=h&&r!=h)},o.prototype._dataPointFromXY=function(t,e){var i,n=100,s=null,r=null,a=null,h=new u(t,e);if(this.style===o.STYLE.BAR||this.style===o.STYLE.BARCOLOR||this.style===o.STYLE.BARSIZE)for(i=this.dataPoints.length-1;i>=0;i--){s=this.dataPoints[i];var d=s.surfaces;if(d)for(var l=d.length-1;l>=0;l--){var c=d[l],p=c.corners,f=[p[0].screen,p[1].screen,p[2].screen],m=[p[2].screen,p[3].screen,p[0].screen];if(this._insideTriangle(h,f)||this._insideTriangle(h,m))return s}}else for(i=0;i<this.dataPoints.length;i++){s=this.dataPoints[i];var v=s.screen;if(v){var g=Math.abs(t-v.x),y=Math.abs(e-v.y),b=Math.sqrt(g*g+y*y);(null===a||a>b)&&n>b&&(a=b,r=s)}}return r},o.prototype._showTooltip=function(t){var e,i,o;this.tooltip?(e=this.tooltip.dom.content,i=this.tooltip.dom.line,o=this.tooltip.dom.dot):(e=document.createElement("div"),e.style.position="absolute",e.style.padding="10px",e.style.border="1px solid #4d4d4d",e.style.color="#1a1a1a",e.style.background="rgba(255,255,255,0.7)",e.style.borderRadius="2px",e.style.boxShadow="5px 5px 10px rgba(128,128,128,0.5)",i=document.createElement("div"),i.style.position="absolute",i.style.height="40px",i.style.width="0",i.style.borderLeft="1px solid #4d4d4d",o=document.createElement("div"),o.style.position="absolute",o.style.height="0",o.style.width="0",o.style.border="5px solid #4d4d4d",o.style.borderRadius="5px",this.tooltip={dataPoint:null,dom:{content:e,line:i,dot:o}}),this._hideTooltip(),this.tooltip.dataPoint=t,"function"==typeof this.showTooltip?e.innerHTML=this.showTooltip(t.point):e.innerHTML="<table><tr><td>x:</td><td>"+t.point.x+"</td></tr><tr><td>y:</td><td>"+t.point.y+"</td></tr><tr><td>z:</td><td>"+t.point.z+"</td></tr></table>",e.style.left="0",e.style.top="0",this.frame.appendChild(e),this.frame.appendChild(i),this.frame.appendChild(o);var n=e.offsetWidth,s=e.offsetHeight,r=i.offsetHeight,a=o.offsetWidth,h=o.offsetHeight,d=t.screen.x-n/2;d=Math.min(Math.max(d,10),this.frame.clientWidth-10-n),i.style.left=t.screen.x+"px",i.style.top=t.screen.y-r+"px",e.style.left=d+"px",e.style.top=t.screen.y-r-s+"px",o.style.left=t.screen.x-a/2+"px",o.style.top=t.screen.y-h/2+"px"},o.prototype._hideTooltip=function(){if(this.tooltip){this.tooltip.dataPoint=null;for(var t in this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(t)){var e=this.tooltip.dom[t];e&&e.parentNode&&e.parentNode.removeChild(e)}}},t.exports=o},function(t,e){function i(t){return t?o(t):void 0}function o(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},i.prototype.once=function(t,e){function i(){o.off(t,i),e.apply(this,arguments)}var o=this;return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var o,n=0;n<i.length;n++)if(o=i[n],o===e||o.fn===e){i.splice(n,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i){i=i.slice(0);for(var o=0,n=i.length;n>o;++o)i[o].apply(this,e)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){function i(t,e,i){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.z=void 0!==i?i:0}i.subtract=function(t,e){var o=new i;return o.x=t.x-e.x,o.y=t.y-e.y,o.z=t.z-e.z,o},i.add=function(t,e){var o=new i;return o.x=t.x+e.x,o.y=t.y+e.y,o.z=t.z+e.z,o},i.avg=function(t,e){return new i((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)},i.crossProduct=function(t,e){var o=new i;return o.x=t.y*e.z-t.z*e.y,o.y=t.z*e.x-t.x*e.z,o.z=t.x*e.y-t.y*e.x,o},i.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.exports=i},function(t,e){function i(t,e){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0}t.exports=i},function(t,e,i){function o(){this.armLocation=new n,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraLocation=new n,this.cameraRotation=new n(.5*Math.PI,0,0),this.calculateCameraOrientation()}var n=i(13);o.prototype.setArmLocation=function(t,e,i){this.armLocation.x=t,this.armLocation.y=e,this.armLocation.z=i,this.calculateCameraOrientation()},o.prototype.setArmRotation=function(t,e){void 0!==t&&(this.armRotation.horizontal=t),void 0!==e&&(this.armRotation.vertical=e,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),(void 0!==t||void 0!==e)&&this.calculateCameraOrientation()},o.prototype.getArmRotation=function(){var t={};return t.horizontal=this.armRotation.horizontal,t.vertical=this.armRotation.vertical,t},o.prototype.setArmLength=function(t){void 0!==t&&(this.armLength=t,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.calculateCameraOrientation())},o.prototype.getArmLength=function(){return this.armLength},o.prototype.getCameraLocation=function(){return this.cameraLocation},o.prototype.getCameraRotation=function(){return this.cameraRotation},o.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal},t.exports=o},function(t,e,i){function o(t,e,i){this.data=t,this.column=e,this.graph=i,this.index=void 0,this.value=void 0,this.values=i.getDistinctValues(t.get(),this.column),this.values.sort(function(t,e){return t>e?1:e>t?-1:0}),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,i.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}var n=i(10);o.prototype.isLoaded=function(){return this.loaded},o.prototype.getLoadedProgress=function(){for(var t=this.values.length,e=0;this.dataPoints[e];)e++;return Math.round(e/t*100)},o.prototype.getLabel=function(){return this.graph.filterLabel},o.prototype.getColumn=function(){return this.column},o.prototype.getSelectedValue=function(){return void 0!==this.index?this.values[this.index]:void 0},o.prototype.getValues=function(){return this.values},o.prototype.getValue=function(t){if(t>=this.values.length)throw"Error: index out of range";return this.values[t]},o.prototype._getDataPoints=function(t){if(void 0===t&&(t=this.index),void 0===t)return[];var e;if(this.dataPoints[t])e=this.dataPoints[t];else{var i={};i.column=this.column,i.value=this.values[t];var o=new n(this.data,{filter:function(t){return t[i.column]==i.value}}).get();e=this.graph._getDataPoints(o),this.dataPoints[t]=e}return e},o.prototype.setOnLoadCallback=function(t){this.onLoadCallback=t},o.prototype.selectValue=function(t){if(t>=this.values.length)throw"Error: index out of range";this.index=t,this.value=this.values[t]},o.prototype.loadInBackground=function(t){void 0===t&&(t=0);var e=this.graph.frame;if(t<this.values.length){this._getDataPoints(t);void 0===e.progress&&(e.progress=document.createElement("DIV"),e.progress.style.position="absolute",e.progress.style.color="gray",e.appendChild(e.progress));var i=this.getLoadedProgress();e.progress.innerHTML="Loading animation... "+i+"%",e.progress.style.bottom="60px",e.progress.style.left="10px";var o=this;setTimeout(function(){o.loadInBackground(t+1)},10),this.loaded=!1}else this.loaded=!0,void 0!==e.progress&&(e.removeChild(e.progress),e.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},t.exports=o},function(t,e,i){function o(t,e){if(void 0===t)throw"Error: No container element defined";if(this.container=t,this.visible=e&&void 0!=e.visible?e.visible:!0,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var i=this;this.frame.slide.onmousedown=function(t){i._onMouseDown(t)},this.frame.prev.onclick=function(t){i.prev(t)},this.frame.play.onclick=function(t){i.togglePlay(t)},this.frame.next.onclick=function(t){i.next(t)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}var n=i(1);o.prototype.prev=function(){var t=this.getIndex();t>0&&(t--,this.setIndex(t))},o.prototype.next=function(){var t=this.getIndex();t<this.values.length-1&&(t++,this.setIndex(t))},o.prototype.playNext=function(){var t=new Date,e=this.getIndex();e<this.values.length-1?(e++,this.setIndex(e)):this.playLoop&&(e=0,this.setIndex(e));var i=new Date,o=i-t,n=Math.max(this.playInterval-o,0),s=this;this.playTimeout=setTimeout(function(){s.playNext()},n)},o.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},o.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},o.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},o.prototype.setOnChangeCallback=function(t){this.onChangeCallback=t},o.prototype.setPlayInterval=function(t){this.playInterval=t},o.prototype.getPlayInterval=function(t){return this.playInterval},o.prototype.setPlayLoop=function(t){this.playLoop=t},o.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},o.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var t=this.indexToLeft(this.index);this.frame.slide.style.left=t+"px"}},o.prototype.setValues=function(t){this.values=t,this.values.length>0?this.setIndex(0):this.index=void 0},o.prototype.setIndex=function(t){if(!(t<this.values.length))throw"Error: index out of range";this.index=t,this.redraw(),this.onChange()},o.prototype.getIndex=function(){return this.index},o.prototype.get=function(){return this.values[this.index]},o.prototype._onMouseDown=function(t){var e=t.which?1===t.which:1===t.button;if(e){this.startClientX=t.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var i=this;this.onmousemove=function(t){i._onMouseMove(t)},this.onmouseup=function(t){i._onMouseUp(t)},n.addEventListener(document,"mousemove",this.onmousemove),n.addEventListener(document,"mouseup",this.onmouseup),n.preventDefault(t)}},o.prototype.leftToIndex=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,i=t-3,o=Math.round(i/e*(this.values.length-1));return 0>o&&(o=0),o>this.values.length-1&&(o=this.values.length-1),o},o.prototype.indexToLeft=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,i=t/(this.values.length-1)*e,o=i+3;return o},o.prototype._onMouseMove=function(t){var e=t.clientX-this.startClientX,i=this.startSlideX+e,o=this.leftToIndex(i);this.setIndex(o),n.preventDefault()},o.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",n.removeEventListener(document,"mousemove",this.onmousemove),n.removeEventListener(document,"mouseup",this.onmouseup),n.preventDefault()},t.exports=o},function(t,e){function i(t,e,i,o){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(t,e,i,o)}i.prototype.setRange=function(t,e,i,o){this._start=t?t:0,this._end=e?e:0,this.setStep(i,o)},i.prototype.setStep=function(t,e){void 0===t||0>=t||(void 0!==e&&(this.prettyStep=e),this.prettyStep===!0?this._step=i.calculatePrettyStep(t):this._step=t)},i.calculatePrettyStep=function(t){var e=function(t){return Math.log(t)/Math.LN10},i=Math.pow(10,Math.round(e(t))),o=2*Math.pow(10,Math.round(e(t/2))),n=5*Math.pow(10,Math.round(e(t/5))),s=i;return Math.abs(o-t)<=Math.abs(s-t)&&(s=o),Math.abs(n-t)<=Math.abs(s-t)&&(s=n),0>=s&&(s=1),s},i.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},i.prototype.getStep=function(){return this._step},i.prototype.start=function(){this._current=this._start-this._start%this._step},i.prototype.next=function(){this._current+=this._step},i.prototype.end=function(){return this._current>this._end},t.exports=i},function(t,e,i){function o(t,e,i,d){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(i)||i instanceof r||i instanceof a)&&i instanceof Object){var c=d;d=i,i=c}var f=this;this.defaultOptions={start:null,end:null,autoResize:!0,throttleRedraw:0,orientation:{axis:"bottom",item:"bottom"},moment:n,width:null,height:null,maxHeight:null,minHeight:null},this.options=s.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return f.timeAxis.step.scale},getStep:function(){return f.timeAxis.step.step},toScreen:f._toScreen.bind(f),toGlobalScreen:f._toGlobalScreen.bind(f),toTime:f._toTime.bind(f),toGlobalTime:f._toGlobalTime.bind(f)}},this.range=new h(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new l(this.body),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new u(this.body),this.components.push(this.currentTime),this.itemSet=new p(this.body),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.on("tap",function(t){f.emit("click",f.getEventProperties(t))}),this.on("doubletap",function(t){f.emit("doubleClick",f.getEventProperties(t))}),this.dom.root.oncontextmenu=function(t){f.emit("contextmenu",f.getEventProperties(t))},d&&this.setOptions(d),i&&this.setGroups(i),e?this.setItems(e):this._redraw()}var n=(i(12),i(20),i(2)),s=i(1),r=i(8),a=i(10),h=i(24),d=i(28),l=i(39),u=i(44),c=i(42),p=i(29),f=i(45),m=i(47)["default"],v=i(47).printStyle,g=i(48).allOptions,y=i(48).configureOptions;o.prototype=new d,o.prototype._createConfigurator=function(){return new f(this,this.dom.container,y)},o.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},o.prototype.setOptions=function(t){var e=m.validate(t,g);if(e===!0&&console.log("%cErrors have been found in the supplied options object.",v),d.prototype.setOptions.call(this,t),"type"in t&&t.type!==this.options.type){this.options.type=t.type;var i=this.itemsData;if(i){var o=this.getSelection();this.setItems(null),this.setItems(i),this.setSelection(o)}}},o.prototype.setItems=function(t){var e,i=null==this.itemsData;if(e=t?t instanceof r||t instanceof a?t:new r(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.itemSet&&this.itemSet.setItems(e),i)if(void 0!=this.options.start||void 0!=this.options.end){if(void 0==this.options.start||void 0==this.options.end)var o=this.getItemRange();var n=void 0!=this.options.start?this.options.start:o.min,s=void 0!=this.options.end?this.options.end:o.max;this.setWindow(n,s,{animation:!1})}else this.fit({animation:!1})},o.prototype.setGroups=function(t){var e;e=t?t instanceof r||t instanceof a?t:new r(t):null,this.groupsData=e,this.itemSet.setGroups(e)},o.prototype.setData=function(t){t&&t.groups&&this.setGroups(t.groups),t&&t.items&&this.setItems(t.items)},o.prototype.setSelection=function(t,e){this.itemSet&&this.itemSet.setSelection(t),e&&e.focus&&this.focus(t,e)},o.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},o.prototype.focus=function(t,e){if(this.itemsData&&void 0!=t){var i=Array.isArray(t)?t:[t],o=this.itemsData.getDataSet().get(i,{type:{start:"Date",end:"Date"}}),n=null,s=null;if(o.forEach(function(t){var e=t.start.valueOf(),i="end"in t?t.end.valueOf():t.start.valueOf();(null===n||n>e)&&(n=e),(null===s||i>s)&&(s=i)}),null!==n&&null!==s){var r=(n+s)/2,a=Math.max(this.range.end-this.range.start,1.1*(s-n)),h=e&&void 0!==e.animation?e.animation:!0;this.range.setRange(r-a/2,r+a/2,h)}}},o.prototype.fit=function(t){var e=t&&void 0!==t.animation?t.animation:!0,i=this.getItemRange();this.range.setRange(i.min,i.max,e)},o.prototype.getItemRange=function(){var t=this,e=this.getDataRange(),i=e.min.valueOf(),o=e.max.valueOf(),n=null,r=null;if(null!=i&&null!=o){var a,h,d,l,u;!function(){var e=function(t){return s.convert(t.data.start,"Date").valueOf()},c=function(t){var e=void 0!=t.data.end?t.data.end:t.data.start;return s.convert(e,"Date").valueOf()};a=o-i,0>=a&&(a=10),h=a/t.props.center.width,s.forEach(t.itemSet.items,function(t){t.show();var s=e(t),a=c(t),d=s-(t.getWidthLeft()+10)*h,l=a+(t.getWidthRight()+10)*h;i>d&&(i=d,n=t),l>o&&(o=l,r=t)}.bind(t)),n&&r&&(d=n.getWidthLeft()+10,l=r.getWidthRight()+10,u=t.props.center.width-d-l,u>0&&(i=e(n)-d*a/u,o=c(r)+l*a/u))}()}return{min:null!=i?new Date(i):null,max:null!=o?new Date(o):null}},o.prototype.getDataRange=function(){var t=null,e=null,i=this.itemsData&&this.itemsData.getDataSet();return i&&i.forEach(function(i){var o=s.convert(i.start,"Date").valueOf(),n=s.convert(void 0!=i.end?i.end:i.start,"Date").valueOf();(null===t||t>o)&&(t=o),(null===e||n>e)&&(e=n)}),{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},o.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY,o=e-s.getAbsoluteLeft(this.dom.centerContainer),n=i-s.getAbsoluteTop(this.dom.centerContainer),r=this.itemSet.itemFromTarget(t),a=this.itemSet.groupFromTarget(t),h=c.customTimeFromTarget(t),d=this.itemSet.options.snap||null,l=this.body.util.getScale(),u=this.body.util.getStep(),p=this._toTime(o),f=d?d(p,l,u):p,m=s.getTarget(t),v=null;return null!=r?v="item":null!=h?v="custom-time":s.hasParent(m,this.timeAxis.dom.foreground)?v="axis":this.timeAxis2&&s.hasParent(m,this.timeAxis2.dom.foreground)?v="axis":s.hasParent(m,this.itemSet.dom.labelSet)?v="group-label":s.hasParent(m,this.currentTime.bar)?v="current-time":s.hasParent(m,this.dom.center)&&(v="background"),{event:t,item:r?r.id:null,group:a?a.groupId:null,what:v,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:o,y:n,time:p,snappedTime:f}},t.exports=o},function(t,e,i){if("undefined"!=typeof window){var o=i(21),n=window.Hammer||i(22);t.exports=o(n,{preventDefault:"mouse"})}else t.exports=function(){throw Error("hammer.js is only available in a browser, not in node.js.")}},function(t,e,i){var o,n,s;!function(i){n=[],o=i,s="function"==typeof o?o.apply(e,n):o,!(void 0!==s&&(t.exports=s))}(function(){var t=null;return function e(i,o){function n(t){return t.match(/[^ ]+/g)}function s(e){if("hammer.input"!==e.type){if(e.srcEvent._handled||(e.srcEvent._handled={}),e.srcEvent._handled[e.type])return;e.srcEvent._handled[e.type]=!0}var i=!1;e.stopPropagation=function(){i=!0},e.firstTarget=t;for(var o=t;o&&!i;){var n=o.hammer&&o.hammer._handlers[e.type];if(n)for(var s=0;s<n.length&&!i;s++)n[s](e);o=o.parentNode}}var r=o||{preventDefault:!1};if(i.Manager){var a=i,h=function(t,i){var o=Object.create(r);return i&&a.extend(o,i),e(new a(t,o),o)};return a.extend(h,a),h.Manager=function(t,i){var o=Object.create(r);return i&&a.extend(o,i),e(new a.Manager(t,o),o)},h}var d=Object.create(i),l=i.element;return l.hammer=d,i.on("hammer.input",function(e){(r.preventDefault===!0||r.preventDefault===e.pointerType)&&e.preventDefault(),e.isFirst&&(t=e.target)}),d._handlers={},d.on=function(t,e){return n(t).forEach(function(t){var o=d._handlers[t];o||(d._handlers[t]=o=[],i.on(t,s)),o.push(e)}),d},d.off=function(t,e){return n(t).forEach(function(t){var o=d._handlers[t];o&&(o=e?o.filter(function(t){return t!==e}):[],o.length>0?d._handlers[t]=o:(i.off(t,s),delete d._handlers[t]))}),d},d.emit=function(e,o){t=o.target,i.emit(e,o)},d.destroy=function(){delete i.element.hammer,d._handlers={},i.destroy()},d}})},function(t,e,i){var o;!function(n,s,r,a){function h(t,e,i){return setTimeout(f(t,i),e)}function d(t,e,i){return Array.isArray(t)?(l(t,i[e],i),!0):!1}function l(t,e,i){var o;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==a)for(o=0;o<t.length;)e.call(i,t[o],o,t),o++;else for(o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function u(t,e,i){for(var o=Object.keys(e),n=0;n<o.length;)(!i||i&&t[o[n]]===a)&&(t[o[n]]=e[o[n]]),n++;return t}function c(t,e){return u(t,e,!0)}function p(t,e,i){var o,n=e.prototype;o=t.prototype=Object.create(n),o.constructor=t,o._super=n,i&&u(o,i)}function f(t,e){return function(){return t.apply(e,arguments)}}function m(t,e){return typeof t==ft?t.apply(e?e[0]||a:a,e):t}function v(t,e){return t===a?e:t}function g(t,e,i){l(_(e),function(e){t.addEventListener(e,i,!1)})}function y(t,e,i){l(_(e),function(e){t.removeEventListener(e,i,!1)})}function b(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function w(t,e){return t.indexOf(e)>-1}function _(t){return t.trim().split(/\s+/g)}function x(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var o=0;o<t.length;){if(i&&t[o][i]==e||!i&&t[o]===e)return o;o++}return-1}function k(t){return Array.prototype.slice.call(t,0)}function O(t,e,i){for(var o=[],n=[],s=0;s<t.length;){var r=e?t[s][e]:t[s];x(n,r)<0&&o.push(t[s]),n[s]=r,s++}return i&&(o=e?o.sort(function(t,i){return t[e]>i[e]}):o.sort()),o}function M(t,e){for(var i,o,n=e[0].toUpperCase()+e.slice(1),s=0;s<ct.length;){if(i=ct[s],o=i?i+n:e,o in t)return o;s++}return a}function D(){return yt++}function C(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function T(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){m(t.options.enable,[t])&&i.handler(e)},this.init()}function S(t){var e,i=t.options.inputClass;return new(e=i?i:_t?Y:xt?V:wt?X:W)(t,E)}function E(t,e,i){var o=i.pointers.length,n=i.changedPointers.length,s=e&Tt&&o-n===0,r=e&(Et|Pt)&&o-n===0;i.isFirst=!!s,i.isFinal=!!r,s&&(t.session={}),i.eventType=e,P(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function P(t,e){var i=t.session,o=e.pointers,n=o.length;i.firstInput||(i.firstInput=z(e)),n>1&&!i.firstMultiple?i.firstMultiple=z(e):1===n&&(i.firstMultiple=!1);var s=i.firstInput,r=i.firstMultiple,a=r?r.center:s.center,h=e.center=L(o);e.timeStamp=gt(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=R(a,h),e.distance=F(a,h),I(i,e),e.offsetDirection=B(e.deltaX,e.deltaY),e.scale=r?H(r.pointers,o):1,e.rotation=r?j(r.pointers,o):0,N(i,e);var d=t.element;b(e.srcEvent.target,d)&&(d=e.srcEvent.target),e.target=d}function I(t,e){var i=e.center,o=t.offsetDelta||{},n=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Tt||s.eventType===Et)&&(n=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},o=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=n.x+(i.x-o.x),e.deltaY=n.y+(i.y-o.y)}function N(t,e){var i,o,n,s,r=t.lastInterval||e,h=e.timeStamp-r.timeStamp;if(e.eventType!=Pt&&(h>Ct||r.velocity===a)){var d=r.deltaX-e.deltaX,l=r.deltaY-e.deltaY,u=A(h,d,l);o=u.x,n=u.y,i=vt(u.x)>vt(u.y)?u.x:u.y,s=B(d,l),t.lastInterval=e}else i=r.velocity,o=r.velocityX,n=r.velocityY,s=r.direction;e.velocity=i,e.velocityX=o,e.velocityY=n,e.direction=s}function z(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:mt(t.pointers[i].clientX),clientY:mt(t.pointers[i].clientY)},i++;return{timeStamp:gt(),pointers:e,center:L(e),deltaX:t.deltaX,deltaY:t.deltaY}}function L(t){var e=t.length;if(1===e)return{x:mt(t[0].clientX),y:mt(t[0].clientY)};for(var i=0,o=0,n=0;e>n;)i+=t[n].clientX,o+=t[n].clientY,n++;return{x:mt(i/e),y:mt(o/e)}}function A(t,e,i){return{x:e/t||0,y:i/t||0}}function B(t,e){return t===e?It:vt(t)>=vt(e)?t>0?Nt:zt:e>0?Lt:At}function F(t,e,i){i||(i=jt);var o=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return Math.sqrt(o*o+n*n)}function R(t,e,i){i||(i=jt);var o=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return 180*Math.atan2(n,o)/Math.PI}function j(t,e){return R(e[1],e[0],Ht)-R(t[1],t[0],Ht)}function H(t,e){return F(e[0],e[1],Ht)/F(t[0],t[1],Ht)}function W(){this.evEl=Yt,this.evWin=Gt,this.allow=!0,this.pressed=!1,T.apply(this,arguments)}function Y(){this.evEl=qt,this.evWin=Xt,T.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function G(){this.evTarget=Kt,this.evWin=Jt,this.started=!1,T.apply(this,arguments)}function U(t,e){var i=k(t.touches),o=k(t.changedTouches);return e&(Et|Pt)&&(i=O(i.concat(o),"identifier",!0)),[i,o]}function V(){this.evTarget=$t,this.targetIds={},T.apply(this,arguments)}function q(t,e){var i=k(t.touches),o=this.targetIds;if(e&(Tt|St)&&1===i.length)return o[i[0].identifier]=!0,[i,i];var n,s,r=k(t.changedTouches),a=[],h=this.target;if(s=i.filter(function(t){return b(t.target,h)}),e===Tt)for(n=0;n<s.length;)o[s[n].identifier]=!0,n++;for(n=0;n<r.length;)o[r[n].identifier]&&a.push(r[n]),e&(Et|Pt)&&delete o[r[n].identifier],n++;return a.length?[O(s.concat(a),"identifier",!0),a]:void 0}function X(){T.apply(this,arguments);var t=f(this.handler,this);this.touch=new V(this.manager,t),this.mouse=new W(this.manager,t)}function Z(t,e){this.manager=t,this.set(e)}function K(t){if(w(t,se))return se;var e=w(t,re),i=w(t,ae);return e&&i?re+" "+ae:e||i?e?re:ae:w(t,ne)?ne:oe}function J(t){this.id=D(),this.manager=null,this.options=c(t||{},this.defaults),this.options.enable=v(this.options.enable,!0),this.state=he,this.simultaneous={},this.requireFail=[]}function Q(t){return t&pe?"cancel":t&ue?"end":t&le?"move":t&de?"start":""}function $(t){return t==At?"down":t==Lt?"up":t==Nt?"left":t==zt?"right":""}function tt(t,e){var i=e.manager;return i?i.get(t):t}function et(){J.apply(this,arguments)}function it(){et.apply(this,arguments),this.pX=null,this.pY=null}function ot(){et.apply(this,arguments)}function nt(){J.apply(this,arguments),this._timer=null,this._input=null}function st(){et.apply(this,arguments)}function rt(){et.apply(this,arguments)}function at(){J.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ht(t,e){return e=e||{},e.recognizers=v(e.recognizers,ht.defaults.preset),new dt(t,e)}function dt(t,e){e=e||{},this.options=c(e,ht.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=S(this),this.touchAction=new Z(this,this.options.touchAction),lt(this,!0),l(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function lt(t,e){var i=t.element;l(t.options.cssProps,function(t,o){i.style[M(i.style,o)]=e?t:""})}function ut(t,e){var i=s.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}var ct=["","webkit","moz","MS","ms","o"],pt=s.createElement("div"),ft="function",mt=Math.round,vt=Math.abs,gt=Date.now,yt=1,bt=/mobile|tablet|ip(ad|hone|od)|android/i,wt="ontouchstart"in n,_t=M(n,"PointerEvent")!==a,xt=wt&&bt.test(navigator.userAgent),kt="touch",Ot="pen",Mt="mouse",Dt="kinect",Ct=25,Tt=1,St=2,Et=4,Pt=8,It=1,Nt=2,zt=4,Lt=8,At=16,Bt=Nt|zt,Ft=Lt|At,Rt=Bt|Ft,jt=["x","y"],Ht=["clientX","clientY"];T.prototype={handler:function(){},init:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&y(this.element,this.evEl,this.domHandler),this.evTarget&&y(this.target,this.evTarget,this.domHandler),this.evWin&&y(C(this.element),this.evWin,this.domHandler)}};var Wt={mousedown:Tt,mousemove:St,mouseup:Et},Yt="mousedown",Gt="mousemove mouseup";p(W,T,{handler:function(t){var e=Wt[t.type];e&Tt&&0===t.button&&(this.pressed=!0),e&St&&1!==t.which&&(e=Et),this.pressed&&this.allow&&(e&Et&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Mt,srcEvent:t}))}});var Ut={pointerdown:Tt,pointermove:St,pointerup:Et,pointercancel:Pt,pointerout:Pt},Vt={2:kt,3:Ot,4:Mt,5:Dt},qt="pointerdown",Xt="pointermove pointerup pointercancel";n.MSPointerEvent&&(qt="MSPointerDown",Xt="MSPointerMove MSPointerUp MSPointerCancel"),p(Y,T,{handler:function(t){var e=this.store,i=!1,o=t.type.toLowerCase().replace("ms",""),n=Ut[o],s=Vt[t.pointerType]||t.pointerType,r=s==kt,a=x(e,t.pointerId,"pointerId");
n&Tt&&(0===t.button||r)?0>a&&(e.push(t),a=e.length-1):n&(Et|Pt)&&(i=!0),0>a||(e[a]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(a,1))}});var Zt={touchstart:Tt,touchmove:St,touchend:Et,touchcancel:Pt},Kt="touchstart",Jt="touchstart touchmove touchend touchcancel";p(G,T,{handler:function(t){var e=Zt[t.type];if(e===Tt&&(this.started=!0),this.started){var i=U.call(this,t,e);e&(Et|Pt)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:kt,srcEvent:t})}}});var Qt={touchstart:Tt,touchmove:St,touchend:Et,touchcancel:Pt},$t="touchstart touchmove touchend touchcancel";p(V,T,{handler:function(t){var e=Qt[t.type],i=q.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:kt,srcEvent:t})}}),p(X,T,{handler:function(t,e,i){var o=i.pointerType==kt,n=i.pointerType==Mt;if(o)this.mouse.allow=!1;else if(n&&!this.mouse.allow)return;e&(Et|Pt)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var te=M(pt.style,"touchAction"),ee=te!==a,ie="compute",oe="auto",ne="manipulation",se="none",re="pan-x",ae="pan-y";Z.prototype={set:function(t){t==ie&&(t=this.compute()),ee&&(this.manager.element.style[te]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return l(this.manager.recognizers,function(e){m(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),K(t.join(" "))},preventDefaults:function(t){if(!ee){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var o=this.actions,n=w(o,se),s=w(o,ae),r=w(o,re);return n||s&&i&Bt||r&&i&Ft?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var he=1,de=2,le=4,ue=8,ce=ue,pe=16,fe=32;J.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(d(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=tt(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return d(t,"dropRecognizeWith",this)?this:(t=tt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(d(t,"requireFailure",this))return this;var e=this.requireFail;return t=tt(t,this),-1===x(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(d(t,"dropRequireFailure",this))return this;t=tt(t,this);var e=x(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(i.options.event+(e?Q(o):""),t)}var i=this,o=this.state;ue>o&&e(!0),e(),o>=ue&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=fe)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(fe|he)))return!1;t++}return!0},recognize:function(t){var e=u({},t);return m(this.options.enable,[this,e])?(this.state&(ce|pe|fe)&&(this.state=he),this.state=this.process(e),void(this.state&(de|le|ue|pe)&&this.tryEmit(e))):(this.reset(),void(this.state=fe))},process:function(t){},getTouchAction:function(){},reset:function(){}},p(et,J,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,o=e&(de|le),n=this.attrTest(t);return o&&(i&Pt||!n)?e|pe:o||n?i&Et?e|ue:e&de?e|le:de:fe}}),p(it,et,{defaults:{event:"pan",threshold:10,pointers:1,direction:Rt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Bt&&e.push(ae),t&Ft&&e.push(re),e},directionTest:function(t){var e=this.options,i=!0,o=t.distance,n=t.direction,s=t.deltaX,r=t.deltaY;return n&e.direction||(e.direction&Bt?(n=0===s?It:0>s?Nt:zt,i=s!=this.pX,o=Math.abs(t.deltaX)):(n=0===r?It:0>r?Lt:At,i=r!=this.pY,o=Math.abs(t.deltaY))),t.direction=n,i&&o>e.threshold&&n&e.direction},attrTest:function(t){return et.prototype.attrTest.call(this,t)&&(this.state&de||!(this.state&de)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=$(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),p(ot,et,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[se]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&de)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),p(nt,J,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[oe]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,o=t.distance<e.threshold,n=t.deltaTime>e.time;if(this._input=t,!o||!i||t.eventType&(Et|Pt)&&!n)this.reset();else if(t.eventType&Tt)this.reset(),this._timer=h(function(){this.state=ce,this.tryEmit()},e.time,this);else if(t.eventType&Et)return ce;return fe},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===ce&&(t&&t.eventType&Et?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=gt(),this.manager.emit(this.options.event,this._input)))}}),p(st,et,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[se]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&de)}}),p(rt,et,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Bt|Ft,pointers:1},getTouchAction:function(){return it.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Bt|Ft)?e=t.velocity:i&Bt?e=t.velocityX:i&Ft&&(e=t.velocityY),this._super.attrTest.call(this,t)&&i&t.direction&&t.distance>this.options.threshold&&vt(e)>this.options.velocity&&t.eventType&Et},emit:function(t){var e=$(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),p(at,J,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[ne]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,o=t.distance<e.threshold,n=t.deltaTime<e.time;if(this.reset(),t.eventType&Tt&&0===this.count)return this.failTimeout();if(o&&n&&i){if(t.eventType!=Et)return this.failTimeout();var s=this.pTime?t.timeStamp-this.pTime<e.interval:!0,r=!this.pCenter||F(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,r&&s?this.count+=1:this.count=1,this._input=t;var a=this.count%e.taps;if(0===a)return this.hasRequireFailures()?(this._timer=h(function(){this.state=ce,this.tryEmit()},e.interval,this),de):ce}return fe},failTimeout:function(){return this._timer=h(function(){this.state=fe},this.options.interval,this),fe},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ce&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ht.VERSION="2.0.4",ht.defaults={domEvents:!1,touchAction:ie,enable:!0,inputTarget:null,inputClass:null,preset:[[st,{enable:!1}],[ot,{enable:!1},["rotate"]],[rt,{direction:Bt}],[it,{direction:Bt},["swipe"]],[at],[at,{event:"doubletap",taps:2},["tap"]],[nt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var me=1,ve=2;dt.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?ve:me},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,o=this.recognizers,n=e.curRecognizer;(!n||n&&n.state&ce)&&(n=e.curRecognizer=null);for(var s=0;s<o.length;)i=o[s],e.stopped===ve||n&&i!=n&&!i.canRecognizeWith(n)?i.reset():i.recognize(t),!n&&i.state&(de|le|ue)&&(n=e.curRecognizer=i),s++}},get:function(t){if(t instanceof J)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(d(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(d(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(x(e,t),1),this.touchAction.update(),this},on:function(t,e){var i=this.handlers;return l(_(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return l(_(t),function(t){e?i[t].splice(x(i[t],e),1):delete i[t]}),this},emit:function(t,e){this.options.domEvents&&ut(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var o=0;o<i.length;)i[o](e),o++}},destroy:function(){this.element&&lt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(ht,{INPUT_START:Tt,INPUT_MOVE:St,INPUT_END:Et,INPUT_CANCEL:Pt,STATE_POSSIBLE:he,STATE_BEGAN:de,STATE_CHANGED:le,STATE_ENDED:ue,STATE_RECOGNIZED:ce,STATE_CANCELLED:pe,STATE_FAILED:fe,DIRECTION_NONE:It,DIRECTION_LEFT:Nt,DIRECTION_RIGHT:zt,DIRECTION_UP:Lt,DIRECTION_DOWN:At,DIRECTION_HORIZONTAL:Bt,DIRECTION_VERTICAL:Ft,DIRECTION_ALL:Rt,Manager:dt,Input:T,TouchAction:Z,TouchInput:V,MouseInput:W,PointerEventInput:Y,TouchMouseInput:X,SingleTouchInput:G,Recognizer:J,AttrRecognizer:et,Tap:at,Pan:it,Swipe:rt,Pinch:ot,Rotate:st,Press:nt,on:g,off:y,each:l,merge:c,extend:u,inherit:p,bindFn:f,prefixed:M}),"function"==ft&&i(23)?(o=function(){return ht}.call(e,i,e,t),!(o!==a&&(t.exports=o))):"undefined"!=typeof t&&t.exports?t.exports=ht:n[r]=ht}(window,document,"Hammer")},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,i){function o(t,e){var i=a().hours(0).minutes(0).seconds(0).milliseconds(0);this.start=i.clone().add(-3,"days").valueOf(),this.end=i.clone().add(4,"days").valueOf(),this.body=t,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={start:null,end:null,moment:a,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10},this.options=r.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.setOptions(e)}function n(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError('Unknown direction "'+t+'". Choose "horizontal" or "vertical".')}function s(t,e){return{x:t.x-r.getAbsoluteLeft(e),y:t.y-r.getAbsoluteTop(e)}}var r=i(1),a=(i(25),i(2)),h=i(26),d=i(27);o.prototype=new h,o.prototype.setOptions=function(t){if(t){var e=["direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey"];r.selectiveExtend(e,this.options,t),("start"in t||"end"in t)&&this.setRange(t.start,t.end)}},o.prototype.setRange=function(t,e,i,o){o!==!0&&(o=!1);var n=void 0!=t?r.convert(t,"Date").valueOf():null,s=void 0!=e?r.convert(e,"Date").valueOf():null;if(this._cancelAnimation(),i){var a=this,h=this.start,l=this.end,u="object"==typeof i&&"duration"in i?i.duration:500,c="object"==typeof i&&"easingFunction"in i?i.easingFunction:"easeInOutQuad",p=r.easingFunctions[c];if(!p)throw new Error("Unknown easing function "+JSON.stringify(c)+". Choose from: "+Object.keys(r.easingFunctions).join(", "));var f=(new Date).valueOf(),m=!1,v=function b(){if(!a.props.touch.dragging){var t=(new Date).valueOf(),e=t-f,i=p(e/u),r=e>u,c=r||null===n?n:h+(n-h)*i,v=r||null===s?s:l+(s-l)*i;g=a._applyRange(c,v),d.updateHiddenDates(a.options.moment,a.body,a.options.hiddenDates),m=m||g,g&&a.body.emitter.emit("rangechange",{start:new Date(a.start),end:new Date(a.end),byUser:o}),r?m&&a.body.emitter.emit("rangechanged",{start:new Date(a.start),end:new Date(a.end),byUser:o}):a.animationTimer=setTimeout(b,20)}};return v()}var g=this._applyRange(n,s);if(d.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),g){var y={start:new Date(this.start),end:new Date(this.end),byUser:o};this.body.emitter.emit("rangechange",y),this.body.emitter.emit("rangechanged",y)}},o.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},o.prototype._applyRange=function(t,e){var i,o=null!=t?r.convert(t,"Date").valueOf():this.start,n=null!=e?r.convert(e,"Date").valueOf():this.end,s=null!=this.options.max?r.convert(this.options.max,"Date").valueOf():null,a=null!=this.options.min?r.convert(this.options.min,"Date").valueOf():null;if(isNaN(o)||null===o)throw new Error('Invalid start "'+t+'"');if(isNaN(n)||null===n)throw new Error('Invalid end "'+e+'"');if(o>n&&(n=o),null!==a&&a>o&&(i=a-o,o+=i,n+=i,null!=s&&n>s&&(n=s)),null!==s&&n>s&&(i=n-s,o-=i,n-=i,null!=a&&a>o&&(o=a)),null!==this.options.zoomMin){var h=parseFloat(this.options.zoomMin);0>h&&(h=0),h>n-o&&(this.end-this.start===h&&o>this.start&&n<this.end?(o=this.start,n=this.end):(i=h-(n-o),o-=i/2,n+=i/2))}if(null!==this.options.zoomMax){var d=parseFloat(this.options.zoomMax);0>d&&(d=0),n-o>d&&(this.end-this.start===d&&o<this.start&&n>this.end?(o=this.start,n=this.end):(i=n-o-d,o+=i/2,n-=i/2))}var l=this.start!=o||this.end!=n;return o>=this.start&&o<=this.end||n>=this.start&&n<=this.end||this.start>=o&&this.start<=n||this.end>=o&&this.end<=n||this.body.emitter.emit("checkRangedItems"),this.start=o,this.end=n,l},o.prototype.getRange=function(){return{start:this.start,end:this.end}},o.prototype.conversion=function(t,e){return o.conversion(this.start,this.end,t,e)},o.conversion=function(t,e,i,o){return void 0===o&&(o=0),0!=i&&e-t!=0?{offset:t,scale:i/(e-t-o)}:{offset:0,scale:1}},o.prototype._onDragStart=function(t){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(t)&&this.props.touch.allowDragging&&(this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},o.prototype._onDrag=function(t){if(this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var e=this.options.direction;n(e);var i="horizontal"==e?t.deltaX:t.deltaY;i-=this.deltaDifference;var o=this.props.touch.end-this.props.touch.start,s=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);o-=s;var r="horizontal"==e?this.body.domProps.center.width:this.body.domProps.center.height,a=-i/r*o,h=this.props.touch.start+a,l=this.props.touch.end+a,u=d.snapAwayFromHidden(this.body.hiddenDates,h,this.previousDelta-i,!0),c=d.snapAwayFromHidden(this.body.hiddenDates,l,this.previousDelta-i,!0);if(u!=h||c!=l)return this.deltaDifference+=i,this.props.touch.start=u,this.props.touch.end=c,void this._onDrag(t);this.previousDelta=i,this._applyRange(h,l),this.body.emitter.emit("rangechange",{start:new Date(this.start),end:new Date(this.end),byUser:!0})}},o.prototype._onDragEnd=function(t){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0}))},o.prototype._onMouseWheel=function(t){if(this.options.zoomable&&this.options.moveable&&this._isInsideRange(t)&&(!this.options.zoomKey||t[this.options.zoomKey])){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){var i;i=0>e?1-e/5:1/(1+e/5);var o=s({x:t.clientX,y:t.clientY},this.body.dom.center),n=this._pointerToDate(o);this.zoom(i,n,e)}t.preventDefault()}},o.prototype._onTouch=function(t){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0},o.prototype._onPinch=function(t){if(this.options.zoomable&&this.options.moveable){this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=s(t.center,this.body.dom.center));var e=1/(t.scale+this.scaleOffset),i=this._pointerToDate(this.props.touch.center),o=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),n=d.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,i),r=o-n,a=i-n+(this.props.touch.start-(i-n))*e,h=i+r+(this.props.touch.end-(i+r))*e;this.startToFront=0>=1-e,this.endToFront=0>=e-1;var l=d.snapAwayFromHidden(this.body.hiddenDates,a,1-e,!0),u=d.snapAwayFromHidden(this.body.hiddenDates,h,e-1,!0);(l!=a||u!=h)&&(this.props.touch.start=l,this.props.touch.end=u,this.scaleOffset=1-t.scale,a=l,h=u),this.setRange(a,h,!1,!0),this.startToFront=!1,this.endToFront=!0}},o.prototype._isInsideRange=function(t){var e=t.center?t.center.x:t.clientX,i=e-r.getAbsoluteLeft(this.body.dom.centerContainer),o=this.body.util.toTime(i);return o>=this.start&&o<=this.end},o.prototype._pointerToDate=function(t){var e,i=this.options.direction;if(n(i),"horizontal"==i)return this.body.util.toTime(t.x).valueOf();var o=this.body.domProps.center.height;return e=this.conversion(o),t.y/e.scale+e.offset},o.prototype.zoom=function(t,e,i){null==e&&(e=(this.start+this.end)/2);var o=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),n=d.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,e),s=o-n,r=e-n+(this.start-(e-n))*t,a=e+s+(this.end-(e+s))*t;this.startToFront=i>0?!1:!0,this.endToFront=-i>0?!1:!0;var h=d.snapAwayFromHidden(this.body.hiddenDates,r,i,!0),l=d.snapAwayFromHidden(this.body.hiddenDates,a,-i,!0);(h!=r||l!=a)&&(r=h,a=l),this.setRange(r,a,!1,!0),this.startToFront=!1,this.endToFront=!0},o.prototype.move=function(t){var e=this.end-this.start,i=this.start+e*t,o=this.end+e*t;this.start=i,this.end=o},o.prototype.moveTo=function(t){var e=(this.start+this.end)/2,i=e-t,o=this.start-i,n=this.end-i;this.setRange(o,n)},t.exports=o},function(t,e,i){i(20);e.onTouch=function(t,e){e.inputHandler=function(t){t.isFirst&&!o&&(e(t),o=!0,setTimeout(function(){o=!1},0))},t.on("hammer.input",e.inputHandler)};var o=!1;e.onRelease=function(t,e){return e.inputHandler=function(t){t.isFinal&&!n&&(e(t),n=!0,setTimeout(function(){n=!1},0))},t.on("hammer.input",e.inputHandler)};var n=!1;e.offTouch=function(t,e){t.off("hammer.input",e.inputHandler)},e.offRelease=e.offTouch},function(t,e){function i(t,e){this.options=null,this.props=null}i.prototype.setOptions=function(t){t&&util.extend(this.options,t)},i.prototype.redraw=function(){return!1},i.prototype.destroy=function(){},i.prototype._isResized=function(){var t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,t},t.exports=i},function(t,e){e.convertHiddenOptions=function(t,i,o){if(o&&!Array.isArray(o))return e.convertHiddenOptions(t,i,[o]);if(i.hiddenDates=[],o&&1==Array.isArray(o)){for(var n=0;n<o.length;n++)if(void 0===o[n].repeat){var s={};s.start=t(o[n].start).toDate().valueOf(),s.end=t(o[n].end).toDate().valueOf(),i.hiddenDates.push(s)}i.hiddenDates.sort(function(t,e){return t.start-e.start})}},e.updateHiddenDates=function(t,i,o){if(o&&!Array.isArray(o))return e.updateHiddenDates(t,i,[o]);if(o&&void 0!==i.domProps.centerContainer.width){e.convertHiddenOptions(t,i,o);for(var n=t(i.range.start),s=t(i.range.end),r=i.range.end-i.range.start,a=r/i.domProps.centerContainer.width,h=0;h<o.length;h++)if(void 0!==o[h].repeat){var d=t(o[h].start),l=t(o[h].end);if("Invalid Date"==d._d)throw new Error("Supplied start date is not valid: "+o[h].start);if("Invalid Date"==l._d)throw new Error("Supplied end date is not valid: "+o[h].end);var u=l-d;if(u>=4*a){var c=0,p=s.clone();switch(o[h].repeat){case"daily":d.day()!=l.day()&&(c=1),d.dayOfYear(n.dayOfYear()),d.year(n.year()),d.subtract(7,"days"),l.dayOfYear(n.dayOfYear()),l.year(n.year()),l.subtract(7-c,"days"),p.add(1,"weeks");break;case"weekly":var f=l.diff(d,"days"),m=d.day();d.date(n.date()),d.month(n.month()),d.year(n.year()),l=d.clone(),d.day(m),l.day(m),l.add(f,"days"),d.subtract(1,"weeks"),l.subtract(1,"weeks"),p.add(1,"weeks");break;case"monthly":d.month()!=l.month()&&(c=1),d.month(n.month()),d.year(n.year()),d.subtract(1,"months"),l.month(n.month()),l.year(n.year()),l.subtract(1,"months"),l.add(c,"months"),p.add(1,"months");break;case"yearly":d.year()!=l.year()&&(c=1),d.year(n.year()),d.subtract(1,"years"),l.year(n.year()),l.subtract(1,"years"),l.add(c,"years"),p.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",o[h].repeat)}for(;p>d;)switch(i.hiddenDates.push({start:d.valueOf(),end:l.valueOf()}),o[h].repeat){case"daily":d.add(1,"days"),l.add(1,"days");break;case"weekly":d.add(1,"weeks"),l.add(1,"weeks");break;case"monthly":d.add(1,"months"),l.add(1,"months");break;case"yearly":d.add(1,"y"),l.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",o[h].repeat)}i.hiddenDates.push({start:d.valueOf(),end:l.valueOf()})}}e.removeDuplicates(i);var v=e.isHidden(i.range.start,i.hiddenDates),g=e.isHidden(i.range.end,i.hiddenDates),y=i.range.start,b=i.range.end;1==v.hidden&&(y=1==i.range.startToFront?v.startDate-1:v.endDate+1),1==g.hidden&&(b=1==i.range.endToFront?g.startDate-1:g.endDate+1),(1==v.hidden||1==g.hidden)&&i.range._applyRange(y,b)}},e.removeDuplicates=function(t){for(var e=t.hiddenDates,i=[],o=0;o<e.length;o++)for(var n=0;n<e.length;n++)o!=n&&1!=e[n].remove&&1!=e[o].remove&&(e[n].start>=e[o].start&&e[n].end<=e[o].end?e[n].remove=!0:e[n].start>=e[o].start&&e[n].start<=e[o].end?(e[o].end=e[n].end,e[n].remove=!0):e[n].end>=e[o].start&&e[n].end<=e[o].end&&(e[o].start=e[n].start,e[n].remove=!0));for(var o=0;o<e.length;o++)e[o].remove!==!0&&i.push(e[o]);t.hiddenDates=i,t.hiddenDates.sort(function(t,e){return t.start-e.start})},e.printDates=function(t){for(var e=0;e<t.length;e++)console.log(e,new Date(t[e].start),new Date(t[e].end),t[e].start,t[e].end,t[e].remove)},e.stepOverHiddenDates=function(t,e,i){for(var o=!1,n=e.current.valueOf(),s=0;s<e.hiddenDates.length;s++){var r=e.hiddenDates[s].start,a=e.hiddenDates[s].end;if(n>=r&&a>n){o=!0;break}}if(1==o&&n<e._end.valueOf()&&n!=i){var h=t(i),d=t(a);h.year()!=d.year()?e.switchedYear=!0:h.month()!=d.month()?e.switchedMonth=!0:h.dayOfYear()!=d.dayOfYear()&&(e.switchedDay=!0),e.current=d}},e.toScreen=function(t,i,o){if(0==t.body.hiddenDates.length){var n=t.range.conversion(o);return(i.valueOf()-n.offset)*n.scale}var s=e.isHidden(i,t.body.hiddenDates);1==s.hidden&&(i=s.startDate);var r=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end);i=e.correctTimeForHidden(t.options.moment,t.body.hiddenDates,t.range,i);var n=t.range.conversion(o,r);return(i.valueOf()-n.offset)*n.scale},e.toTime=function(t,i,o){if(0==t.body.hiddenDates.length){var n=t.range.conversion(o);return new Date(i/n.scale+n.offset)}var s=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end),r=t.range.end-t.range.start-s,a=r*i/o,h=e.getAccumulatedHiddenDuration(t.body.hiddenDates,t.range,a),d=new Date(h+a+t.range.start);return d},e.getHiddenDurationBetween=function(t,e,i){for(var o=0,n=0;n<t.length;n++){var s=t[n].start,r=t[n].end;s>=e&&i>r&&(o+=r-s)}return o},e.correctTimeForHidden=function(t,i,o,n){return n=t(n).toDate().valueOf(),n-=e.getHiddenDurationBefore(t,i,o,n)},e.getHiddenDurationBefore=function(t,e,i,o){var n=0;o=t(o).toDate().valueOf();for(var s=0;s<e.length;s++){var r=e[s].start,a=e[s].end;r>=i.start&&a<i.end&&o>=a&&(n+=a-r)}return n},e.getAccumulatedHiddenDuration=function(t,e,i){for(var o=0,n=0,s=e.start,r=0;r<t.length;r++){var a=t[r].start,h=t[r].end;if(a>=e.start&&h<e.end){if(n+=a-s,s=h,n>=i)break;o+=h-a}}return o},e.snapAwayFromHidden=function(t,i,o,n){var s=e.isHidden(i,t);return 1==s.hidden?0>o?1==n?s.startDate-(s.endDate-i)-1:s.startDate-1:1==n?s.endDate+(i-s.startDate)+1:s.endDate+1:i},e.isHidden=function(t,e){for(var i=0;i<e.length;i++){var o=e[i].start,n=e[i].end;if(t>=o&&n>t)return{hidden:!0,startDate:o,endDate:n}}return{hidden:!1,startDate:o,endDate:n}}},function(t,e,i){function o(){}var n=i(12),s=i(20),r=i(25),a=i(1),h=(i(8),i(10),i(24),i(29),i(39)),d=i(40),l=i(27),u=i(42);n(o.prototype),o.prototype._create=function(t){function e(t){i.isActive()&&i.emit("mousewheel",t)}this.dom={},this.dom.container=t,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.on("rangechange",function(){this._redraw()}.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("pan",this._onDrag.bind(this));var i=this;this.on("change",function(t){t&&1==t.queue?i._redrawTimer||(i._redrawTimer=setTimeout(function(){i._redrawTimer=null,i._redraw()},0)):i._redraw()}),this.hammer=new s(this.dom.root),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:30}),this.listeners={};var o=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];if(o.forEach(function(t){var e=function(e){i.isActive()&&i.emit(t,e)};i.hammer.on(t,e),i.listeners[t]=e}),r.onTouch(this.hammer,function(t){i.emit("touch",t)}.bind(this)),r.onRelease(this.hammer,function(t){i.emit("release",t)}.bind(this)),this.dom.root.addEventListener("mousewheel",e),this.dom.root.addEventListener("DOMMouseScroll",e),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.customTimes=[],this.touch={},this.redrawCount=0,!t)throw new Error("No container provided");t.appendChild(this.dom.root)},o.prototype.setOptions=function(t){if(t){var e=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","throttleRedraw"];if(a.selectiveExtend(e,this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation={item:t.orientation,axis:t.orientation}:"object"==typeof t.orientation&&("item"in t.orientation&&(this.options.orientation.item=t.orientation.item),"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var i=this.timeAxis2=new h(this.body);i.setOptions=function(t){var e=t?a.extend({},t):{};e.orientation="top",h.prototype.setOptions.call(i,e)},this.components.push(i)}}else if(this.timeAxis2){var o=this.components.indexOf(this.timeAxis2);-1!==o&&this.components.splice(o,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),"hiddenDates"in this.options&&l.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in t&&(t.clickToUse?this.activator||(this.activator=new d(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in t)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach(function(e){return e.setOptions(t)}),"configure"in t){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(t.configure);var n=a.deepExtend({},this.options);this.components.forEach(function(t){a.deepExtend(n,t.options)}),this.configurator.setModuleOptions({global:n})}this._origRedraw||(this._origRedraw=this._redraw.bind(this)),this._redraw=a.throttle(this._origRedraw,this.options.throttleRedraw),this._redraw()},o.prototype.isActive=function(){return!this.activator||this.activator.active},o.prototype.destroy=function(){this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(var t in this.listeners)this.listeners.hasOwnProperty(t)&&delete this.listeners[t];this.listeners=null,this.hammer=null,this.components.forEach(function(t){return t.destroy()}),this.body=null},o.prototype.setCustomTime=function(t,e){var i=this.customTimes.filter(function(t){return e===t.options.id});if(0===i.length)throw new Error("No custom time bar found with id "+JSON.stringify(e));i.length>0&&i[0].setCustomTime(t)},o.prototype.getCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+JSON.stringify(t));return e[0].getCustomTime()},o.prototype.setCustomTimeTitle=function(t,e){var i=this.customTimes.filter(function(t){return t.options.id===e});if(0===i.length)throw new Error("No custom time bar found with id "+JSON.stringify(e));return i.length>0?i[0].setCustomTitle(t):void 0},o.prototype.getEventProperties=function(t){
return{event:t}},o.prototype.addCustomTime=function(t,e){var i=void 0!==t?a.convert(t,"Date").valueOf():new Date,o=this.customTimes.some(function(t){return t.options.id===e});if(o)throw new Error("A custom time with id "+JSON.stringify(e)+" already exists");var n=new u(this.body,a.extend({},this.options,{time:i,id:e}));return this.customTimes.push(n),this.components.push(n),this._redraw(),e},o.prototype.removeCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+JSON.stringify(t));e.forEach(function(t){this.customTimes.splice(this.customTimes.indexOf(t),1),this.components.splice(this.components.indexOf(t),1),t.destroy()}.bind(this))},o.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},o.prototype.fit=function(t){var e=this.getDataRange();if(null!==e.min||null!==e.max){var i=e.max-e.min,o=new Date(e.min.valueOf()-.01*i),n=new Date(e.max.valueOf()+.01*i),s=t&&void 0!==t.animation?t.animation:!0;this.range.setRange(o,n,s)}},o.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},o.prototype.setWindow=function(t,e,i){var o;if(1==arguments.length){var n=arguments[0];o=void 0!==n.animation?n.animation:!0,this.range.setRange(n.start,n.end,o)}else o=i&&void 0!==i.animation?i.animation:!0,this.range.setRange(t,e,o)},o.prototype.moveTo=function(t,e){var i=this.range.end-this.range.start,o=a.convert(t,"Date").valueOf(),n=o-i/2,s=o+i/2,r=e&&void 0!==e.animation?e.animation:!0;this.range.setRange(n,s,r)},o.prototype.getWindow=function(){var t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}},o.prototype.redraw=function(){this._redraw()},o.prototype._redraw=function(){var t=!1,e=this.options,i=this.props,o=this.dom;if(o){l.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==e.orientation?(a.addClassName(o.root,"vis-top"),a.removeClassName(o.root,"vis-bottom")):(a.removeClassName(o.root,"vis-top"),a.addClassName(o.root,"vis-bottom")),o.root.style.maxHeight=a.option.asSize(e.maxHeight,""),o.root.style.minHeight=a.option.asSize(e.minHeight,""),o.root.style.width=a.option.asSize(e.width,""),i.border.left=(o.centerContainer.offsetWidth-o.centerContainer.clientWidth)/2,i.border.right=i.border.left,i.border.top=(o.centerContainer.offsetHeight-o.centerContainer.clientHeight)/2,i.border.bottom=i.border.top;var n=o.root.offsetHeight-o.root.clientHeight,s=o.root.offsetWidth-o.root.clientWidth;0===o.centerContainer.clientHeight&&(i.border.left=i.border.top,i.border.right=i.border.left),0===o.root.clientHeight&&(s=n),i.center.height=o.center.offsetHeight,i.left.height=o.left.offsetHeight,i.right.height=o.right.offsetHeight,i.top.height=o.top.clientHeight||-i.border.top,i.bottom.height=o.bottom.clientHeight||-i.border.bottom;var r=Math.max(i.left.height,i.center.height,i.right.height),h=i.top.height+r+i.bottom.height+n+i.border.top+i.border.bottom;o.root.style.height=a.option.asSize(e.height,h+"px"),i.root.height=o.root.offsetHeight,i.background.height=i.root.height-n;var d=i.root.height-i.top.height-i.bottom.height-n;i.centerContainer.height=d,i.leftContainer.height=d,i.rightContainer.height=i.leftContainer.height,i.root.width=o.root.offsetWidth,i.background.width=i.root.width-s,i.left.width=o.leftContainer.clientWidth||-i.border.left,i.leftContainer.width=i.left.width,i.right.width=o.rightContainer.clientWidth||-i.border.right,i.rightContainer.width=i.right.width;var u=i.root.width-i.left.width-i.right.width-s;i.center.width=u,i.centerContainer.width=u,i.top.width=u,i.bottom.width=u,o.background.style.height=i.background.height+"px",o.backgroundVertical.style.height=i.background.height+"px",o.backgroundHorizontal.style.height=i.centerContainer.height+"px",o.centerContainer.style.height=i.centerContainer.height+"px",o.leftContainer.style.height=i.leftContainer.height+"px",o.rightContainer.style.height=i.rightContainer.height+"px",o.background.style.width=i.background.width+"px",o.backgroundVertical.style.width=i.centerContainer.width+"px",o.backgroundHorizontal.style.width=i.background.width+"px",o.centerContainer.style.width=i.center.width+"px",o.top.style.width=i.top.width+"px",o.bottom.style.width=i.bottom.width+"px",o.background.style.left="0",o.background.style.top="0",o.backgroundVertical.style.left=i.left.width+i.border.left+"px",o.backgroundVertical.style.top="0",o.backgroundHorizontal.style.left="0",o.backgroundHorizontal.style.top=i.top.height+"px",o.centerContainer.style.left=i.left.width+"px",o.centerContainer.style.top=i.top.height+"px",o.leftContainer.style.left="0",o.leftContainer.style.top=i.top.height+"px",o.rightContainer.style.left=i.left.width+i.center.width+"px",o.rightContainer.style.top=i.top.height+"px",o.top.style.left=i.left.width+"px",o.top.style.top="0",o.bottom.style.left=i.left.width+"px",o.bottom.style.top=i.top.height+i.centerContainer.height+"px",this._updateScrollTop();var c=this.props.scrollTop;"top"!=e.orientation.item&&(c+=Math.max(this.props.centerContainer.height-this.props.center.height-this.props.border.top-this.props.border.bottom,0)),o.center.style.left="0",o.center.style.top=c+"px",o.left.style.left="0",o.left.style.top=c+"px",o.right.style.left="0",o.right.style.top=c+"px";var p=0==this.props.scrollTop?"hidden":"",f=this.props.scrollTop==this.props.scrollTopMin?"hidden":"";if(o.shadowTop.style.visibility=p,o.shadowBottom.style.visibility=f,o.shadowTopLeft.style.visibility=p,o.shadowBottomLeft.style.visibility=f,o.shadowTopRight.style.visibility=p,o.shadowBottomRight.style.visibility=f,this.components.forEach(function(e){t=e.redraw()||t}),t){var m=3;this.redrawCount<m?(this.redrawCount++,this._redraw()):console.log("WARNING: infinite loop in redraw?"),this.redrawCount=0}}},o.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},o.prototype.setCurrentTime=function(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)},o.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},o.prototype._toTime=function(t){return l.toTime(this,t,this.props.center.width)},o.prototype._toGlobalTime=function(t){return l.toTime(this,t,this.props.root.width)},o.prototype._toScreen=function(t){return l.toScreen(this,t,this.props.center.width)},o.prototype._toGlobalScreen=function(t){return l.toScreen(this,t,this.props.root.width)},o.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},o.prototype._startAutoResize=function(){var t=this;this._stopAutoResize(),this._onResize=function(){return 1!=t.options.autoResize?void t._stopAutoResize():void(t.dom.root&&(t.dom.root.offsetWidth!=t.props.lastWidth||t.dom.root.offsetHeight!=t.props.lastHeight)&&(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight,t.emit("change")))},a.addEventListener(window,"resize",this._onResize),this.watchTimer=setInterval(this._onResize,1e3)},o.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(a.removeEventListener(window,"resize",this._onResize),this._onResize=null)},o.prototype._onTouch=function(t){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},o.prototype._onPinch=function(t){this.touch.allowDragging=!1},o.prototype._onDrag=function(t){if(this.touch.allowDragging){var e=t.deltaY,i=this._getScrollTop(),o=this._setScrollTop(this.touch.initialScrollTop+e);o!=i&&(this._redraw(),this.emit("verticalDrag"))}},o.prototype._setScrollTop=function(t){return this.props.scrollTop=t,this._updateScrollTop(),this.props.scrollTop},o.prototype._updateScrollTop=function(){var t=Math.min(this.props.centerContainer.height-this.props.center.height,0);return t!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=t-this.props.scrollTopMin),this.props.scrollTopMin=t),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<t&&(this.props.scrollTop=t),this.props.scrollTop},o.prototype._getScrollTop=function(){return this.props.scrollTop},o.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},t.exports=o},function(t,e,i){function o(t,e){this.body=t,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,groupOrderSwap:function(t,e,i){var o=e.order;e.order=t.order,t.order=o},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:!1,editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:h.snap,onAdd:function(t,e){e(t)},onUpdate:function(t,e){e(t)},onMove:function(t,e){e(t)},onRemove:function(t,e){e(t)},onMoving:function(t,e){e(t)},onAddGroup:function(t,e){e(t)},onMoveGroup:function(t,e){e(t)},onRemoveGroup:function(t,e){e(t)},margin:{item:{horizontal:10,vertical:10},axis:20}},this.options=s.extend({},this.defaultOptions),this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime},this.dom={},this.props={},this.hammer=null;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,o){i._onAdd(e.items)},update:function(t,e,o){i._onUpdate(e.items)},remove:function(t,e,o){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,o){i._onAddGroups(e.items)},update:function(t,e,o){i._onUpdateGroups(e.items)},remove:function(t,e,o){i._onRemoveGroups(e.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.stackDirty=!0,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(e)}var n=i(20),s=i(1),r=i(8),a=i(10),h=i(30),d=i(26),l=i(31),u=i(35),c=i(36),p=i(37),f=i(33),m=i(38),v="__ungrouped__",g="__background__";o.prototype=new d,o.types={background:m,box:c,range:f,point:p},o.prototype._create=function(){var t=document.createElement("div");t.className="vis-itemset",t["timeline-itemset"]=this,this.dom.frame=t;var e=document.createElement("div");e.className="vis-background",t.appendChild(e),this.dom.background=e;var i=document.createElement("div");i.className="vis-foreground",t.appendChild(i),this.dom.foreground=i;var o=document.createElement("div");o.className="vis-axis",this.dom.axis=o;var s=document.createElement("div");s.className="vis-labelset",this.dom.labelSet=s,this._updateUngrouped();var r=new u(g,null,this);r.show(),this.groups[g]=r,this.hammer=new n(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(t){t.isFirst&&this._onTouch(t)}.bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:30}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.groupHammer=new n(this.body.dom.leftContainer),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:30}),this.show()},o.prototype.setOptions=function(t){if(t){var e=["type","align","order","stack","selectable","multiselect","itemsAlwaysDraggable","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","hide","snap","groupOrderSwap"];s.selectiveExtend(e,this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.item="top"===t.orientation?"top":"bottom":"object"==typeof t.orientation&&"item"in t.orientation&&(this.options.orientation.item=t.orientation.item)),"margin"in t&&("number"==typeof t.margin?(this.options.margin.axis=t.margin,this.options.margin.item.horizontal=t.margin,this.options.margin.item.vertical=t.margin):"object"==typeof t.margin&&(s.selectiveExtend(["axis"],this.options.margin,t.margin),"item"in t.margin&&("number"==typeof t.margin.item?(this.options.margin.item.horizontal=t.margin.item,this.options.margin.item.vertical=t.margin.item):"object"==typeof t.margin.item&&s.selectiveExtend(["horizontal","vertical"],this.options.margin.item,t.margin.item)))),"editable"in t&&("boolean"==typeof t.editable?(this.options.editable.updateTime=t.editable,this.options.editable.updateGroup=t.editable,this.options.editable.add=t.editable,this.options.editable.remove=t.editable):"object"==typeof t.editable&&s.selectiveExtend(["updateTime","updateGroup","add","remove"],this.options.editable,t.editable)),"groupEditable"in t&&("boolean"==typeof t.groupEditable?(this.options.groupEditable.order=t.groupEditable,this.options.groupEditable.add=t.groupEditable,this.options.groupEditable.remove=t.groupEditable):"object"==typeof t.groupEditable&&s.selectiveExtend(["order","add","remove"],this.options.groupEditable,t.groupEditable));var i=function(e){var i=t[e];if(i){if(!(i instanceof Function))throw new Error("option "+e+" must be a function "+e+"(item, callback)");this.options[e]=i}}.bind(this);["onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(i),this.markDirty()}},o.prototype.markDirty=function(t){this.groupIds=[],this.stackDirty=!0,t&&t.refreshItems&&s.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()})},o.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},o.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},o.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||this.body.dom.left.appendChild(this.dom.labelSet)},o.prototype.setSelection=function(t){var e,i,o,n;for(void 0==t&&(t=[]),Array.isArray(t)||(t=[t]),e=0,i=this.selection.length;i>e;e++)o=this.selection[e],n=this.items[o],n&&n.unselect();for(this.selection=[],e=0,i=t.length;i>e;e++)o=t[e],n=this.items[o],n&&(this.selection.push(o),n.select())},o.prototype.getSelection=function(){return this.selection.concat([])},o.prototype.getVisibleItems=function(){var t=this.body.range.getRange(),e=this.body.util.toScreen(t.start),i=this.body.util.toScreen(t.end),o=[];for(var n in this.groups)if(this.groups.hasOwnProperty(n))for(var s=this.groups[n],r=s.visibleItems,a=0;a<r.length;a++){var h=r[a];h.left<i&&h.left+h.width>e&&o.push(h.id)}return o},o.prototype._deselect=function(t){for(var e=this.selection,i=0,o=e.length;o>i;i++)if(e[i]==t){e.splice(i,1);break}},o.prototype.redraw=function(){var t=this.options.margin,e=this.body.range,i=s.option.asSize,o=this.options,n=o.orientation.item,r=!1,a=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,a.className="vis-itemset",r=this._orderGroups()||r;var h=e.end-e.start,d=h!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth;d&&(this.stackDirty=!0),this.lastVisibleInterval=h,this.props.lastWidth=this.props.width;var l=this.stackDirty,u=this._firstGroup(),c={item:t.item,axis:t.axis},p={item:t.item,axis:t.item.vertical/2},f=0,m=t.axis+t.item.vertical;return this.groups[g].redraw(e,p,l),s.forEach(this.groups,function(t){var i=t==u?c:p,o=t.redraw(e,i,l);r=o||r,f+=t.height}),f=Math.max(f,m),this.stackDirty=!1,a.style.height=i(f),this.props.width=a.offsetWidth,this.props.height=f,this.dom.axis.style.top=i("top"==n?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.dom.axis.style.left="0",r=this._isResized()||r},o.prototype._firstGroup=function(){var t="top"==this.options.orientation.item?0:this.groupIds.length-1,e=this.groupIds[t],i=this.groups[e]||this.groups[v];return i||null},o.prototype._updateUngrouped=function(){var t,e,i=this.groups[v];this.groups[g];if(this.groupsData){if(i){i.hide(),delete this.groups[v];for(e in this.items)if(this.items.hasOwnProperty(e)){t=this.items[e],t.parent&&t.parent.remove(t);var o=this._getGroupId(t.data),n=this.groups[o];n&&n.add(t)||t.hide()}}}else if(!i){var s=null,r=null;i=new l(s,r,this),this.groups[v]=i;for(e in this.items)this.items.hasOwnProperty(e)&&(t=this.items[e],i.add(t));i.show()}},o.prototype.getLabelSet=function(){return this.dom.labelSet},o.prototype.setItems=function(t){var e,i=this,o=this.itemsData;if(t){if(!(t instanceof r||t instanceof a))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(o&&(s.forEach(this.itemListeners,function(t,e){o.off(e,t)}),e=o.getIds(),this._onRemove(e)),this.itemsData){var n=this.id;s.forEach(this.itemListeners,function(t,e){i.itemsData.on(e,t,n)}),e=this.itemsData.getIds(),this._onAdd(e),this._updateUngrouped()}},o.prototype.getItems=function(){return this.itemsData},o.prototype.setGroups=function(t){var e,i=this;if(this.groupsData&&(s.forEach(this.groupListeners,function(t,e){i.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e)),t){if(!(t instanceof r||t instanceof a))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var o=this.id;s.forEach(this.groupListeners,function(t,e){i.groupsData.on(e,t,o)}),e=this.groupsData.getIds(),this._onAddGroups(e)}this._updateUngrouped(),this._order(),this.body.emitter.emit("change",{queue:!0})},o.prototype.getGroups=function(){return this.groupsData},o.prototype.removeItem=function(t){var e=this.itemsData.get(t),i=this.itemsData.getDataSet();e&&this.options.onRemove(e,function(e){e&&i.remove(t)})},o.prototype._getType=function(t){return t.type||this.options.type||(t.end?"range":"box")},o.prototype._getGroupId=function(t){var e=this._getType(t);return"background"==e&&void 0==t.group?g:this.groupsData?t.group:v},o.prototype._onUpdate=function(t){var e=this;t.forEach(function(t){var i,n=e.itemsData.get(t,e.itemOptions),s=e.items[t],r=e._getType(n),a=o.types[r];if(s&&(a&&s instanceof a?e._updateItem(s,n):(i=s.selected,e._removeItem(s),s=null)),!s){if(!a)throw"rangeoverflow"==r?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+r+'"');s=new a(n,e.conversion,e.options),s.id=t,e._addItem(s),i&&(this.selection.push(t),s.select())}}.bind(this)),this._order(),this.stackDirty=!0,this.body.emitter.emit("change",{queue:!0})},o.prototype._onAdd=o.prototype._onUpdate,o.prototype._onRemove=function(t){var e=0,i=this;t.forEach(function(t){var o=i.items[t];o&&(e++,i._removeItem(o))}),e&&(this._order(),this.stackDirty=!0,this.body.emitter.emit("change",{queue:!0}))},o.prototype._order=function(){s.forEach(this.groups,function(t){t.order()})},o.prototype._onUpdateGroups=function(t){this._onAddGroups(t)},o.prototype._onAddGroups=function(t){var e=this;t.forEach(function(t){var i=e.groupsData.get(t),o=e.groups[t];if(o)o.setData(i);else{if(t==v||t==g)throw new Error("Illegal group id. "+t+" is a reserved id.");var n=Object.create(e.options);s.extend(n,{height:null}),o=new l(t,i,e),e.groups[t]=o;for(var r in e.items)if(e.items.hasOwnProperty(r)){var a=e.items[r];a.data.group==t&&o.add(a)}o.order(),o.show()}}),this.body.emitter.emit("change",{queue:!0})},o.prototype._onRemoveGroups=function(t){var e=this.groups;t.forEach(function(t){var i=e[t];i&&(i.hide(),delete e[t])}),this.markDirty(),this.body.emitter.emit("change",{queue:!0})},o.prototype._orderGroups=function(){if(this.groupsData){var t=this.groupsData.getIds({order:this.options.groupOrder}),e=!s.equalArray(t,this.groupIds);if(e){var i=this.groups;t.forEach(function(t){i[t].hide()}),t.forEach(function(t){i[t].show()}),this.groupIds=t}return e}return!1},o.prototype._addItem=function(t){this.items[t.id]=t;var e=this._getGroupId(t.data),i=this.groups[e];i&&i.add(t)},o.prototype._updateItem=function(t,e){var i=t.data.group,o=t.data.subgroup;if(t.setData(e),i!=t.data.group||o!=t.data.subgroup){var n=this.groups[i];n&&n.remove(t);var s=this._getGroupId(t.data),r=this.groups[s];r&&r.add(t)}},o.prototype._removeItem=function(t){t.hide(),delete this.items[t.id];var e=this.selection.indexOf(t.id);-1!=e&&this.selection.splice(e,1),t.parent&&t.parent.remove(t)},o.prototype._constructByEndArray=function(t){for(var e=[],i=0;i<t.length;i++)t[i]instanceof f&&e.push(t[i]);return e},o.prototype._onTouch=function(t){this.touchParams.item=this.itemFromTarget(t),this.touchParams.dragLeftItem=t.target.dragLeftItem||!1,this.touchParams.dragRightItem=t.target.dragRightItem||!1,this.touchParams.itemProps=null},o.prototype._getGroupIndex=function(t){for(var e=0;e<this.groupIds.length;e++)if(t==this.groupIds[e])return e},o.prototype._onDragStart=function(t){var e,i=this.touchParams.item||null,o=this;if(i&&(i.selected||this.options.itemsAlwaysDraggable)){if(!this.options.editable.updateTime&&!this.options.editable.updateGroup&&!i.editable)return;if(i.editable===!1)return;var n=this.touchParams.dragLeftItem,s=this.touchParams.dragRightItem;if(n)e={item:n,initialX:t.center.x,dragLeft:!0,data:this._cloneItemData(i.data)},this.touchParams.itemProps=[e];else if(s)e={item:s,initialX:t.center.x,dragRight:!0,data:this._cloneItemData(i.data)},this.touchParams.itemProps=[e];else{this.touchParams.selectedItem=i;var r=this._getGroupIndex(i.data.group),a=this.options.itemsAlwaysDraggable&&!i.selected?[i.id]:this.getSelection();this.touchParams.itemProps=a.map(function(e){var i=o.items[e],n=o._getGroupIndex(i.data.group);return{item:i,initialX:t.center.x,groupOffset:r-n,data:this._cloneItemData(i.data)}}.bind(this))}t.stopPropagation()}else this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey)&&this._onDragStartAddItem(t)},o.prototype._onDragStartAddItem=function(t){var e=this.options.snap||null,i=s.getAbsoluteLeft(this.dom.frame),o=t.center.x-i-10,n=this.body.util.toTime(o),r=this.body.util.getScale(),a=this.body.util.getStep(),h=e?e(n,r,a):n,d=h,l={type:"range",start:h,end:d,content:"new item"},u=s.randomUUID();l[this.itemsData._fieldId]=u;var c=this.groupFromTarget(t);c&&(l.group=c.groupId);var p=new f(l,this.conversion,this.options);p.id=u,p.data=this._cloneItemData(l),this._addItem(p);var m={item:p,dragRight:!0,initialX:t.center.x,data:p.data};this.touchParams.itemProps=[m],t.stopPropagation()},o.prototype._onDrag=function(t){if(this.touchParams.itemProps){t.stopPropagation();var e=this,i=this.options.snap||null,o=this.body.dom.root.offsetLeft+this.body.domProps.left.width,n=this.body.util.getScale(),r=this.body.util.getStep(),a=this.touchParams.selectedItem,h=e.options.editable.updateGroup,d=null;if(h&&a&&void 0!=a.data.group){var l=e.groupFromTarget(t);l&&(d=this._getGroupIndex(l.groupId))}this.touchParams.itemProps.forEach(function(a){var h=e.body.util.toTime(t.center.x-o),l=e.body.util.toTime(a.initialX-o),u=h-l,c=this._cloneItemData(a.item.data);if(a.item.editable!==!1){var p=e.options.editable.updateTime||a.item.editable===!0;if(p)if(a.dragLeft){if(void 0!=c.start){var f=s.convert(a.data.start,"Date"),m=new Date(f.valueOf()+u);c.start=i?i(m,n,r):m}}else if(a.dragRight){if(void 0!=c.end){var v=s.convert(a.data.end,"Date"),g=new Date(v.valueOf()+u);c.end=i?i(g,n,r):g}}else if(void 0!=c.start){var f=s.convert(a.data.start,"Date").valueOf(),m=new Date(f+u);if(void 0!=c.end){var v=s.convert(a.data.end,"Date"),y=v.valueOf()-f.valueOf();c.start=i?i(m,n,r):m,c.end=new Date(c.start.valueOf()+y)}else c.start=i?i(m,n,r):m}var b=e.options.editable.updateGroup||a.item.editable===!0;if(b&&!a.dragLeft&&!a.dragRight&&null!=d&&void 0!=c.group){var w=d-a.groupOffset;w=Math.max(0,w),w=Math.min(e.groupIds.length-1,w),c.group=e.groupIds[w]}c=this._cloneItemData(c),e.options.onMoving(c,function(t){t&&a.item.setData(this._cloneItemData(t,"Date"))}.bind(this))}}.bind(this)),this.stackDirty=!0,this.body.emitter.emit("change")}},o.prototype._moveToGroup=function(t,e){var i=this.groups[e];if(i&&i.groupId!=t.data.group){var o=t.parent;o.remove(t),o.order(),i.add(t),i.order(),t.data.group=i.groupId}},o.prototype._onDragEnd=function(t){if(this.touchParams.itemProps){t.stopPropagation();var e=this,i=this.itemsData.getDataSet(),o=this.touchParams.itemProps;this.touchParams.itemProps=null,o.forEach(function(t){var o=t.item.id,n=null!=e.itemsData.get(o,e.itemOptions);if(n){var s=this._cloneItemData(t.item.data);e.options.onMove(s,function(n){n?(n[i._fieldId]=o,i.update(n)):(t.item.setData(t.data),e.stackDirty=!0,e.body.emitter.emit("change"))})}else e.options.onAdd(t.item.data,function(i){e._removeItem(t.item),i&&e.itemsData.getDataSet().add(i),e.stackDirty=!0,e.body.emitter.emit("change")})}.bind(this))}},o.prototype._onGroupDragStart=function(t){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(t),this.groupTouchParams.group&&(t.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},o.prototype._onGroupDrag=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this.groupFromTarget(t);if(e&&e.height!=this.groupTouchParams.group.height){var i=e.top<this.groupTouchParams.group.top,o=t.center?t.center.y:t.clientY,n=s.getAbsoluteTop(e.dom.foreground),r=this.groupTouchParams.group.height;if(i){if(o>n+r)return}else{var a=e.height;if(n+a-r>o)return}}if(e&&e!=this.groupTouchParams.group){var h=this.groupsData,d=h.get(e.groupId),l=h.get(this.groupTouchParams.group.groupId);l&&d&&(this.options.groupOrderSwap(l,d,this.groupsData),this.groupsData.update(l),this.groupsData.update(d));var u=this.groupsData.getIds({order:this.options.groupOrder});if(!s.equalArray(u,this.groupTouchParams.originalOrder))for(var h=this.groupsData,c=this.groupTouchParams.originalOrder,p=this.groupTouchParams.group.groupId,f=Math.min(c.length,u.length),m=0,v=0,g=0;f>m;){for(;f>m+v&&f>m+g&&u[m+v]==c[m+g];)m++;if(m+v>=f)break;if(u[m+v]!=p)if(c[m+g]!=p){var y=u.indexOf(c[m+g]),b=h.get(u[m+v]),w=h.get(c[m+g]);this.options.groupOrderSwap(b,w,h),h.update(b),h.update(w);var _=u[m+v];u[m+v]=c[m+g],u[y]=_,m++}else g=1;else v=1}}}},o.prototype._onGroupDragEnd=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this,i=e.groupTouchParams.group.groupId,o=e.groupsData.getDataSet(),n=s.extend({},o.get(i));e.options.onMoveGroup(n,function(t){if(t)t[o._fieldId]=i,o.update(t);else{var n=o.getIds({order:e.options.groupOrder});if(!s.equalArray(n,e.groupTouchParams.originalOrder))for(var r=e.groupTouchParams.originalOrder,a=Math.min(r.length,n.length),h=0;a>h;){for(;a>h&&n[h]==r[h];)h++;if(h>=a)break;var d=n.indexOf(r[h]),l=o.get(n[h]),u=o.get(r[h]);e.options.groupOrderSwap(l,u,o),groupsData.update(l),groupsData.update(u);var c=n[h];n[h]=r[h],n[d]=c,h++}}}),e.body.emitter.emit("groupDragged",{groupId:i})}},o.prototype._onSelectItem=function(t){if(this.options.selectable){var e=t.srcEvent&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey),i=t.srcEvent&&t.srcEvent.shiftKey;if(e||i)return void this._onMultiSelectItem(t);var o=this.getSelection(),n=this.itemFromTarget(t),s=n?[n.id]:[];this.setSelection(s);var r=this.getSelection();(r.length>0||o.length>0)&&this.body.emitter.emit("select",{items:r,event:t})}},o.prototype._onAddItem=function(t){if(this.options.selectable&&this.options.editable.add){var e=this,i=this.options.snap||null,o=this.itemFromTarget(t);if(t.stopPropagation(),o){var n=e.itemsData.get(o.id);this.options.onUpdate(n,function(t){t&&e.itemsData.getDataSet().update(t)})}else{var r=s.getAbsoluteLeft(this.dom.frame),a=t.center.x-r,h=this.body.util.toTime(a),d=this.body.util.getScale(),l=this.body.util.getStep(),u={start:i?i(h,d,l):h,content:"new item"};if("range"===this.options.type){var c=this.body.util.toTime(a+this.props.width/5);u.end=i?i(c,d,l):c}u[this.itemsData._fieldId]=s.randomUUID();var p=this.groupFromTarget(t);p&&(u.group=p.groupId),u=this._cloneItemData(u),this.options.onAdd(u,function(t){t&&e.itemsData.getDataSet().add(t)})}}},o.prototype._onMultiSelectItem=function(t){if(this.options.selectable){var e=this.itemFromTarget(t);if(e){var i=this.options.multiselect?this.getSelection():[],n=t.srcEvent&&t.srcEvent.shiftKey||!1;if(n&&this.options.multiselect){var s=this.itemsData.get(e.id).group,r=void 0;this.options.multiselectPerGroup&&i.length>0&&(r=this.itemsData.get(i[0]).group),this.options.multiselectPerGroup&&void 0!=r&&r!=s||i.push(e.id);var a=o._getItemRange(this.itemsData.get(i,this.itemOptions));if(!this.options.multiselectPerGroup||r==s){i=[];for(var h in this.items)if(this.items.hasOwnProperty(h)){var d=this.items[h],l=d.data.start,u=void 0!==d.data.end?d.data.end:l;!(l>=a.min&&u<=a.max)||this.options.multiselectPerGroup&&r!=this.itemsData.get(d.id).group||d instanceof m||i.push(d.id)}}}else{var c=i.indexOf(e.id);-1==c?i.push(e.id):i.splice(c,1)}this.setSelection(i),this.body.emitter.emit("select",{items:this.getSelection(),event:t})}}},o._getItemRange=function(t){var e=null,i=null;return t.forEach(function(t){(null==i||t.start<i)&&(i=t.start),void 0!=t.end?(null==e||t.end>e)&&(e=t.end):(null==e||t.start>e)&&(e=t.start)}),{min:i,max:e}},o.prototype.itemFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-item"))return e["timeline-item"];e=e.parentNode}return null},o.prototype.groupFromTarget=function(t){for(var e=t.center?t.center.y:t.clientY,i=0;i<this.groupIds.length;i++){var o=this.groupIds[i],n=this.groups[o],r=n.dom.foreground,a=s.getAbsoluteTop(r);if(e>a&&e<a+r.offsetHeight)return n;if("top"===this.options.orientation.item){if(i===this.groupIds.length-1&&e>a)return n}else if(0===i&&e<a+r.offset)return n}return null},o.itemSetFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-itemset"))return e["timeline-itemset"];e=e.parentNode}return null},o.prototype._cloneItemData=function(t,e){var i=s.extend({},t);return e||(e=this.itemsData.getDataSet()._options.type),void 0!=i.start&&(i.start=s.convert(i.start,e&&e.start||"Date")),void 0!=i.end&&(i.end=s.convert(i.end,e&&e.end||"Date")),i},t.exports=o},function(t,e,i){function o(t,e,i,s){this.moment=n,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(t,e,i),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Array.isArray(s)?this.hiddenDates=s:void 0!=s?this.hiddenDates=[s]:this.hiddenDates=[],this.format=o.FORMAT}var n=i(2),s=i(27),r=i(1);o.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},o.prototype.setMoment=function(t){this.moment=t,this.current=this.moment(this.current),this._start=this.moment(this._start),this._end=this.moment(this._end)},o.prototype.setFormat=function(t){var e=r.deepExtend({},o.FORMAT);this.format=r.deepExtend(e,t)},o.prototype.setRange=function(t,e,i){if(!(t instanceof Date&&e instanceof Date))throw"No legal start or end date in method setRange";this._start=void 0!=t?this.moment(t.valueOf()):new Date,this._end=void 0!=e?this.moment(e.valueOf()):new Date,this.autoScale&&this.setMinimumStep(i)},o.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},o.prototype.roundToMinor=function(){
switch(this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}},o.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},o.prototype.next=function(){var t=this.current.valueOf();if(this.current.month()<6)switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.subtract(this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}else switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"month":this.current.month()<this.step&&this.current.month(0);break;case"year":}this.current.valueOf()==t&&(this.current=this._end.clone()),s.stepOverHiddenDates(this.moment,this,t)},o.prototype.getCurrent=function(){return this.current},o.prototype.setScale=function(t){t&&"string"==typeof t.scale&&(this.scale=t.scale,this.step=t.step>0?t.step:1,this.autoScale=!1)},o.prototype.setAutoScale=function(t){this.autoScale=t},o.prototype.setMinimumStep=function(t){if(void 0!=t){var e=31104e6,i=2592e6,o=864e5,n=36e5,s=6e4,r=1e3,a=1;1e3*e>t&&(this.scale="year",this.step=1e3),500*e>t&&(this.scale="year",this.step=500),100*e>t&&(this.scale="year",this.step=100),50*e>t&&(this.scale="year",this.step=50),10*e>t&&(this.scale="year",this.step=10),5*e>t&&(this.scale="year",this.step=5),e>t&&(this.scale="year",this.step=1),3*i>t&&(this.scale="month",this.step=3),i>t&&(this.scale="month",this.step=1),5*o>t&&(this.scale="day",this.step=5),2*o>t&&(this.scale="day",this.step=2),o>t&&(this.scale="day",this.step=1),o/2>t&&(this.scale="weekday",this.step=1),4*n>t&&(this.scale="hour",this.step=4),n>t&&(this.scale="hour",this.step=1),15*s>t&&(this.scale="minute",this.step=15),10*s>t&&(this.scale="minute",this.step=10),5*s>t&&(this.scale="minute",this.step=5),s>t&&(this.scale="minute",this.step=1),15*r>t&&(this.scale="second",this.step=15),10*r>t&&(this.scale="second",this.step=10),5*r>t&&(this.scale="second",this.step=5),r>t&&(this.scale="second",this.step=1),200*a>t&&(this.scale="millisecond",this.step=200),100*a>t&&(this.scale="millisecond",this.step=100),50*a>t&&(this.scale="millisecond",this.step=50),10*a>t&&(this.scale="millisecond",this.step=10),5*a>t&&(this.scale="millisecond",this.step=5),a>t&&(this.scale="millisecond",this.step=1)}},o.snap=function(t,e,i){var o=n(t);if("year"==e){var s=o.year()+Math.round(o.month()/12);o.year(Math.round(s/i)*i),o.month(0),o.date(0),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("month"==e)o.date()>15?(o.date(1),o.add(1,"month")):o.date(1),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0);else if("day"==e){switch(i){case 5:case 2:o.hours(24*Math.round(o.hours()/24));break;default:o.hours(12*Math.round(o.hours()/12))}o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("weekday"==e){switch(i){case 5:case 2:o.hours(12*Math.round(o.hours()/12));break;default:o.hours(6*Math.round(o.hours()/6))}o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("hour"==e){switch(i){case 4:o.minutes(60*Math.round(o.minutes()/60));break;default:o.minutes(30*Math.round(o.minutes()/30))}o.seconds(0),o.milliseconds(0)}else if("minute"==e){switch(i){case 15:case 10:o.minutes(5*Math.round(o.minutes()/5)),o.seconds(0);break;case 5:o.seconds(60*Math.round(o.seconds()/60));break;default:o.seconds(30*Math.round(o.seconds()/30))}o.milliseconds(0)}else if("second"==e)switch(i){case 15:case 10:o.seconds(5*Math.round(o.seconds()/5)),o.milliseconds(0);break;case 5:o.milliseconds(1e3*Math.round(o.milliseconds()/1e3));break;default:o.milliseconds(500*Math.round(o.milliseconds()/500))}else if("millisecond"==e){var r=i>5?i/2:1;o.milliseconds(Math.round(o.milliseconds()/r)*r)}return o},o.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.switchedYear=!1,this.scale){case"year":case"month":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.switchedMonth=!1,this.scale){case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.switchedDay=!1,this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var t=this.moment(this.current);switch(this.scale){case"millisecond":return 0==t.milliseconds();case"second":return 0==t.seconds();case"minute":return 0==t.hours()&&0==t.minutes();case"hour":return 0==t.hours();case"weekday":case"day":return 1==t.date();case"month":return 0==t.month();case"year":return!1;default:return!1}},o.prototype.getLabelMinor=function(t){void 0==t&&(t=this.current);var e=this.format.minorLabels[this.scale];return e&&e.length>0?this.moment(t).format(e):""},o.prototype.getLabelMajor=function(t){void 0==t&&(t=this.current);var e=this.format.majorLabels[this.scale];return e&&e.length>0?this.moment(t).format(e):""},o.prototype.getClassName=function(){function t(t){return t/h%2==0?" vis-even":" vis-odd"}function e(t){return t.isSame(new Date,"day")?" vis-today":t.isSame(s().add(1,"day"),"day")?" vis-tomorrow":t.isSame(s().add(-1,"day"),"day")?" vis-yesterday":""}function i(t){return t.isSame(new Date,"week")?" vis-current-week":""}function o(t){return t.isSame(new Date,"month")?" vis-current-month":""}function n(t){return t.isSame(new Date,"year")?" vis-current-year":""}var s=this.moment,r=this.moment(this.current),a=r.locale?r.locale("en"):r.lang("en"),h=this.step;switch(this.scale){case"millisecond":return t(a.milliseconds()).trim();case"second":return t(a.seconds()).trim();case"minute":return t(a.minutes()).trim();case"hour":var d=a.hours();return 4==this.step&&(d=d+"-h"+(d+4)),"vis-h"+d+e(a)+t(a.hours());case"weekday":return"vis-"+a.format("dddd").toLowerCase()+e(a)+i(a)+t(a.date());case"day":var l=a.date(),u=a.format("MMMM").toLowerCase();return"vis-day"+l+" vis-"+u+o(a)+t(l-1);case"month":return"vis-"+a.format("MMMM").toLowerCase()+o(a)+t(a.month());case"year":var c=a.year();return"vis-year"+c+n(a)+t(c);default:return""}},t.exports=o},function(t,e,i){function o(t,e,i){this.groupId=t,this.subgroups={},this.subgroupIndex=0,this.subgroupOrderer=e&&e.subgroupOrder,this.itemSet=i,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var o=this;this.itemSet.body.emitter.on("checkRangedItems",function(){o.checkRangedItems=!0}),this._create(),this.setData(e)}var n=i(1),s=i(32);i(33);o.prototype._create=function(){var t=document.createElement("div");this.itemSet.options.groupEditable.order?t.className="vis-label draggable":t.className="vis-label",this.dom.label=t;var e=document.createElement("div");e.className="vis-inner",t.appendChild(e),this.dom.inner=e;var i=document.createElement("div");i.className="vis-group",i["timeline-group"]=this,this.dom.foreground=i,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.innerHTML="?",this.dom.background.appendChild(this.dom.marker)},o.prototype.setData=function(t){var e;if(e=this.itemSet.options&&this.itemSet.options.groupTemplate?this.itemSet.options.groupTemplate(t):t&&t.content,e instanceof Element){for(this.dom.inner.appendChild(e);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(e)}else void 0!==e&&null!==e?this.dom.inner.innerHTML=e:this.dom.inner.innerHTML=this.groupId||"";this.dom.label.title=t&&t.title||"",this.dom.inner.firstChild?n.removeClassName(this.dom.inner,"vis-hidden"):n.addClassName(this.dom.inner,"vis-hidden");var i=t&&t.className||null;i!=this.className&&(this.className&&(n.removeClassName(this.dom.label,this.className),n.removeClassName(this.dom.foreground,this.className),n.removeClassName(this.dom.background,this.className),n.removeClassName(this.dom.axis,this.className)),n.addClassName(this.dom.label,i),n.addClassName(this.dom.foreground,i),n.addClassName(this.dom.background,i),n.addClassName(this.dom.axis,i),this.className=i),this.style&&(n.removeCssText(this.dom.label,this.style),this.style=null),t&&t.style&&(n.addCssText(this.dom.label,t.style),this.style=t.style)},o.prototype.getLabelWidth=function(){return this.props.label.width},o.prototype.redraw=function(t,e,i){var o=!1,r=this.dom.marker.clientHeight;if(r!=this.lastMarkerHeight&&(this.lastMarkerHeight=r,n.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()}),i=!0),this._calculateSubGroupHeights(),"function"==typeof this.itemSet.options.order){if(i){var a=this,h=!1;n.forEach(this.items,function(t){t.displayed||(t.redraw(),a.visibleItems.push(t)),t.repositionX(h)});var d=this.orderedItems.byStart.slice().sort(function(t,e){return a.itemSet.options.order(t.data,e.data)});s.stack(d,e,!0)}this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,t)}else this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,t),this.itemSet.options.stack?s.stack(this.visibleItems,e,i):s.nostack(this.visibleItems,e,this.subgroups);var l=this._calculateHeight(e),u=this.dom.foreground;this.top=u.offsetTop,this.left=u.offsetLeft,this.width=u.offsetWidth,o=n.updateProperty(this,"height",l)||o,o=n.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||o,o=n.updateProperty(this.props.label,"height",this.dom.inner.clientHeight)||o,this.dom.background.style.height=l+"px",this.dom.foreground.style.height=l+"px",this.dom.label.style.height=l+"px";for(var c=0,p=this.visibleItems.length;p>c;c++){var f=this.visibleItems[c];f.repositionY(e)}return o},o.prototype._calculateSubGroupHeights=function(){if(Object.keys(this.subgroups).length>0){var t=this;this.resetSubgroups(),n.forEach(this.visibleItems,function(e){void 0!==e.data.subgroup&&(t.subgroups[e.data.subgroup].height=Math.max(t.subgroups[e.data.subgroup].height,e.height),t.subgroups[e.data.subgroup].visible=!0)})}},o.prototype._calculateHeight=function(t){var e,i=this.visibleItems;if(i.length>0){var o=i[0].top,s=i[0].top+i[0].height;if(n.forEach(i,function(t){o=Math.min(o,t.top),s=Math.max(s,t.top+t.height)}),o>t.axis){var r=o-t.axis;s-=r,n.forEach(i,function(t){t.top-=r})}e=s+t.item.vertical/2}else e=0;return e=Math.max(e,this.props.label.height)},o.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},o.prototype.hide=function(){var t=this.dom.label;t.parentNode&&t.parentNode.removeChild(t);var e=this.dom.foreground;e.parentNode&&e.parentNode.removeChild(e);var i=this.dom.background;i.parentNode&&i.parentNode.removeChild(i);var o=this.dom.axis;o.parentNode&&o.parentNode.removeChild(o)},o.prototype.add=function(t){if(this.items[t.id]=t,t.setParent(this),void 0!==t.data.subgroup&&(void 0===this.subgroups[t.data.subgroup]&&(this.subgroups[t.data.subgroup]={height:0,visible:!1,index:this.subgroupIndex,items:[]},this.subgroupIndex++),this.subgroups[t.data.subgroup].items.push(t)),this.orderSubgroups(),-1==this.visibleItems.indexOf(t)){var e=this.itemSet.body.range;this._checkIfVisible(t,this.visibleItems,e)}},o.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var t=[];if("string"==typeof this.subgroupOrderer){for(var e in this.subgroups)t.push({subgroup:e,sortField:this.subgroups[e].items[0].data[this.subgroupOrderer]});t.sort(function(t,e){return t.sortField-e.sortField})}else if("function"==typeof this.subgroupOrderer){for(var e in this.subgroups)t.push(this.subgroups[e].items[0].data);t.sort(this.subgroupOrderer)}if(t.length>0)for(var i=0;i<t.length;i++)this.subgroups[t[i].subgroup].index=i}},o.prototype.resetSubgroups=function(){for(var t in this.subgroups)this.subgroups.hasOwnProperty(t)&&(this.subgroups[t].visible=!1)},o.prototype.remove=function(t){delete this.items[t.id],t.setParent(null);var e=this.visibleItems.indexOf(t);if(-1!=e&&this.visibleItems.splice(e,1),void 0!==t.data.subgroup){var i=this.subgroups[t.data.subgroup];if(i){var o=i.items.indexOf(t);i.items.splice(o,1),i.items.length||(delete this.subgroups[t.data.subgroup],this.subgroupIndex--),this.orderSubgroups()}}},o.prototype.removeFromDataSet=function(t){this.itemSet.removeItem(t.id)},o.prototype.order=function(){for(var t=n.toArray(this.items),e=[],i=[],o=0;o<t.length;o++)void 0!==t[o].data.end&&i.push(t[o]),e.push(t[o]);this.orderedItems={byStart:e,byEnd:i},s.orderByStart(this.orderedItems.byStart),s.orderByEnd(this.orderedItems.byEnd)},o.prototype._updateVisibleItems=function(t,e,i){var o,s,r=[],a={},h=(i.end-i.start)/4,d=i.start-h,l=i.end+h,u=function(t){return d>t?-1:l>=t?0:1};if(e.length>0)for(s=0;s<e.length;s++)this._checkIfVisibleWithReference(e[s],r,a,i);var c=n.binarySearchCustom(t.byStart,u,"data","start");if(this._traceVisible(c,t.byStart,r,a,function(t){return t.data.start<d||t.data.start>l}),1==this.checkRangedItems)for(this.checkRangedItems=!1,s=0;s<t.byEnd.length;s++)this._checkIfVisibleWithReference(t.byEnd[s],r,a,i);else{var p=n.binarySearchCustom(t.byEnd,u,"data","end");this._traceVisible(p,t.byEnd,r,a,function(t){return t.data.end<d||t.data.end>l})}for(s=0;s<r.length;s++)o=r[s],o.displayed||o.show(),o.repositionX();return r},o.prototype._traceVisible=function(t,e,i,o,n){var s,r;if(-1!=t){for(r=t;r>=0&&(s=e[r],!n(s));r--)void 0===o[s.id]&&(o[s.id]=!0,i.push(s));for(r=t+1;r<e.length&&(s=e[r],!n(s));r++)void 0===o[s.id]&&(o[s.id]=!0,i.push(s))}},o.prototype._checkIfVisible=function(t,e,i){t.isVisible(i)?(t.displayed||t.show(),t.repositionX(),e.push(t)):t.displayed&&t.hide()},o.prototype._checkIfVisibleWithReference=function(t,e,i,o){t.isVisible(o)?void 0===i[t.id]&&(i[t.id]=!0,e.push(t)):t.displayed&&t.hide()},t.exports=o},function(t,e){var i=.001;e.orderByStart=function(t){t.sort(function(t,e){return t.data.start-e.data.start})},e.orderByEnd=function(t){t.sort(function(t,e){var i="end"in t.data?t.data.end:t.data.start,o="end"in e.data?e.data.end:e.data.start;return i-o})},e.stack=function(t,i,o){var n,s;if(o)for(n=0,s=t.length;s>n;n++)t[n].top=null;for(n=0,s=t.length;s>n;n++){var r=t[n];if(r.stack&&null===r.top){r.top=i.axis;do{for(var a=null,h=0,d=t.length;d>h;h++){var l=t[h];if(null!==l.top&&l!==r&&l.stack&&e.collision(r,l,i.item)){a=l;break}}null!=a&&(r.top=a.top+a.height+i.item.vertical)}while(a)}}},e.nostack=function(t,e,i){var o,n,s;for(o=0,n=t.length;n>o;o++)if(void 0!==t[o].data.subgroup){s=e.axis;for(var r in i)i.hasOwnProperty(r)&&1==i[r].visible&&i[r].index<i[t[o].data.subgroup].index&&(s+=i[r].height+e.item.vertical);t[o].top=s}else t[o].top=e.axis},e.collision=function(t,e,o){return t.left-o.horizontal+i<e.left+e.width&&t.left+t.width+o.horizontal-i>e.left&&t.top-o.vertical+i<e.top+e.height&&t.top+t.height+o.vertical-i>e.top}},function(t,e,i){function o(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,t){if(void 0==t.start)throw new Error('Property "start" missing in item '+t.id);if(void 0==t.end)throw new Error('Property "end" missing in item '+t.id)}n.call(this,t,e,i)}var n=(i(20),i(34));o.prototype=new n(null,null,null),o.prototype.baseClassName="vis-item vis-range",o.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},o.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},t=this.dom,t.box=document.createElement("div"),t.frame=document.createElement("div"),t.frame.className="vis-item-overflow",t.box.appendChild(t.frame),t.content=document.createElement("div"),t.content.className="vis-item-content",t.frame.appendChild(t.content),t.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.box)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var i=(this.options.editable.updateTime||this.options.editable.updateGroup||this.editable===!0)&&this.editable!==!1,o=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(i?" vis-editable":" vis-readonly");t.box.className=this.baseClassName+o,this.overflow="hidden"!==window.getComputedStyle(t.frame).overflow,this.dom.content.style.maxWidth="none",this.props.content.width=this.dom.content.offsetWidth,this.height=this.dom.box.offsetHeight,this.dom.content.style.maxWidth="",this.dirty=!1}this._repaintDeleteButton(t.box),this._repaintDragLeft(),this._repaintDragRight()},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){if(this.displayed){var t=this.dom.box;t.parentNode&&t.parentNode.removeChild(t),this.displayed=!1}},o.prototype.repositionX=function(t){var e,i,o=this.parent.width,n=this.conversion.toScreen(this.data.start),s=this.conversion.toScreen(this.data.end);(void 0===t||t===!0)&&(-o>n&&(n=-o),s>2*o&&(s=2*o));var r=Math.max(s-n,1);switch(this.overflow?(this.left=n,this.width=r+this.props.content.width,i=this.props.content.width):(this.left=n,this.width=r,i=Math.min(s-n,this.props.content.width)),this.dom.box.style.left=this.left+"px",this.dom.box.style.width=r+"px",this.options.align){case"left":this.dom.content.style.left="0";break;case"right":this.dom.content.style.left=Math.max(r-i,0)+"px";break;case"center":this.dom.content.style.left=Math.max((r-i)/2,0)+"px";break;default:e=this.overflow?s>0?Math.max(-n,0):-i:0>n?-n:0,this.dom.content.style.left=e+"px"}},o.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.box;"top"==t?e.style.top=this.top+"px":e.style.top=this.parent.height-this.top-this.height+"px"},o.prototype._repaintDragLeft=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragLeft){var t=document.createElement("div");t.className="vis-drag-left",t.dragLeftItem=this,this.dom.box.appendChild(t),this.dom.dragLeft=t}else!this.selected&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},o.prototype._repaintDragRight=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragRight){var t=document.createElement("div");t.className="vis-drag-right",t.dragRightItem=this,this.dom.box.appendChild(t),this.dom.dragRight=t}else!this.selected&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},t.exports=o},function(t,e,i){function o(t,e,i){this.id=null,this.parent=null,this.data=t,this.dom=null,this.conversion=e||{},this.options=i||{},this.selected=!1,this.displayed=!1,this.dirty=!0,this.top=null,this.left=null,this.width=null,this.height=null,this.editable=null,this.data&&this.data.hasOwnProperty("editable")&&"boolean"==typeof this.data.editable&&(this.editable=t.editable)}var n=i(20),s=i(1);o.prototype.stack=!0,o.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},o.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},o.prototype.setData=function(t){var e=void 0!=t.group&&this.data.group!=t.group;e&&this.parent.itemSet._moveToGroup(this,t.group),t.hasOwnProperty("editable")&&"boolean"==typeof t.editable&&(this.editable=t.editable),this.data=t,this.dirty=!0,this.displayed&&this.redraw()},o.prototype.setParent=function(t){this.displayed?(this.hide(),this.parent=t,this.parent&&this.show()):this.parent=t},o.prototype.isVisible=function(t){return!1},o.prototype.show=function(){return!1},o.prototype.hide=function(){return!1},o.prototype.redraw=function(){},o.prototype.repositionX=function(){},o.prototype.repositionY=function(){},o.prototype._repaintDeleteButton=function(t){var e=(this.options.editable.remove||this.data.editable===!0)&&this.data.editable!==!1;if(this.selected&&e&&!this.dom.deleteButton){var i=this,o=document.createElement("div");o.className="vis-delete",o.title="Delete this item",new n(o).on("tap",function(t){t.stopPropagation(),i.parent.removeFromDataSet(i)}),t.appendChild(o),this.dom.deleteButton=o}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},o.prototype._updateContents=function(t){var e;if(this.options.template){var i=this.parent.itemSet.itemsData.get(this.id);e=this.options.template(i)}else e=this.data.content;var o=this._contentToString(this.content)!==this._contentToString(e);if(o){if(e instanceof Element)t.innerHTML="",t.appendChild(e);else if(void 0!=e)t.innerHTML=e;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=e}},o.prototype._updateTitle=function(t){null!=this.data.title?t.title=this.data.title||"":t.removeAttribute("vis-title")},o.prototype._updateDataAttributes=function(t){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var e=[];if(Array.isArray(this.options.dataAttributes))e=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;e=Object.keys(this.data)}for(var i=0;i<e.length;i++){var o=e[i],n=this.data[o];null!=n?t.setAttribute("data-"+o,n):t.removeAttribute("data-"+o)}}},o.prototype._updateStyle=function(t){this.style&&(s.removeCssText(t,this.style),this.style=null),this.data.style&&(s.addCssText(t,this.data.style),this.style=this.data.style)},o.prototype._contentToString=function(t){return"string"==typeof t?t:t&&"outerHTML"in t?t.outerHTML:t},o.prototype.getWidthLeft=function(){return 0},o.prototype.getWidthRight=function(){return 0},t.exports=o},function(t,e,i){function o(t,e,i){n.call(this,t,e,i),this.width=0,this.height=0,this.top=0,this.left=0}var n=(i(1),i(31));o.prototype=Object.create(n.prototype),o.prototype.redraw=function(t,e,i){var o=!1;this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,t),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var n=0,s=this.visibleItems.length;s>n;n++){var r=this.visibleItems[n];r.repositionY(e)}return o},o.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},t.exports=o},function(t,e,i){function o(t,e,i){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},t&&void 0==t.start)throw new Error('Property "start" missing in item '+t);n.call(this,t,e,i)}var n=i(34);i(1);o.prototype=new n(null,null,null),o.prototype.isVisible=function(t){var e=(t.end-t.start)/4;return this.data.start>t.start-e&&this.data.start<t.end+e},o.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},t=this.dom,t.box=document.createElement("DIV"),t.content=document.createElement("DIV"),t.content.className="vis-item-content",t.box.appendChild(t.content),t.line=document.createElement("DIV"),t.line.className="vis-line",t.dot=document.createElement("DIV"),t.dot.className="vis-dot",t.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.box)}if(!t.line.parentNode){var i=this.parent.dom.background;if(!i)throw new Error("Cannot redraw item: parent has no background container element");i.appendChild(t.line)}if(!t.dot.parentNode){var o=this.parent.dom.axis;if(!i)throw new Error("Cannot redraw item: parent has no axis container element");o.appendChild(t.dot)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var n=(this.options.editable.updateTime||this.options.editable.updateGroup||this.editable===!0)&&this.editable!==!1,s=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(n?" vis-editable":" vis-readonly");t.box.className="vis-item vis-box"+s,t.line.className="vis-item vis-line"+s,t.dot.className="vis-item vis-dot"+s,this.props.dot.height=t.dot.offsetHeight,this.props.dot.width=t.dot.offsetWidth,this.props.line.width=t.line.offsetWidth,this.width=t.box.offsetWidth,this.height=t.box.offsetHeight,this.dirty=!1}this._repaintDeleteButton(t.box)},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){if(this.displayed){var t=this.dom;t.box.parentNode&&t.box.parentNode.removeChild(t.box),t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot),this.displayed=!1}},o.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start),e=this.options.align;"right"==e?this.left=t-this.width:"left"==e?this.left=t:this.left=t-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width/2+"px",this.dom.dot.style.left=t-this.props.dot.width/2+"px"},o.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.box,i=this.dom.line,o=this.dom.dot;if("top"==t)e.style.top=(this.top||0)+"px",i.style.top="0",i.style.height=this.parent.top+this.top+1+"px",i.style.bottom="";else{var n=this.parent.itemSet.props.height,s=n-this.parent.top-this.parent.height+this.top;e.style.top=(this.parent.height-this.top-this.height||0)+"px",i.style.top=n-s+"px",i.style.bottom="0"}o.style.top=-this.props.dot.height/2+"px"},o.prototype.getWidthLeft=function(){return this.width/2},o.prototype.getWidthRight=function(){return this.width/2},t.exports=o},function(t,e,i){function o(t,e,i){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0}},t&&void 0==t.start)throw new Error('Property "start" missing in item '+t);n.call(this,t,e,i)}var n=i(34);o.prototype=new n(null,null,null),o.prototype.isVisible=function(t){var e=(t.end-t.start)/4;return this.data.start>t.start-e&&this.data.start<t.end+e},o.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},t=this.dom,t.point=document.createElement("div"),t.content=document.createElement("div"),t.content.className="vis-item-content",t.point.appendChild(t.content),t.dot=document.createElement("div"),t.point.appendChild(t.dot),t.point["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.point.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.point)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.point),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var i=(this.options.editable.updateTime||this.options.editable.updateGroup||this.editable===!0)&&this.editable!==!1,o=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(i?" vis-editable":" vis-readonly");t.point.className="vis-item vis-point"+o,t.dot.className="vis-item vis-dot"+o,this.props.dot.width=t.dot.offsetWidth,this.props.dot.height=t.dot.offsetHeight,this.props.content.height=t.content.offsetHeight,t.content.style.marginLeft=2*this.props.dot.width+"px",this.width=t.point.offsetWidth,this.height=t.point.offsetHeight,t.dot.style.top=(this.height-this.props.dot.height)/2+"px",t.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1}this._repaintDeleteButton(t.point)},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},o.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start);this.left=t-this.props.dot.width,this.dom.point.style.left=this.left+"px"},o.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.point;"top"==t?e.style.top=this.top+"px":e.style.top=this.parent.height-this.top-this.height+"px"},o.prototype.getWidthLeft=function(){return this.props.dot.width},o.prototype.getWidthRight=function(){return this.width-this.props.dot.width},t.exports=o},function(t,e,i){function o(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,t){if(void 0==t.start)throw new Error('Property "start" missing in item '+t.id);if(void 0==t.end)throw new Error('Property "end" missing in item '+t.id)}n.call(this,t,e,i)}var n=(i(20),i(34)),s=i(35),r=i(33);o.prototype=new n(null,null,null),o.prototype.baseClassName="vis-item vis-background",o.prototype.stack=!1,o.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},o.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},t=this.dom,t.box=document.createElement("div"),t.frame=document.createElement("div"),t.frame.className="vis-item-overflow",t.box.appendChild(t.frame),t.content=document.createElement("div"),t.content.className="vis-item-content",t.frame.appendChild(t.content),this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(t.box)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);var i=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");t.box.className=this.baseClassName+i,this.overflow="hidden"!==window.getComputedStyle(t.content).overflow,this.props.content.width=this.dom.content.offsetWidth,this.height=0,this.dirty=!1}},o.prototype.show=r.prototype.show,o.prototype.hide=r.prototype.hide,o.prototype.repositionX=r.prototype.repositionX,
o.prototype.repositionY=function(t){var e="top"===this.options.orientation.item;this.dom.content.style.top=e?"":"0",this.dom.content.style.bottom=e?"0":"";var i;if(void 0!==this.data.subgroup){var o=this.data.subgroup,n=this.parent.subgroups,r=n[o].index;if(1==e){i=this.parent.subgroups[o].height+t.item.vertical,i+=0==r?t.axis-.5*t.item.vertical:0;var a=this.parent.top;for(var h in n)n.hasOwnProperty(h)&&1==n[h].visible&&n[h].index<r&&(a+=n[h].height+t.item.vertical);a+=0!=r?t.axis-.5*t.item.vertical:0,this.dom.box.style.top=a+"px",this.dom.box.style.bottom=""}else{var a=this.parent.top,d=0;for(var h in n)if(n.hasOwnProperty(h)&&1==n[h].visible){var l=n[h].height+t.item.vertical;d+=l,n[h].index>r&&(a+=l)}i=this.parent.subgroups[o].height+t.item.vertical,this.dom.box.style.top=this.parent.height-d+a+"px",this.dom.box.style.bottom=""}}else this.parent instanceof s?(i=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.top=e?"0":"",this.dom.box.style.bottom=e?"":"0"):(i=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=i+"px"},t.exports=o},function(t,e,i){function o(t,e){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:r.FORMAT,moment:h,timeAxis:null},this.options=n.extend({},this.defaultOptions),this.body=t,this._create(),this.setOptions(e)}var n=i(1),s=i(26),r=i(30),a=i(27),h=i(2);o.prototype=new s,o.prototype.setOptions=function(t){t&&(n.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment"],this.options,t),n.selectiveDeepExtend(["format"],this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.axis=t.orientation:"object"==typeof t.orientation&&"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis)),"locale"in t&&("function"==typeof h.locale?h.locale(t.locale):h.lang(t.locale)))},o.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},o.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},o.prototype.redraw=function(){var t=this.props,e=this.dom.foreground,i=this.dom.background,o="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,n=e.parentNode!==o;this._calculateCharSize();var s=this.options.showMinorLabels&&"none"!==this.options.orientation.axis,r=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;t.minorLabelHeight=s?t.minorCharHeight:0,t.majorLabelHeight=r?t.majorCharHeight:0,t.height=t.minorLabelHeight+t.majorLabelHeight,t.width=e.offsetWidth,t.minorLineHeight=this.body.domProps.root.height-t.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),t.minorLineWidth=1,t.majorLineHeight=t.minorLineHeight+t.majorLabelHeight,t.majorLineWidth=1;var a=e.nextSibling,h=i.nextSibling;return e.parentNode&&e.parentNode.removeChild(e),i.parentNode&&i.parentNode.removeChild(i),e.style.height=this.props.height+"px",this._repaintLabels(),a?o.insertBefore(e,a):o.appendChild(e),h?this.body.dom.backgroundVertical.insertBefore(i,h):this.body.dom.backgroundVertical.appendChild(i),this._isResized()||n},o.prototype._repaintLabels=function(){var t=this.options.orientation.axis,e=n.convert(this.body.range.start,"Number"),i=n.convert(this.body.range.end,"Number"),o=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),s=o-a.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,o);s-=this.body.util.toTime(0).valueOf();var h=new r(new Date(e),new Date(i),s,this.body.hiddenDates);h.setMoment(this.options.moment),this.options.format&&h.setFormat(this.options.format),this.options.timeAxis&&h.setScale(this.options.timeAxis),this.step=h;var l=this.dom;l.redundant.lines=l.lines,l.redundant.majorTexts=l.majorTexts,l.redundant.minorTexts=l.minorTexts,l.lines=[],l.majorTexts=[],l.minorTexts=[];var u,c,p,f,m,v,g,y,b,w,_=0,x=void 0,k=0,O=1e3;for(h.start(),c=h.getCurrent(),f=this.body.util.toScreen(c);h.hasNext()&&O>k;){k++,m=h.isMajor(),w=h.getClassName(),b=h.getLabelMinor(),u=c,p=f,h.next(),c=h.getCurrent(),v=h.isMajor(),f=this.body.util.toScreen(c),g=_,_=f-p;var M=_>=.4*g;if(this.options.showMinorLabels&&M){var D=this._repaintMinorText(p,b,t,w);D.style.width=_+"px"}m&&this.options.showMajorLabels?(p>0&&(void 0==x&&(x=p),D=this._repaintMajorText(p,h.getLabelMajor(),t,w)),y=this._repaintMajorLine(p,_,t,w)):M?y=this._repaintMinorLine(p,_,t,w):y&&(y.style.width=parseInt(y.style.width)+_+"px")}if(k!==O||d||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to "+O+" lines."),d=!0),this.options.showMajorLabels){var C=this.body.util.toTime(0),T=h.getLabelMajor(C),S=T.length*(this.props.majorCharWidth||10)+10;(void 0==x||x>S)&&this._repaintMajorText(0,T,t,w)}n.forEach(this.dom.redundant,function(t){for(;t.length;){var e=t.pop();e&&e.parentNode&&e.parentNode.removeChild(e)}})},o.prototype._repaintMinorText=function(t,e,i,o){var n=this.dom.redundant.minorTexts.shift();if(!n){var s=document.createTextNode("");n=document.createElement("div"),n.appendChild(s),this.dom.foreground.appendChild(n)}return this.dom.minorTexts.push(n),n.childNodes[0].nodeValue=e,n.style.top="top"==i?this.props.majorLabelHeight+"px":"0",n.style.left=t+"px",n.className="vis-text vis-minor "+o,n},o.prototype._repaintMajorText=function(t,e,i,o){var n=this.dom.redundant.majorTexts.shift();if(!n){var s=document.createTextNode(e);n=document.createElement("div"),n.appendChild(s),this.dom.foreground.appendChild(n)}return this.dom.majorTexts.push(n),n.childNodes[0].nodeValue=e,n.className="vis-text vis-major "+o,n.style.top="top"==i?"0":this.props.minorLabelHeight+"px",n.style.left=t+"px",n},o.prototype._repaintMinorLine=function(t,e,i,o){var n=this.dom.redundant.lines.shift();n||(n=document.createElement("div"),this.dom.background.appendChild(n)),this.dom.lines.push(n);var s=this.props;return"top"==i?n.style.top=s.majorLabelHeight+"px":n.style.top=this.body.domProps.top.height+"px",n.style.height=s.minorLineHeight+"px",n.style.left=t-s.minorLineWidth/2+"px",n.style.width=e+"px",n.className="vis-grid vis-vertical vis-minor "+o,n},o.prototype._repaintMajorLine=function(t,e,i,o){var n=this.dom.redundant.lines.shift();n||(n=document.createElement("div"),this.dom.background.appendChild(n)),this.dom.lines.push(n);var s=this.props;return"top"==i?n.style.top="0":n.style.top=this.body.domProps.top.height+"px",n.style.left=t-s.majorLineWidth/2+"px",n.style.height=s.majorLineHeight+"px",n.style.width=e+"px",n.className="vis-grid vis-vertical vis-major "+o,n},o.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var d=!1;t.exports=o},function(t,e,i){function o(t){this.active=!1,this.dom={container:t},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=a(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var e=this,i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];i.forEach(function(t){e.hammer.on(t,function(t){t.stopPropagation()})}),document&&document.body&&(this.onClick=function(i){n(i.target,t)||e.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=s(),this.escListener=this.deactivate.bind(this)}function n(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var s=i(41),r=i(12),a=i(20),h=i(1);r(o.prototype),o.current=null,o.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},o.prototype.activate=function(){o.current&&o.current.deactivate(),o.current=this,this.active=!0,this.dom.overlay.style.display="none",h.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},o.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",h.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},o.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()},t.exports=o},function(t,e,i){var o,n,s;!function(i,r){n=[],o=r,s="function"==typeof o?o.apply(e,n):o,!(void 0!==s&&(t.exports=s))}(this,function(){function t(t){var e,i=t&&t.preventDefault||!1,o=t&&t.container||window,n={},s={keydown:{},keyup:{}},r={};for(e=97;122>=e;e++)r[String.fromCharCode(e)]={code:65+(e-97),shift:!1};for(e=65;90>=e;e++)r[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;9>=e;e++)r[""+e]={code:48+e,shift:!1};for(e=1;12>=e;e++)r["F"+e]={code:111+e,shift:!1};for(e=0;9>=e;e++)r["num"+e]={code:96+e,shift:!1};r["num*"]={code:106,shift:!1},r["num+"]={code:107,shift:!1},r["num-"]={code:109,shift:!1},r["num/"]={code:111,shift:!1},r["num."]={code:110,shift:!1},r.left={code:37,shift:!1},r.up={code:38,shift:!1},r.right={code:39,shift:!1},r.down={code:40,shift:!1},r.space={code:32,shift:!1},r.enter={code:13,shift:!1},r.shift={code:16,shift:void 0},r.esc={code:27,shift:!1},r.backspace={code:8,shift:!1},r.tab={code:9,shift:!1},r.ctrl={code:17,shift:!1},r.alt={code:18,shift:!1},r["delete"]={code:46,shift:!1},r.pageup={code:33,shift:!1},r.pagedown={code:34,shift:!1},r["="]={code:187,shift:!1},r["-"]={code:189,shift:!1},r["]"]={code:221,shift:!1},r["["]={code:219,shift:!1};var a=function(t){d(t,"keydown")},h=function(t){d(t,"keyup")},d=function(t,e){if(void 0!==s[e][t.keyCode]){for(var o=s[e][t.keyCode],n=0;n<o.length;n++)void 0===o[n].shift?o[n].fn(t):1==o[n].shift&&1==t.shiftKey?o[n].fn(t):0==o[n].shift&&0==t.shiftKey&&o[n].fn(t);1==i&&t.preventDefault()}};return n.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===r[t])throw new Error("unsupported key: "+t);void 0===s[i][r[t].code]&&(s[i][r[t].code]=[]),s[i][r[t].code].push({fn:e,shift:r[t].shift})},n.bindAll=function(t,e){void 0===e&&(e="keydown");for(var i in r)r.hasOwnProperty(i)&&n.bind(i,t,e)},n.getKey=function(t){for(var e in r)if(r.hasOwnProperty(e)){if(1==t.shiftKey&&1==r[e].shift&&t.keyCode==r[e].code)return e;if(0==t.shiftKey&&0==r[e].shift&&t.keyCode==r[e].code)return e;if(t.keyCode==r[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},n.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===r[t])throw new Error("unsupported key: "+t);if(void 0!==e){var o=[],n=s[i][r[t].code];if(void 0!==n)for(var a=0;a<n.length;a++)(n[a].fn!=e||n[a].shift!=r[t].shift)&&o.push(s[i][r[t].code][a]);s[i][r[t].code]=o}else s[i][r[t].code]=[]},n.reset=function(){s={keydown:{},keyup:{}}},n.destroy=function(){s={keydown:{},keyup:{}},o.removeEventListener("keydown",a,!0),o.removeEventListener("keyup",h,!0)},o.addEventListener("keydown",a,!0),o.addEventListener("keyup",h,!0),n}return t})},function(t,e,i){function o(t,e){this.body=t,this.defaultOptions={moment:a,locales:h,locale:"en",id:void 0,title:void 0},this.options=s.extend({},this.defaultOptions),e&&e.time?this.customTime=e.time:this.customTime=new Date,this.eventParams={},this.setOptions(e),this._create()}var n=i(20),s=i(1),r=i(26),a=i(2),h=i(43);o.prototype=new r,o.prototype.setOptions=function(t){t&&s.selectiveExtend(["moment","locale","locales","id"],this.options,t)},o.prototype._create=function(){var t=document.createElement("div");t["custom-time"]=this,t.className="vis-custom-time "+(this.options.id||""),t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t;var e=document.createElement("div");e.style.position="relative",e.style.top="0px",e.style.left="-10px",e.style.height="100%",e.style.width="20px",t.appendChild(e),this.hammer=new n(e),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:30})},o.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},o.prototype.redraw=function(){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar));var e=this.body.util.toScreen(this.customTime),i=this.options.locales[this.options.locale];i||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline.html#Localization"),this.warned=!0),i=this.options.locales.en);var o=this.options.title;return void 0===o&&(o=i.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss"),o=o.charAt(0).toUpperCase()+o.substring(1)),this.bar.style.left=e+"px",this.bar.title=o,!1},o.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},o.prototype.setCustomTime=function(t){this.customTime=s.convert(t,"Date"),this.redraw()},o.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},o.prototype.setCustomTitle=function(t){this.options.title=t},o.prototype._onDragStart=function(t){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,t.stopPropagation()},o.prototype._onDrag=function(t){if(this.eventParams.dragging){var e=this.body.util.toScreen(this.eventParams.customTime)+t.deltaX,i=this.body.util.toTime(e);this.setCustomTime(i),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf())}),t.stopPropagation()}},o.prototype._onDragEnd=function(t){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf())}),t.stopPropagation())},o.customTimeFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("custom-time"))return e["custom-time"];e=e.parentNode}return null},t.exports=o},function(t,e){e.en={current:"current",time:"time"},e.en_EN=e.en,e.en_US=e.en,e.nl={current:"huidige",time:"tijd"},e.nl_NL=e.nl,e.nl_BE=e.nl},function(t,e,i){function o(t,e){this.body=t,this.defaultOptions={showCurrentTime:!0,moment:r,locales:a,locale:"en"},this.options=n.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(e)}var n=i(1),s=i(26),r=i(2),a=i(43);o.prototype=new s,o.prototype._create=function(){var t=document.createElement("div");t.className="vis-current-time",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t},o.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},o.prototype.setOptions=function(t){t&&n.selectiveExtend(["showCurrentTime","moment","locale","locales"],this.options,t)},o.prototype.redraw=function(){if(this.options.showCurrentTime){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar),this.start());var e=this.options.moment((new Date).valueOf()+this.offset),i=this.body.util.toScreen(e),o=this.options.locales[this.options.locale];o||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),o=this.options.locales.en);var n=o.current+" "+o.time+": "+e.format("dddd, MMMM Do YYYY, H:mm:ss");n=n.charAt(0).toUpperCase()+n.substring(1),this.bar.style.left=i+"px",this.bar.title=n}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},o.prototype.start=function(){function t(){e.stop();var i=e.body.range.conversion(e.body.domProps.center.width).scale,o=1/i/10;30>o&&(o=30),o>1e3&&(o=1e3),e.redraw(),e.currentTimeTimer=setTimeout(t,o)}var e=this;t()},o.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},o.prototype.setCurrentTime=function(t){var e=n.convert(t,"Date").valueOf(),i=(new Date).valueOf();this.offset=e-i,this.redraw()},o.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},t.exports=o},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(46),a=o(r),h=i(1),d=function(){function t(e,i,o){var s=arguments.length<=3||void 0===arguments[3]?1:arguments[3];n(this,t),this.parent=e,this.changedOptions=[],this.container=i,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},h.extend(this.options,this.defaultOptions),this.configureOptions=o,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new a["default"](s),this.wrapper=void 0}return s(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;"string"==typeof t?this.options.filter=t:t instanceof Array?this.options.filter=t.join():"object"==typeof t?(void 0!==t.container&&(this.options.container=t.container),void 0!==t.filter&&(this.options.filter=t.filter),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)):"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0),this.options.filter===!1&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,this.options.enabled===!0&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var t=this;this._clean(),this.changedOptions=[];var e=this.options.filter,i=0,o=!1;for(var n in this.configureOptions)this.configureOptions.hasOwnProperty(n)&&(this.allowCreation=!1,o=!1,"function"==typeof e?(o=e(n,[]),o=o||this._handleObject(this.configureOptions[n],[n],!0)):(e===!0||-1!==e.indexOf(n))&&(o=!0),o!==!1&&(this.allowCreation=!0,i>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),i++);this.options.showButton===!0&&!function(){var e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerHTML="generate options",e.onclick=function(){t._printOptions()},e.onmouseover=function(){e.className="vis-configuration vis-config-button hover"},e.onmouseout=function(){e.className="vis-configuration vis-config-button"},t.optionsContainer=document.createElement("div"),t.optionsContainer.className="vis-configuration vis-config-option-container",t.domElements.push(t.optionsContainer),t.domElements.push(e)}(),this._push(),this.colorPicker.insertTo(this.container)}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}},{key:"_makeItem",value:function(t){var e=arguments,i=this;if(this.allowCreation===!0){var o,n,s,r=function(){var r=document.createElement("div");for(r.className="vis-configuration vis-config-item vis-config-s"+t.length,o=e.length,n=Array(o>1?o-1:0),s=1;o>s;s++)n[s-1]=e[s];return n.forEach(function(t){r.appendChild(t)}),i.domElements.push(r),{v:i.domElements.length}}();if("object"==typeof r)return r.v}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerHTML=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],o=document.createElement("div");return o.className="vis-configuration vis-config-label vis-config-s"+e.length,i===!0?o.innerHTML="<i><b>"+t+":</b></i>":o.innerHTML=t+":",o}},{key:"_makeDropdown",value:function(t,e,i){var o=document.createElement("select");o.className="vis-configuration vis-config-select";var n=0;void 0!==e&&-1!==t.indexOf(e)&&(n=t.indexOf(e));for(var s=0;s<t.length;s++){var r=document.createElement("option");r.value=t[s],s===n&&(r.selected="selected"),r.innerHTML=t[s],o.appendChild(r)}var a=this;o.onchange=function(){a._update(this.value,i)};var h=this._makeLabel(i[i.length-1],i);this._makeItem(i,h,o)}},{key:"_makeRange",value:function(t,e,i){var o=t[0],n=t[1],s=t[2],r=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=n,a.max=s}catch(h){}a.step=r;var d="",l=0;if(void 0!==e){var u=1.2;0>e&&n>e*u?(a.min=Math.ceil(e*u),l=a.min,d="range increased"):n>e/u&&(a.min=Math.ceil(e/u),l=a.min,d="range increased"),e*u>s&&1!==s&&(a.max=Math.ceil(e*u),l=a.max,d="range increased"),a.value=e}else a.value=o;var c=document.createElement("input");c.className="vis-configuration vis-config-rangeinput",c.value=a.value;var p=this;a.onchange=function(){c.value=this.value,p._update(Number(this.value),i)},a.oninput=function(){c.value=this.value};var f=this._makeLabel(i[i.length-1],i),m=this._makeItem(i,f,a,c);""!==d&&this.popupHistory[m]!==l&&(this.popupHistory[m]=l,this._setupPopup(d,m))}},{key:"_setupPopup",value:function(t,e){var i=this;if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){var o=document.createElement("div");o.id="vis-configuration-popup",o.className="vis-configuration-popup",o.innerHTML=t,o.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:o,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index],i=e.getBoundingClientRect();this.popupDiv.html.style.left=i.left+"px",this.popupDiv.html.style.top=i.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){t.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){t._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(t,e,i){var o=document.createElement("input");o.type="checkbox",o.className="vis-configuration vis-config-checkbox",o.checked=t,void 0!==e&&(o.checked=e,e!==t&&("object"==typeof t?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e})));var n=this;o.onchange=function(){n._update(this.checked,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,o)}},{key:"_makeTextInput",value:function(t,e,i){var o=document.createElement("input");o.type="text",o.className="vis-configuration vis-config-text",o.value=e,e!==t&&this.changedOptions.push({path:i,value:e});var n=this;o.onchange=function(){n._update(this.value,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,o)}},{key:"_makeColorField",value:function(t,e,i){var o=this,n=t[1],s=document.createElement("div");e=void 0===e?n:e,"none"!==e?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=e):s.className="vis-configuration vis-config-colorBlock none",e=void 0===e?n:e,s.onclick=function(){o._showColorPicker(e,s,i)};var r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,s)}},{key:"_showColorPicker",value:function(t,e,i){var o=this,n=e.getBoundingClientRect(),s=document.body.getBoundingClientRect(),r=n.left+n.width+5,a=n.top-s.top+n.height+2;this.colorPicker.show(r,a),this.colorPicker.setColor(t),this.colorPicker.setCallback(function(t){var n="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=n,o._update(n,i)})}},{key:"_handleObject",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],o=!1,n=this.options.filter,s=!1;for(var r in t)if(t.hasOwnProperty(r)){o=!0;var a=t[r],d=h.copyAndExtendArray(e,r);if("function"==typeof n&&(o=n(r,e),o===!1&&!(a instanceof Array)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,o=this._handleObject(a,d,!0),this.allowCreation=i===!1)),o!==!1){s=!0;var l=this._getValue(d);if(a instanceof Array)this._handleArray(a,l,d);else if("string"==typeof a)this._makeTextInput(a,l,d);else if("boolean"==typeof a)this._makeCheckbox(a,l,d);else if(a instanceof Object){var u=!0;if(-1!==e.indexOf("physics")&&this.moduleOptions.physics.solver!==r&&(u=!1),u===!0)if(void 0!==a.enabled){var c=h.copyAndExtendArray(d,"enabled"),p=this._getValue(c);if(p===!0){var f=this._makeLabel(r,d,!0);this._makeItem(d,f),s=this._handleObject(a,d)||s}else this._makeCheckbox(a,p,d)}else{var f=this._makeLabel(r,d,!0);this._makeItem(d,f),s=this._handleObject(a,d)||s}}else console.error("dont know how to handle",a,r,d)}}return s}},{key:"_handleArray",value:function(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}},{key:"_update",value:function(t,e){var i=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],o=i;t="true"===t?!0:t,t="false"===t?!1:t;for(var n=0;n<e.length;n++)"global"!==e[n]&&(void 0===o[e[n]]&&(o[e[n]]={}),n!==e.length-1?o=o[e[n]]:o[e[n]]=t);return i}},{key:"_printOptions",value:function(){var t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+JSON.stringify(t,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),t}();e["default"]=d,t.exports=e["default"]},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=i(20),r=i(25),a=i(1),h=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0];o(this,t),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this._create()}return n(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker callback is not a function.");this.updateCallback=t}},{key:"_isColorString",value:function(t){var e={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",
moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};return"string"==typeof t?e[t]:void 0}},{key:"setColor",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];if("none"!==t){var i=void 0,o=this._isColorString(t);if(void 0!==o&&(t=o),a.isString(t)===!0){if(a.isValidRGB(t)===!0){var n=t.substr(4).substr(0,t.length-5).split(",");i={r:n[0],g:n[1],b:n[2],a:1}}else if(a.isValidRGBA(t)===!0){var n=t.substr(5).substr(0,t.length-6).split(",");i={r:n[0],g:n[1],b:n[2],a:n[3]}}else if(a.isValidHex(t)===!0){var s=a.hexToRGB(t);i={r:s.r,g:s.g,b:s.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var r=void 0!==t.a?t.a:"1.0";i={r:t.r,g:t.g,b:t.b,a:r}}if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(t));this._setColor(i,e)}}},{key:"show",value:function(t,e){this.applied=!1,this.frame.style.display="block",this.frame.style.top=e+"px",this.frame.style.left=t+"px",this._generateHueCircle()}},{key:"_hide",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];t===!0&&(this.previousColor=a.extend({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none"}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];e===!0&&(this.initialColor=a.extend({},t)),this.color=t;var i=a.RGBToHSV(t.r,t.g,t.b),o=2*Math.PI,n=this.r*i.s,s=this.centerCoordinates.x+n*Math.sin(o*i.h),r=this.centerCoordinates.y+n*Math.cos(o*i.h);this.colorPickerSelector.style.left=s-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=r-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=a.RGBToHSV(this.color.r,this.color.g,this.color.b);e.v=t/100;var i=a.HSVToRGB(e.h,e.s,e.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.color:arguments[0],e=a.RGBToHSV(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var o=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,o,n),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),i.fill(),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(e)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(i){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(i){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var o=this;this.opacityRange.onchange=function(){o._setOpacity(this.value)},this.opacityRange.oninput=function(){o._setOpacity(this.value)},this.brightnessRange.onchange=function(){o._setBrightness(this.value)},this.brightnessRange.oninput=function(){o._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new s(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),r.onTouch(this.hammer,function(e){t._moveSelector(e)}),this.hammer.on("tap",function(e){t._moveSelector(e)}),this.hammer.on("panstart",function(e){t._moveSelector(e)}),this.hammer.on("panmove",function(e){t._moveSelector(e)}),this.hammer.on("panend",function(e){t._moveSelector(e)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,e,i);var o=void 0,n=void 0,s=void 0,r=void 0;this.centerCoordinates={x:.5*e,y:.5*i},this.r=.49*e;var h=2*Math.PI/360,d=1/360,l=1/this.r,u=void 0;for(s=0;360>s;s++)for(r=0;r<this.r;r++)o=this.centerCoordinates.x+r*Math.sin(h*s),n=this.centerCoordinates.y+r*Math.cos(h*s),u=a.HSVToRGB(s*d,r*l,1),t.fillStyle="rgb("+u.r+","+u.g+","+u.b+")",t.fillRect(o-.5,n-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,e,i)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),i=t.center.x-e.left,o=t.center.y-e.top,n=.5*this.colorPickerDiv.clientHeight,s=.5*this.colorPickerDiv.clientWidth,r=i-s,h=o-n,d=Math.atan2(r,h),l=.98*Math.min(Math.sqrt(r*r+h*h),s),u=Math.cos(d)*l+n,c=Math.sin(d)*l+s;this.colorPickerSelector.style.top=u-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=c-.5*this.colorPickerSelector.clientWidth+"px";var p=d/(2*Math.PI);p=0>p?p+1:p;var f=l/this.r,m=a.RGBToHSV(this.color.r,this.color.g,this.color.b);m.h=p,m.s=f;var v=a.HSVToRGB(m.h,m.s,m.v);v.a=this.color.a,this.color=v,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}();e["default"]=h,t.exports=e["default"]},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=i(1),r=!1,a=void 0,h="background: #FFeeee; color: #dd0000",d=function(){function t(){o(this,t)}return n(t,null,[{key:"validate",value:function(e,i,o){r=!1,a=i;var n=i;return void 0!==o&&(n=i[o]),t.parse(e,n,[]),r}},{key:"parse",value:function(e,i,o){for(var n in e)e.hasOwnProperty(n)&&t.check(n,e,i,o)}},{key:"check",value:function(e,i,o,n){void 0===o[e]&&void 0===o.__any__?t.getSuggestion(e,o,n):void 0===o[e]&&void 0!==o.__any__?"object"===t.getType(i[e])&&void 0!==o.__any__.__type__?t.checkFields(e,i,o,"__any__",o.__any__.__type__,n):t.checkFields(e,i,o,"__any__",o.__any__,n):void 0!==o[e].__type__?t.checkFields(e,i,o,e,o[e].__type__,n):t.checkFields(e,i,o,e,o[e],n)}},{key:"checkFields",value:function(e,i,o,n,a,d){var l=t.getType(i[e]),u=a[l];void 0!==u?"array"===t.getType(u)&&-1===u.indexOf(i[e])?(console.log('%cInvalid option detected in "'+e+'". Allowed values are:'+t.print(u)+' not "'+i[e]+'". '+t.printLocation(d,e),h),r=!0):"object"===l&&"__any__"!==n&&(d=s.copyAndExtendArray(d,e),t.parse(i[e],o[n],d)):void 0===a.any&&(console.log('%cInvalid type received for "'+e+'". Expected: '+t.print(Object.keys(a))+". Received ["+l+'] "'+i[e]+'"'+t.printLocation(d,e),h),r=!0)}},{key:"getType",value:function(t){var e=typeof t;return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":t._isAMomentObject===!0?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(e,i,o){var n=t.findInOptions(e,i,o,!1),s=t.findInOptions(e,a,[],!0),d=8,l=4;void 0!==n.indexMatch?console.log('%cUnknown option detected: "'+e+'" in '+t.printLocation(n.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+'"?\n\n',h):s.distance<=l&&n.distance>s.distance?console.log('%cUnknown option detected: "'+e+'" in '+t.printLocation(n.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(s.path,s.closestMatch,""),h):n.distance<=d?console.log('%cUnknown option detected: "'+e+'". Did you mean "'+n.closestMatch+'"?'+t.printLocation(n.path,e),h):console.log('%cUnknown option detected: "'+e+'". Did you mean one of these: '+t.print(Object.keys(i))+t.printLocation(o,e),h),r=!0}},{key:"findInOptions",value:function(e,i,o){var n=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],r=1e9,a="",h=[],d=e.toLowerCase(),l=void 0;for(var u in i){var c=void 0;if(void 0!==i[u].__type__&&n===!0){var p=t.findInOptions(e,i[u],s.copyAndExtendArray(o,u));r>p.distance&&(a=p.closestMatch,h=p.path,r=p.distance,l=p.indexMatch)}else-1!==u.toLowerCase().indexOf(d)&&(l=u),c=t.levenshteinDistance(e,u),r>c&&(a=u,h=s.copyArray(o),r=c)}return{closestMatch:a,path:h,distance:r,indexMatch:l}}},{key:"printLocation",value:function(t,e){for(var i=arguments.length<=2||void 0===arguments[2]?"Problem value found at: \n":arguments[2],o="\n\n"+i+"options = {\n",n=0;n<t.length;n++){for(var s=0;n+1>s;s++)o+="  ";o+=t[n]+": {\n"}for(var s=0;s<t.length+1;s++)o+="  ";o+=e+"\n";for(var n=0;n<t.length+1;n++){for(var s=0;s<t.length-n;s++)o+="  ";o+="}\n"}return o+"\n\n"}},{key:"print",value:function(t){return JSON.stringify(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var i,o=[];for(i=0;i<=e.length;i++)o[i]=[i];var n;for(n=0;n<=t.length;n++)o[0][n]=n;for(i=1;i<=e.length;i++)for(n=1;n<=t.length;n++)e.charAt(i-1)==t.charAt(n-1)?o[i][n]=o[i-1][n-1]:o[i][n]=Math.min(o[i-1][n-1]+1,Math.min(o[i][n-1]+1,o[i-1][n]+1));return o[e.length][t.length]}}]),t}();e["default"]=d,e.printStyle=h},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",n="number",s="array",r="date",a="object",h="dom",d="moment",l="any",u={configure:{enabled:{"boolean":o},filter:{"boolean":o,"function":"function"},container:{dom:h},__type__:{object:a,"boolean":o,"function":"function"}},align:{string:i},autoResize:{"boolean":o},throttleRedraw:{number:n},clickToUse:{"boolean":o},dataAttributes:{string:i,array:s},editable:{add:{"boolean":o,undefined:"undefined"},remove:{"boolean":o,undefined:"undefined"},updateGroup:{"boolean":o,undefined:"undefined"},updateTime:{"boolean":o,undefined:"undefined"},__type__:{"boolean":o,object:a}},end:{number:n,date:r,string:i,moment:d},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a}},__type__:{object:a}},moment:{"function":"function"},groupOrder:{string:i,"function":"function"},groupEditable:{add:{"boolean":o,undefined:"undefined"},remove:{"boolean":o,undefined:"undefined"},order:{"boolean":o,undefined:"undefined"},__type__:{"boolean":o,object:a}},groupOrderSwap:{"function":"function"},height:{string:i,number:n},hiddenDates:{start:{date:r,number:n,string:i,moment:d},end:{date:r,number:n,string:i,moment:d},repeat:{string:i},__type__:{object:a,array:s}},itemsAlwaysDraggable:{"boolean":o},locale:{string:i},locales:{__any__:{any:l},__type__:{object:a}},margin:{axis:{number:n},item:{horizontal:{number:n,undefined:"undefined"},vertical:{number:n,undefined:"undefined"},__type__:{object:a,number:n}},__type__:{object:a,number:n}},max:{date:r,number:n,string:i,moment:d},maxHeight:{number:n,string:i},maxMinorChars:{number:n},min:{date:r,number:n,string:i,moment:d},minHeight:{number:n,string:i},moveable:{"boolean":o},multiselect:{"boolean":o},multiselectPerGroup:{"boolean":o},onAdd:{"function":"function"},onUpdate:{"function":"function"},onMove:{"function":"function"},onMoving:{"function":"function"},onRemove:{"function":"function"},onAddGroup:{"function":"function"},onMoveGroup:{"function":"function"},onRemoveGroup:{"function":"function"},order:{"function":"function"},orientation:{axis:{string:i,undefined:"undefined"},item:{string:i,undefined:"undefined"},__type__:{string:i,object:a}},selectable:{"boolean":o},showCurrentTime:{"boolean":o},showMajorLabels:{"boolean":o},showMinorLabels:{"boolean":o},stack:{"boolean":o},snap:{"function":"function","null":"null"},start:{date:r,number:n,string:i,moment:d},template:{"function":"function"},groupTemplate:{"function":"function"},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:n,undefined:"undefined"},__type__:{object:a}},type:{string:i},width:{string:i,number:n},zoomable:{"boolean":o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:n},zoomMin:{number:n},__type__:{object:a}},c={global:{align:["center","left","right"],autoResize:!0,throttleRedraw:[10,0,1e3,10],clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,start:"",type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}};e.allOptions=u,e.configureOptions=c},function(t,e,i){function o(t,e,i,o){if(!(Array.isArray(i)||i instanceof r||i instanceof a)&&i instanceof Object){var d=o;o=i,i=d}var c=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:n,width:null,height:null,maxHeight:null,minHeight:null},this.options=s.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:c._toScreen.bind(c),toGlobalScreen:c._toGlobalScreen.bind(c),toTime:c._toTime.bind(c),toGlobalTime:c._toGlobalTime.bind(c)}},this.range=new h(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new l(this.body),this.components.push(this.timeAxis),this.currentTime=new u(this.body),this.components.push(this.currentTime),this.linegraph=new p(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(t){c.emit("click",c.getEventProperties(t))}),this.on("doubletap",function(t){c.emit("doubleClick",c.getEventProperties(t))}),this.dom.root.oncontextmenu=function(t){c.emit("contextmenu",c.getEventProperties(t))},o&&this.setOptions(o),i&&this.setGroups(i),e?this.setItems(e):this._redraw()}var n=(i(12),i(20),i(2)),s=i(1),r=i(8),a=i(10),h=i(24),d=i(28),l=i(39),u=i(44),c=i(42),p=i(50),f=i(45),m=i(47)["default"],v=i(47).printStyle,g=i(58).allOptions,y=i(58).configureOptions;o.prototype=new d,o.prototype.setOptions=function(t){var e=m.validate(t,g);e===!0&&console.log("%cErrors have been found in the supplied options object.",v),d.prototype.setOptions.call(this,t)},o.prototype.setItems=function(t){var e,i=null==this.itemsData;if(e=t?t instanceof r||t instanceof a?t:new r(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.linegraph&&this.linegraph.setItems(e),i)if(void 0!=this.options.start||void 0!=this.options.end){var o=void 0!=this.options.start?this.options.start:null,n=void 0!=this.options.end?this.options.end:null;this.setWindow(o,n,{animation:!1})}else this.fit({animation:!1})},o.prototype.setGroups=function(t){var e;e=t?t instanceof r||t instanceof a?t:new r(t):null,this.groupsData=e,this.linegraph.setGroups(e)},o.prototype.getLegend=function(t,e,i){return void 0===e&&(e=15),void 0===i&&(i=15),void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].getLegend(e,i):"cannot find group:'"+t+"'"},o.prototype.isGroupVisible=function(t){return void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].visible&&(void 0===this.linegraph.options.groups.visibility[t]||1==this.linegraph.options.groups.visibility[t]):!1},o.prototype.getDataRange=function(){var t=null,e=null;for(var i in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(i)&&1==this.linegraph.groups[i].visible)for(var o=0;o<this.linegraph.groups[i].itemsData.length;o++){var n=this.linegraph.groups[i].itemsData[o],r=s.convert(n.x,"Date").valueOf();t=null==t?r:t>r?r:t,e=null==e?r:r>e?r:e}return{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},o.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY,o=e-s.getAbsoluteLeft(this.dom.centerContainer),n=i-s.getAbsoluteTop(this.dom.centerContainer),r=this._toTime(o),a=c.customTimeFromTarget(t),h=s.getTarget(t),d=null;s.hasParent(h,this.timeAxis.dom.foreground)?d="axis":this.timeAxis2&&s.hasParent(h,this.timeAxis2.dom.foreground)?d="axis":s.hasParent(h,this.linegraph.yAxisLeft.dom.frame)?d="data-axis":s.hasParent(h,this.linegraph.yAxisRight.dom.frame)?d="data-axis":s.hasParent(h,this.linegraph.legendLeft.dom.frame)?d="legend":s.hasParent(h,this.linegraph.legendRight.dom.frame)?d="legend":null!=a?d="custom-time":s.hasParent(h,this.currentTime.bar)?d="current-time":s.hasParent(h,this.dom.center)&&(d="background");var l=[],u=this.linegraph.yAxisLeft,p=this.linegraph.yAxisRight;return u.hidden||l.push(u.screenToValue(n)),p.hidden||l.push(p.screenToValue(n)),{event:t,what:d,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:o,y:n,time:r,value:l}},o.prototype._createConfigurator=function(){return new f(this,this.dom.container,y)},t.exports=o},function(t,e,i){function o(t,e){this.id=n.randomUUID(),this.body=t,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(t){return t},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(t){return t},title:{text:void 0,style:void 0}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},groups:{visibility:{}}},this.options=n.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,o){i._onAdd(e.items)},update:function(t,e,o){i._onUpdate(e.items)},remove:function(t,e,o){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,o){i._onAddGroups(e.items)},update:function(t,e,o){i._onUpdateGroups(e.items)},remove:function(t,e,o){i._onRemoveGroups(e.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.COUNTER=0,this.body.emitter.on("rangechanged",function(){i.lastStart=i.body.range.start,i.svg.style.left=n.option.asSize(-i.props.width),i.redraw.call(i,!0)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.body.emitter.emit("change")}var n=i(1),s=i(7),r=i(8),a=i(10),h=i(26),d=i(51),l=i(53),u=i(57),c=i(54),p=i(56),f=i(55),m="__ungrouped__";o.prototype=new h,o.prototype._create=function(){var t=document.createElement("div");t.className="vis-line-graph",this.dom.frame=t,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",t.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new d(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new d(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new u(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new u(this.body,this.options.legend,"right",this.options.groups),this.show()},o.prototype.setOptions=function(t){if(t){var e=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];void 0===t.graphHeight&&void 0!==t.height&&void 0!==this.body.domProps.centerContainer.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==t.graphHeight&&parseInt((t.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),n.selectiveDeepExtend(e,this.options,t),n.mergeOptions(this.options,t,"interpolation"),n.mergeOptions(this.options,t,"drawPoints"),n.mergeOptions(this.options,t,"shaded"),n.mergeOptions(this.options,t,"legend"),t.interpolation&&"object"==typeof t.interpolation&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==t.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==t.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(m)&&this.groups[m].setOptions(t)}this.dom.frame&&this.redraw(!0)},o.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},o.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},o.prototype.setItems=function(t){var e,i=this,o=this.itemsData;if(t){if(!(t instanceof r||t instanceof a))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(o&&(n.forEach(this.itemListeners,function(t,e){o.off(e,t)}),e=o.getIds(),this._onRemove(e)),this.itemsData){var s=this.id;n.forEach(this.itemListeners,function(t,e){i.itemsData.on(e,t,s)}),e=this.itemsData.getIds(),this._onAdd(e)}},o.prototype.setGroups=function(t){var e,i=this;if(this.groupsData){n.forEach(this.groupListeners,function(t,e){i.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null;for(var o=0;o<e.length;o++)this._removeGroup(e[o])}if(t){if(!(t instanceof r||t instanceof a))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var s=this.id;n.forEach(this.groupListeners,function(t,e){i.groupsData.on(e,t,s)}),e=this.groupsData.getIds(),this._onAddGroups(e)}},o.prototype._onUpdate=function(t){this._updateAllGroupData(),this.redraw(!0)},o.prototype._onAdd=function(t){this._onUpdate(t)},o.prototype._onRemove=function(t){this._onUpdate(t)},o.prototype._onUpdateGroups=function(t){this._updateAllGroupData(),this.redraw(!0)},o.prototype._onAddGroups=function(t){this._onUpdateGroups(t)},o.prototype._onRemoveGroups=function(t){for(var e=0;e<t.length;e++)this._removeGroup(t[e]);this.redraw(!0)},o.prototype._removeGroup=function(t){this.groups.hasOwnProperty(t)&&("right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t),this.legendLeft.redraw()),delete this.groups[t])},o.prototype._updateGroup=function(t,e){this.groups.hasOwnProperty(e)?(this.groups[e].update(t),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e])):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]))):(this.groups[e]=new l(t,e,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()},o.prototype._updateAllGroupData=function(){if(null!=this.itemsData){for(var t={},e=this.itemsData.get(),i={},o=0;o<e.length;o++){var s=e[o],r=s.group;(null===r||void 0===r)&&(r=m),i.hasOwnProperty(r)?i[r]++:i[r]=1}for(var o=0;o<e.length;o++){var s=e[o],r=s.group;(null===r||void 0===r)&&(r=m),t.hasOwnProperty(r)||(t[r]=new Array(i[r]));var a=n.bridgeObject(s);a.x=n.convert(s.x,"Date"),a.orginalY=s.y,a.y=Number(s.y);var h=t[r].length-i[r]--;t[r][h]=a}for(var r in this.groups)this.groups.hasOwnProperty(r)&&(t.hasOwnProperty(r)||(t[r]=new Array(0)));for(var r in t)if(t.hasOwnProperty(r))if(0==t[r].length)this.groups.hasOwnProperty(r)&&this._removeGroup(r);else{var d=void 0;void 0!=this.groupsData&&(d=this.groupsData.get(r)),void 0==d&&(d={id:r,content:this.options.defaultGroup+r}),this._updateGroup(d,r),this.groups[r].setItems(t[r])}}},o.prototype.redraw=function(t){var e=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,void 0===this.lastWidth&&this.props.width&&(t=!0),e=this._isResized()||e;var i=this.body.range.end-this.body.range.start,o=i!=this.lastVisibleInterval;if(this.lastVisibleInterval=i,1==e&&(this.svg.style.width=n.option.asSize(3*this.props.width),this.svg.style.left=n.option.asSize(-this.props.width),(-1!=(this.options.height+"").indexOf("%")||1==this.updateSVGheightOnResize)&&(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==e||1==o||1==this.abortedGraphUpdate||1==t)e=this._updateGraph()||e;else if(0!=this.lastStart){var s=this.body.range.start-this.lastStart,r=this.body.range.end-this.body.range.start;if(0!=this.props.width){var a=this.props.width/r,h=s*a;this.svg.style.left=-this.props.width-h+"px";
}}return this.legendLeft.redraw(),this.legendRight.redraw(),e},o.prototype._getSortedGroupIds=function(){var t=[];for(var e in this.groups)if(this.groups.hasOwnProperty(e)){var i=this.groups[e];1!=i.visible||void 0!==this.options.groups.visibility[e]&&1!=this.options.groups.visibility[e]||t.push({id:e,zIndex:i.options.zIndex})}n.insertSort(t,function(t,e){var i=t.zIndex,o=e.zIndex;return void 0===i&&(i=0),void 0===o&&(o=0),i==o?0:o>i?-1:1});for(var o=new Array(t.length),s=0;s<t.length;s++)o[s]=t[s].id;return o},o.prototype._updateGraph=function(){if(s.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var t,e,i={},o=!1,n=this.body.util.toGlobalTime(-this.body.domProps.root.width),r=this.body.util.toGlobalTime(2*this.body.domProps.root.width),a=this._getSortedGroupIds();if(a.length>0){var h={};for(this._getRelevantData(a,h,n,r),this._applySampling(a,h),e=0;e<a.length;e++)this._convertXcoordinates(h[a[e]]);this._getYRanges(a,h,i),o=this._updateYAxis(a,i);var d=5;if(1==o&&this.COUNTER<d)return s.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,this.COUNTER++,this.body.emitter.emit("change"),!0;this.COUNTER>d&&console.log("WARNING: there may be an infinite loop in the _updateGraph emitter cycle."),this.COUNTER=0,this.abortedGraphUpdate=!1;var l=void 0;for(e=0;e<a.length;e++)t=this.groups[a[e]],this.options.stack===!0&&"line"===this.options.style&&(void 0!=t.options.excludeFromStacking&&t.options.excludeFromStacking||(void 0!=l&&(this._stack(h[t.id],h[l.id]),1==t.options.shaded.enabled&&"group"!==t.options.shaded.orientation&&("top"==t.options.shaded.orientation&&"group"!==l.options.shaded.orientation?(l.options.shaded.orientation="group",l.options.shaded.groupId=t.id):(t.options.shaded.orientation="group",t.options.shaded.groupId=l.id))),l=t)),this._convertYcoordinates(h[a[e]],t);var u={};for(e=0;e<a.length;e++)if(t=this.groups[a[e]],"line"===t.options.style&&1==t.options.shaded.enabled){var m=h[a[e]];if(u.hasOwnProperty(a[e])||(u[a[e]]=p.calcPath(m,t)),"group"===t.options.shaded.orientation){var v=t.options.shaded.groupId;if(-1===a.indexOf(v)){console.log(t.id+": Unknown shading group target given:"+v);continue}u.hasOwnProperty(v)||(u[v]=p.calcPath(h[v],this.groups[v])),p.drawShading(u[a[e]],t,u[v],this.framework)}else p.drawShading(u[a[e]],t,void 0,this.framework)}for(c.draw(a,h,this.framework),e=0;e<a.length;e++)if(t=this.groups[a[e]],h[a[e]].length>0)switch(t.options.style){case"line":u.hasOwnProperty(a[e])||(u[a[e]]=p.calcPath(h[a[e]],t)),p.draw(u[a[e]],t,this.framework);case"point":case"points":("point"==t.options.style||"points"==t.options.style||1==t.options.drawPoints.enabled)&&f.draw(h[a[e]],t,this.framework);break;case"bar":}}}return s.cleanupElements(this.svgElements),!1},o.prototype._stack=function(t,e){var i,o,n,s,r;i=0;for(var a=0;a<t.length;a++){s=void 0,r=void 0;for(var h=i;h<e.length;h++){if(e[h].x===t[a].x){s=e[h],r=e[h],i=h;break}if(e[h].x>t[a].x){r=e[h],s=0==h?r:e[h-1],i=h;break}}void 0===r&&(s=e[e.length-1],r=e[e.length-1]),o=r.x-s.x,n=r.y-s.y,0==o?t[a].y=t[a].orginalY+r.y:t[a].y=t[a].orginalY+n/o*(t[a].x-s.x)+s.y}},o.prototype._getRelevantData=function(t,e,i,o){var s,r,a,h;if(t.length>0)for(r=0;r<t.length;r++){s=this.groups[t[r]];var d=s.getItems();if(1==s.options.sort){var l=Math.max(0,n.binarySearchValue(d,i,"x","before")),u=Math.min(d.length,n.binarySearchValue(d,o,"x","after")+1);0>=u&&(u=d.length);var c=new Array(u-l);for(a=l;u>a;a++)h=s.itemsData[a],c[a-l]=h;e[t[r]]=c}else e[t[r]]=s.itemsData}},o.prototype._applySampling=function(t,e){var i;if(t.length>0)for(var o=0;o<t.length;o++)if(i=this.groups[t[o]],1==i.options.sampling){var n=e[t[o]];if(n.length>0){var s=1,r=n.length,a=this.body.util.toGlobalScreen(n[n.length-1].x)-this.body.util.toGlobalScreen(n[0].x),h=r/a;s=Math.min(Math.ceil(.2*r),Math.max(1,Math.round(h)));for(var d=new Array(r),l=0;r>l;l+=s){var u=Math.round(l/s);d[u]=n[l]}e[t[o]]=d.splice(0,Math.round(r/s))}}},o.prototype._getYRanges=function(t,e,i){var o,n,s,r,a=[],h=[];if(t.length>0){for(s=0;s<t.length;s++)o=e[t[s]],r=this.groups[t[s]].options,o.length>0&&(n=this.groups[t[s]],r.stack===!0&&"bar"===r.style?"left"===r.yAxisOrientation?a=a.concat(n.getItems()):h=h.concat(n.getItems()):i[t[s]]=n.getYRange(o,t[s]));c.getStackedYRange(a,i,t,"__barStackLeft","left"),c.getStackedYRange(h,i,t,"__barStackRight","right")}},o.prototype._updateYAxis=function(t,e){var i,o,n=!1,s=!1,r=!1,a=1e9,h=1e9,d=-1e9,l=-1e9;if(t.length>0){for(var u=0;u<t.length;u++){var c=this.groups[t[u]];c&&"right"!=c.options.yAxisOrientation?(s=!0,a=1e9,d=-1e9):c&&c.options.yAxisOrientation&&(r=!0,h=1e9,l=-1e9)}for(var u=0;u<t.length;u++)e.hasOwnProperty(t[u])&&e[t[u]].ignore!==!0&&(i=e[t[u]].min,o=e[t[u]].max,"right"!=e[t[u]].yAxisOrientation?(s=!0,a=a>i?i:a,d=o>d?o:d):(r=!0,h=h>i?i:h,l=o>l?o:l));1==s&&this.yAxisLeft.setRange(a,d),1==r&&this.yAxisRight.setRange(h,l)}n=this._toggleAxisVisiblity(s,this.yAxisLeft)||n,n=this._toggleAxisVisiblity(r,this.yAxisRight)||n,1==r&&1==s?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!s,0==this.yAxisRight.master?(1==r?this.yAxisLeft.lineOffset=this.yAxisRight.width:this.yAxisLeft.lineOffset=0,n=this.yAxisLeft.redraw()||n,this.yAxisRight.stepPixels=this.yAxisLeft.stepPixels,this.yAxisRight.zeroCrossing=this.yAxisLeft.zeroCrossing,this.yAxisRight.amountOfSteps=this.yAxisLeft.amountOfSteps,n=this.yAxisRight.redraw()||n):n=this.yAxisRight.redraw()||n;for(var p=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"],u=0;u<p.length;u++)-1!=t.indexOf(p[u])&&t.splice(t.indexOf(p[u]),1);return n},o.prototype._toggleAxisVisiblity=function(t,e){var i=!1;return 0==t?e.dom.frame.parentNode&&0==e.hidden&&(e.hide(),i=!0):e.dom.frame.parentNode||1!=e.hidden||(e.show(),i=!0),i},o.prototype._convertXcoordinates=function(t){for(var e=this.body.util.toScreen,i=0;i<t.length;i++)t[i].screen_x=e(t[i].x)+this.props.width,t[i].screen_y=t[i].y},o.prototype._convertYcoordinates=function(t,e){var i=this.yAxisLeft,o=Number(this.svg.style.height.replace("px",""));"right"==e.options.yAxisOrientation&&(i=this.yAxisRight);for(var n=0;n<t.length;n++)t[n].screen_y=Math.round(i.convertValue(t[n].y));e.setZeroPosition(Math.min(o,i.convertValue(0)))},t.exports=o},function(t,e,i){function o(t,e,i,o){this.id=n.randomUUID(),this.body=t,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!0,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(t){return t},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(t){return t},title:{text:void 0,style:void 0}}},this.linegraphOptions=o,this.linegraphSVG=i,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.range={start:0,end:0},this.options=n.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(e),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var s=this;this.body.emitter.on("verticalDrag",function(){s.dom.lineContainer.style.top=s.body.domProps.scrollTop+"px"})}var n=i(1),s=i(7),r=i(26),a=i(52);o.prototype=new r,o.prototype.addGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1},o.prototype.updateGroup=function(t,e){this.groups[t]=e},o.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},o.prototype.setOptions=function(t){if(t){var e=!1;this.options.orientation!=t.orientation&&void 0!==t.orientation&&(e=!0);var i=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];n.selectiveExtend(i,this.options,t),this.minWidth=Number((""+this.options.width).replace("px","")),e===!0&&this.dom.frame&&(this.hide(),this.show())}},o.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},o.prototype._redrawGroupIcons=function(){s.prepareElements(this.svgElements);var t,e=this.options.iconWidth,i=15,o=4,n=o+.5*i;t="left"===this.options.orientation?o:this.width-e-o;var r=Object.keys(this.groups);r.sort(function(t,e){return e>t?-1:1});for(var a=0;a<r.length;a++){var h=r[a];this.groups[h].visible!==!0||void 0!==this.linegraphOptions.visibility[h]&&this.linegraphOptions.visibility[h]!==!0||(this.groups[h].getLegend(e,i,this.framework,t,n),n+=i+o)}s.cleanupElements(this.svgElements),this.iconsRemoved=!1},o.prototype._cleanupIcons=function(){this.iconsRemoved===!1&&(s.prepareElements(this.svgElements),s.cleanupElements(this.svgElements),this.iconsRemoved=!0)},o.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},o.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},o.prototype.setRange=function(t,e){this.master===!1&&this.options.alignZeros===!0&&-1!=this.zeroCrossing&&t>0&&(t=0),this.range.start=t,this.range.end=e},o.prototype.redraw=function(){var t=!1,e=0;this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px";for(var i in this.groups)this.groups.hasOwnProperty(i)&&(this.groups[i].visible!==!0||void 0!==this.linegraphOptions.visibility[i]&&this.linegraphOptions.visibility[i]!==!0||e++);if(0===this.amountOfGroups||0===e)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=this.options.visible===!0?Number((""+this.options.width).replace("px","")):0;var o=this.props,n=this.dom.frame;n.className="vis-data-axis",this._calculateCharSize();var s=this.options.orientation,r=this.options.showMinorLabels,a=this.options.showMajorLabels;o.minorLabelHeight=r?o.minorCharHeight:0,o.majorLabelHeight=a?o.majorCharHeight:0,o.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,o.minorLineHeight=1,o.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,o.majorLineHeight=1,"left"===s?(n.style.top="0",n.style.left="0",n.style.bottom="",n.style.width=this.width+"px",n.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(n.style.top="",n.style.bottom="0",n.style.left="0",n.style.width=this.width+"px",n.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),t=this._redrawLabels(),t=this._isResized()||t,this.options.icons===!0?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(s)}return t},o.prototype._redrawLabels=function(){var t=!1;s.prepareElements(this.DOMelements.lines),s.prepareElements(this.DOMelements.labels);var e,i=this.options.orientation;if(this.master===!1){var o,n,r,h;-1!==this.zeroCrossing&&this.options.alignZeros===!0?this.range.end>0?(o=this.range.end/this.zeroCrossing,n=this.range.end-this.amountOfSteps*o,r=this.range.end):(o=-1*this.range.start/(this.amountOfSteps-this.zeroCrossing),n=this.range.start,r=this.range.start+o*this.amountOfSteps):(n=this.range.start,r=this.range.end),h=this.stepPixels}else h=this.props.majorCharHeight,n=this.range.start,r=this.range.end;if(this.step=e=new a(n,r,h,this.dom.frame.offsetHeight,this.options[this.options.orientation].range,this.options[this.options.orientation].format,this.master===!1&&this.options.alignZeros),this.master===!0)this.stepPixels=this.dom.frame.offsetHeight/e.marginRange*e.step,this.amountOfSteps=Math.ceil(this.dom.frame.offsetHeight/this.stepPixels);else if(this.options.alignZeros===!0&&-1!==this.zeroCrossing){var d=(e.current-this.zeroCrossing*e.step)/e.step;this.step.shift(d)}this.valueAtBottom=e.marginEnd,this.maxLabelSize=0;for(var l=0,u=0,c=!1;u<this.amountOfSteps;)l=Math.round(u*this.stepPixels),c=e.isMajor(),u>0&&u!==this.amountOfSteps&&((this.options.showMinorLabels&&c===!1||this.master===!1&&this.options.showMinorLabels===!0)&&this._redrawLabel(l-2,e.getCurrent(),i,"vis-y-axis vis-minor",this.props.minorCharHeight),c&&this.options.showMajorLabels&&this.master===!0||this.options.showMinorLabels===!1&&this.master===!1&&c===!0?(l>=0&&this._redrawLabel(l-2,e.getCurrent(),i,"vis-y-axis vis-major",this.props.majorCharHeight),this._redrawLine(l,i,"vis-grid vis-horizontal vis-major",this.options.majorLinesOffset,this.props.majorLineWidth)):this._redrawLine(l,i,"vis-grid vis-horizontal vis-minor",this.options.minorLinesOffset,this.props.minorLineWidth)),this.master===!0&&0===e.current&&(this.zeroCrossing=u),e.next(),u+=1;this.master===!0&&0===e.current&&(this.zeroCrossing=u),this.conversionFactor=this.stepPixels/e.step;var p=0;void 0!==this.options[i].title&&void 0!==this.options[i].title.text&&(p=this.props.titleCharHeight);var f=this.options.icons===!0?Math.max(this.options.iconWidth,p)+this.options.labelOffsetX+15:p+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-f&&this.options.visible===!0?(this.width=this.maxLabelSize+f,this.options.width=this.width+"px",s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),this.redraw(),t=!0):this.maxLabelSize<this.width-f&&this.options.visible===!0&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+f),this.options.width=this.width+"px",s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),this.redraw(),t=!0):(s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),t=!1),t},o.prototype.convertValue=function(t){var e=this.valueAtBottom-t,i=e*this.conversionFactor;return i},o.prototype.screenToValue=function(t){return this.valueAtBottom-t/this.conversionFactor},o.prototype._redrawLabel=function(t,e,i,o,n){var r=s.getDOMElement("div",this.DOMelements.labels,this.dom.frame);r.className=o,r.innerHTML=e,"left"===i?(r.style.left="-"+this.options.labelOffsetX+"px",r.style.textAlign="right"):(r.style.right="-"+this.options.labelOffsetX+"px",r.style.textAlign="left"),r.style.top=t-.5*n+this.options.labelOffsetY+"px",e+="";var a=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<e.length*a&&(this.maxLabelSize=e.length*a)},o.prototype._redrawLine=function(t,e,i,o,n){if(this.master===!0){var r=s.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);r.className=i,r.innerHTML="","left"===e?r.style.left=this.width-o+"px":r.style.right=this.width-o+"px",r.style.width=n+"px",r.style.top=t+"px"}},o.prototype._redrawTitle=function(t){if(s.prepareElements(this.DOMelements.title),void 0!==this.options[t].title&&void 0!==this.options[t].title.text){var e=s.getDOMElement("div",this.DOMelements.title,this.dom.frame);e.className="vis-y-axis vis-title vis-"+t,e.innerHTML=this.options[t].title.text,void 0!==this.options[t].title.style&&n.addCssText(e,this.options[t].title.style),"left"===t?e.style.left=this.props.titleCharHeight+"px":e.style.right=this.props.titleCharHeight+"px",e.style.width=this.height+"px"}s.cleanupElements(this.DOMelements.title)},o.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var t=document.createTextNode("0"),e=document.createElement("div");e.className="vis-y-axis vis-minor vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.minorCharHeight=e.clientHeight,this.props.minorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)}if(!("majorCharHeight"in this.props)){var i=document.createTextNode("0"),o=document.createElement("div");o.className="vis-y-axis vis-major vis-measure",o.appendChild(i),this.dom.frame.appendChild(o),this.props.majorCharHeight=o.clientHeight,this.props.majorCharWidth=o.clientWidth,this.dom.frame.removeChild(o)}if(!("titleCharHeight"in this.props)){var n=document.createTextNode("0"),s=document.createElement("div");s.className="vis-y-axis vis-title vis-measure",s.appendChild(n),this.dom.frame.appendChild(s),this.props.titleCharHeight=s.clientHeight,this.props.titleCharWidth=s.clientWidth,this.dom.frame.removeChild(s)}},t.exports=o},function(t,e){function i(t,e,i,o,n,s,r){this.current=0,this.autoScale=!0,this.stepIndex=0,this.step=1,this.scale=1,this.formattingFunction=s,this.marginStart,this.marginEnd,this.deadSpace=0,this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.alignZeros=r,this.setRange(t,e,i,o,n)}i.prototype.setRange=function(t,e,i,o,n){this._start=void 0===n.min?t:n.min,this._end=void 0===n.max?e:n.max,this._start===this._end&&(this._start=void 0===n.min?this._start-.75:this._start,this._end=void 0===n.max?this._end+1:this._end),this.autoScale===!0&&this.setMinimumStep(i,o),this.setFirst(n)},i.prototype.setMinimumStep=function(t,e){var i=this._end-this._start,o=1.2*i,n=t*(o/e),s=Math.round(Math.log(o)/Math.LN10),r=-1,a=Math.pow(10,s),h=0;0>s&&(h=s);for(var d=!1,l=h;Math.abs(l)<=Math.abs(s);l++){a=Math.pow(10,l);for(var u=0;u<this.minorSteps.length;u++){var c=a*this.minorSteps[u];if(c>=n){d=!0,r=u;break}}if(d===!0)break}this.stepIndex=r,this.scale=a,this.step=a*this.minorSteps[r]},i.prototype.setFirst=function(t){void 0===t&&(t={});var e=void 0===t.min?this._start-2*this.scale*this.minorSteps[this.stepIndex]:t.min,i=void 0===t.max?this._end+this.scale*this.minorSteps[this.stepIndex]:t.max;this.marginEnd=void 0===t.max?this.roundToMinor(i):t.max,this.marginStart=void 0===t.min?this.roundToMinor(e):t.min,this.alignZeros===!0&&(this.marginEnd-this.marginStart)%this.step!=0&&(this.marginEnd+=this.marginEnd%this.step),this.deadSpace=this.roundToMinor(i)-i+this.roundToMinor(e)-e,this.marginRange=this.marginEnd-this.marginStart,this.current=this.marginEnd},i.prototype.roundToMinor=function(t){var e=t-t%(this.scale*this.minorSteps[this.stepIndex]);return t%(this.scale*this.minorSteps[this.stepIndex])>.5*(this.scale*this.minorSteps[this.stepIndex])?e+this.scale*this.minorSteps[this.stepIndex]:e},i.prototype.hasNext=function(){return this.current>=this.marginStart},i.prototype.next=function(){var t=this.current;this.current-=this.step,this.current===t&&(this.current=this._end)},i.prototype.previous=function(){this.current+=this.step,this.marginEnd+=this.step,this.marginRange=this.marginEnd-this.marginStart},i.prototype.getCurrent=function(){var t=Math.abs(this.current)<this.step/2?0:this.current,e=t.toPrecision(5);return"function"==typeof this.formattingFunction&&(e=this.formattingFunction(t)),"number"==typeof e?""+e:"string"==typeof e?e:t.toPrecision(5)},i.prototype.isMajor=function(){return this.current%(this.scale*this.majorSteps[this.stepIndex])===0},i.prototype.shift=function(t){if(0>t)for(var e=0;-t>e;e++)this.previous();else if(t>0)for(var e=0;t>e;e++)this.next()},t.exports=i},function(t,e,i){function o(t,e,i,o){this.id=e;var s=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex"];this.options=n.selectiveBridgeObject(s,i),this.usingDefaultStyle=void 0===t.className,this.groupsUsingDefaultStyles=o,this.zeroPosition=0,this.update(t),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===t.visible?!0:t.visible}var n=i(1),s=(i(7),i(54)),r=i(56),a=i(55);o.prototype.setItems=function(t){null!=t?(this.itemsData=t,1==this.options.sort&&n.insertSort(this.itemsData,function(t,e){return t.x>e.x?1:-1})):this.itemsData=[]},o.prototype.getItems=function(){return this.itemsData},o.prototype.setZeroPosition=function(t){this.zeroPosition=t},o.prototype.setOptions=function(t){if(void 0!==t){var e=["sampling","style","sort","yAxisOrientation","barChart","excludeFromLegend","excludeFromStacking","zIndex"];n.selectiveDeepExtend(e,this.options,t),"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),n.mergeOptions(this.options,t,"interpolation"),n.mergeOptions(this.options,t,"drawPoints"),n.mergeOptions(this.options,t,"shaded"),t.interpolation&&"object"==typeof t.interpolation&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}},o.prototype.update=function(t){this.group=t,this.content=t.content||"graph",this.className=t.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===t.visible?!0:t.visible,this.style=t.style,this.setOptions(t.options)},o.prototype.getLegend=function(t,e,i,o,n){if(void 0==i||null==i){var h=document.createElementNS("http://www.w3.org/2000/svg","svg");i={svg:h,svgElements:{},options:this.options,groups:[this]}}switch((void 0==o||null==o)&&(o=0),(void 0==n||null==n)&&(n=.5*e),this.options.style){case"line":r.drawIcon(this,o,n,t,e,i);break;case"points":case"point":a.drawIcon(this,o,n,t,e,i);break;case"bar":s.drawIcon(this,o,n,t,e,i)}return{icon:i.svg,label:this.content,orientation:this.options.yAxisOrientation}},o.prototype.getYRange=function(t){for(var e=t[0].y,i=t[0].y,o=0;o<t.length;o++)e=e>t[o].y?t[o].y:e,i=i<t[o].y?t[o].y:i;return{min:e,max:i,yAxisOrientation:this.options.yAxisOrientation}},t.exports=o},function(t,e,i){function o(t,e){}var n=i(7),s=i(55);o.drawIcon=function(t,e,i,o,s,r){var a=.5*s,h=n.getSVGElement("rect",r.svgElements,r.svg);h.setAttributeNS(null,"x",e),h.setAttributeNS(null,"y",i-a),h.setAttributeNS(null,"width",o),h.setAttributeNS(null,"height",2*a),h.setAttributeNS(null,"class","vis-outline");var d=Math.round(.3*o),l=t.options.barChart.width,u=l/d,c=Math.round(.4*s),p=Math.round(.75*s),f=Math.round((o-2*d)/3);if(n.drawBar(e+.5*d+f,i+a-c-1,d,c,t.className+" vis-bar",r.svgElements,r.svg,t.style),n.drawBar(e+1.5*d+f+2,i+a-p-1,d,p,t.className+" vis-bar",r.svgElements,r.svg,t.style),1==t.options.drawPoints.enabled){var m={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size/u,className:t.className};n.drawPoint(e+.5*d+f,i+a-c-1,m,r.svgElements,r.svg),n.drawPoint(e+1.5*d+f+2,i+a-p-1,m,r.svgElements,r.svg)}},o.draw=function(t,e,i){var r,a,h,d,l,u,c=[],p={},f=0;for(l=0;l<t.length;l++)if(d=i.groups[t[l]],"bar"===d.options.style&&d.visible===!0&&(void 0===i.options.groups.visibility[t[l]]||i.options.groups.visibility[t[l]]===!0))for(u=0;u<e[t[l]].length;u++)c.push({screen_x:e[t[l]][u].screen_x,screen_y:e[t[l]][u].screen_y,x:e[t[l]][u].x,y:e[t[l]][u].y,groupId:t[l],label:e[t[l]][u].label}),f+=1;if(0!==f)for(c.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x}),o._getDataIntersections(p,c),l=0;l<c.length;l++){d=i.groups[c[l].groupId];var m=.1*d.options.barChart.width;a=c[l].screen_x;var v=0;if(void 0===p[a])l+1<c.length&&(r=Math.abs(c[l+1].screen_x-a)),l>0&&(r=Math.min(r,Math.abs(c[l-1].screen_x-a))),h=o._getSafeDrawData(r,d,m);else{var g=l+(p[a].amount-p[a].resolved),y=l-(p[a].resolved+1);g<c.length&&(r=Math.abs(c[g].screen_x-a)),y>0&&(r=Math.min(r,Math.abs(c[y].screen_x-a))),h=o._getSafeDrawData(r,d,m),p[a].resolved+=1,d.options.stack===!0?c[l].screen_y<d.zeroPosition?(v=p[a].accumulatedNegative,p[a].accumulatedNegative+=d.zeroPosition-c[l].screen_y):(v=p[a].accumulatedPositive,p[a].accumulatedPositive+=d.zeroPosition-c[l].screen_y):d.options.barChart.sideBySide===!0&&(h.width=h.width/p[a].amount,h.offset+=p[a].resolved*h.width-.5*h.width*(p[a].amount+1),"left"===d.options.barChart.align?h.offset-=.5*h.width:"right"===d.options.barChart.align&&(h.offset+=.5*h.width))}if(n.drawBar(c[l].screen_x+h.offset,c[l].screen_y-v,h.width,d.zeroPosition-c[l].screen_y,d.className+" vis-bar",i.svgElements,i.svg,d.style),d.options.drawPoints.enabled===!0){var b={screen_x:c[l].screen_x,screen_y:c[l].screen_y-v,x:c[l].x,y:c[l].y,groupId:c[l].groupId,label:c[l].label};s.draw([b],d,i,h.offset)}}},o._getDataIntersections=function(t,e){for(var i,o=0;o<e.length;o++)o+1<e.length&&(i=Math.abs(e[o+1].screen_x-e[o].screen_x)),o>0&&(i=Math.min(i,Math.abs(e[o-1].screen_x-e[o].screen_x))),0===i&&(void 0===t[e[o].screen_x]&&(t[e[o].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),t[e[o].screen_x].amount+=1)},o._getSafeDrawData=function(t,e,i){var o,n;return t<e.options.barChart.width&&t>0?(o=i>t?i:t,n=0,"left"===e.options.barChart.align?n-=.5*t:"right"===e.options.barChart.align&&(n+=.5*t)):(o=e.options.barChart.width,n=0,"left"===e.options.barChart.align?n-=.5*e.options.barChart.width:"right"===e.options.barChart.align&&(n+=.5*e.options.barChart.width)),{width:o,offset:n}},o.getStackedYRange=function(t,e,i,n,s){if(t.length>0){t.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x});var r={};o._getDataIntersections(r,t),e[n]=o._getStackedYRange(r,t),e[n].yAxisOrientation=s,i.push(n)}},o._getStackedYRange=function(t,e){for(var i,o=e[0].screen_y,n=e[0].screen_y,s=0;s<e.length;s++)i=e[s].screen_x,void 0===t[i]?(o=o>e[s].screen_y?e[s].screen_y:o,n=n<e[s].screen_y?e[s].screen_y:n):e[s].screen_y<0?t[i].accumulatedNegative+=e[s].screen_y:t[i].accumulatedPositive+=e[s].screen_y;for(var r in t)t.hasOwnProperty(r)&&(o=o>t[r].accumulatedNegative?t[r].accumulatedNegative:o,o=o>t[r].accumulatedPositive?t[r].accumulatedPositive:o,n=n<t[r].accumulatedNegative?t[r].accumulatedNegative:n,n=n<t[r].accumulatedPositive?t[r].accumulatedPositive:n);return{min:o,max:n}},t.exports=o},function(t,e,i){function o(t,e){}function n(t,e){return e="undefined"==typeof e?{}:e,{style:e.style||t.options.drawPoints.style,styles:e.styles||t.options.drawPoints.styles,size:e.size||t.options.drawPoints.size,className:e.className||t.className}}function s(t,e){var i=void 0;return t.options&&t.options.drawPoints&&t.options.drawPoints.onRender&&"function"==typeof t.options.drawPoints.onRender&&(i=t.options.drawPoints.onRender),e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&"function"==typeof e.group.options.drawPoints.onRender&&(i=e.group.options.drawPoints.onRender),i}var r=i(7);o.draw=function(t,e,i,o){o=o||0;for(var a=s(i,e),h=0;h<t.length;h++)if(a){var d=a(t[h],e);(d===!0||"object"==typeof d)&&r.drawPoint(t[h].screen_x+o,t[h].screen_y,n(e,d),i.svgElements,i.svg,t[h].label)}else r.drawPoint(t[h].screen_x+o,t[h].screen_y,n(e),i.svgElements,i.svg,t[h].label)},o.drawIcon=function(t,e,i,o,s,a){var h=.5*s,d=r.getSVGElement("rect",a.svgElements,a.svg);d.setAttributeNS(null,"x",e),d.setAttributeNS(null,"y",i-h),d.setAttributeNS(null,"width",o),d.setAttributeNS(null,"height",2*h),d.setAttributeNS(null,"class","vis-outline"),r.drawPoint(e+.5*o,i,n(t),a.svgElements,a.svg)},t.exports=o},function(t,e,i){function o(t,e){}var n=i(7);o.calcPath=function(t,e){if(null!=t&&t.length>0){var i=[];return i=1==e.options.interpolation.enabled?o._catmullRom(t,e):o._linear(t)}},o.drawIcon=function(t,e,i,o,s,r){var a,h,d=.5*s,l=n.getSVGElement("rect",r.svgElements,r.svg);if(l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",i-d),l.setAttributeNS(null,"width",o),l.setAttributeNS(null,"height",2*d),l.setAttributeNS(null,"class","vis-outline"),a=n.getSVGElement("path",r.svgElements,r.svg),a.setAttributeNS(null,"class",t.className),void 0!==t.style&&a.setAttributeNS(null,"style",t.style),a.setAttributeNS(null,"d","M"+e+","+i+" L"+(e+o)+","+i),1==t.options.shaded.enabled&&(h=n.getSVGElement("path",r.svgElements,r.svg),"top"==t.options.shaded.orientation?h.setAttributeNS(null,"d","M"+e+", "+(i-d)+"L"+e+","+i+" L"+(e+o)+","+i+" L"+(e+o)+","+(i-d)):h.setAttributeNS(null,"d","M"+e+","+i+" L"+e+","+(i+d)+" L"+(e+o)+","+(i+d)+"L"+(e+o)+","+i),h.setAttributeNS(null,"class",t.className+" vis-icon-fill"),void 0!==t.options.shaded.style&&""!==t.options.shaded.style&&h.setAttributeNS(null,"style",t.options.shaded.style)),1==t.options.drawPoints.enabled){var u={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size,className:t.className};n.drawPoint(e+.5*o,i,u,r.svgElements,r.svg)}},o.drawShading=function(t,e,i,o){if(1==e.options.shaded.enabled){var s=Number(o.svg.style.height.replace("px","")),r=n.getSVGElement("path",o.svgElements,o.svg),a="L";1==e.options.interpolation.enabled&&(a="C");var h,d=0;d="top"==e.options.shaded.orientation?0:"bottom"==e.options.shaded.orientation?s:Math.min(Math.max(0,e.zeroPosition),s),h="group"==e.options.shaded.orientation&&null!=i&&void 0!=i?"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,a,!1)+" L"+i[i.length-1][0]+","+i[i.length-1][1]+" "+this.serializePath(i,a,!0)+i[0][0]+","+i[0][1]+" Z":"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,a,!1)+" V"+d+" H"+t[0][0]+" Z",r.setAttributeNS(null,"class",e.className+" vis-fill"),void 0!==e.options.shaded.style&&r.setAttributeNS(null,"style",e.options.shaded.style),r.setAttributeNS(null,"d",h)}},o.draw=function(t,e,i){if(null!=t&&void 0!=t){var o=n.getSVGElement("path",i.svgElements,i.svg);o.setAttributeNS(null,"class",e.className),void 0!==e.style&&o.setAttributeNS(null,"style",e.style);var s="L";1==e.options.interpolation.enabled&&(s="C"),o.setAttributeNS(null,"d","M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,s,!1))}},o.serializePath=function(t,e,i){if(t.length<2)return"";var o=e;if(i)for(var n=t.length-2;n>0;n--)o+=t[n][0]+","+t[n][1]+" ";else for(var n=1;n<t.length;n++)o+=t[n][0]+","+t[n][1]+" ";return o},o._catmullRomUniform=function(t){var e,i,o,n,s,r,a=[];a.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var h=1/6,d=t.length,l=0;d-1>l;l++)e=0==l?t[0]:t[l-1],i=t[l],o=t[l+1],n=d>l+2?t[l+2]:o,s={screen_x:(-e.screen_x+6*i.screen_x+o.screen_x)*h,screen_y:(-e.screen_y+6*i.screen_y+o.screen_y)*h},r={screen_x:(i.screen_x+6*o.screen_x-n.screen_x)*h,screen_y:(i.screen_y+6*o.screen_y-n.screen_y)*h},a.push([s.screen_x,s.screen_y]),a.push([r.screen_x,r.screen_y]),a.push([o.screen_x,o.screen_y]);return a},o._catmullRom=function(t,e){var i=e.options.interpolation.alpha;if(0==i||void 0===i)return this._catmullRomUniform(t);var o,n,s,r,a,h,d,l,u,c,p,f,m,v,g,y,b,w,_,x=[];x.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var k=t.length,O=0;k-1>O;O++)o=0==O?t[0]:t[O-1],n=t[O],s=t[O+1],r=k>O+2?t[O+2]:s,d=Math.sqrt(Math.pow(o.screen_x-n.screen_x,2)+Math.pow(o.screen_y-n.screen_y,2)),l=Math.sqrt(Math.pow(n.screen_x-s.screen_x,2)+Math.pow(n.screen_y-s.screen_y,2)),u=Math.sqrt(Math.pow(s.screen_x-r.screen_x,2)+Math.pow(s.screen_y-r.screen_y,2)),v=Math.pow(u,i),y=Math.pow(u,2*i),g=Math.pow(l,i),b=Math.pow(l,2*i),_=Math.pow(d,i),w=Math.pow(d,2*i),c=2*w+3*_*g+b,p=2*y+3*v*g+b,f=3*_*(_+g),f>0&&(f=1/f),m=3*v*(v+g),m>0&&(m=1/m),a={screen_x:(-b*o.screen_x+c*n.screen_x+w*s.screen_x)*f,screen_y:(-b*o.screen_y+c*n.screen_y+w*s.screen_y)*f
},h={screen_x:(y*n.screen_x+p*s.screen_x-b*r.screen_x)*m,screen_y:(y*n.screen_y+p*s.screen_y-b*r.screen_y)*m},0==a.screen_x&&0==a.screen_y&&(a=n),0==h.screen_x&&0==h.screen_y&&(h=s),x.push([a.screen_x,a.screen_y]),x.push([h.screen_x,h.screen_y]),x.push([s.screen_x,s.screen_y]);return x},o._linear=function(t){for(var e=[],i=0;i<t.length;i++)e.push([t[i].screen_x,t[i].screen_y]);return e},t.exports=o},function(t,e,i){function o(t,e,i,o){this.body=t,this.defaultOptions={enabled:!0,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-left"}},this.side=i,this.options=n.extend({},this.defaultOptions),this.linegraphOptions=o,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}var n=i(1),s=i(7),r=i(26);o.prototype=new r,o.prototype.clear=function(){this.groups={},this.amountOfGroups=0},o.prototype.addGroup=function(t,e){1!=e.options.excludeFromLegend&&(this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1)},o.prototype.updateGroup=function(t,e){this.groups[t]=e},o.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},o.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},o.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},o.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},o.prototype.setOptions=function(t){var e=["enabled","orientation","icons","left","right"];n.selectiveDeepExtend(e,this.options,t)},o.prototype.redraw=function(){var t=0,e=Object.keys(this.groups);e.sort(function(t,e){return e>t?-1:1});for(var i=0;i<e.length;i++){var o=e[i];1!=this.groups[o].visible||void 0!==this.linegraphOptions.visibility[o]&&1!=this.linegraphOptions.visibility[o]||t++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==t)this.hide();else{if(this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position)this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var n=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+n+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());for(var s="",i=0;i<e.length;i++){var o=e[i];1!=this.groups[o].visible||void 0!==this.linegraphOptions.visibility[o]&&1!=this.linegraphOptions.visibility[o]||(s+=this.groups[o].content+"<br />")}this.dom.textArea.innerHTML=s,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},o.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var t=Object.keys(this.groups);t.sort(function(t,e){return e>t?-1:1}),s.resetElements(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,i=Number(e.replace("px","")),o=i,n=this.options.iconSize,r=.75*this.options.iconSize,a=i+.5*r+3;this.svg.style.width=n+5+i+"px";for(var h=0;h<t.length;h++){var d=t[h];1!=this.groups[d].visible||void 0!==this.linegraphOptions.visibility[d]&&1!=this.linegraphOptions.visibility[d]||(this.groups[d].getLegend(n,r,this.framework,o,a),a+=r+this.options.iconSpacing)}}},t.exports=o},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",n="number",s="array",r="date",a="object",h="dom",d="moment",l="any",u={configure:{enabled:{"boolean":o},filter:{"boolean":o,"function":"function"},container:{dom:h},__type__:{object:a,"boolean":o,"function":"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:i},sort:{"boolean":o},sampling:{"boolean":o},stack:{"boolean":o},graphHeight:{string:i,number:n},shaded:{enabled:{"boolean":o},orientation:{string:["bottom","top","zero","group"]},groupId:{object:a},__type__:{"boolean":o,object:a}},style:{string:["line","bar","points"]},barChart:{width:{number:n},sideBySide:{"boolean":o},align:{string:["left","center","right"]},__type__:{object:a}},interpolation:{enabled:{"boolean":o},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:n},__type__:{object:a,"boolean":o}},drawPoints:{enabled:{"boolean":o},onRender:{"function":"function"},size:{number:n},style:{string:["square","circle"]},__type__:{object:a,"boolean":o,"function":"function"}},dataAxis:{showMinorLabels:{"boolean":o},showMajorLabels:{"boolean":o},icons:{"boolean":o},width:{string:i,number:n},visible:{"boolean":o},alignZeros:{"boolean":o},left:{range:{min:{number:n},max:{number:n},__type__:{object:a}},format:{"function":"function"},title:{text:{string:i,number:n},style:{string:i},__type__:{object:a}},__type__:{object:a}},right:{range:{min:{number:n},max:{number:n},__type__:{object:a}},format:{"function":"function"},title:{text:{string:i,number:n},style:{string:i},__type__:{object:a}},__type__:{object:a}},__type__:{object:a}},legend:{enabled:{"boolean":o},icons:{"boolean":o},left:{visible:{"boolean":o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:a}},right:{visible:{"boolean":o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:a}},__type__:{object:a,"boolean":o}},groups:{visibility:{any:l},__type__:{object:a}},autoResize:{"boolean":o},throttleRedraw:{number:n},clickToUse:{"boolean":o},end:{number:n,date:r,string:i,moment:d},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a}},__type__:{object:a}},moment:{"function":"function"},height:{string:i,number:n},hiddenDates:{start:{date:r,number:n,string:i,moment:d},end:{date:r,number:n,string:i,moment:d},repeat:{string:i},__type__:{object:a,array:s}},locale:{string:i},locales:{__any__:{any:l},__type__:{object:a}},max:{date:r,number:n,string:i,moment:d},maxHeight:{number:n,string:i},maxMinorChars:{number:n},min:{date:r,number:n,string:i,moment:d},minHeight:{number:n,string:i},moveable:{"boolean":o},multiselect:{"boolean":o},orientation:{string:i},showCurrentTime:{"boolean":o},showMajorLabels:{"boolean":o},showMinorLabels:{"boolean":o},start:{date:r,number:n,string:i,moment:d},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:n,undefined:"undefined"},__type__:{object:a}},width:{string:i,number:n},zoomable:{"boolean":o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:n},zoomMin:{number:n},zIndex:{number:n},__type__:{object:a}},c={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,throttleRedraw:[10,0,1e3,10],clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};e.allOptions=u,e.configureOptions=c},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e,i){var o=this;if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:W,clickToUse:!1},B.extend(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new j(function(){return o.body.emitter.emit("_requestRedraw")}),this.groups=new r["default"],this.canvas=new y["default"](this.body),this.selectionHandler=new O["default"](this.body,this.canvas),this.interactionHandler=new x["default"](this.body,this.canvas,this.selectionHandler),this.view=new w["default"](this.body,this.canvas),this.renderer=new v["default"](this.body,this.canvas),this.physics=new c["default"](this.body),this.layoutEngine=new D["default"](this.body),this.clustering=new f["default"](this.body),this.manipulation=new T["default"](this.body,this.canvas,this.selectionHandler),this.nodesHandler=new h["default"](this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new l["default"](this.body,this.images,this.groups),this.body.modules.kamadaKawai=new L["default"](this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(e)}var s=i(60),r=o(s),a=i(61),h=o(a),d=i(81),l=o(d),u=i(90),c=o(u),p=i(99),f=o(p),m=i(102),v=o(m),g=i(103),y=o(g),b=i(104),w=o(b),_=i(105),x=o(_),k=i(108),O=o(k),M=i(109),D=o(M),C=i(110),T=o(C),S=i(45),E=o(S),P=i(47),I=o(P),N=i(111),z=i(112),L=o(z);i(114);var A=i(12),B=(i(20),i(1)),F=(i(8),i(10),i(115)),R=i(116),j=i(117),H=i(40),W=i(118);A(n.prototype),n.prototype.setOptions=function(t){var e=this;if(void 0!==t){var i=I["default"].validate(t,N.allOptions);i===!0&&console.log("%cErrors have been found in the supplied options object.",P.printStyle);var o=["locale","locales","clickToUse"];if(B.selectiveDeepExtend(o,this.options,t),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new E["default"](this,this.body.container,N.configureOptions,this.canvas.pixelRatio)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){var n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};B.deepExtend(n.nodes,this.nodesHandler.options),B.deepExtend(n.edges,this.edgesHandler.options),B.deepExtend(n.layout,this.layoutEngine.options),B.deepExtend(n.interaction,this.selectionHandler.options),B.deepExtend(n.interaction,this.renderer.options),B.deepExtend(n.interaction,this.interactionHandler.options),B.deepExtend(n.manipulation,this.manipulation.options),B.deepExtend(n.physics,this.physics.options),B.deepExtend(n.global,this.canvas.options),B.deepExtend(n.global,this.options),this.configurator.setModuleOptions(n)}void 0!==t.clickToUse?t.clickToUse===!0?void 0===this.activator&&(this.activator=new H(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},n.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(var i in t)t.hasOwnProperty(i)&&t[i].options.hidden===!1&&this.body.nodeIndices.push(i);for(var o in e)e.hasOwnProperty(o)&&e[o].options.hidden===!1&&this.body.edgeIndices.push(o)},n.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",function(){t._updateVisibleIndices(),t.body.emitter.emit("_requestRedraw"),t.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")})},n.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.log("The dot property has been depricated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=F.DOTToGraph(t.dot);return void this.setData(e)}if(t&&t.gephi){console.log("The gephi property has been depricated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var i=R.parseGephi(t.gephi);return void this.setData(i)}this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},n.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(var t in this.body.nodes)delete this.body.nodes[t];for(var e in this.body.edges)delete this.body.edges[e];B.recursiveDOMDelete(this.body.container)},n.prototype._updateValueRange=function(t){var e,i=void 0,o=void 0,n=0;for(e in t)if(t.hasOwnProperty(e)){var s=t[e].getValue();void 0!==s&&(i=void 0===i?s:Math.min(s,i),o=void 0===o?s:Math.max(s,o),n+=s)}if(void 0!==i&&void 0!==o)for(e in t)t.hasOwnProperty(e)&&t[e].setValueRange(i,o,n)},n.prototype.isActive=function(){return!this.activator||this.activator.active},n.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},n.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},n.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},n.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},n.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},n.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},n.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},n.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},n.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},n.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},n.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},n.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},n.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},n.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},n.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},n.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},n.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},n.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},n.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},n.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},n.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},n.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},n.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},n.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},n.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},n.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},n.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},n.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},n.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},n.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},n.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},n.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},n.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},n.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},n.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},n.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},n.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},n.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},n.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},n.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},n.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},n.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},n.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},n.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},n.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},n.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t},t.exports=n},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=i(1),r=function(){function t(){o(this,t),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},s.extend(this.options,this.defaultOptions)}return n(t,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var i in t)if(t.hasOwnProperty(i)&&-1===e.indexOf(i)){var o=t[i];this.add(i,o)}}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(t){var e=this.groups[t];if(void 0===e)if(this.options.useDefaultGroups===!1&&this.groupsArray.length>0){var i=this.groupIndex%this.groupsArray.length;this.groupIndex++,e={},e.color=this.groups[this.groupsArray[i]],this.groups[t]=e}else{var i=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,e={},e.color=this.defaultGroups[i],this.groups[t]=e}return e}},{key:"add",value:function(t,e){return this.groups[t]=e,this.groupsArray.push(t),e}}]),t}();e["default"]=r,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(62),a=o(r),h=i(63),d=o(h),l=i(1),u=i(8),c=i(10),p=function(){function t(e,i,o,s){var r=this;n(this,t),this.body=e,this.images=i,this.groups=o,this.layoutEngine=s,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(t,e){r.add(e.items)},update:function(t,e){r.update(e.items,e.data)},remove:function(t,e){r.remove(e.items)}},this.options={},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"horizontal"},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,o){if(e===t)return.5;var n=1/(e-t);return Math.max(0,(o-t)*n)}},shadow:{enabled:!1,size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return s(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){delete t.body.functions.createNode,delete t.nodesListeners.add,delete t.nodesListeners.update,delete t.nodesListeners.remove,delete t.nodesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){if(a["default"].parseOptions(this.options,t),void 0!==t.shape)for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&this.body.nodes[e].updateShape();if(void 0!==t.font){d["default"].parseOptions(this.options.font,t);for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(this.body.nodes[e].updateLabelModule(),this.body.nodes[e]._reset())}if(void 0!==t.size)for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&this.body.nodes[e]._reset();(void 0!==t.hidden||void 0!==t.physics)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=this,i=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],o=this.body.data.nodes;if(t instanceof u||t instanceof c)this.body.data.nodes=t;else if(Array.isArray(t))this.body.data.nodes=new u,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new u}o&&l.forEach(this.nodesListeners,function(t,e){o.off(e,t)}),this.body.nodes={},this.body.data.nodes&&!function(){var t=e;l.forEach(e.nodesListeners,function(e,i){t.body.data.nodes.on(i,e)});var i=e.body.data.nodes.getIds();e.add(i,!0)}(),i===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i=void 0,o=[],n=0;n<t.length;n++){i=t[n];var s=this.body.data.nodes.get(i),r=this.create(s);o.push(r),this.body.nodes[i]=r}this.layoutEngine.positionInitially(o),e===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e){for(var i=this.body.nodes,o=!1,n=0;n<t.length;n++){var s=t[n],r=i[s],a=e[n];void 0!==r?o=r.setOptions(a):(o=!0,r=this.create(a),i[s]=r)}o===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,i=0;i<t.length;i++){var o=t[i];delete e[o]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?a["default"]:arguments[1];return new e(t,this.body,this.images,this.groups,this.options)}},{key:"refresh",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],e=this.body.nodes;for(var i in e){var o=void 0;e.hasOwnProperty(i)&&(o=e[i]);var n=this.body.data.nodes._data[i];void 0!==o&&void 0!==n&&(t===!0&&o.setOptions({x:null,y:null}),o.setOptions({fixed:!1}),o.setOptions(n))}}},{key:"getPositions",value:function(t){var e={};if(void 0!==t){if(Array.isArray(t)===!0){for(var i=0;i<t.length;i++)if(void 0!==this.body.nodes[t[i]]){var o=this.body.nodes[t[i]];e[t[i]]={x:Math.round(o.x),y:Math.round(o.y)}}}else if(void 0!==this.body.nodes[t]){var o=this.body.nodes[t];e[t]={x:Math.round(o.x),y:Math.round(o.y)}}}else for(var i=0;i<this.body.nodeIndices.length;i++){var o=this.body.nodes[this.body.nodeIndices[i]];e[this.body.nodeIndices[i]]={x:Math.round(o.x),y:Math.round(o.y)}}return e}},{key:"storePositions",value:function(){var t=[],e=this.body.data.nodes.getDataSet();for(var i in e._data)if(e._data.hasOwnProperty(i)){var o=this.body.nodes[i];(e._data[i].x!=Math.round(o.x)||e._data[i].y!=Math.round(o.y))&&t.push({id:i,x:Math.round(o.x),
y:Math.round(o.y)})}e.update(t)}},{key:"getBoundingBox",value:function(t){return void 0!==this.body.nodes[t]?this.body.nodes[t].shape.boundingBox:void 0}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],o={},n=0;n<i.edges.length;n++){var s=i.edges[n];s.toId==t?void 0===o[s.fromId]&&(e.push(s.fromId),o[s.fromId]=!0):s.fromId==t&&void 0===o[s.toId]&&(e.push(s.toId),o[s.toId]=!0)}return e}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],o=0;o<i.edges.length;o++)e.push(i.edges[o].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,i){var o=this;void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(i),setTimeout(function(){o.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",t)}}]),t}();e["default"]=p,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(63),a=o(r),h=i(64),d=o(h),l=i(66),u=o(l),c=i(68),p=o(c),f=i(69),m=o(f),v=i(70),g=o(v),y=i(72),b=o(y),w=i(73),_=o(w),x=i(74),k=o(x),O=i(75),M=o(O),D=i(76),C=o(D),T=i(77),S=o(T),E=i(78),P=o(E),I=i(79),N=o(I),z=i(80),L=o(z),A=i(47),B=(o(A),i(1)),F=function(){function t(e,i,o,s,r){n(this,t),this.options=B.bridgeObject(r),this.globalOptions=r,this.body=i,this.edges=[],this.id=void 0,this.imagelist=o,this.grouplist=s,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new a["default"](this.body,this.options),this.setOptions(e)}return s(t,[{key:"attachEdge",value:function(t){-1===this.edges.indexOf(t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e=this.edges.indexOf(t);-1!=e&&this.edges.splice(e,1)}},{key:"setOptions",value:function(e){var i=this.options.shape;if(e){if(void 0!==e.id&&(this.id=e.id),void 0===this.id)throw"Node must have an id";if(void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=parseFloat(e.value)),"number"==typeof e.group||"string"==typeof e.group&&""!=e.group){var o=this.grouplist.get(e.group);B.deepExtend(this.options,o),this.options.color=B.parseColor(this.options.color)}if(t.parseOptions(this.options,e,!0,this.globalOptions),void 0!==this.options.image){if(!this.imagelist)throw"No imagelist provided";this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id)}return this.updateLabelModule(),this.updateShape(i),void 0!==e.hidden||void 0!==e.physics?!0:!1}}},{key:"updateLabelModule",value:function(){(void 0===this.options.label||null===this.options.label)&&(this.options.label=""),this.labelModule.setOptions(this.options,!0),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj);else switch(this.options.shape){case"box":this.shape=new d["default"](this.options,this.body,this.labelModule);break;case"circle":this.shape=new u["default"](this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new p["default"](this.options,this.body,this.labelModule,this.imageObj);break;case"database":this.shape=new m["default"](this.options,this.body,this.labelModule);break;case"diamond":this.shape=new g["default"](this.options,this.body,this.labelModule);break;case"dot":this.shape=new b["default"](this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new _["default"](this.options,this.body,this.labelModule);break;case"icon":this.shape=new k["default"](this.options,this.body,this.labelModule);break;case"image":this.shape=new M["default"](this.options,this.body,this.labelModule,this.imageObj);break;case"square":this.shape=new C["default"](this.options,this.body,this.labelModule);break;case"star":this.shape=new S["default"](this.options,this.body,this.labelModule);break;case"text":this.shape=new P["default"](this.options,this.body,this.labelModule);break;case"triangle":this.shape=new N["default"](this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new L["default"](this.options,this.body,this.labelModule);break;default:this.shape=new _["default"](this.options,this.body,this.labelModule)}this._reset()}},{key:"select",value:function(){this.selected=!0,this._reset()}},{key:"unselect",value:function(){this.selected=!1,this._reset()}},{key:"_reset",value:function(){this.shape.width=void 0,this.shape.height=void 0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var o=this.options.scaling.customScalingFunction(t,e,i,this.options.value),n=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+o*s}this.options.size=this.options.scaling.min+o*n}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){this.shape.draw(t,this.x,this.y,this.selected,this.hover)}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){this.shape.resize(t,this.selected)}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"parseOptions",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],n=["color","font","fixed","shadow"];if(B.selectiveNotDeepExtend(n,t,e,i),B.mergeOptions(t,e,"shadow",i,o),void 0!==e.color&&null!==e.color){var s=B.parseColor(e.color);B.fillIfDefined(t.color,s)}else i===!0&&null===e.color&&(t.color=B.bridgeObject(o.color));void 0!==e.fixed&&null!==e.fixed&&("boolean"==typeof e.fixed?(t.fixed.x=e.fixed,t.fixed.y=e.fixed):(void 0!==e.fixed.x&&"boolean"==typeof e.fixed.x&&(t.fixed.x=e.fixed.x),void 0!==e.fixed.y&&"boolean"==typeof e.fixed.y&&(t.fixed.y=e.fixed.y))),void 0!==e.font&&null!==e.font?a["default"].parseOptions(t.font,e):i===!0&&null===e.font&&(t.font=B.bridgeObject(o.font)),void 0!==e.scaling&&B.mergeOptions(t.scaling,e.scaling,"label",i,o.scaling)}}]),t}();e["default"]=F,t.exports=e["default"]},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){var i=[],o=!0,n=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(o=(r=a.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(h){n=!0,s=h}finally{try{!o&&a["return"]&&a["return"]()}finally{if(n)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(1),a=function(){function t(e,i){o(this,t),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(i),this.size={top:0,left:0,width:0,height:0,yLine:0}}return s(t,[{key:"setOptions",value:function(e){var i=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];this.nodeOptions=e,this.fontOptions=r.deepExtend({},e.font,!0),void 0!==e.label&&(this.labelDirty=!0),void 0!==e.font&&(t.parseOptions(this.fontOptions,e,i),"string"==typeof e.font?this.baseSize=this.fontOptions.size:"object"==typeof e.font&&void 0!==e.font.size&&(this.baseSize=e.font.size))}},{key:"draw",value:function(t,e,i,o){var n=arguments.length<=4||void 0===arguments[4]?"middle":arguments[4];if(void 0!==this.nodeOptions.label){var s=this.fontOptions.size*this.body.view.scale;this.nodeOptions.label&&s<this.nodeOptions.scaling.label.drawThreshold-1||(this.calculateLabelSize(t,o,e,i,n),this._drawBackground(t),this._drawText(t,o,e,i,n))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;var e=2;switch(this.fontOptions.align){case"middle":t.fillRect(.5*-this.size.width,.5*-this.size.height,this.size.width,this.size.height);break;case"top":t.fillRect(.5*-this.size.width,-(this.size.height+e),this.size.width,this.size.height);break;case"bottom":t.fillRect(.5*-this.size.width,e,this.size.width,this.size.height);break;default:t.fillRect(this.size.left,this.size.top-.5*e,this.size.width,this.size.height)}}}},{key:"_drawText",value:function(t,e,i,o){var s=arguments.length<=4||void 0===arguments[4]?"middle":arguments[4],r=this.fontOptions.size,a=r*this.body.view.scale;a>=this.nodeOptions.scaling.label.maxVisible&&(r=Number(this.nodeOptions.scaling.label.maxVisible)/this.body.view.scale);var h=this.size.yLine,d=this._getColor(a),l=n(d,2),u=l[0],c=l[1],p=this._setAlignment(t,i,h,s),f=n(p,2);i=f[0],h=f[1],t.font=(e&&this.nodeOptions.labelHighlightBold?"bold ":"")+r+"px "+this.fontOptions.face,t.fillStyle=u,t.textAlign="center",this.fontOptions.strokeWidth>0&&(t.lineWidth=this.fontOptions.strokeWidth,t.strokeStyle=c,t.lineJoin="round");for(var m=0;m<this.lineCount;m++)this.fontOptions.strokeWidth>0&&t.strokeText(this.lines[m],i,h),t.fillText(this.lines[m],i,h),h+=r}},{key:"_setAlignment",value:function(t,e,i,o){if("horizontal"!==this.fontOptions.align&&this.pointToSelf===!1){e=0,i=0;var n=2;"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=2*n):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=2*n):t.textBaseline="middle"}else t.textBaseline=o;return[e,i]}},{key:"_getColor",value:function(t){var e=this.fontOptions.color||"#000000",i=this.fontOptions.strokeColor||"#ffffff";if(t<=this.nodeOptions.scaling.label.drawThreshold){var o=Math.max(0,Math.min(1,1-(this.nodeOptions.scaling.label.drawThreshold-t)));e=r.overrideOpacity(e,o),i=r.overrideOpacity(i,o)}return[e,i]}},{key:"getTextSize",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i={width:this._processLabel(t,e),height:this.fontOptions.size*this.lineCount,lineCount:this.lineCount};return i}},{key:"calculateLabelSize",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?0:arguments[2],o=arguments.length<=3||void 0===arguments[3]?0:arguments[3],n=arguments.length<=4||void 0===arguments[4]?"middle":arguments[4];this.labelDirty===!0&&(this.size.width=this._processLabel(t,e)),this.size.height=this.fontOptions.size*this.lineCount,this.size.left=i-.5*this.size.width,this.size.top=o-.5*this.size.height,this.size.yLine=o+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===n&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4),this.labelDirty=!1}},{key:"_processLabel",value:function(t,e){var i=0,o=[""],n=0;if(void 0!==this.nodeOptions.label){o=String(this.nodeOptions.label).split("\n"),n=o.length,t.font=(e&&this.nodeOptions.labelHighlightBold?"bold ":"")+this.fontOptions.size+"px "+this.fontOptions.face,i=t.measureText(o[0]).width;for(var s=1;n>s;s++){var r=t.measureText(o[s]).width;i=r>i?r:i}}return this.lines=o,this.lineCount=n,i}}],[{key:"parseOptions",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];if("string"==typeof e.font){var o=e.font.split(" ");t.size=o[0].replace("px",""),t.face=o[1],t.color=o[2]}else"object"==typeof e.font&&r.fillIfDefined(t,e.font,i);t.size=Number(t.size)}}]),t}();e["default"]=a,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},h=i(65),d=o(h),l=function(t){function e(t,i,o){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o)}return s(e,t),r(e,[{key:"resize",value:function(t,e){if(void 0===this.width){var i=5,o=this.labelModule.getTextSize(t,e);this.width=o.width+2*i,this.height=o.height+2*i,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,o,n){this.resize(t,o),this.left=e-this.width/2,this.top=i-this.height/2;var s=this.options.borderWidth,r=this.options.borderWidthSelected||2*this.options.borderWidth;t.strokeStyle=o?this.options.color.highlight.border:n?this.options.color.hover.border:this.options.color.border,t.lineWidth=o?r:s,t.lineWidth/=this.body.view.scale,t.lineWidth=Math.min(this.width,t.lineWidth),t.fillStyle=o?this.options.color.highlight.background:n?this.options.color.hover.background:this.options.color.background;var a=this.options.shapeProperties.borderRadius;t.roundRect(this.left,this.top,this.width,this.height,a),this.enableShadow(t),t.fill(),this.disableShadow(t),t.save(),this.enableBorderDashes(t),t.stroke(),this.disableBorderDashes(t),t.restore(),this.updateBoundingBox(e,i,t,o),this.labelModule.draw(t,e,i,o)}},{key:"updateBoundingBox",value:function(t,e,i,o){this.resize(i,o),this.left=t-.5*this.width,this.top=e-.5*this.height,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=this.width/2,o=this.height/2,n=Math.sin(e)*i,s=Math.cos(e)*o;return i*o/Math.sqrt(n*n+s*s)}}]),e}(d["default"]);e["default"]=l,t.exports=e["default"]},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e,o,n){i(this,t),this.body=o,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return o(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"_distanceToBorder",value:function(t,e){var i=1;return this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}},{key:"enableShadow",value:function(t){this.options.shadow.enabled===!0&&(t.shadowColor="rgba(0,0,0,0.5)",t.shadowBlur=this.options.shadow.size,t.shadowOffsetX=this.options.shadow.x,t.shadowOffsetY=this.options.shadow.y)}},{key:"disableShadow",value:function(t){this.options.shadow.enabled===!0&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t){if(this.options.shapeProperties.borderDashes!==!1)if(void 0!==t.setLineDash){var e=this.options.shapeProperties.borderDashes;e===!0&&(e=[5,15]),t.setLineDash(e)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1}},{key:"disableBorderDashes",value:function(t){this.options.shapeProperties.borderDashes!==!1&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1))}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},h=i(67),d=o(h),l=function(t){function e(t,i,o){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o)}return s(e,t),r(e,[{key:"resize",value:function(t,e){if(void 0===this.width){var i=5,o=this.labelModule.getTextSize(t,e),n=Math.max(o.width,o.height)+2*i;this.options.size=n/2,this.width=n,this.height=n,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,o,n){this.resize(t,o),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,o,n,this.options.size),this.boundingBox.top=i-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=i+this.options.size,this.updateBoundingBox(e,i),this.labelModule.draw(t,e,i,o)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=this.width/2,o=this.height/2,n=Math.sin(e)*i,s=Math.cos(e)*o;return i*o/Math.sqrt(n*n+s*s)}}]),e}(d["default"]);e["default"]=l,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},h=i(65),d=o(h),l=function(t){function e(t,i,o){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o),this.labelOffset=0,this.imageLoaded=!1}return s(e,t),r(e,[{key:"setOptions",value:function(t,e){this.options=t,e&&(this.imageObj=e)}},{key:"_resizeImage",value:function(){var t=!1;if(this.imageObj.width&&this.imageObj.height?this.imageLoaded===!1&&(this.imageLoaded=!0,t=!0):this.imageLoaded=!1,!this.width||!this.height||t===!0){var e,i,o;this.imageObj.width&&this.imageObj.height&&(e=0,i=0),this.options.shapeProperties.useImageSize===!1?this.imageObj.width>this.imageObj.height?(o=this.imageObj.width/this.imageObj.height,e=2*this.options.size*o||this.imageObj.width,i=2*this.options.size||this.imageObj.height):(o=this.imageObj.width&&this.imageObj.height?this.imageObj.height/this.imageObj.width:1,e=2*this.options.size,i=2*this.options.size*o):(e=this.imageObj.width,i=this.imageObj.height),this.width=e,this.height=i,this.radius=.5*this.width}}},{key:"_drawRawCircle",value:function(t,e,i,o,n,s){var r=this.options.borderWidth,a=this.options.borderWidthSelected||2*this.options.borderWidth;t.strokeStyle=o?this.options.color.highlight.border:n?this.options.color.hover.border:this.options.color.border,t.lineWidth=o?a:r,t.lineWidth*=this.networkScaleInv,t.lineWidth=Math.min(this.width,t.lineWidth),t.fillStyle=o?this.options.color.highlight.background:n?this.options.color.hover.background:this.options.color.background,t.circle(e,i,s),this.enableShadow(t),t.fill(),this.disableShadow(t),t.save(),this.enableBorderDashes(t),t.stroke(),this.disableBorderDashes(t),t.restore()}},{key:"_drawImageAtPosition",value:function(t){0!=this.imageObj.width&&(t.globalAlpha=1,this.enableShadow(t),t.drawImage(this.imageObj,this.left,this.top,this.width,this.height),this.disableShadow(t))}},{key:"_drawImageLabel",value:function(t,e,i,o){var n,s=0;if(void 0!==this.height){s=.5*this.height;var r=this.labelModule.getTextSize(t);r.lineCount>=1&&(s+=r.height/2)}n=i+s,this.options.label&&(this.labelOffset=s),this.labelModule.draw(t,e,n,o,"hanging")}}]),e}(d["default"]);e["default"]=l,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},h=i(67),d=o(h),l=function(t){function e(t,i,o,s){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o),this.imageObj=s,this._swapToImageResizeWhenImageLoaded=!0}return s(e,t),r(e,[{key:"resize",value:function(){if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){if(!this.width){var t=2*this.options.size;this.width=t,this.height=t,this._swapToImageResizeWhenImageLoaded=!0,this.radius=.5*this.width}}else this._swapToImageResizeWhenImageLoaded&&(this.width=void 0,this.height=void 0,this._swapToImageResizeWhenImageLoaded=!1),this._resizeImage()}},{key:"draw",value:function(t,e,i,o,n){this.resize(),this.left=e-this.width/2,this.top=i-this.height/2;var s=Math.min(.5*this.height,.5*this.width);this._drawRawCircle(t,e,i,o,n,s),t.save(),t.clip(),this._drawImageAtPosition(t),t.restore(),this._drawImageLabel(t,e,i,o),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),this._distanceToBorder(t,e)}}]),e}(d["default"]);e["default"]=l,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},h=i(65),d=o(h),l=function(t){function e(t,i,o){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o)}return s(e,t),r(e,[{key:"resize",value:function(t,e){if(void 0===this.width){var i=5,o=this.labelModule.getTextSize(t,e),n=o.width+2*i;this.width=n,this.height=n,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,o,n){this.resize(t,o),this.left=e-this.width/2,this.top=i-this.height/2;var s=this.options.borderWidth,r=this.options.borderWidthSelected||2*this.options.borderWidth;t.strokeStyle=o?this.options.color.highlight.border:n?this.options.color.hover.border:this.options.color.border,t.lineWidth=this.selected?r:s,t.lineWidth*=this.networkScaleInv,t.lineWidth=Math.min(this.width,t.lineWidth),t.fillStyle=o?this.options.color.highlight.background:n?this.options.color.hover.background:this.options.color.background,t.database(e-this.width/2,i-.5*this.height,this.width,this.height),this.enableShadow(t),t.fill(),this.disableShadow(t),t.save(),this.enableBorderDashes(t),t.stroke(),this.disableBorderDashes(t),t.restore(),this.updateBoundingBox(e,i,t,o),this.labelModule.draw(t,e,i,o)}},{key:"updateBoundingBox",value:function(t,e,i,o){this.resize(i,o),this.left=t-.5*this.width,this.top=e-.5*this.height,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=this.width/2,o=this.height/2,n=Math.sin(e)*i,s=Math.cos(e)*o;return i*o/Math.sqrt(n*n+s*s)}}]),e}(d["default"]);e["default"]=l,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},h=i(71),d=o(h),l=function(t){function e(t,i,o){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o)}return s(e,t),r(e,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n){this._drawShape(t,"diamond",4,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(d["default"]);e["default"]=l,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},h=i(65),d=o(h),l=function(t){function e(t,i,o){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o)}return s(e,t),r(e,[{key:"_resizeShape",value:function(){if(void 0===this.width){var t=2*this.options.size;this.width=t,this.height=t,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,i,o,n,s,r){this._resizeShape(),this.left=o-this.width/2,this.top=n-this.height/2;var a=this.options.borderWidth,h=this.options.borderWidthSelected||2*this.options.borderWidth;if(t.strokeStyle=s?this.options.color.highlight.border:r?this.options.color.hover.border:this.options.color.border,t.lineWidth=s?h:a,t.lineWidth/=this.body.view.scale,t.lineWidth=Math.min(this.width,t.lineWidth),t.fillStyle=s?this.options.color.highlight.background:r?this.options.color.hover.background:this.options.color.background,
t[e](o,n,this.options.size),this.enableShadow(t),t.fill(),this.disableShadow(t),t.save(),this.enableBorderDashes(t),t.stroke(),this.disableBorderDashes(t),t.restore(),void 0!==this.options.label){var d=n+.5*this.height+3;this.labelModule.draw(t,o,d,s,"hanging")}this.updateBoundingBox(o,n)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+3))}}]),e}(d["default"]);e["default"]=l,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},h=i(71),d=o(h),l=function(t){function e(t,i,o){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o)}return s(e,t),r(e,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n){this._drawShape(t,"circle",2,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),this.options.size+this.options.borderWidth}}]),e}(d["default"]);e["default"]=l,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},h=i(65),d=o(h),l=function(t){function e(t,i,o){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o)}return s(e,t),r(e,[{key:"resize",value:function(t,e){if(void 0===this.width){var i=this.labelModule.getTextSize(t,e);this.width=1.5*i.width,this.height=2*i.height,this.width<this.height&&(this.width=this.height),this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,o,n){this.resize(t,o),this.left=e-.5*this.width,this.top=i-.5*this.height;var s=this.options.borderWidth,r=this.options.borderWidthSelected||2*this.options.borderWidth;t.strokeStyle=o?this.options.color.highlight.border:n?this.options.color.hover.border:this.options.color.border,t.lineWidth=o?r:s,t.lineWidth/=this.body.view.scale,t.lineWidth=Math.min(this.width,t.lineWidth),t.fillStyle=o?this.options.color.highlight.background:n?this.options.color.hover.background:this.options.color.background,t.ellipse(this.left,this.top,this.width,this.height),this.enableShadow(t),t.fill(),this.disableShadow(t),t.save(),this.enableBorderDashes(t),t.stroke(),this.disableBorderDashes(t),t.restore(),this.updateBoundingBox(e,i,t,o),this.labelModule.draw(t,e,i,o)}},{key:"updateBoundingBox",value:function(t,e,i,o){this.resize(i,o),this.left=t-.5*this.width,this.top=e-.5*this.height,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=.5*this.width,o=.5*this.height,n=Math.sin(e)*i,s=Math.cos(e)*o;return i*o/Math.sqrt(n*n+s*s)}}]),e}(d["default"]);e["default"]=l,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},h=i(65),d=o(h),l=function(t){function e(t,i,o){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o)}return s(e,t),r(e,[{key:"resize",value:function(t){if(void 0===this.width){var e=5,i={width:Number(this.options.icon.size),height:Number(this.options.icon.size)};this.width=i.width+2*e,this.height=i.height+2*e,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,o,n){if(this.resize(t),this.options.icon.size=this.options.icon.size||50,this.left=e-.5*this.width,this.top=i-.5*this.height,this._icon(t,e,i,o),void 0!==this.options.label){var s=5;this.labelModule.draw(t,e,i+.5*this.height+s,o)}this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){if(this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0){var i=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+i)}}},{key:"_icon",value:function(t,e,i,o){var n=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=(o?"bold ":"")+n+"px "+this.options.icon.face,t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t),t.fillText(this.options.icon.code,e,i),this.disableShadow(t)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(d["default"]);e["default"]=l,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},h=i(67),d=o(h),l=function(t){function e(t,i,o,s){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o),this.imageObj=s}return s(e,t),r(e,[{key:"resize",value:function(){this._resizeImage()}},{key:"draw",value:function(t,e,i,o,n){if(this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,this.options.shapeProperties.useBorderWithImage===!0){var s=this.options.borderWidth,r=this.options.borderWidthSelected||2*this.options.borderWidth;t.beginPath(),t.strokeStyle=o?this.options.color.highlight.border:n?this.options.color.hover.border:this.options.color.border,t.lineWidth=o?r:s,t.lineWidth/=this.body.view.scale,t.lineWidth=Math.min(this.width,t.lineWidth),t.fillStyle=o?this.options.color.highlight.background:n?this.options.color.hover.background:this.options.color.background,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),t.fill(),t.save(),this.enableBorderDashes(t),t.stroke(),this.disableBorderDashes(t),t.restore(),t.closePath()}this._drawImageAtPosition(t),this._drawImageLabel(t,e,i,o||n),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.resize(),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=this.width/2,o=this.height/2,n=Math.sin(e)*i,s=Math.cos(e)*o;return i*o/Math.sqrt(n*n+s*s)}}]),e}(d["default"]);e["default"]=l,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},h=i(71),d=o(h),l=function(t){function e(t,i,o){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o)}return s(e,t),r(e,[{key:"resize",value:function(){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n){this._drawShape(t,"square",2,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(d["default"]);e["default"]=l,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},h=i(71),d=o(h),l=function(t){function e(t,i,o){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o)}return s(e,t),r(e,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n){this._drawShape(t,"star",4,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(d["default"]);e["default"]=l,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},h=i(65),d=o(h),l=function(t){function e(t,i,o){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o)}return s(e,t),r(e,[{key:"resize",value:function(t,e){if(void 0===this.width){var i=5,o=this.labelModule.getTextSize(t,e);this.width=o.width+2*i,this.height=o.height+2*i,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,o,n){this.resize(t,o||n),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t),this.labelModule.draw(t,e,i,o||n),this.disableShadow(t),this.updateBoundingBox(e,i,t,o)}},{key:"updateBoundingBox",value:function(t,e,i,o){this.resize(i,o),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(d["default"]);e["default"]=l,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},h=i(71),d=o(h),l=function(t){function e(t,i,o){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o)}return s(e,t),r(e,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n){this._drawShape(t,"triangle",3,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(d["default"]);e["default"]=l,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},h=i(71),d=o(h),l=function(t){function e(t,i,o){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o)}return s(e,t),r(e,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n){this._drawShape(t,"triangleDown",3,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(d["default"]);e["default"]=l,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(82),a=o(r),h=i(63),d=o(h),l=i(1),u=i(8),c=i(10),p=function(){function t(e,i,o){var s=this;n(this,t),this.body=e,this.images=i,this.groups=o,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(t,e){s.add(e.items)},update:function(t,e){s.update(e.items)},remove:function(t,e){s.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1},middle:{enabled:!1,scaleFactor:1},from:{enabled:!1,scaleFactor:1}},color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal"},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,o){if(e===t)return.5;var n=1/(e-t);return Math.max(0,(o-t)*n)}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return s(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_forceDisableDynamicCurves",function(e){"dynamic"===e&&(e="continuous");var i=!1;for(var o in t.body.edges)if(t.body.edges.hasOwnProperty(o)){var n=t.body.edges[o],s=t.body.data.edges._data[o];if(void 0!==s){var r=s.smooth;void 0!==r&&r.enabled===!0&&"dynamic"===r.type&&(void 0===e?n.setOptions({smooth:!1}):n.setOptions({smooth:{type:e}}),i=!0)}}i===!0&&t.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){t.reconnectEdges(),t.markAllEdgesAsDirty()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){delete t.body.functions.createEdge,delete t.edgesListeners.add,delete t.edgesListeners.update,delete t.edgesListeners.remove,delete t.edgesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){a["default"].parseOptions(this.options,t),void 0!==t.color&&this.markAllEdgesAsDirty();var e=!1;if(void 0!==t.smooth)for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&(e=this.body.edges[i].updateEdgeType()||e);if(void 0!==t.font){d["default"].parseOptions(this.options.font,t);for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&this.body.edges[i].updateLabelModule()}(void 0!==t.hidden||void 0!==t.physics||e===!0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=this,i=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],o=this.body.data.edges;if(t instanceof u||t instanceof c)this.body.data.edges=t;else if(Array.isArray(t))this.body.data.edges=new u,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new u}if(o&&l.forEach(this.edgesListeners,function(t,e){o.off(e,t)}),this.body.edges={},this.body.data.edges){l.forEach(this.edgesListeners,function(t,i){e.body.data.edges.on(i,t)});var n=this.body.data.edges.getIds();this.add(n,!0)}i===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i=this.body.edges,o=this.body.data.edges,n=0;n<t.length;n++){var s=t[n],r=i[s];r&&r.disconnect();var a=o.get(s,{showInternalIds:!0});i[s]=this.create(a)}e===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,i=this.body.data.edges,o=!1,n=0;n<t.length;n++){var s=t[n],r=i.get(s),a=e[s];void 0!==a?(a.disconnect(),o=a.setOptions(r)||o,a.connect()):(this.body.edges[s]=this.create(r),o=!0)}o===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.edges,i=0;i<t.length;i++){var o=t[i],n=e[o];void 0!==n&&(n.cleanup(),n.disconnect(),delete e[o])}this.body.emitter.emit("_dataChanged")}},{key:"refresh",value:function(){var t=this.body.edges;for(var e in t){var i=void 0;t.hasOwnProperty(e)&&(i=t[e]);var o=this.body.data.edges._data[e];void 0!==i&&void 0!==o&&i.setOptions(o)}}},{key:"create",value:function(t){return new a["default"](t,this.body,this.options)}},{key:"markAllEdgesAsDirty",value:function(){for(var t in this.body.edges)this.body.edges[t].edgeType.colorDirty=!0}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,i=this.body.edges;for(t in e)e.hasOwnProperty(t)&&(e[t].edges=[]);for(t in i)if(i.hasOwnProperty(t)){var o=i[t];o.from=null,o.to=null,o.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var i=this.body.edges[t];i.fromId&&e.push(i.fromId),i.toId&&e.push(i.toId)}return e}}]),t}();e["default"]=p,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(63),a=o(r),h=i(83),d=o(h),l=i(87),u=o(l),c=i(88),p=o(c),f=i(89),m=o(f),v=i(1),g=function(){function t(e,i,o){if(n(this,t),void 0===i)throw"No body provided";this.options=v.bridgeObject(o),this.globalOptions=o,this.body=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.colorDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new a["default"](this.body,this.options),this.setOptions(e)}return s(t,[{key:"setOptions",value:function(e){if(e){this.colorDirty=!0,t.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=parseFloat(e.value)),this.updateLabelModule();var i=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),(void 0!==e.hidden||void 0!==e.physics)&&(i=!0),i}}},{key:"updateLabelModule",value:function(){this.labelModule.setOptions(this.options,!0),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=!1,e=!0,i=this.options.smooth;return void 0!==this.edgeType&&(this.edgeType instanceof u["default"]&&i.enabled===!0&&"dynamic"===i.type&&(e=!1),this.edgeType instanceof d["default"]&&i.enabled===!0&&"cubicBezier"===i.type&&(e=!1),this.edgeType instanceof p["default"]&&i.enabled===!0&&"dynamic"!==i.type&&"cubicBezier"!==i.type&&(e=!1),this.edgeType instanceof m["default"]&&i.enabled===!1&&(e=!1),e===!0&&(t=this.cleanup())),e===!0?this.options.smooth.enabled===!0?"dynamic"===this.options.smooth.type?(t=!0,this.edgeType=new u["default"](this.options,this.body,this.labelModule)):"cubicBezier"===this.options.smooth.type?this.edgeType=new d["default"](this.options,this.body,this.labelModule):this.edgeType=new p["default"](this.options,this.body,this.labelModule):this.edgeType=new m["default"](this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var o=this.options.scaling.customScalingFunction(t,e,i,this.options.value),n=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+o*s}this.options.width=this.options.scaling.min+o*n}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.edgeType.drawLine(t,this.selected,this.hover);this.drawArrows(t,e),this.drawLabel(t,e)}},{key:"drawArrows",value:function(t,e){this.options.arrows.from.enabled===!0&&this.edgeType.drawArrowHead(t,"from",e,this.selected,this.hover),this.options.arrows.middle.enabled===!0&&this.edgeType.drawArrowHead(t,"middle",e,this.selected,this.hover),this.options.arrows.to.enabled===!0&&this.edgeType.drawArrowHead(t,"to",e,this.selected,this.hover)}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var i=this.from,o=this.to,n=this.from.selected||this.to.selected||this.selected;if(i.id!=o.id){this.labelModule.pointToSelf=!1;var s=this.edgeType.getPoint(.5,e);t.save(),"horizontal"!==this.options.font.align&&(this.labelModule.calculateLabelSize(t,n,s.x,s.y),t.translate(s.x,this.labelModule.size.yLine),this._rotateForLabelAlignment(t)),this.labelModule.draw(t,s.x,s.y,n),t.restore()}else{this.labelModule.pointToSelf=!0;var r,a,h=this.options.selfReferenceSize;i.shape.width>i.shape.height?(r=i.x+.5*i.shape.width,a=i.y-h):(r=i.x+h,a=i.y-.5*i.shape.height),s=this._pointOnCircle(r,a,h,.125),this.labelModule.draw(t,s.x,s.y,n)}}}},{key:"isOverlappingWith",value:function(t){if(this.connected){var e=10,i=this.from.x,o=this.from.y,n=this.to.x,s=this.to.y,r=t.left,a=t.top,h=this.edgeType.getDistanceToEdge(i,o,n,s,r,a);return e>h}return!1}},{key:"_rotateForLabelAlignment",value:function(t){var e=this.from.y-this.to.y,i=this.from.x-this.to.x,o=Math.atan2(e,i);(-1>o&&0>i||o>0&&0>i)&&(o+=Math.PI),t.rotate(o)}},{key:"_pointOnCircle",value:function(t,e,i,o){var n=2*o*Math.PI;return{x:t+i*Math.cos(n),y:e-i*Math.sin(n)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}}],[{key:"parseOptions",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],n=["id","from","hidden","hoverWidth","label","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width"];if(v.selectiveDeepExtend(n,t,e,i),v.mergeOptions(t,e,"smooth",i,o),v.mergeOptions(t,e,"shadow",i,o),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:i===!0&&null===e.dashes&&(t.dashes=Object.create(o.dashes)),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),v.mergeOptions(t.scaling,e.scaling,"label",i,o.scaling)):i===!0&&null===e.scaling&&(t.scaling=Object.create(o.scaling)),void 0!==e.arrows&&null!==e.arrows)if("string"==typeof e.arrows){var s=e.arrows.toLowerCase();-1!=s.indexOf("to")&&(t.arrows.to.enabled=!0),-1!=s.indexOf("middle")&&(t.arrows.middle.enabled=!0),-1!=s.indexOf("from")&&(t.arrows.from.enabled=!0)}else{if("object"!=typeof e.arrows)throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+JSON.stringify(e.arrows));
v.mergeOptions(t.arrows,e.arrows,"to",i,o.arrows),v.mergeOptions(t.arrows,e.arrows,"middle",i,o.arrows),v.mergeOptions(t.arrows,e.arrows,"from",i,o.arrows)}else i===!0&&null===e.arrows&&(t.arrows=Object.create(o.arrows));if(void 0!==e.color&&null!==e.color)if(t.color=v.deepExtend({},t.color,!0),v.isString(e.color))t.color.color=e.color,t.color.highlight=e.color,t.color.hover=e.color,t.color.inherit=!1;else{var r=!1;void 0!==e.color.color&&(t.color.color=e.color.color,r=!0),void 0!==e.color.highlight&&(t.color.highlight=e.color.highlight,r=!0),void 0!==e.color.hover&&(t.color.hover=e.color.hover,r=!0),void 0!==e.color.inherit&&(t.color.inherit=e.color.inherit),void 0!==e.color.opacity&&(t.color.opacity=Math.min(1,Math.max(0,e.color.opacity))),void 0===e.color.inherit&&r===!0&&(t.color.inherit=!1)}else i===!0&&null===e.color&&(t.color=v.bridgeObject(o.color));void 0!==e.font&&null!==e.font?a["default"].parseOptions(t.font,e):i===!0&&null===e.font&&(t.font=v.bridgeObject(o.font))}}]),t}();e["default"]=g,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){var i=[],o=!0,n=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(o=(r=a.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(h){n=!0,s=h}finally{try{!o&&a["return"]&&a["return"]()}finally{if(n)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},d=i(84),l=o(d),u=function(t){function e(t,i,o){n(this,e),h(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o)}return s(e,t),a(e,[{key:"_line",value:function(t){var e=this._getViaCoordinates(),i=r(e,2),o=i[0],n=i[1],s=[o,n];return t.beginPath(),t.moveTo(this.from.x,this.from.y),void 0===o.x?(t.lineTo(this.to.x,this.to.y),s=void 0):t.bezierCurveTo(o.x,o.y,n.x,n.y,this.to.x,this.to.y),this.enableShadow(t),t.stroke(),this.disableShadow(t),s}},{key:"_getViaCoordinates",value:function(){var t=this.from.x-this.to.x,e=this.from.y-this.to.y,i=void 0,o=void 0,n=void 0,s=void 0,r=this.options.smooth.roundness;return(Math.abs(t)>Math.abs(e)||this.options.smooth.forceDirection===!0||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(o=this.from.y,s=this.to.y,i=this.from.x-r*t,n=this.to.x+r*t):(o=this.from.y-r*e,s=this.to.y+r*e,i=this.from.x,n=this.to.x),[{x:i,y:o},{x:n,y:s}]}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,s){var a=arguments.length<=6||void 0===arguments[6]?this._getViaCoordinates():arguments[6],h=r(a,2),d=h[0],l=h[1];return this._getDistanceToBezierEdge(t,e,i,o,n,s,d,l)}},{key:"getPoint",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?this._getViaCoordinates():arguments[1],i=r(e,2),o=i[0],n=i[1],s=t,a=[];a[0]=Math.pow(1-s,3),a[1]=3*s*Math.pow(1-s,2),a[2]=3*Math.pow(s,2)*(1-s),a[3]=Math.pow(s,3);var h=a[0]*this.from.x+a[1]*o.x+a[2]*n.x+a[3]*this.to.x,d=a[0]*this.from.y+a[1]*o.y+a[2]*n.y+a[3]*this.to.y;return{x:h,y:d}}}]),e}(l["default"]);e["default"]=u,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},h=i(85),d=o(h),l=function(t){function e(t,i,o){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o)}return s(e,t),r(e,[{key:"_getDistanceToBezierEdge",value:function(t,e,i,o,n,s,r,a){var h=1e9,d=void 0,l=void 0,u=void 0,c=void 0,p=void 0,f=t,m=e,v=[0,0,0,0];for(l=1;10>l;l++)u=.1*l,v[0]=Math.pow(1-u,3),v[1]=3*u*Math.pow(1-u,2),v[2]=3*Math.pow(u,2)*(1-u),v[3]=Math.pow(u,3),c=v[0]*t+v[1]*r.x+v[2]*a.x+v[3]*i,p=v[0]*e+v[1]*r.y+v[2]*a.y+v[3]*o,l>0&&(d=this._getDistanceToLine(f,m,c,p,n,s),h=h>d?d:h),f=c,m=p;return h}}]),e}(d["default"]);e["default"]=l,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},h=i(86),d=o(h),l=function(t){function e(t,i,o){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o)}return s(e,t),r(e,[{key:"_findBorderPositionBezier",value:function(t,e){var i,o,n,s,r,a=arguments.length<=2||void 0===arguments[2]?this._getViaCoordinates():arguments[2],h=10,d=0,l=0,u=1,c=.2,p=this.to,f=!1;for(t.id===this.from.id&&(p=this.from,f=!0);u>=l&&h>d;){var m=.5*(l+u);if(i=this.getPoint(m,a),o=Math.atan2(p.y-i.y,p.x-i.x),n=p.distanceToBorder(e,o),s=Math.sqrt(Math.pow(i.x-p.x,2)+Math.pow(i.y-p.y,2)),r=n-s,Math.abs(r)<c)break;0>r?f===!1?l=m:u=m:f===!1?u=m:l=m,d++}return i.t=m,i}},{key:"_getDistanceToBezierEdge",value:function(t,e,i,o,n,s,r){var a=1e9,h=void 0,d=void 0,l=void 0,u=void 0,c=void 0,p=t,f=e;for(d=1;10>d;d++)l=.1*d,u=Math.pow(1-l,2)*t+2*l*(1-l)*r.x+Math.pow(l,2)*i,c=Math.pow(1-l,2)*e+2*l*(1-l)*r.y+Math.pow(l,2)*o,d>0&&(h=this._getDistanceToLine(p,f,u,c,n,s),a=a>h?h:a),p=u,f=c;return a}}]),e}(d["default"]);e["default"]=l,t.exports=e["default"]},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){var i=[],o=!0,n=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(o=(r=a.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(h){n=!0,s=h}finally{try{!o&&a["return"]&&a["return"]()}finally{if(n)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(1),a=function(){function t(e,i,n){o(this,t),this.body=i,this.labelModule=n,this.options={},this.setOptions(e),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5}return s(t,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e,i){t.strokeStyle=this.getColor(t,e,i),t.lineWidth=this.getLineWidth(e,i);var o=void 0;return o=this.options.dashes!==!1?this._drawDashedLine(t):this._drawLine(t)}},{key:"_drawLine",value:function(t){var e=void 0;if(this.from!=this.to)e=this._line(t);else{var i=this._getCircleData(t),o=n(i,3),s=o[0],r=o[1],a=o[2];this._circle(t,s,r,a)}return e}},{key:"_drawDashedLine",value:function(t){var e=void 0;t.lineCap="round";var i=[5,5];if(Array.isArray(this.options.dashes)===!0&&(i=this.options.dashes),void 0!==t.setLineDash){if(t.save(),t.setLineDash(i),t.lineDashOffset=0,this.from!=this.to)e=this._line(t);else{var o=this._getCircleData(t),s=n(o,3),r=s[0],a=s[1],h=s[2];this._circle(t,r,a,h)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)t.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,i);else{var d=this._getCircleData(t),l=n(d,3),r=l[0],a=l[1],h=l[2];this._circle(t,r,a,h)}this.enableShadow(t),t.stroke(),this.disableShadow(t)}return e}},{key:"findBorderPosition",value:function(t,e,i){return this.from!=this.to?this._findBorderPosition(t,e,i):this._findBorderPositionCircle(t,e,i)}},{key:"findBorderPositions",value:function(t){var e={},i={};if(this.from!=this.to)e=this._findBorderPosition(this.from,t),i=this._findBorderPosition(this.to,t);else{var o=this._getCircleData(t),s=n(o,3),r=s[0],a=s[1];s[2];e=this._findBorderPositionCircle(this.from,t,{x:r,y:a,low:.25,high:.6,direction:-1}),i=this._findBorderPositionCircle(this.from,t,{x:r,y:a,low:.6,high:.8,direction:1})}return{from:e,to:i}}},{key:"_getCircleData",value:function(t){var e=void 0,i=void 0,o=this.from,n=this.options.selfReferenceSize;return void 0!==t&&void 0===o.shape.width&&o.shape.resize(t),o.shape.width>o.shape.height?(e=o.x+.5*o.shape.width,i=o.y-n):(e=o.x+n,i=o.y-.5*o.shape.height),[e,i,n]}},{key:"_pointOnCircle",value:function(t,e,i,o){var n=2*o*Math.PI;return{x:t+i*Math.cos(n),y:e-i*Math.sin(n)}}},{key:"_findBorderPositionCircle",value:function(t,e,i){for(var o=i.x,n=i.y,s=i.low,r=i.high,a=i.direction,h=10,d=0,l=this.options.selfReferenceSize,u=void 0,c=void 0,p=void 0,f=void 0,m=void 0,v=.05,g=.5*(s+r);r>=s&&h>d&&(g=.5*(s+r),u=this._pointOnCircle(o,n,l,g),c=Math.atan2(t.y-u.y,t.x-u.x),p=t.distanceToBorder(e,c),f=Math.sqrt(Math.pow(u.x-t.x,2)+Math.pow(u.y-t.y,2)),m=p-f,!(Math.abs(m)<v));)m>0?a>0?s=g:r=g:a>0?r=g:s=g,d++;return u.t=g,u}},{key:"getLineWidth",value:function(t,e){return t===!0?Math.max(this.selectionWidth,.3/this.body.view.scale):e===!0?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(t,e,i){var o=this.options.color;if(o.inherit!==!1){if("both"===o.inherit&&this.from.id!==this.to.id){var n=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),s=void 0,a=void 0;return s=this.from.options.color.highlight.border,a=this.to.options.color.highlight.border,this.from.selected===!1&&this.to.selected===!1?(s=r.overrideOpacity(this.from.options.color.border,this.options.color.opacity),a=r.overrideOpacity(this.to.options.color.border,this.options.color.opacity)):this.from.selected===!0&&this.to.selected===!1?a=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(s=this.from.options.color.border),n.addColorStop(0,s),n.addColorStop(1,a),n}this.colorDirty===!0&&("to"===o.inherit?(this.color.highlight=this.to.options.color.highlight.border,this.color.hover=this.to.options.color.hover.border,this.color.color=r.overrideOpacity(this.to.options.color.border,o.opacity)):(this.color.highlight=this.from.options.color.highlight.border,this.color.hover=this.from.options.color.hover.border,this.color.color=r.overrideOpacity(this.from.options.color.border,o.opacity)))}else this.colorDirty===!0&&(this.color.highlight=o.highlight,this.color.hover=o.hover,this.color.color=r.overrideOpacity(o.color,o.opacity));return this.colorDirty=!1,e===!0?this.color.highlight:i===!0?this.color.hover:this.color.color}},{key:"_circle",value:function(t,e,i,o){this.enableShadow(t),t.beginPath(),t.arc(e,i,o,0,2*Math.PI,!1),t.stroke(),this.disableShadow(t)}},{key:"getDistanceToEdge",value:function(t,e,i,o,s,r,a){var h=0;if(this.from!=this.to)h=this._getDistanceToEdge(t,e,i,o,s,r,a);else{var d=this._getCircleData(),l=n(d,3),u=l[0],c=l[1],p=l[2],f=u-s,m=c-r;h=Math.abs(Math.sqrt(f*f+m*m)-p)}return this.labelModule.size.left<s&&this.labelModule.size.left+this.labelModule.size.width>s&&this.labelModule.size.top<r&&this.labelModule.size.top+this.labelModule.size.height>r?0:h}},{key:"_getDistanceToLine",value:function(t,e,i,o,n,s){var r=i-t,a=o-e,h=r*r+a*a,d=((n-t)*r+(s-e)*a)/h;d>1?d=1:0>d&&(d=0);var l=t+d*r,u=e+d*a,c=l-n,p=u-s;return Math.sqrt(c*c+p*p)}},{key:"drawArrowHead",value:function(t,e,i,o,s){t.strokeStyle=this.getColor(t,o,s),t.fillStyle=t.strokeStyle,t.lineWidth=this.getLineWidth(o,s);var r=void 0,a=void 0,h=void 0,d=void 0,l=void 0,u=void 0,c=void 0;if("from"===e?(d=this.from,l=this.to,u=.1,c=this.options.arrows.from.scaleFactor):"to"===e?(d=this.to,l=this.from,u=-.1,c=this.options.arrows.to.scaleFactor):(d=this.to,l=this.from,c=this.options.arrows.middle.scaleFactor),d!=l){if("middle"!==e)if(this.options.smooth.enabled===!0){h=this.findBorderPosition(d,t,{via:i});var p=this.getPoint(Math.max(0,Math.min(1,h.t+u)),i);r=Math.atan2(h.y-p.y,h.x-p.x)}else r=Math.atan2(d.y-l.y,d.x-l.x),h=this.findBorderPosition(d,t);else r=Math.atan2(d.y-l.y,d.x-l.x),h=this.getPoint(.6,i);a=(10+5*this.options.width)*c,t.arrow(h.x,h.y,r,a),this.enableShadow(t),t.fill(),this.disableShadow(t),t.stroke()}else{var f=void 0,m=void 0,v=this._getCircleData(t),g=n(v,3),y=g[0],b=g[1],w=g[2];"from"===e?(m=this.findBorderPosition(this.from,t,{x:y,y:b,low:.25,high:.6,direction:-1}),f=-2*m.t*Math.PI+1.5*Math.PI+.1*Math.PI):"to"===e?(m=this.findBorderPosition(this.from,t,{x:y,y:b,low:.6,high:1,direction:1}),f=-2*m.t*Math.PI+1.5*Math.PI-1.1*Math.PI):(m=this._pointOnCircle(y,b,w,.175),f=3.9269908169872414);var _=(10+5*this.options.width)*c;t.arrow(m.x,m.y,f,_),this.enableShadow(t),t.fill(),this.disableShadow(t),t.stroke()}}},{key:"enableShadow",value:function(t){this.options.shadow.enabled===!0&&(t.shadowColor="rgba(0,0,0,0.5)",t.shadowBlur=this.options.shadow.size,t.shadowOffsetX=this.options.shadow.x,t.shadowOffsetY=this.options.shadow.y)}},{key:"disableShadow",value:function(t){this.options.shadow.enabled===!0&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}}]),t}();e["default"]=a,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},h=i(85),d=o(h),l=function(t){function e(t,i,o){var s=this;n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o),this._boundFunction=function(){s.positionBezierNode()},this.body.emitter.on("_repositionBezierNodes",this._boundFunction)}return s(e,t),r(e,[{key:"setOptions",value:function(t){var e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),e===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],void 0===this.from||void 0===this.to||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via?(delete this.body.nodes[this.via.id],this.via=void 0,!0):!1}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this.body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this.body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t){return t.beginPath(),t.moveTo(this.from.x,this.from.y),t.quadraticCurveTo(this.via.x,this.via.y,this.to.x,this.to.y),this.enableShadow(t),t.stroke(),this.disableShadow(t),this.via}},{key:"getPoint",value:function(t){var e=t,i=Math.pow(1-e,2)*this.from.x+2*e*(1-e)*this.via.x+Math.pow(e,2)*this.to.x,o=Math.pow(1-e,2)*this.from.y+2*e*(1-e)*this.via.y+Math.pow(e,2)*this.to.y;return{x:i,y:o}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,s){return this._getDistanceToBezierEdge(t,e,i,o,n,s,this.via)}}]),e}(d["default"]);e["default"]=l,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},h=i(85),d=o(h),l=function(t){function e(t,i,o){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o)}return s(e,t),r(e,[{key:"_line",value:function(t){t.beginPath(),t.moveTo(this.from.x,this.from.y);var e=this._getViaCoordinates(),i=e;return void 0===e.x?(t.lineTo(this.to.x,this.to.y),i=void 0):t.quadraticCurveTo(e.x,e.y,this.to.x,this.to.y),this.enableShadow(t),t.stroke(),this.disableShadow(t),i}},{key:"_getViaCoordinates",value:function(){var t=void 0,e=void 0,i=this.options.smooth.roundness,o=this.options.smooth.type,n=Math.abs(this.from.x-this.to.x),s=Math.abs(this.from.y-this.to.y);if("discrete"===o||"diagonalCross"===o)Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)?(this.from.y>=this.to.y?this.from.x<=this.to.x?(t=this.from.x+i*s,e=this.from.y-i*s):this.from.x>this.to.x&&(t=this.from.x-i*s,e=this.from.y-i*s):this.from.y<this.to.y&&(this.from.x<=this.to.x?(t=this.from.x+i*s,e=this.from.y+i*s):this.from.x>this.to.x&&(t=this.from.x-i*s,e=this.from.y+i*s)),"discrete"===o&&(t=i*s>n?this.from.x:t)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>=this.to.y?this.from.x<=this.to.x?(t=this.from.x+i*n,e=this.from.y-i*n):this.from.x>this.to.x&&(t=this.from.x-i*n,e=this.from.y-i*n):this.from.y<this.to.y&&(this.from.x<=this.to.x?(t=this.from.x+i*n,e=this.from.y+i*n):this.from.x>this.to.x&&(t=this.from.x-i*n,e=this.from.y+i*n)),"discrete"===o&&(e=i*n>s?this.from.y:e));else if("straightCross"===o)Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)?(t=this.from.x,e=this.from.y<this.to.y?this.to.y-(1-i)*s:this.to.y+(1-i)*s):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(t=this.from.x<this.to.x?this.to.x-(1-i)*n:this.to.x+(1-i)*n,e=this.from.y);else if("horizontal"===o)t=this.from.x<this.to.x?this.to.x-(1-i)*n:this.to.x+(1-i)*n,e=this.from.y;else if("vertical"===o)t=this.from.x,e=this.from.y<this.to.y?this.to.y-(1-i)*s:this.to.y+(1-i)*s;else if("curvedCW"===o){n=this.to.x-this.from.x,s=this.from.y-this.to.y;var r=Math.sqrt(n*n+s*s),a=Math.PI,h=Math.atan2(s,n),d=(h+(.5*i+.5)*a)%(2*a);t=this.from.x+(.5*i+.5)*r*Math.sin(d),e=this.from.y+(.5*i+.5)*r*Math.cos(d)}else if("curvedCCW"===o){n=this.to.x-this.from.x,s=this.from.y-this.to.y;var r=Math.sqrt(n*n+s*s),a=Math.PI,h=Math.atan2(s,n),d=(h+(.5*-i+.5)*a)%(2*a);t=this.from.x+(.5*i+.5)*r*Math.sin(d),e=this.from.y+(.5*i+.5)*r*Math.cos(d)}else Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)?this.from.y>=this.to.y?this.from.x<=this.to.x?(t=this.from.x+i*s,e=this.from.y-i*s,t=this.to.x<t?this.to.x:t):this.from.x>this.to.x&&(t=this.from.x-i*s,e=this.from.y-i*s,t=this.to.x>t?this.to.x:t):this.from.y<this.to.y&&(this.from.x<=this.to.x?(t=this.from.x+i*s,e=this.from.y+i*s,t=this.to.x<t?this.to.x:t):this.from.x>this.to.x&&(t=this.from.x-i*s,e=this.from.y+i*s,t=this.to.x>t?this.to.x:t)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>=this.to.y?this.from.x<=this.to.x?(t=this.from.x+i*n,e=this.from.y-i*n,e=this.to.y>e?this.to.y:e):this.from.x>this.to.x&&(t=this.from.x-i*n,e=this.from.y-i*n,e=this.to.y>e?this.to.y:e):this.from.y<this.to.y&&(this.from.x<=this.to.x?(t=this.from.x+i*n,e=this.from.y+i*n,e=this.to.y<e?this.to.y:e):this.from.x>this.to.x&&(t=this.from.x-i*n,e=this.from.y+i*n,e=this.to.y<e?this.to.y:e)));return{x:t,y:e}}},{key:"_findBorderPosition",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return this._findBorderPositionBezier(t,e,i.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,s){var r=arguments.length<=6||void 0===arguments[6]?this._getViaCoordinates():arguments[6];return this._getDistanceToBezierEdge(t,e,i,o,n,s,r)}},{key:"getPoint",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?this._getViaCoordinates():arguments[1],i=t,o=Math.pow(1-i,2)*this.from.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.to.x,n=Math.pow(1-i,2)*this.from.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.to.y;return{x:o,y:n}}}]),e}(d["default"]);e["default"]=l,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},h=i(86),d=o(h),l=function(t){function e(t,i,o){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o)}return s(e,t),r(e,[{key:"_line",value:function(t){t.beginPath(),t.moveTo(this.from.x,this.from.y),t.lineTo(this.to.x,this.to.y),this.enableShadow(t),t.stroke(),this.disableShadow(t)}},{key:"getPoint",value:function(t){return{x:(1-t)*this.from.x+t*this.to.x,y:(1-t)*this.from.y+t*this.to.y}}},{key:"_findBorderPosition",value:function(t,e){var i=this.to,o=this.from;t.id===this.from.id&&(i=this.from,o=this.to);var n=Math.atan2(i.y-o.y,i.x-o.x),s=i.x-o.x,r=i.y-o.y,a=Math.sqrt(s*s+r*r),h=t.distanceToBorder(e,n),d=(a-h)/a,l={};return l.x=(1-d)*o.x+d*i.x,l.y=(1-d)*o.y+d*i.y,l}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,s){return this._getDistanceToLine(t,e,i,o,n,s)}}]),e}(d["default"]);e["default"]=l,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(91),a=o(r),h=i(92),d=o(h),l=i(93),u=o(l),c=i(94),p=o(c),f=i(95),m=o(f),v=i(96),g=o(v),y=i(97),b=o(y),w=i(98),_=o(w),x=i(1),k=function(){function t(e){n(this,t),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},x.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return s(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",function(){t.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){t.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){t.stopSimulation(),t.ready=!1}),this.body.emitter.on("disablePhysics",function(){t.physicsEnabled=!1,t.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){t.setOptions(t.options),t.ready===!0&&t.startSimulation()}),this.body.emitter.on("startSimulation",function(){t.ready===!0&&t.startSimulation()}),this.body.emitter.on("stopSimulation",function(){t.stopSimulation()}),this.body.emitter.on("destroy",function(){t.stopSimulation(!1),t.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){t.updatePhysicsData()})}},{key:"setOptions",value:function(t){void 0!==t&&(t===!1?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):(this.physicsEnabled=!0,x.selectiveNotDeepExtend(["stabilization"],this.options,t),x.mergeOptions(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new b["default"](this.body,this.physicsBody,t),this.edgesSolver=new p["default"](this.body,this.physicsBody,t),this.gravitySolver=new _["default"](this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new d["default"](this.body,this.physicsBody,t),this.edgesSolver=new p["default"](this.body,this.physicsBody,t),this.gravitySolver=new g["default"](this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new u["default"](this.body,this.physicsBody,t),this.edgesSolver=new m["default"](this.body,this.physicsBody,t),this.gravitySolver=new g["default"](this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new a["default"](this.body,this.physicsBody,t),this.edgesSolver=new p["default"](this.body,this.physicsBody,t),this.gravitySolver=new g["default"](this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];this.stabilized=!0,t===!0&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,t===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=Date.now();this.physicsTick();var e=Date.now()-t;(e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?this.stabilizationIterations:arguments[0];
(this.stabilizationIterations>1||this.startedStabilization===!0)&&setTimeout(function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0},0)}},{key:"physicsTick",value:function(){if(this.startedStabilization===!1&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0),this.stabilized===!1){if(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0){var t=1.2;this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.calculateForces(),this.moveNodes(),this.revert(),this.timestep=.5*this.timestep,this.calculateForces(),this.moveNodes(),this.calculateForces(),this.moveNodes(),this._evaluateStepQuality()===!0?this.timestep=t*this.timestep:this.timestep/t<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/t))):(this.calculateForces(),this.moveNodes()),this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.calculateForces(),this.moveNodes();this.stabilized===!0&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var i in t)t.hasOwnProperty(i)&&t[i].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(i);for(var o in e)e.hasOwnProperty(o)&&e[o].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(o);for(var n=0;n<this.physicsBody.physicsNodeIndices.length;n++){var i=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[i]={x:0,y:0},void 0===this.physicsBody.velocities[i]&&(this.physicsBody.velocities[i]={x:0,y:0})}for(var i in this.physicsBody.velocities)void 0===t[i]&&delete this.physicsBody.velocities[i]}},{key:"revert",value:function(){var t=Object.keys(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var o=0;o<t.length;o++){var n=t[o];void 0!==e[n]?e[n].options.physics===!0&&(this.referenceState[n]={positions:{x:e[n].x,y:e[n].y}},i[n].x=this.previousStates[n].vx,i[n].y=this.previousStates[n].vy,e[n].x=this.previousStates[n].x,e[n].y=this.previousStates[n].y):delete this.previousStates[n]}}},{key:"_evaluateStepQuality",value:function(){var t=void 0,e=void 0,i=void 0,o=this.body.nodes,n=this.referenceState,s=.3;for(var r in this.referenceState)if(this.referenceState.hasOwnProperty(r)&&void 0!==o[r]&&(t=o[r].x-n[r].positions.x,e=o[r].y-n[r].positions.y,i=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),i>s))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=this.options.maxVelocity?this.options.maxVelocity:1e9,i=0,o=0,n=5,s=0;s<t.length;s++){var r=t[s],a=this._performStep(r,e);i=Math.max(i,a),o+=a}this.adaptiveTimestepEnabled=o/t.length<n,this.stabilized=i<this.options.minVelocity}},{key:"_performStep",value:function(t,e){var i=this.body.nodes[t],o=this.timestep,n=this.physicsBody.forces,s=this.physicsBody.velocities;if(this.previousStates[t]={x:i.x,y:i.y,vx:s[t].x,vy:s[t].y},i.options.fixed.x===!1){var r=this.modelOptions.damping*s[t].x,a=(n[t].x-r)/i.options.mass;s[t].x+=a*o,s[t].x=Math.abs(s[t].x)>e?s[t].x>0?e:-e:s[t].x,i.x+=s[t].x*o}else n[t].x=0,s[t].x=0;if(i.options.fixed.y===!1){var h=this.modelOptions.damping*s[t].y,d=(n[t].y-h)/i.options.mass;s[t].y+=d*o,s[t].y=Math.abs(s[t].y)>e?s[t].y>0?e:-e:s[t].y,i.y+=s[t].y*o}else n[t].y=0,s[t].y=0;var l=Math.sqrt(Math.pow(s[t].x,2)+Math.pow(s[t].y,2));return l}},{key:"calculateForces",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve()}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)t.hasOwnProperty(e)&&t[e].x&&t[e].y&&(this.freezeCache[e]={x:t[e].options.fixed.x,y:t[e].options.fixed.y},t[e].options.fixed.x=!0,t[e].options.fixed.y=!0)}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)t.hasOwnProperty(e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?this.options.stabilization.iterations:arguments[0];return"number"!=typeof e&&(console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",this.options.stabilization.iterations),e=this.options.stabilization.iterations),0===this.physicsBody.physicsNodeIndices.length?void(this.ready=!0):(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,void setTimeout(function(){return t._stabilizationBatch()},0))}},{key:"_stabilizationBatch",value:function(){this.startedStabilization===!1&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0);for(var t=0;this.stabilized===!1&&t<this.options.stabilization.updateInterval&&this.stabilizationIterations<this.targetIterations;)this.physicsTick(),t++;this.stabilized===!1&&this.stabilizationIterations<this.targetIterations?(this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations}),setTimeout(this._stabilizationBatch.bind(this),0)):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var i=this.body.nodes[this.physicsBody.physicsNodeIndices[e]],o=this.physicsBody.forces[this.physicsBody.physicsNodeIndices[e]],n=20,s=.03,r=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),a=Math.min(Math.max(5,r),15),h=3*a,d=x.HSVToHex((180-180*Math.min(1,Math.max(0,s*r)))/360,1,1);t.lineWidth=a,t.strokeStyle=d,t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(i.x+n*o.x,i.y+n*o.y),t.stroke();var l=Math.atan2(o.y,o.x);t.fillStyle=d,t.arrow(i.x+n*o.x+Math.cos(l)*h,i.y+n*o.y+Math.sin(l)*h,l,h),t.fill()}}}]),t}();e["default"]=k,t.exports=e["default"]},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e,o,n){i(this,t),this.body=e,this.physicsBody=o,this.barnesHutTree,this.setOptions(n),this.randomSeed=5}return o(t,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var t=void 0,e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,o=i.length,n=this._formBarnesHutTree(e,i);this.barnesHutTree=n;for(var s=0;o>s;s++)t=e[i[s]],t.options.mass>0&&(this._getForceContribution(n.root.children.NW,t),this._getForceContribution(n.root.children.NE,t),this._getForceContribution(n.root.children.SW,t),this._getForceContribution(n.root.children.SE,t))}}},{key:"_getForceContribution",value:function(t,e){if(t.childrenCount>0){var i=void 0,o=void 0,n=void 0;i=t.centerOfMass.x-e.x,o=t.centerOfMass.y-e.y,n=Math.sqrt(i*i+o*o),n*t.calcSize>this.thetaInversed?this._calculateForces(n,i,o,e,t):4===t.childrenCount?(this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)):t.children.data.id!=e.id&&this._calculateForces(n,i,o,e,t)}}},{key:"_calculateForces",value:function(t,e,i,o,n){0===t&&(t=.1,e=t),this.overlapAvoidanceFactor<1&&(t=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,t-o.shape.radius));var s=this.options.gravitationalConstant*n.mass*o.options.mass/Math.pow(t,3),r=e*s,a=i*s;this.physicsBody.forces[o.id].x+=r,this.physicsBody.forces[o.id].y+=a}},{key:"_formBarnesHutTree",value:function(t,e){for(var i=void 0,o=e.length,n=t[e[0]].x,s=t[e[0]].y,r=t[e[0]].x,a=t[e[0]].y,h=1;o>h;h++){var d=t[e[h]].x,l=t[e[h]].y;t[e[h]].options.mass>0&&(n>d&&(n=d),d>r&&(r=d),s>l&&(s=l),l>a&&(a=l))}var u=Math.abs(r-n)-Math.abs(a-s);u>0?(s-=.5*u,a+=.5*u):(n+=.5*u,r-=.5*u);var c=1e-5,p=Math.max(c,Math.abs(r-n)),f=.5*p,m=.5*(n+r),v=.5*(s+a),g={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:m-f,maxX:m+f,minY:v-f,maxY:v+f},size:p,calcSize:1/p,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(g.root);for(var h=0;o>h;h++)i=t[e[h]],i.options.mass>0&&this._placeInTree(g.root,i);return g}},{key:"_updateBranchMass",value:function(t,e){var i=t.mass+e.options.mass,o=1/i;t.centerOfMass.x=t.centerOfMass.x*t.mass+e.x*e.options.mass,t.centerOfMass.x*=o,t.centerOfMass.y=t.centerOfMass.y*t.mass+e.y*e.options.mass,t.centerOfMass.y*=o,t.mass=i;var n=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<n?n:t.maxWidth}},{key:"_placeInTree",value:function(t,e,i){(1!=i||void 0===i)&&this._updateBranchMass(t,e),t.children.NW.range.maxX>e.x?t.children.NW.range.maxY>e.y?this._placeInRegion(t,e,"NW"):this._placeInRegion(t,e,"SW"):t.children.NW.range.maxY>e.y?this._placeInRegion(t,e,"NE"):this._placeInRegion(t,e,"SE")}},{key:"_placeInRegion",value:function(t,e,i){switch(t.children[i].childrenCount){case 0:t.children[i].children.data=e,t.children[i].childrenCount=1,this._updateBranchMass(t.children[i],e);break;case 1:t.children[i].children.data.x===e.x&&t.children[i].children.data.y===e.y?(e.x+=this.seededRandom(),e.y+=this.seededRandom()):(this._splitBranch(t.children[i]),this._placeInTree(t.children[i],e));break;case 4:this._placeInTree(t.children[i],e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var i=void 0,o=void 0,n=void 0,s=void 0,r=.5*t.size;switch(e){case"NW":i=t.range.minX,o=t.range.minX+r,n=t.range.minY,s=t.range.minY+r;break;case"NE":i=t.range.minX+r,o=t.range.maxX,n=t.range.minY,s=t.range.minY+r;break;case"SW":i=t.range.minX,o=t.range.minX+r,n=t.range.minY+r,s=t.range.maxY;break;case"SE":i=t.range.minX+r,o=t.range.maxX,n=t.range.minY+r,s=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:o,minY:n,maxY:s},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e,o,n){i(this,t),this.body=e,this.physicsBody=o,this.setOptions(n)}return o(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,o,n,s,r,a,h=this.body.nodes,d=this.physicsBody.physicsNodeIndices,l=this.physicsBody.forces,u=this.options.nodeDistance,c=-2/3/u,p=4/3,f=0;f<d.length-1;f++){r=h[d[f]];for(var m=f+1;m<d.length;m++)a=h[d[m]],t=a.x-r.x,e=a.y-r.y,i=Math.sqrt(t*t+e*e),0===i&&(i=.1*Math.random(),t=i),2*u>i&&(s=.5*u>i?1:c*i+p,s/=i,o=t*s,n=e*s,l[r.id].x-=o,l[r.id].y-=n,l[a.id].x+=o,l[a.id].y+=n)}}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e,o,n){i(this,t),this.body=e,this.physicsBody=o,this.setOptions(n)}return o(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){var t,e,i,o,n,s,r,a,h,d,l=this.body.nodes,u=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,p=this.options.nodeDistance;for(h=0;h<u.length-1;h++)for(r=l[u[h]],d=h+1;d<u.length;d++)if(a=l[u[d]],r.level===a.level){t=a.x-r.x,e=a.y-r.y,i=Math.sqrt(t*t+e*e);var f=.05;s=p>i?-Math.pow(f*i,2)+Math.pow(f*p,2):0,0===i?i=.01:s/=i,o=t*s,n=e*s,c[r.id].x-=o,c[r.id].y-=n,c[a.id].x+=o,c[a.id].y+=n}}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e,o,n){i(this,t),this.body=e,this.physicsBody=o,this.setOptions(n)}return o(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,i=this.physicsBody.physicsEdgeIndices,o=this.body.edges,n=void 0,s=void 0,r=void 0,a=0;a<i.length;a++)e=o[i[a]],e.connected===!0&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(t=void 0===e.options.length?this.options.springLength:e.options.length,n=e.to,s=e.edgeType.via,r=e.from,this._calculateSpringForce(n,s,.5*t),this._calculateSpringForce(s,r,.5*t)):(t=void 0===e.options.length?1.5*this.options.springLength:e.options.length,this._calculateSpringForce(e.from,e.to,t)))}},{key:"_calculateSpringForce",value:function(t,e,i){var o=t.x-e.x,n=t.y-e.y,s=Math.max(Math.sqrt(o*o+n*n),.01),r=this.options.springConstant*(i-s)/s,a=o*r,h=n*r;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=a,this.physicsBody.forces[t.id].y+=h),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=a,this.physicsBody.forces[e.id].y-=h)}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e,o,n){i(this,t),this.body=e,this.physicsBody=o,this.setOptions(n)}return o(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,o,n,s,r,a,h=this.body.edges,d=.5,l=this.physicsBody.physicsEdgeIndices,u=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,p=0;p<u.length;p++){var f=u[p];c[f].springFx=0,c[f].springFy=0}for(var p=0;p<l.length;p++)e=h[l[p]],e.connected===!0&&(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.from.x-e.to.x,o=e.from.y-e.to.y,a=Math.sqrt(i*i+o*o),a=0===a?.01:a,r=this.options.springConstant*(t-a)/a,n=i*r,s=o*r,e.to.level!=e.from.level?(void 0!==c[e.toId]&&(c[e.toId].springFx-=n,c[e.toId].springFy-=s),void 0!==c[e.fromId]&&(c[e.fromId].springFx+=n,c[e.fromId].springFy+=s)):(void 0!==c[e.toId]&&(c[e.toId].x-=d*n,c[e.toId].y-=d*s),void 0!==c[e.fromId]&&(c[e.fromId].x+=d*n,c[e.fromId].y+=d*s)));for(var m,v,r=1,p=0;p<u.length;p++){var f=u[p];m=Math.min(r,Math.max(-r,c[f].springFx)),v=Math.min(r,Math.max(-r,c[f].springFy)),c[f].x+=m,c[f].y+=v}for(var g=0,y=0,p=0;p<u.length;p++){var f=u[p];g+=c[f].x,y+=c[f].y}for(var b=g/u.length,w=y/u.length,p=0;p<u.length;p++){var f=u[p];c[f].x-=b,c[f].y-=w}}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e,o,n){i(this,t),this.body=e,this.physicsBody=o,this.setOptions(n)}return o(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,i=void 0,o=void 0,n=this.body.nodes,s=this.physicsBody.physicsNodeIndices,r=this.physicsBody.forces,a=0;a<s.length;a++){var h=s[a];o=n[h],t=-o.x,e=-o.y,i=Math.sqrt(t*t+e*e),this._calculateForces(i,t,e,r,o)}}},{key:"_calculateForces",value:function(t,e,i,o,n){var s=0===t?0:this.options.centralGravity/t;o[n.id].x=e*s,o[n.id].y=i*s}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},h=i(91),d=o(h),l=function(t){function e(t,i,o){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o)}return s(e,t),r(e,[{key:"_calculateForces",value:function(t,e,i,o,n){0===t&&(t=.1*Math.random(),e=t),this.overlapAvoidanceFactor<1&&(t=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,t-o.shape.radius));var s=o.edges.length+1,r=this.options.gravitationalConstant*n.mass*o.options.mass*s/Math.pow(t,2),a=e*r,h=i*r;this.physicsBody.forces[o.id].x+=a,this.physicsBody.forces[o.id].y+=h}}]),e}(d["default"]);e["default"]=l,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},h=i(96),d=o(h),l=function(t){function e(t,i,o){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o)}return s(e,t),r(e,[{key:"_calculateForces",value:function(t,e,i,o,n){if(t>0){var s=n.edges.length+1,r=this.options.centralGravity*s*n.options.mass;o[n.id].x=e*r,o[n.id].y=i*r}}}]),e}(d["default"]);e["default"]=l,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(100),a=o(r),h=i(101),d=o(h),l=i(1),u=function(){function t(e){var i=this;n(this,t),this.body=e,this.clusteredNodes={},this.options={},this.defaultOptions={},l.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){i.clusteredNodes={}})}return s(t,[{key:"setOptions",value:function(t){}},{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"==typeof t&&(e=this._checkOptions(t),t=this._getHubSize());for(var i=[],o=0;o<this.body.nodeIndices.length;o++){var n=this.body.nodes[this.body.nodeIndices[o]];n.edges.length>=t&&i.push(n.id)}for(var o=0;o<i.length;o++)this.clusterByConnection(i[o],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];if(void 0===t.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");t=this._checkOptions(t);for(var i={},o={},n=0;n<this.body.nodeIndices.length;n++){var s=this.body.nodeIndices[n],r=this.body.nodes[s],h=a["default"]._cloneOptions(r);if(t.joinCondition(h)===!0){i[s]=this.body.nodes[s];for(var d=0;d<r.edges.length;d++){var l=r.edges[d];l.hiddenByCluster!==!0&&(o[l.id]=l)}}}this._cluster(i,o,t,e)}},{key:"clusterByEdgeCount",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];e=this._checkOptions(e);for(var o=[],n={},s=void 0,r=void 0,h=void 0,d=void 0,l=void 0,u=0;u<this.body.nodeIndices.length;u++){var c={},p={};if(d=this.body.nodeIndices[u],void 0===n[d]){l=0,h=this.body.nodes[d],r=[];for(var f=0;f<h.edges.length;f++)s=h.edges[f],s.hiddenByCluster!==!0&&(s.toId!==s.fromId&&l++,r.push(s));if(l===t){for(var m=!0,f=0;f<r.length;f++){s=r[f];var v=this._getConnectedId(s,d);if(void 0===e.joinCondition)p[s.id]=s,c[d]=this.body.nodes[d],c[v]=this.body.nodes[v],n[d]=!0;else{var g=a["default"]._cloneOptions(this.body.nodes[d]);if(e.joinCondition(g)!==!0){m=!1;break}p[s.id]=s,c[d]=this.body.nodes[d],n[d]=!0}}Object.keys(c).length>0&&Object.keys(p).length>0&&m===!0&&o.push({nodes:c,edges:p})}}}for(var u=0;u<o.length;u++)this._cluster(o[u].nodes,o[u].edges,e,!1);i===!0&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];this.clusterByEdgeCount(1,t,e)}},{key:"clusterBridges",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];this.clusterByEdgeCount(2,t,e)}},{key:"clusterByConnection",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var o=this.body.nodes[t];e=this._checkOptions(e,o),void 0===e.clusterNodeProperties.x&&(e.clusterNodeProperties.x=o.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=o.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=o.options.fixed.x,e.clusterNodeProperties.fixed.y=o.options.fixed.y);var n={},s={},r=o.id,h=a["default"]._cloneOptions(o);n[r]=o;for(var d=0;d<o.edges.length;d++){var l=o.edges[d];if(l.hiddenByCluster!==!0){var u=this._getConnectedId(l,r);if(void 0===this.clusteredNodes[u])if(u!==r)if(void 0===e.joinCondition)s[l.id]=l,n[u]=this.body.nodes[u];else{var c=a["default"]._cloneOptions(this.body.nodes[u]);e.joinCondition(h,c)===!0&&(s[l.id]=l,n[u]=this.body.nodes[u])}else s[l.id]=l}}this._cluster(n,s,e,i)}},{key:"_createClusterEdges",value:function(t,e,i,o){for(var n=void 0,s=void 0,r=void 0,h=void 0,d=void 0,u=void 0,c=Object.keys(t),p=[],f=0;f<c.length;f++){s=c[f],r=t[s];for(var m=0;m<r.edges.length;m++)n=r.edges[m],n.hiddenByCluster!==!0&&(n.toId==n.fromId?e[n.id]=n:n.toId==s?(h=i.id,d=n.fromId,u=d):(h=n.toId,d=i.id,u=h),void 0===t[u]&&p.push({edge:n,fromId:d,toId:h}))}for(var m=0;m<p.length;m++){var v=p[m].edge,g=a["default"]._cloneOptions(v,"edge");l.deepExtend(g,o),g.from=p[m].fromId,g.to=p[m].toId,g.id="clusterEdge:"+l.randomUUID();var y=this.body.functions.createEdge(g);y.clusteringEdgeReplacingId=v.id,this.body.edges[y.id]=y,y.connect(),v.setOptions({physics:!1,hidden:!0}),v.hiddenByCluster=!0}}},{key:"_checkOptions",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,i){var o=arguments.length<=3||void 0===arguments[3]?!0:arguments[3];if(!(Object.keys(t).length<2)){for(var n in t)if(t.hasOwnProperty(n)&&void 0!==this.clusteredNodes[n])return;var s=l.deepExtend({},i.clusterNodeProperties);if(void 0!==i.processProperties){var r=[];for(var n in t)if(t.hasOwnProperty(n)){var h=a["default"]._cloneOptions(t[n]);r.push(h)}var u=[];for(var c in e)if(e.hasOwnProperty(c)&&"clusterEdge:"!==c.substr(0,12)){var h=a["default"]._cloneOptions(e[c],"edge");u.push(h)}if(s=i.processProperties(s,r,u),!s)throw new Error("The processProperties function does not return properties!")}void 0===s.id&&(s.id="cluster:"+l.randomUUID());var p=s.id;void 0===s.label&&(s.label="cluster");var f=void 0;void 0===s.x&&(f=this._getClusterPosition(t),s.x=f.x),void 0===s.y&&(void 0===f&&(f=this._getClusterPosition(t)),s.y=f.y),s.id=p;var m=this.body.functions.createNode(s,d["default"]);m.isCluster=!0,m.containedNodes=t,m.containedEdges=e,m.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[s.id]=m,this._createClusterEdges(t,e,s,i.clusterEdgeProperties);for(var c in e)if(e.hasOwnProperty(c)&&void 0!==this.body.edges[c]){var v=this.body.edges[c];v.setOptions({physics:!1,hidden:!0}),v.hiddenByCluster=!0}for(var n in t)t.hasOwnProperty(n)&&(this.clusteredNodes[n]={clusterId:s.id,node:this.body.nodes[n]},this.body.nodes[n].setOptions({hidden:!0,physics:!1}));s.id=void 0,o===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?this.body.nodes[t].isCluster===!0:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var e=Object.keys(t),i=t[e[0]].x,o=t[e[0]].x,n=t[e[0]].y,s=t[e[0]].y,r=void 0,a=1;a<e.length;a++)r=t[e[a]],i=r.x<i?r.x:i,o=r.x>o?r.x:o,n=r.y<n?r.y:n,s=r.y>s?r.y:s;return{x:.5*(i+o),y:.5*(n+s)}}},{key:"openCluster",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");if(void 0===this.body.nodes[t])throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(void 0===this.body.nodes[t].containedNodes)return void console.log("The node:"+t+" is not a cluster.");var o=this.body.nodes[t],n=o.containedNodes,s=o.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){var r={},h={x:o.x,y:o.y};for(var d in n)if(n.hasOwnProperty(d)){var u=this.body.nodes[d];r[d]={x:u.x,y:u.y}}var c=e.releaseFunction(h,r);for(var d in n)if(n.hasOwnProperty(d)){var u=this.body.nodes[d];void 0!==c[d]&&(u.x=void 0===c[d].x?o.x:c[d].x,u.y=void 0===c[d].y?o.y:c[d].y)}}else for(var d in n)if(n.hasOwnProperty(d)){var u=this.body.nodes[d];u=n[d],u.options.fixed.x===!1&&(u.x=o.x),u.options.fixed.y===!1&&(u.y=o.y)}for(var d in n)if(n.hasOwnProperty(d)){var u=this.body.nodes[d];u.vx=o.vx,u.vy=o.vy,u.setOptions({hidden:!1,physics:!0}),delete this.clusteredNodes[d]}for(var p=[],f=0;f<o.edges.length;f++)p.push(o.edges[f]);for(var f=0;f<p.length;f++){var m=p[f],v=this._getConnectedId(m,t);if(void 0!==this.clusteredNodes[v]){var g=this.body.nodes[this.clusteredNodes[v].clusterId],y=this.body.edges[m.clusteringEdgeReplacingId];if(void 0!==y){g.containedEdges[y.id]=y,delete s[y.id];var b=y.fromId,w=y.toId;y.toId==v?w=this.clusteredNodes[v].clusterId:b=this.clusteredNodes[v].clusterId;var _=a["default"]._cloneOptions(y,"edge");l.deepExtend(_,g.clusterEdgeProperties);var x="clusterEdge:"+l.randomUUID();l.deepExtend(_,{from:b,to:w,hidden:!1,physics:!0,id:x});var k=this.body.functions.createEdge(_);k.clusteringEdgeReplacingId=y.id,this.body.edges[x]=k,this.body.edges[x].connect()}}else{var O=this.body.edges[m.clusteringEdgeReplacingId];void 0!==O&&(O.setOptions({physics:!0,hidden:!1}),O.hiddenByCluster=!1)}m.cleanup(),m.disconnect(),delete this.body.edges[m.id]}for(var M in s)if(s.hasOwnProperty(M)){var m=s[M];m.setOptions({physics:!0,hidden:!1}),m.hiddenByCluster=void 0,delete m.hiddenByCluster}delete this.body.nodes[t],i===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var e=[];if(this.isCluster(t)===!0){var i=this.body.nodes[t].containedNodes;for(var o in i)i.hasOwnProperty(o)&&e.push(o)}return e}},{key:"findNode",value:function(t){for(var e=[],i=100,o=0;void 0!==this.clusteredNodes[t]&&i>o;)e.push(this.clusteredNodes[t].node),t=this.clusteredNodes[t].clusterId,o++;return e.push(this.body.nodes[t]),e}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:t.fromId!=e?t.fromId:t.fromId}},{key:"_getHubSize",value:function(){for(var t=0,e=0,i=0,o=0,n=0;n<this.body.nodeIndices.length;n++){var s=this.body.nodes[this.body.nodeIndices[n]];s.edges.length>o&&(o=s.edges.length),t+=s.edges.length,e+=Math.pow(s.edges.length,2),i+=1}t/=i,e/=i;var r=e-Math.pow(t,2),a=Math.sqrt(r),h=Math.floor(t+2*a);return h>o&&(h=o),h}}]),t}();e["default"]=u,t.exports=e["default"]},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){
return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=i(1),r=function(){function t(){o(this,t)}return n(t,null,[{key:"_getRange",value:function(t){var e,i=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],o=1e9,n=-1e9,s=1e9,r=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)e=t[i[a]],s>e.shape.boundingBox.left&&(s=e.shape.boundingBox.left),r<e.shape.boundingBox.right&&(r=e.shape.boundingBox.right),o>e.shape.boundingBox.top&&(o=e.shape.boundingBox.top),n<e.shape.boundingBox.bottom&&(n=e.shape.boundingBox.bottom);return 1e9===s&&-1e9===r&&1e9===o&&-1e9===n&&(o=0,n=0,s=0,r=0),{minX:s,maxX:r,minY:o,maxY:n}}},{key:"_getRangeCore",value:function(t){var e,i=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],o=1e9,n=-1e9,s=1e9,r=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)e=t[i[a]],s>e.x&&(s=e.x),r<e.x&&(r=e.x),o>e.y&&(o=e.y),n<e.y&&(n=e.y);return 1e9===s&&-1e9===r&&1e9===o&&-1e9===n&&(o=0,n=0,s=0,r=0),{minX:s,maxX:r,minY:o,maxY:n}}},{key:"_findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"_cloneOptions",value:function(t,e){var i={};return void 0===e||"node"===e?(s.deepExtend(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):s.deepExtend(i,t.options,!0),i}}]),t}();e["default"]=r,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,s);if(void 0!==a){if("value"in a)return a.value;var h=a.get;if(void 0===h)return;return h.call(r)}var d=Object.getPrototypeOf(n);if(null===d)return;t=d,e=s,i=r,o=!0,a=d=void 0}},a=i(62),h=o(a),d=function(t){function e(t,i,o,s,a){n(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,o,s,a),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}return s(e,t),e}(h["default"]);e["default"]=d,t.exports=e["default"]},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}();"undefined"!=typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame);var s=i(1),r=function(){function t(e,i){o(this,t),this.body=e,this.canvas=i,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.pixelRatio=void 0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},s.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return n(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){return t.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){return t._resizeNodes()}),this.body.emitter.on("_redraw",function(){t.renderingActive===!1&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,t.requiresTimeout===!0?clearTimeout(t.renderTimer):cancelAnimationFrame(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(t){if(void 0!==t){var e=["hideEdgesOnDrag","hideNodesOnDrag"];s.selectiveDeepExtend(e,this.options,t)}}},{key:"_startRendering",value:function(){this.renderingActive===!0&&void 0===this.renderTimer&&(this.requiresTimeout===!0?this.renderTimer=window.setTimeout(this._renderStep.bind(this),this.simulationInterval):this.renderTimer=window.requestAnimationFrame(this._renderStep.bind(this)))}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,this.requiresTimeout===!0?window.setTimeout(function(){t._redraw(!1)},0):window.requestAnimationFrame(function(){t._redraw(!1)}))}},{key:"_redraw",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var e=this.canvas.frame.canvas.getContext("2d");(0===this.canvas.frame.canvas.width||0===this.canvas.frame.canvas.height)&&this.canvas.setSize(),this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(e.clearRect(0,0,i,o),0===this.canvas.frame.clientWidth)return;e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale),e.beginPath(),this.body.emitter.emit("beforeDrawing",e),e.closePath(),t===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&this._drawEdges(e),(this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1)&&this._drawNodes(e,t),this.controlNodesActive===!0&&this._drawControlNodes(e),e.beginPath(),this.body.emitter.emit("afterDrawing",e),e.closePath(),e.restore(),t===!0&&e.clearRect(0,0,i,o)}}},{key:"_resizeNodes",value:function(){var t=this.canvas.frame.canvas.getContext("2d");void 0===this.pixelRatio&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e=this.body.nodes,i=void 0;for(var o in e)e.hasOwnProperty(o)&&(i=e[o],i.resize(t),i.updateBoundingBox(t,i.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i=this.body.nodes,o=this.body.nodeIndices,n=void 0,s=[],r=20,a=this.canvas.DOMtoCanvas({x:-r,y:-r}),h=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+r,y:this.canvas.frame.canvas.clientHeight+r}),d={top:a.y,left:a.x,bottom:h.y,right:h.x},l=0;l<o.length;l++)n=i[o[l]],n.isSelected()?s.push(o[l]):e===!0?n.draw(t):n.isBoundingBoxOverlappingWith(d)===!0?n.draw(t):n.updateBoundingBox(t,n.selected);for(var l=0;l<s.length;l++)n=i[s[l]],n.draw(t)}},{key:"_drawEdges",value:function(t){for(var e=this.body.edges,i=this.body.edgeIndices,o=void 0,n=0;n<i.length;n++)o=e[i[n]],o.connected===!0&&o.draw(t)}},{key:"_drawControlNodes",value:function(t){for(var e=this.body.edges,i=this.body.edgeIndices,o=void 0,n=0;n<i.length;n++)o=e[i[n]],o._drawControlNodes(t)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,-1!=t.indexOf("msie 9.0")?this.requiresTimeout=!0:-1!=t.indexOf("safari")&&t.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),t}();e["default"]=r,t.exports=e["default"]},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=i(20),r=i(25),a=i(1),h=function(){function t(e){o(this,t),this.body=e,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},a.extend(this.options,this.defaultOptions),this.bindEventListeners()}return n(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.once("resize",function(e){0!==e.width&&(t.body.view.translation.x=.5*e.width),0!==e.height&&(t.body.view.translation.y=.5*e.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()})}},{key:"setOptions",value:function(t){var e=this;if(void 0!==t){var i=["width","height","autoResize"];a.selectiveDeepExtend(i,this.options,t)}this.options.autoResize===!0&&(this._cleanUp(),this.resizeTimer=setInterval(function(){var t=e.setSize();t===!0&&e.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),a.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),a.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.pixelRatio:arguments[0];this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t})}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0){this.body.view.scale=this.cameraState.scale*Math.min(this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight);var t=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),e={x:t.x-this.cameraState.position.x,y:t.y-this.cameraState.position.y};this.body.view.translation.x+=e.x*this.body.view.scale,this.body.view.translation.y+=e.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==t.indexOf("%")||-1!==t.indexOf("px"))return t;if(-1===t.indexOf("%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext){var t=this.frame.canvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.frame.canvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new s(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:30}),r.onTouch(this.hammer,function(e){t.body.eventListeners.onTouch(e)}),this.hammer.on("tap",function(e){t.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",function(e){t.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",function(e){t.body.eventListeners.onHold(e)}),this.hammer.on("panstart",function(e){t.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",function(e){t.body.eventListeners.onDrag(e)}),this.hammer.on("panend",function(e){t.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",function(e){t.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("mousewheel",function(e){t.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(e){t.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",function(e){t.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",function(e){t.body.eventListeners.onContext(e)}),this.hammerFrame=new s(this.frame),r.onRelease(this.hammerFrame,function(e){t.body.eventListeners.onRelease(e)})}},{key:"setSize",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.options.width:arguments[0],e=arguments.length<=1||void 0===arguments[1]?this.options.height:arguments[1];t=this._prepareValue(t),e=this._prepareValue(e);var i=!1,o=this.frame.canvas.width,n=this.frame.canvas.height,s=this.frame.canvas.getContext("2d"),r=this.pixelRatio;return this.pixelRatio=(window.devicePixelRatio||1)/(s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e?(this._getCameraState(r),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,i=!0):((this.frame.canvas.width!=Math.round(this.frame.canvas.clientWidth*this.pixelRatio)||this.frame.canvas.height!=Math.round(this.frame.canvas.clientHeight*this.pixelRatio))&&this._getCameraState(r),this.frame.canvas.width!=Math.round(this.frame.canvas.clientWidth*this.pixelRatio)&&(this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),i=!0),this.frame.canvas.height!=Math.round(this.frame.canvas.clientHeight*this.pixelRatio)&&(this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),i=!0)),i===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(o/this.pixelRatio),oldHeight:Math.round(n/this.pixelRatio)}),this._setCameraState()),i}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),t}();e["default"]=h,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(100),a=o(r),h=i(1),d=function(){function t(e,i){var o=this;n(this,t),this.body=e,this.canvas=i,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){o.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return s(t,[{key:"setOptions",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t}},{key:"fit",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{nodes:[]}:arguments[0],e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i=void 0,o=void 0;if((void 0===t.nodes||0===t.nodes.length)&&(t.nodes=this.body.nodeIndices),e===!0){var n=0;for(var s in this.body.nodes)if(this.body.nodes.hasOwnProperty(s)){var r=this.body.nodes[s];r.predefinedPosition===!0&&(n+=1)}if(n>.5*this.body.nodeIndices.length)return void this.fit(t,!1);i=a["default"]._getRange(this.body.nodes,t.nodes);var h=this.body.nodeIndices.length;o=12.662/(h+7.4147)+.0964822;var d=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);o*=d}else{this.body.emitter.emit("_resizeNodes"),i=a["default"]._getRange(this.body.nodes,t.nodes);var l=1.1*Math.abs(i.maxX-i.minX),u=1.1*Math.abs(i.maxY-i.minY),c=this.canvas.frame.canvas.clientWidth/l,p=this.canvas.frame.canvas.clientHeight/u;o=p>=c?c:p}o>1?o=1:0===o&&(o=1);var f=a["default"]._findCenter(i),m={position:f,scale:o,animation:t.animation};this.moveTo(m)}},{key:"focus",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(void 0!==this.body.nodes[t]){var i={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=i,e.lockedOnNode=t,this.moveTo(e)}else console.log("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){return void 0===t?void(t={}):(void 0===t.offset&&(t.offset={x:0,y:0}),void 0===t.offset.x&&(t.offset.x=0),void 0===t.offset.y&&(t.offset.y=0),void 0===t.scale&&(t.scale=this.body.view.scale),void 0===t.position&&(t.position=this.getViewPosition()),void 0===t.animation&&(t.animation={duration:0}),t.animation===!1&&(t.animation={duration:0}),t.animation===!0&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),void this.animateView(t))}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),t.locked===!0&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:e.x-t.position.x,y:e.y-t.position.y};this.targetTranslation={x:this.sourceTranslation.x+i.x*this.targetScale+t.offset.x,y:this.sourceTranslation.y+i.y*this.targetScale+t.offset.y},0===t.animation.duration?void 0!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var t={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:e.x-t.x,y:e.y-t.y},o=this.body.view.translation,n={x:o.x+i.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:o.y+i.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=n}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=t===!0?1:this.easingTime;var e=h.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*e,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*e,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*e},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,void 0!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),t}();e["default"]=d,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(106),a=o(r),h=i(107),d=o(h),l=i(1),u=function(){function t(e,i,o){n(this,t),this.body=e,this.canvas=i,this.selectionHandler=o,this.navigationHandler=new a["default"](e,i),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return s(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer})}},{key:"setOptions",value:function(t){if(void 0!==t){var e=["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];l.selectiveNotDeepExtend(e,this.options,t),l.mergeOptions(this.options,t,"keyboard"),t.tooltip&&(l.extend(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=l.parseColor(t.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-l.getAbsoluteLeft(this.canvas.frame.canvas),y:t.y-l.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(e,t,i),this.selectionHandler._generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(e,t,i),this.selectionHandler._generateClickEvent("click",t,e),this.selectionHandler._generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if((new Date).valueOf()-this.touchTime>10){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler._generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],o=this.selectionHandler._getSelectedEdgeCount(),n=this.selectionHandler._getSelectedNodeCount(),s=this.selectionHandler.getSelection(),r=void 0;r=i===!0?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t);var a=this.selectionHandler._getSelectedEdgeCount(),h=this.selectionHandler._getSelectedNodeCount(),d=this.selectionHandler.getSelection(),l=this._determineIfDifferent(s,d),u=l.nodesChanges,c=l.edgesChanges,p=!1;h-n>0?(this.selectionHandler._generateClickEvent("selectNode",e,t),r=!0,p=!0):0>h-n?(this.selectionHandler._generateClickEvent("deselectNode",e,t,s),r=!0):h===n&&u===!0&&(this.selectionHandler._generateClickEvent("deselectNode",e,t,s),this.selectionHandler._generateClickEvent("selectNode",e,t),p=!0,r=!0),a-o>0&&p===!1?(this.selectionHandler._generateClickEvent("selectEdge",e,t),r=!0):0>a-o?(this.selectionHandler._generateClickEvent("deselectEdge",e,t,s),r=!0):a===o&&c===!0&&(this.selectionHandler._generateClickEvent("deselectEdge",e,t,s),this.selectionHandler._generateClickEvent("selectEdge",e,t),r=!0),r===!0&&this.selectionHandler._generateClickEvent("select",e,t)}},{key:"_determineIfDifferent",value:function(t,e){for(var i=!1,o=!1,n=0;n<t.nodes.length;n++)-1===e.nodes.indexOf(t.nodes[n])&&(i=!0);for(var n=0;n<e.nodes.length;n++)-1===t.nodes.indexOf(t.nodes[n])&&(i=!0);for(var n=0;n<t.edges.length;n++)-1===e.edges.indexOf(t.edges[n])&&(o=!0);for(var n=0;n<e.edges.length;n++)-1===t.edges.indexOf(t.edges[n])&&(o=!0);return{nodesChanges:i,edgesChanges:o}}},{key:"onDragStart",value:function(t){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=l.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==e&&this.options.dragNodes===!0){this.drag.nodeId=e.id,e.isSelected()===!1&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(e)),this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer);var i=this.selectionHandler.selectionObj.nodes;for(var o in i)if(i.hasOwnProperty(o)){var n=i[o],s={id:n.id,node:n,x:n.x,y:n.y,xFixed:n.options.fixed.x,yFixed:n.options.fixed.y};n.options.fixed.x=!0,n.options.fixed.y=!0,this.drag.selection.push(s)}}else this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(t){var e=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var i=this.getPointer(t.center),o=this.drag.selection;if(o&&o.length&&this.options.dragNodes===!0)!function(){e.selectionHandler._generateClickEvent("dragging",t,i);var n=i.x-e.drag.pointer.x,s=i.y-e.drag.pointer.y;o.forEach(function(t){var i=t.node;t.xFixed===!1&&(i.x=e.canvas._XconvertDOMtoCanvas(e.canvas._XconvertCanvasToDOM(t.x)+n)),t.yFixed===!1&&(i.y=e.canvas._YconvertDOMtoCanvas(e.canvas._YconvertCanvasToDOM(t.y)+s))}),e.body.emitter.emit("startSimulation")}();else if(this.options.dragView===!0){if(this.selectionHandler._generateClickEvent("dragging",t,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);var n=i.x-this.drag.pointer.x,s=i.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+n,y:this.drag.translation.y+s},this.body.emitter.emit("_redraw")}}}},{key:"onDragEnd",value:function(t){this.drag.dragging=!1;var e=this.drag.selection;e&&e.length?(e.forEach(function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var i=this.pinch.scale*t.scale;this.zoom(i,e)}},{key:"zoom",value:function(t,e){if(this.options.zoomView===!0){var i=this.body.view.scale;1e-5>t&&(t=1e-5),t>10&&(t=10);var o=void 0;void 0!==this.drag&&this.drag.dragging===!0&&(o=this.canvas.DOMtoCanvas(this.drag.pointer));var n=this.body.view.translation,s=t/i,r=(1-s)*e.x+n.x*s,a=(1-s)*e.y+n.y*s;if(this.body.view.scale=t,this.body.view.translation={x:r,y:a},void 0!=o){var h=this.canvas.canvasToDOM(o);this.drag.pointer.x=h.x,this.drag.pointer.y=h.y}this.body.emitter.emit("_requestRedraw"),t>i?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale})}}},{key:"onMouseWheel",value:function(t){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),0!==e){var i=this.body.view.scale,o=e/10;0>e&&(o/=1-o),i*=1+o;var n=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(i,n)}t.preventDefault()}},{key:"onMouseMove",value:function(t){var e=this,i=this.getPointer({x:t.clientX,y:t.clientY}),o=!1;if(void 0!==this.popup&&(this.popup.hidden===!1&&this._checkHidePopup(i),this.popup.hidden===!1&&(o=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),o===!1&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){
return e._checkShowPopup(i)},this.options.tooltipDelay))),this.options.hover===!0){var n=this.selectionHandler.getNodeAt(i);void 0===n&&(n=this.selectionHandler.getEdgeAt(i)),this.selectionHandler.hoverObject(n)}}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),o={left:e,top:i,right:e,bottom:i},n=void 0===this.popupObj?void 0:this.popupObj.id,s=!1,r="node";if(void 0===this.popupObj){for(var a=this.body.nodeIndices,h=this.body.nodes,l=void 0,u=[],c=0;c<a.length;c++)l=h[a[c]],l.isOverlappingWith(o)===!0&&void 0!==l.getTitle()&&u.push(a[c]);u.length>0&&(this.popupObj=h[u[u.length-1]],s=!0)}if(void 0===this.popupObj&&s===!1){for(var p=this.body.edgeIndices,f=this.body.edges,m=void 0,v=[],c=0;c<p.length;c++)m=f[p[c]],m.isOverlappingWith(o)===!0&&m.connected===!0&&void 0!==m.getTitle()&&v.push(p[c]);v.length>0&&(this.popupObj=f[v[v.length-1]],r="edge")}void 0!==this.popupObj?this.popupObj.id!==n&&(void 0===this.popup&&(this.popup=new d["default"](this.canvas.frame)),this.popup.popupTargetType=r,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e),i===!0)){var o=this.selectionHandler.getNodeAt(t);i=o.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));i===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}();e["default"]=u,t.exports=e["default"]},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=(i(1),i(20)),r=i(25),a=i(41),h=function(){function t(e,i){var n=this;o(this,t),this.body=e,this.canvas=i,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){n.activated=!0,n.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){n.activated=!1,n.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==n.keycharm&&n.keycharm.destroy()}),this.options={}}return n(t,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var o=0;o<e.length;o++){this.navigationDOM[e[o]]=document.createElement("div"),this.navigationDOM[e[o]].className="vis-button vis-"+e[o],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[o]]);var n=new s(this.navigationDOM[e[o]]);"_fit"===i[o]?r.onTouch(n,this._fit.bind(this)):r.onTouch(n,this.bindToRedraw.bind(this,i[o])),this.navigationHammers.push(n)}var a=new s(this.canvas.frame);r.onRelease(a,function(){t._stopMovement()}),this.navigationHammers.push(a),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=this[t].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)this.boundFunctions.hasOwnProperty(t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){this.body.view.scale*=1+this.options.keyboard.speed.zoom,this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale})}},{key:"_zoomOut",value:function(){this.body.view.scale/=1+this.options.keyboard.speed.zoom,this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale})}},{key:"configureKeyboardBindings",value:function(){var t=this;void 0!==this.keycharm&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=a({container:window,preventDefault:!0}):this.keycharm=a({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0&&(this.keycharm.bind("up",function(){t.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){t.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){t.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){t.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){t.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){t.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){t.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){t.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){t.unbindFromRedraw("_zoomOut")},"keyup")))}}]),t}();e["default"]=h,t.exports=e["default"]},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e){i(this,t),this.container=e,this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-network-tooltip",this.container.appendChild(this.frame)}return o(t,[{key:"setPosition",value:function(t,e){this.x=parseInt(t),this.y=parseInt(e)}},{key:"setText",value:function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),t===!0){var e=this.frame.clientHeight,i=this.frame.clientWidth,o=this.frame.parentNode.clientHeight,n=this.frame.parentNode.clientWidth,s=this.y-e;s+e+this.padding>o&&(s=o-e-this.padding),s<this.padding&&(s=this.padding);var r=this.x;r+i+this.padding>n&&(r=n-i-this.padding),r<this.padding&&(r=this.padding),this.frame.style.left=r+"px",this.frame.style.top=s+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.visibility="hidden"}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=i(62),r=i(82),a=i(1),h=function(){function t(e,i){var n=this;o(this,t),this.body=e,this.canvas=i,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},a.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){n.updateSelection()})}return n(t,[{key:"setOptions",value:function(t){if(void 0!==t){var e=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];a.selectiveDeepExtend(e,this.options,t)}}},{key:"selectOnPoint",value:function(t){var e=!1;if(this.options.selectable===!0){var i=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==i&&(e=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(this.options.selectable===!0){var i=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==i&&(e=!0,i.isSelected()===!0?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_generateClickEvent",value:function(t,e,i,o){var n=arguments.length<=4||void 0===arguments[4]?!1:arguments[4],s=void 0;s=n===!0?{nodes:[],edges:[]}:this.getSelection(),s.pointer={DOM:{x:i.x,y:i.y},canvas:this.canvas.DOMtoCanvas(i)},s.event=e,void 0!==o&&(s.previousSelection=o),this.body.emitter.emit(t,s)}},{key:"selectObject",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.options.selectConnectedEdges:arguments[1];return void 0!==t?(t instanceof s&&e===!0&&this._selectConnectedEdges(t),t.select(),this._addToSelection(t),!0):!1}},{key:"deselectObject",value:function(t){t.isSelected()===!0&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],i=this.body.nodes,o=0;o<this.body.nodeIndices.length;o++){var n=this.body.nodeIndices[o];i[n].isOverlappingWith(t)&&e.push(n)}return e}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],i=this._pointerToPositionObject(t),o=this._getAllNodesOverlappingWith(i);return o.length>0?e===!0?this.body.nodes[o[o.length-1]]:o[o.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var i=this.body.edges,o=0;o<this.body.edgeIndices.length;o++){var n=this.body.edgeIndices[o];i[n].isOverlappingWith(t)&&e.push(n)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],i=this._pointerToPositionObject(t),o=this._getAllEdgesOverlappingWith(i);return o.length>0?e===!0?this.body.edges[o[o.length-1]]:o[o.length-1]:void 0}},{key:"_addToSelection",value:function(t){t instanceof s?this.selectionObj.nodes[t.id]=t:this.selectionObj.edges[t.id]=t}},{key:"_addToHover",value:function(t){t instanceof s?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){t instanceof s?(delete this.selectionObj.nodes[t.id],this._unselectConnectedEdges(t)):delete this.selectionObj.edges[t.id]}},{key:"unselectAll",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].unselect();for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&this.selectionObj.edges[e].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedNode",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return this.selectionObj.nodes[t]}},{key:"_getSelectedEdge",value:function(){for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return this.selectionObj.edges[t]}},{key:"_getSelectedEdgeCount",value:function(){var t=0;for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedObjectCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&(t+=1);return t}},{key:"_selectionIsEmpty",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return!1;for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.select(),this._addToSelection(i)}}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.hover=!0,this._addToHover(i)}}},{key:"_unselectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.unselect(),this._removeFromSelection(i)}}},{key:"blurObject",value:function(t){t.hover===!0&&(t.hover=!1,t instanceof s?this.body.emitter.emit("blurNode",{node:t.id}):this.body.emitter.emit("blurEdge",{edge:t.id}))}},{key:"hoverObject",value:function(t){var e=!1;for(var i in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(i)&&(void 0===t||t instanceof s&&t.id!=i||t instanceof r)&&(this.blurObject(this.hoverObj.nodes[i]),delete this.hoverObj.nodes[i],e=!0);for(var o in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(o)&&(e===!0?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):void 0===t&&(this.blurObject(this.hoverObj.edges[o]),delete this.hoverObj.edges[o],e=!0));void 0!==t&&(t.hover===!1&&(t.hover=!0,this._addToHover(t),e=!0,t instanceof s?this.body.emitter.emit("hoverNode",{node:t.id}):this.body.emitter.emit("hoverEdge",{edge:t.id})),t instanceof s&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(t)),e===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){var t=this.getSelectedNodes(),e=this.getSelectedEdges();return{nodes:t,edges:e}}},{key:"getSelectedNodes",value:function(){var t=[];if(this.options.selectable===!0)for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&t.push(e);return t}},{key:"getSelectedEdges",value:function(){var t=[];if(this.options.selectable===!0)for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&t.push(e);return t}},{key:"setSelection",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=void 0,o=void 0;if(!t||!t.nodes&&!t.edges)throw"Selection must be an object with nodes and/or edges properties";if((e.unselectAll||void 0===e.unselectAll)&&this.unselectAll(),t.nodes)for(i=0;i<t.nodes.length;i++){o=t.nodes[i];var n=this.body.nodes[o];if(!n)throw new RangeError('Node with id "'+o+'" not found');this.selectObject(n,e.highlightEdges)}if(t.edges)for(i=0;i<t.edges.length;i++){o=t.edges[i];var s=this.body.edges[o];if(!s)throw new RangeError('Edge with id "'+o+'" not found');this.selectObject(s)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(this.body.nodes.hasOwnProperty(t)||delete this.selectionObj.nodes[t]);for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(this.body.edges.hasOwnProperty(e)||delete this.selectionObj.edges[e])}}]),t}();e["default"]=h,t.exports=e["default"]},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(100),a=o(r),h=i(1),d=function(){function t(e){n(this,t),this.body=e,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.options={},this.optionsBackup={},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,direction:"UD",sortMethod:"hubsize"}},h.extend(this.options,this.defaultOptions),this.lastNodeOnLevel={},this.hierarchicalParents={},this.hierarchicalChildren={},this.bindEventListeners()}return s(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){t.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){t.setupHierarchicalLayout()})}},{key:"setOptions",value:function(t,e){if(void 0!==t){var i=this.options.hierarchical.enabled;if(h.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,t),h.mergeOptions(this.options,t,"hierarchical"),void 0!==t.randomSeed&&(this.initialRandomSeed=t.randomSeed),this.options.hierarchical.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),"RL"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?this.options.hierarchical.levelSeparation>0&&(this.options.hierarchical.levelSeparation*=-1):this.options.hierarchical.levelSeparation<0&&(this.options.hierarchical.levelSeparation*=-1),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(i===!0)return this.body.emitter.emit("refresh"),h.deepExtend(e,this.optionsBackup)}return e}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(this.options.hierarchical.enabled===!0){void 0===t.physics||t.physics===!0?(t.physics={solver:"hierarchicalRepulsion"},this.optionsBackup.physics={solver:"barnesHut"}):"object"==typeof t.physics?(this.optionsBackup.physics={solver:"barnesHut"},void 0!==t.physics.solver&&(this.optionsBackup.physics={solver:t.physics.solver}),t.physics.solver="hierarchicalRepulsion"):t.physics!==!1&&(this.optionsBackup.physics={solver:"barnesHut"},t.physics.solver="hierarchicalRepulsion");var e="horizontal";("RL"===this.options.hierarchical.direction||"LR"===this.options.hierarchical.direction)&&(e="vertical"),void 0===t.edges?(this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1}):void 0===t.edges.smooth?(this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1):"boolean"==typeof t.edges.smooth?(this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:e}):(void 0!==t.edges.smooth.type&&"dynamic"!==t.edges.smooth.type&&(e=t.edges.smooth.type),this.optionsBackup.edges={smooth:void 0===t.edges.smooth.enabled?!0:t.edges.smooth.enabled,type:void 0===t.edges.smooth.type?"dynamic":t.edges.smooth.type,roundness:void 0===t.edges.smooth.roundness?.5:t.edges.smooth.roundness,forceDirection:void 0===t.edges.smooth.forceDirection?!1:t.edges.smooth.forceDirection},t.edges.smooth={enabled:void 0===t.edges.smooth.enabled?!0:t.edges.smooth.enabled,type:e,roundness:void 0===t.edges.smooth.roundness?.5:t.edges.smooth.roundness,forceDirection:void 0===t.edges.smooth.forceDirection?!1:t.edges.smooth.forceDirection}),this.body.emitter.emit("_forceDisableDynamicCurves",e)}return t}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"positionInitially",value:function(t){if(this.options.hierarchical.enabled!==!0){this.randomSeed=this.initialRandomSeed;for(var e=0;e<t.length;e++){var i=t[e],o=1*t.length+10,n=2*Math.PI*this.seededRandom();void 0===i.x&&(i.x=o*Math.cos(n)),void 0===i.y&&(i.y=o*Math.sin(n))}}}},{key:"layoutNetwork",value:function(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){for(var t=0,e=0;e<this.body.nodeIndices.length;e++){var i=this.body.nodes[this.body.nodeIndices[e]];i.predefinedPosition===!0&&(t+=1)}if(t<.5*this.body.nodeIndices.length){var o=10,n=0,s=100;if(this.body.nodeIndices.length>s){for(var r=this.body.nodeIndices.length;this.body.nodeIndices.length>s;){n+=1;var a=this.body.nodeIndices.length;n%3===0?this.body.modules.clustering.clusterBridges():this.body.modules.clustering.clusterOutliers();var h=this.body.nodeIndices.length;if(a==h&&n%3!==0||n>o)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*r)})}this.body.modules.kamadaKawai.solve(this.body.nodeIndices,this.body.edgeIndices,!0),this._shiftToCenter();for(var d=70,e=0;e<this.body.nodeIndices.length;e++)this.body.nodes[this.body.nodeIndices[e]].x+=(.5-this.seededRandom())*d,this.body.nodes[this.body.nodeIndices[e]].y+=(.5-this.seededRandom())*d;this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=a["default"]._getRangeCore(this.body.nodes,this.body.nodeIndices),e=a["default"]._findCenter(t),i=0;i<this.body.nodeIndices.length;i++)this.body.nodes[this.body.nodeIndices[i]].x-=e.x,this.body.nodes[this.body.nodeIndices[i]].y-=e.y}},{key:"_declusterAll",value:function(){for(var t=!0;t===!0;){t=!1;for(var e=0;e<this.body.nodeIndices.length;e++)this.body.nodes[this.body.nodeIndices[e]].isCluster===!0&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));t===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var t=void 0,e=void 0,i=!1,o=!1;this.hierarchicalLevels={},this.nodeSpacing=100;for(e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(t=this.body.nodes[e],void 0!==t.options.level?(i=!0,this.hierarchicalLevels[e]=t.options.level):o=!0);if(o===!0&&i===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");o===!0&&("hubsize"===this.options.hierarchical.sortMethod?this._determineLevelsByHubsize():"directed"===this.options.hierarchical.sortMethod?this._determineLevelsDirected():"custom"===this.options.hierarchical.sortMethod&&this._determineLevelsCustomCallback());var n=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(n),this._condenseHierarchy(n),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(t){}},{key:"_placeNodesByHierarchy",value:function(t){this.positionedNodes={};for(var e in t)if(t.hasOwnProperty(e)){var i=Object.keys(t[e]);i=this._indexArrayToNodes(i),this._sortNodeArray(i);for(var o=0;o<i.length;o++){var n=i[o];void 0===this.positionedNodes[n.id]&&(this._setPositionForHierarchy(n,this.nodeSpacing*o),this.positionedNodes[n.id]=!0,this._placeBranchNodes(n.id,e))}}}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.body.nodes[t[i]]);return e}},{key:"_getDistribution",value:function(){var t={},e=void 0,i=void 0;for(e in this.body.nodes)if(this.body.nodes.hasOwnProperty(e)){i=this.body.nodes[e];var o=void 0===this.hierarchicalLevels[e]?0:this.hierarchicalLevels[e];"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?(i.y=this.options.hierarchical.levelSeparation*o,i.options.fixed.y=!0):(i.x=this.options.hierarchical.levelSeparation*o,i.options.fixed.x=!0),void 0===t[o]&&(t[o]={}),t[o][e]=i}return t}},{key:"_getHubSize",value:function(){var t=0;for(var e in this.body.nodes)if(this.body.nodes.hasOwnProperty(e)){var i=this.body.nodes[e];void 0===this.hierarchicalLevels[e]&&(t=i.edges.length<t?t:i.edges.length)}return t}},{key:"_determineLevelsByHubsize",value:function(){for(var t=this,e=1,i=function(e,i){void 0===t.hierarchicalLevels[i.id]&&(void 0===t.hierarchicalLevels[e.id]&&(t.hierarchicalLevels[e.id]=0),t.hierarchicalLevels[i.id]=t.hierarchicalLevels[e.id]+1)};e>0&&(e=this._getHubSize(),0!==e);)for(var o in this.body.nodes)if(this.body.nodes.hasOwnProperty(o)){var n=this.body.nodes[o];n.edges.length===e&&this._crawlNetwork(i,o)}}},{key:"_determineLevelsCustomCallback",value:function(){var t=this,e=1e5,i=function(t,e,i){},o=function(o,n,s){var r=t.hierarchicalLevels[o.id];void 0===r&&(t.hierarchicalLevels[o.id]=e);var h=i(a["default"]._cloneOptions(o,"node"),a["default"]._cloneOptions(n,"node"),a["default"]._cloneOptions(s,"edge"));t.hierarchicalLevels[n.id]=t.hierarchicalLevels[o.id]+h};this._crawlNetwork(o),this._setMinLevelToZero()}},{key:"_determineLevelsDirected",value:function(){var t=this,e=1e4,i=function(i,o,n){var s=t.hierarchicalLevels[i.id];void 0===s&&(t.hierarchicalLevels[i.id]=e),n.toId==o.id?t.hierarchicalLevels[o.id]=t.hierarchicalLevels[i.id]+1:t.hierarchicalLevels[o.id]=t.hierarchicalLevels[i.id]-1};this._crawlNetwork(i),this._setMinLevelToZero()}},{key:"_setMinLevelToZero",value:function(){var t=1e9;for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(t=Math.min(this.hierarchicalLevels[e],t));for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(this.hierarchicalLevels[e]-=t)}},{key:"_generateMap",value:function(){var t=this,e=function(e,i){if(t.hierarchicalLevels[i.id]>t.hierarchicalLevels[e.id]){var o=e.id,n=i.id;void 0===t.hierarchicalParents[o]&&(t.hierarchicalParents[o]={children:[],amount:0}),t.hierarchicalParents[o].children.push(n),void 0===t.hierarchicalChildren[n]&&(t.hierarchicalChildren[n]={parents:[],amount:0}),t.hierarchicalChildren[n].parents.push(o)}};this._crawlNetwork(e)}},{key:"_crawlNetwork",value:function(t,e){void 0===t&&(t=function(){});var i={},o=function r(e){if(void 0===i[e.id]){i[e.id]=!0;for(var o=void 0,n=0;n<e.edges.length;n++)o=e.edges[n].toId===e.id?e.edges[n].from:e.edges[n].to,e.id!==o.id&&(t(e,o,e.edges[n]),r(o))}};if(void 0===e)for(var n=0;n<this.body.nodeIndices.length;n++){var s=this.body.nodes[this.body.nodeIndices[n]];o(s)}else{var s=this.body.nodes[e];if(void 0===s)return void console.error("Node not found:",e);o(s)}}},{key:"_placeBranchNodes",value:function(t,e){if(void 0!==this.hierarchicalParents[t]){for(var i=[],o=0;o<this.hierarchicalParents[t].children.length;o++)i.push(this.body.nodes[this.hierarchicalParents[t].children[o]]);this._sortNodeArray(i);for(var o=0;o<i.length;o++){var n=i[o],s=this.hierarchicalLevels[n.id];if(!(s>e&&void 0===this.positionedNodes[n.id]))return;var r=void 0;if(r=0===o?this._getPositionForHierarchy(this.body.nodes[t]):this._getPositionForHierarchy(i[o-1])+this.nodeSpacing,this._setPositionForHierarchy(n,r),void 0!==this.lastNodeOnLevel[s]){var a=this._getPositionForHierarchy(this.body.nodes[this.lastNodeOnLevel[s]]);if(r-a<this.nodeSpacing){var h=a+this.nodeSpacing-r,d=this._findCommonParent(this.lastNodeOnLevel[s],n.id);this._shiftBlock(d.withChild,h)}}this.lastNodeOnLevel[s]=n.id,this.positionedNodes[n.id]=!0,this._placeBranchNodes(n.id,s)}for(var l=1e9,u=-1e9,o=0;o<i.length;o++){var c=i[o].id;l=Math.min(l,this._getPositionForHierarchy(this.body.nodes[c])),u=Math.max(u,this._getPositionForHierarchy(this.body.nodes[c]))}this._setPositionForHierarchy(this.body.nodes[t],.5*(l+u))}}},{key:"_shiftBlock",value:function(t,e){if("UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?this.body.nodes[t].x+=e:this.body.nodes[t].y+=e,void 0!==this.hierarchicalParents[t])for(var i=0;i<this.hierarchicalParents[t].children.length;i++)this._shiftBlock(this.hierarchicalParents[t].children[i],e)}},{key:"_findCommonParent",value:function(t,e){var i=this,o={},n=function r(t,e){if(void 0!==i.hierarchicalChildren[e])for(var o=0;o<i.hierarchicalChildren[e].parents.length;o++){var n=i.hierarchicalChildren[e].parents[o];t[n]=!0,r(t,n)}},s=function a(t,e){if(void 0!==i.hierarchicalChildren[e])for(var o=0;o<i.hierarchicalChildren[e].parents.length;o++){var n=i.hierarchicalChildren[e].parents[o];if(void 0!==t[n])return{foundParent:n,withChild:e};var s=a(t,n);if(null!==s.foundParent)return s}return{foundParent:null,withChild:e}};return n(o,t),s(o,e)}},{key:"_setPositionForHierarchy",value:function(t,e){"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?t.x=e:t.y=e}},{key:"_getPositionForHierarchy",value:function(t){return"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?t.x:t.y}},{key:"_sortNodeArray",value:function(t){t.length>1&&("UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?t.sort(function(t,e){return t.x-e.x}):t.sort(function(t,e){return t.y-e.y}))}}]),t}();e["default"]=d,t.exports=e["default"]},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=i(1),r=i(20),a=i(25),h=function(){function t(e,i,n){var r=this;
o(this,t),this.body=e,this.canvas=i,this.selectionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},s.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){r._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return n(t,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,i){void 0!==e&&(void 0!==e.locale?this.options.locale=e.locale:this.options.locale=i.locale,void 0!==e.locales?this.options.locales=e.locales:this.options.locales=i.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,s.deepExtend(this.options,t)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var t=this.selectionHandler._getSelectedNodeCount(),e=this.selectionHandler._getSelectedEdgeCount(),i=t+e,o=this.options.locales[this.options.locale],n=!1;this.options.addNode!==!1&&(this._createAddNodeButton(o),n=!0),this.options.addEdge!==!1&&(n===!0?this._createSeperator(1):n=!0,this._createAddEdgeButton(o)),1===t&&"function"==typeof this.options.editNode?(n===!0?this._createSeperator(2):n=!0,this._createEditNodeButton(o)):1===e&&0===t&&this.options.editEdge!==!1&&(n===!0?this._createSeperator(3):n=!0,this._createEditEdgeButton(o)),0!==i&&(t>0&&this.options.deleteNode!==!1?(n===!0&&this._createSeperator(4),this._createDeleteButton(o)):0===t&&this.options.deleteEdge!==!1&&(n===!0&&this._createSeperator(4),this._createDeleteButton(o))),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var t=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var e=this.selectionHandler._getSelectedNode();if(void 0!==e){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(e.isCluster!==!0){var i=s.deepExtend({},e.options,!0);if(i.x=e.x,i.y=e.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,function(e){null!==e&&void 0!==e&&"editNode"===t.inMode&&t.body.data.nodes.getDataSet().update(e),t.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",function(){}),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){var t=this;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",this.guiEnabled===!0){var e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId?!function(){var e=t.body.edges[t.edgeBeingEditedId],i=t._getNewTargetNode(e.from.x,e.from.y),o=t._getNewTargetNode(e.to.x,e.to.y);t.temporaryIds.nodes.push(i.id),t.temporaryIds.nodes.push(o.id),t.body.nodes[i.id]=i,t.body.nodeIndices.push(i.id),t.body.nodes[o.id]=o,t.body.nodeIndices.push(o.id),t._temporaryBindUI("onTouch",t._controlNodeTouch.bind(t)),t._temporaryBindUI("onTap",function(){}),t._temporaryBindUI("onHold",function(){}),t._temporaryBindUI("onDragStart",t._controlNodeDragStart.bind(t)),t._temporaryBindUI("onDrag",t._controlNodeDrag.bind(t)),t._temporaryBindUI("onDragEnd",t._controlNodeDragEnd.bind(t)),t._temporaryBindUI("onMouseMove",function(){}),t._temporaryBindEvent("beforeDrawing",function(t){var n=e.edgeType.findBorderPositions(t);i.selected===!1&&(i.x=n.from.x,i.y=n.from.y),o.selected===!1&&(o.x=n.to.x,o.y=n.to.y)}),t.body.emitter.emit("_redraw")}():this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var t=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var e=this.selectionHandler.getSelectedNodes(),i=this.selectionHandler.getSelectedEdges(),o=void 0;if(e.length>0){for(var n=0;n<e.length;n++)if(this.body.nodes[e[n]].isCluster===!0)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(o=this.options.deleteNode)}else i.length>0&&"function"==typeof this.options.deleteEdge&&(o=this.options.deleteEdge);if("function"==typeof o){var s={nodes:e,edges:i};if(2!==o.length)throw new Error("The function for delete does not support two arguments (data, callback)");o(s,function(e){null!==e&&void 0!==e&&"delete"===t.inMode?(t.body.data.edges.getDataSet().remove(e.edges),t.body.data.nodes.getDataSet().remove(e.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var i=s.deepExtend({},this.options.controlNodeStyle);return i.id="targetNode"+s.randomUUID(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e,this.body.functions.createNode(i)}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},s.recursiveDOMDelete(this.editModeDiv);var t=this.options.locales[this.options.locale],e=this._createButton("editMode","vis-button vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(e),this._bindHammerToDiv(e,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(s.recursiveDOMDelete(this.editModeDiv),s.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var t=0;t<this.manipulationHammers.length;t++)this.manipulationHammers[t].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),s.recursiveDOMDelete(this.manipulationDiv),s.recursiveDOMDelete(this.editModeDiv),s.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var e=this._createButton("addNode","vis-button vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(t){var e=this._createButton("addEdge","vis-button vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(t){var e=this._createButton("editNode","vis-button vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(t){var e=this._createButton("editEdge","vis-button vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(t){var e=this._createButton("delete","vis-button vis-delete",t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(t){var e=this._createButton("back","vis-button vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(t,e,i){var o=arguments.length<=3||void 0===arguments[3]?"vis-label":arguments[3];return this.manipulationDOM[t+"Div"]=document.createElement("div"),this.manipulationDOM[t+"Div"].className=e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=o,this.manipulationDOM[t+"Label"].innerHTML=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",t))}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+JSON.stringify(Object.keys(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++){var e=this.temporaryEventFunctions[t].event,i=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(e,i)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(t,e){var i=new r(t,{});a.onTouch(i,e),this.manipulationHammers.push(i)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var e=this.body.edgeIndices.indexOf(this.temporaryIds.edges[t]);-1!==e&&this.body.edgeIndices.splice(e,1)}for(var t=0;t<this.temporaryIds.nodes.length;t++){delete this.body.nodes[this.temporaryIds.nodes[t]];var i=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[t]);-1!==i&&this.body.nodeIndices.splice(i,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=s.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(t){var e=this.lastTouch,i=this.selectionHandler._pointerToPositionObject(e),o=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var r=o.isOverlappingWith(i),a=n.isOverlappingWith(i);r===!0?(this.selectedControlNode=o,s.edgeType.from=o):a===!0&&(this.selectedControlNode=n,s.edgeType.to=n),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),i=this.canvas.DOMtoCanvas(e);if(void 0!==this.selectedControlNode)this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y;else{var o=e.x-this.lastTouch.x,n=e.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+o,y:this.lastTouch.translation.y+n}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),o=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){for(var n=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,r=n.length-1;r>=0;r--)if(n[r]!==this.selectedControlNode.id){s=this.body.nodes[n[r]];break}if(void 0!==s&&void 0!==this.selectedControlNode)if(s.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(s.id,o.to.id):this._performEditEdge(o.from.id,s.id)}else o.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=s.extend({},this.body.view.translation);var e=this.lastTouch,i=this.selectionHandler.getNodeAt(e);if(void 0!==i)if(i.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var o=this._getNewTargetNode(i.x,i.y);this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id);var n=this.body.functions.createEdge({id:"connectionEdge"+s.randomUUID(),from:i.id,to:o.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[n.id]=n,this.body.edgeIndices.push(n.id),this.temporaryIds.nodes.push(o.id),this.temporaryIds.edges.push(n.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center);if(void 0!==this.temporaryIds.nodes[0]){var i=this.body.nodes[this.temporaryIds.nodes[0]];i.x=this.canvas._XconvertDOMtoCanvas(e.x),i.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else{var o=e.x-this.lastTouch.x,n=e.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+o,y:this.lastTouch.translation.y+n}}}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),o=void 0;void 0!==this.temporaryIds.edges[0]&&(o=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var n=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,r=n.length-1;r>=0;r--)if(-1===this.temporaryIds.nodes.indexOf(n[r])){s=this.body.nodes[n[r]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==s&&(s.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[o]&&void 0!==this.body.nodes[s.id]&&this._performAddEdge(o,s.id)),this.body.emitter.emit("_redraw")}},{key:"_performAddNode",value:function(t){var e=this,i={id:s.randomUUID(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,function(t){null!==t&&void 0!==t&&"addNode"===e.inMode&&(e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var i=this,o={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(o,function(t){null!==t&&void 0!==t&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(o),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var i=this,o={id:this.edgeBeingEditedId,from:t,to:e};if("function"==typeof this.options.editEdge){if(2!==this.options.editEdge.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editEdge(o,function(t){null===t||void 0===t||"editEdge"!==i.inMode?(i.body.edges[o.id].updateEdgeType(),i.body.emitter.emit("_redraw")):(i.body.data.edges.getDataSet().update(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(o),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),t}();e["default"]=h,t.exports=e["default"]},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",n="number",s="array",r="object",a="dom",h="any",d={configure:{enabled:{"boolean":o},filter:{"boolean":o,string:i,array:s,"function":"function"},container:{dom:a},showButton:{"boolean":o},__type__:{object:r,"boolean":o,string:i,array:s,"function":"function"}},edges:{arrows:{to:{enabled:{"boolean":o},scaleFactor:{number:n},__type__:{object:r,"boolean":o}},middle:{enabled:{"boolean":o},scaleFactor:{number:n},__type__:{object:r,"boolean":o}},from:{enabled:{"boolean":o},scaleFactor:{number:n},__type__:{object:r,"boolean":o}},__type__:{string:["from","to","middle"],object:r}},color:{color:{string:i},highlight:{string:i},hover:{string:i},inherit:{string:["from","to","both"],"boolean":o},opacity:{number:n},__type__:{object:r,string:i}},dashes:{"boolean":o,array:s},font:{color:{string:i},size:{number:n},face:{string:i},background:{string:i},strokeWidth:{number:n},strokeColor:{string:i},align:{string:["horizontal","top","middle","bottom"]},__type__:{object:r,string:i}},hidden:{"boolean":o},hoverWidth:{"function":"function",number:n},label:{string:i,undefined:"undefined"},labelHighlightBold:{"boolean":o},length:{number:n,undefined:"undefined"},physics:{"boolean":o},scaling:{min:{number:n},max:{number:n},label:{enabled:{"boolean":o},min:{number:n},max:{number:n},maxVisible:{number:n},drawThreshold:{number:n},__type__:{object:r,"boolean":o}},customScalingFunction:{"function":"function"},__type__:{object:r}},selectionWidth:{"function":"function",number:n},selfReferenceSize:{number:n},shadow:{enabled:{"boolean":o},size:{number:n},x:{number:n},y:{number:n},__type__:{object:r,"boolean":o}},smooth:{enabled:{"boolean":o},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:n},forceDirection:{string:["horizontal","vertical","none"],"boolean":o},__type__:{object:r,"boolean":o}},title:{string:i,undefined:"undefined"},width:{number:n},value:{number:n,undefined:"undefined"},__type__:{object:r}},groups:{useDefaultGroups:{"boolean":o},__any__:"get from nodes, will be overwritten below",__type__:{object:r}},interaction:{dragNodes:{"boolean":o},dragView:{"boolean":o},hideEdgesOnDrag:{"boolean":o},hideNodesOnDrag:{"boolean":o},hover:{"boolean":o},keyboard:{enabled:{"boolean":o},speed:{x:{number:n},y:{number:n},zoom:{number:n},__type__:{object:r}},bindToWindow:{"boolean":o},__type__:{object:r,"boolean":o}},multiselect:{"boolean":o},navigationButtons:{"boolean":o},selectable:{"boolean":o},selectConnectedEdges:{"boolean":o},hoverConnectedEdges:{"boolean":o},tooltipDelay:{number:n},zoomView:{"boolean":o},__type__:{object:r}},layout:{randomSeed:{undefined:"undefined",number:n},improvedLayout:{"boolean":o},hierarchical:{enabled:{"boolean":o},levelSeparation:{number:n},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:r,"boolean":o}},__type__:{object:r}},manipulation:{enabled:{"boolean":o},initiallyActive:{"boolean":o},addNode:{"boolean":o,"function":"function"},addEdge:{"boolean":o,"function":"function"},editNode:{"function":"function"},editEdge:{"boolean":o,"function":"function"},deleteNode:{"boolean":o,"function":"function"},deleteEdge:{"boolean":o,"function":"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:r,"boolean":o}},nodes:{borderWidth:{number:n},borderWidthSelected:{number:n,undefined:"undefined"},brokenImage:{string:i,undefined:"undefined"},color:{border:{string:i},background:{string:i},highlight:{border:{string:i},background:{string:i},__type__:{object:r,string:i}},hover:{border:{string:i},background:{string:i},__type__:{object:r,string:i}},__type__:{object:r,string:i}},fixed:{x:{"boolean":o},y:{"boolean":o},__type__:{object:r,"boolean":o}},font:{color:{string:i},size:{number:n},face:{string:i},background:{string:i},strokeWidth:{number:n},strokeColor:{string:i},__type__:{object:r,string:i}},group:{string:i,number:n,undefined:"undefined"},hidden:{"boolean":o},icon:{face:{string:i},code:{string:i},size:{number:n},color:{string:i},__type__:{object:r}},id:{string:i,number:n},image:{string:i,undefined:"undefined"},label:{string:i,undefined:"undefined"},labelHighlightBold:{"boolean":o},level:{number:n,undefined:"undefined"},mass:{number:n},physics:{"boolean":o},scaling:{min:{number:n},max:{number:n},label:{enabled:{"boolean":o},min:{number:n},max:{number:n},maxVisible:{number:n},drawThreshold:{number:n},__type__:{object:r,"boolean":o}},customScalingFunction:{"function":"function"},__type__:{object:r}},shadow:{enabled:{"boolean":o},size:{number:n},x:{number:n},y:{number:n},__type__:{object:r,"boolean":o}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon"]},shapeProperties:{borderDashes:{"boolean":o,array:s},borderRadius:{number:n},useImageSize:{"boolean":o},useBorderWithImage:{"boolean":o},__type__:{object:r}},size:{number:n},title:{string:i,undefined:"undefined"},value:{number:n,undefined:"undefined"},x:{number:n},y:{number:n},__type__:{object:r}},physics:{enabled:{"boolean":o},barnesHut:{gravitationalConstant:{number:n},centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},damping:{number:n},avoidOverlap:{number:n},__type__:{object:r}},forceAtlas2Based:{gravitationalConstant:{number:n},centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},damping:{number:n},avoidOverlap:{number:n},__type__:{object:r}},repulsion:{centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},nodeDistance:{number:n},damping:{number:n},__type__:{object:r}},hierarchicalRepulsion:{centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},nodeDistance:{number:n},damping:{number:n},__type__:{object:r}},maxVelocity:{number:n},minVelocity:{number:n},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{"boolean":o},iterations:{number:n},updateInterval:{number:n},onlyDynamicEdges:{"boolean":o},fit:{"boolean":o},__type__:{object:r,"boolean":o}},timestep:{number:n},adaptiveTimestep:{"boolean":o},__type__:{object:r,"boolean":o}},autoResize:{"boolean":o},clickToUse:{"boolean":o},locale:{string:i},locales:{__any__:{any:h},__type__:{object:r}},height:{string:i},width:{string:i},__type__:{object:r}};d.groups.__any__=d.nodes,d.manipulation.controlNodeStyle=d.nodes;var l={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05]},middle:{enabled:!1,scaleFactor:[1,0,3,.05]},from:{enabled:!1,scaleFactor:[1,0,3,.05]}},color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]},global:{locale:["en","nl"]}};e.allOptions=d,e.configureOptions=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){var i=[],o=!0,n=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(o=(r=a.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(h){n=!0,s=h}finally{try{!o&&a["return"]&&a["return"]()}finally{if(n)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(113),h=o(a),d=function(){function t(e,i,o){n(this,t),this.body=e,this.springLength=i,this.springConstant=o,this.distanceSolver=new h["default"]}return r(t,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],o=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(o),this._createK_matrix(o);for(var n=.01,r=1,a=0,h=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),d=5,l=1e9,u=0,c=0,p=0,f=0,m=0;l>n&&h>a;){a+=1;var v=this._getHighestEnergyNode(i),g=s(v,4);for(u=g[0],l=g[1],c=g[2],p=g[3],f=l,m=0;f>r&&d>m;){m+=1,this._moveNode(u,c,p);var y=this._getEnergy(u),b=s(y,3);f=b[0],c=b[1],p=b[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,o=0,n=e[0],r=0,a=0,h=0;h<e.length;h++){var d=e[h];if(i[d].predefinedPosition===!1||i[d].isCluster===!0&&t===!0||i[d].options.fixed.x===!0||i[d].options.fixed.y===!0){
var l=this._getEnergy(d),u=s(l,3),c=u[0],p=u[1],f=u[2];c>o&&(o=c,n=d,r=p,a=f)}}return[n,o,r,a]}},{key:"_getEnergy",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,o=i[t].x,n=i[t].y,s=0,r=0,a=0;a<e.length;a++){var h=e[a];if(h!==t){var d=i[h].x,l=i[h].y,u=1/Math.sqrt(Math.pow(o-d,2)+Math.pow(n-l,2));s+=this.K_matrix[t][h]*(o-d-this.L_matrix[t][h]*(o-d)*u),r+=this.K_matrix[t][h]*(n-l-this.L_matrix[t][h]*(n-l)*u)}}var c=Math.sqrt(Math.pow(s,2)+Math.pow(r,2));return[c,s,r]}},{key:"_moveNode",value:function(t,e,i){for(var o=this.body.nodeIndices,n=this.body.nodes,s=0,r=0,a=0,h=n[t].x,d=n[t].y,l=0;l<o.length;l++){var u=o[l];if(u!==t){var c=n[u].x,p=n[u].y,f=1/Math.pow(Math.pow(h-c,2)+Math.pow(d-p,2),1.5);s+=this.K_matrix[t][u]*(1-this.L_matrix[t][u]*Math.pow(d-p,2)*f),r+=this.K_matrix[t][u]*(this.L_matrix[t][u]*(h-c)*(d-p)*f),a+=this.K_matrix[t][u]*(1-this.L_matrix[t][u]*Math.pow(h-c,2)*f)}}var m=s,v=r,g=e,y=a,b=i,w=(g/m+b/v)/(v/m-y/v),_=-(v*w+g)/m;n[t].x+=_,n[t].y+=w}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var o=0;o<e.length;o++){this.L_matrix[e[o]]={};for(var n=0;n<e.length;n++)this.L_matrix[e[o]][e[n]]=i*t[e[o]][e[n]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var o=0;o<e.length;o++){this.K_matrix[e[o]]={};for(var n=0;n<e.length;n++)this.K_matrix[e[o]][e[n]]=i*Math.pow(t[e[o]][e[n]],-2)}}}]),t}();e["default"]=d,t.exports=e["default"]},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(){i(this,t)}return o(t,[{key:"getDistances",value:function(t,e,i){for(var o={},n=t.edges,s=0;s<e.length;s++){o[e[s]]={},o[e[s]]={};for(var r=0;r<e.length;r++)o[e[s]][e[r]]=s==r?0:1e9,o[e[s]][e[r]]=s==r?0:1e9}for(var s=0;s<i.length;s++){var a=n[i[s]];a.connected===!0&&void 0!==o[a.fromId]&&void 0!==o[a.toId]&&(o[a.fromId][a.toId]=1,o[a.toId][a.fromId]=1)}for(var h=e.length,d=0;h>d;d++)for(var s=0;h-1>s;s++)for(var r=s+1;h>r;r++)o[e[s]][e[r]]=Math.min(o[e[s]][e[r]],o[e[s]][e[d]]+o[e[d]][e[r]]),o[e[r]][e[s]]=o[e[s]][e[r]];return o}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(t,e,i){this.beginPath(),this.arc(t,e,i,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(t,e,i){this.beginPath(),this.rect(t-i,e-i,2*i,2*i),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(t,e,i){this.beginPath(),i*=1.15,e+=.275*i;var o=2*i,n=o/2,s=Math.sqrt(3)/6*o,r=Math.sqrt(o*o-n*n);this.moveTo(t,e-(r-s)),this.lineTo(t+n,e+s),this.lineTo(t-n,e+s),this.lineTo(t,e-(r-s)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(t,e,i){this.beginPath(),i*=1.15,e-=.275*i;var o=2*i,n=o/2,s=Math.sqrt(3)/6*o,r=Math.sqrt(o*o-n*n);this.moveTo(t,e+(r-s)),this.lineTo(t+n,e-s),this.lineTo(t-n,e-s),this.lineTo(t,e+(r-s)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(t,e,i){this.beginPath(),i*=.82,e+=.1*i;for(var o=0;10>o;o++){var n=o%2===0?1.3*i:.5*i;this.lineTo(t+n*Math.sin(2*o*Math.PI/10),e-n*Math.cos(2*o*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(t,e,i){this.beginPath(),this.lineTo(t,e+i),this.lineTo(t+i,e),this.lineTo(t,e-i),this.lineTo(t-i,e),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(t,e,i,o,n){var s=Math.PI/180;0>i-2*n&&(n=i/2),0>o-2*n&&(n=o/2),this.beginPath(),this.moveTo(t+n,e),this.lineTo(t+i-n,e),this.arc(t+i-n,e+n,n,270*s,360*s,!1),this.lineTo(t+i,e+o-n),this.arc(t+i-n,e+o-n,n,0,90*s,!1),this.lineTo(t+n,e+o),this.arc(t+n,e+o-n,n,90*s,180*s,!1),this.lineTo(t,e+n),this.arc(t+n,e+n,n,180*s,270*s,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse=function(t,e,i,o){var n=.5522848,s=i/2*n,r=o/2*n,a=t+i,h=e+o,d=t+i/2,l=e+o/2;this.beginPath(),this.moveTo(t,l),this.bezierCurveTo(t,l-r,d-s,e,d,e),this.bezierCurveTo(d+s,e,a,l-r,a,l),this.bezierCurveTo(a,l+r,d+s,h,d,h),this.bezierCurveTo(d-s,h,t,l+r,t,l),this.closePath()},CanvasRenderingContext2D.prototype.database=function(t,e,i,o){var n=1/3,s=i,r=o*n,a=.5522848,h=s/2*a,d=r/2*a,l=t+s,u=e+r,c=t+s/2,p=e+r/2,f=e+(o-r/2),m=e+o;this.beginPath(),this.moveTo(l,p),this.bezierCurveTo(l,p+d,c+h,u,c,u),this.bezierCurveTo(c-h,u,t,p+d,t,p),this.bezierCurveTo(t,p-d,c-h,e,c,e),this.bezierCurveTo(c+h,e,l,p-d,l,p),this.lineTo(l,f),this.bezierCurveTo(l,f+d,c+h,m,c,m),this.bezierCurveTo(c-h,m,t,f+d,t,f),this.lineTo(t,p)},CanvasRenderingContext2D.prototype.arrow=function(t,e,i,o){var n=t-o*Math.cos(i),s=e-o*Math.sin(i),r=t-.9*o*Math.cos(i),a=e-.9*o*Math.sin(i),h=n+o/3*Math.cos(i+.5*Math.PI),d=s+o/3*Math.sin(i+.5*Math.PI),l=n+o/3*Math.cos(i-.5*Math.PI),u=s+o/3*Math.sin(i-.5*Math.PI);this.beginPath(),this.moveTo(t,e),this.lineTo(h,d),this.lineTo(r,a),this.lineTo(l,u),this.closePath()},CanvasRenderingContext2D.prototype.dashedLine=function(t,e,i,o,n){this.beginPath(),this.moveTo(t,e);for(var s=n.length,r=i-t,a=o-e,h=a/r,d=Math.sqrt(r*r+a*a),l=0,u=!0,c=0,p=n[0];d>=.1;)p=n[l++%s],p>d&&(p=d),c=Math.sqrt(p*p/(1+h*h)),c=0>r?-c:c,t+=c,e+=h*c,u===!0?this.lineTo(t,e):this.moveTo(t,e),d-=p,u=!u})},function(t,e){function i(t){return P=t,p()}function o(){I=0,N=P.charAt(0)}function n(){I++,N=P.charAt(I)}function s(){return P.charAt(I+1)}function r(t){return A.test(t)}function a(t,e){if(t||(t={}),e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function h(t,e,i){for(var o=e.split("."),n=t;o.length;){var s=o.shift();o.length?(n[s]||(n[s]={}),n=n[s]):n[s]=i}}function d(t,e){for(var i,o,n=null,s=[t],r=t;r.parent;)s.push(r.parent),r=r.parent;if(r.nodes)for(i=0,o=r.nodes.length;o>i;i++)if(e.id===r.nodes[i].id){n=r.nodes[i];break}for(n||(n={id:e.id},t.node&&(n.attr=a(n.attr,t.node))),i=s.length-1;i>=0;i--){var h=s[i];h.nodes||(h.nodes=[]),-1===h.nodes.indexOf(n)&&h.nodes.push(n)}e.attr&&(n.attr=a(n.attr,e.attr))}function l(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var i=a({},t.edge);e.attr=a(i,e.attr)}}function u(t,e,i,o,n){var s={from:e,to:i,type:o};return t.edge&&(s.attr=a({},t.edge)),s.attr=a(s.attr||{},n),s}function c(){for(L=S.NULL,z="";" "===N||"	"===N||"\n"===N||"\r"===N;)n();do{var t=!1;if("#"===N){for(var e=I-1;" "===P.charAt(e)||"	"===P.charAt(e);)e--;if("\n"===P.charAt(e)||""===P.charAt(e)){for(;""!=N&&"\n"!=N;)n();t=!0}}if("/"===N&&"/"===s()){for(;""!=N&&"\n"!=N;)n();t=!0}if("/"===N&&"*"===s()){for(;""!=N;){if("*"===N&&"/"===s()){n(),n();break}n()}t=!0}for(;" "===N||"	"===N||"\n"===N||"\r"===N;)n()}while(t);if(""===N)return void(L=S.DELIMITER);var i=N+s();if(E[i])return L=S.DELIMITER,z=i,n(),void n();if(E[N])return L=S.DELIMITER,z=N,void n();if(r(N)||"-"===N){for(z+=N,n();r(N);)z+=N,n();return"false"===z?z=!1:"true"===z?z=!0:isNaN(Number(z))||(z=Number(z)),void(L=S.IDENTIFIER)}if('"'===N){for(n();""!=N&&('"'!=N||'"'===N&&'"'===s());)z+=N,'"'===N&&n(),n();if('"'!=N)throw _('End of string " expected');return n(),void(L=S.IDENTIFIER)}for(L=S.UNKNOWN;""!=N;)z+=N,n();throw new SyntaxError('Syntax error in part "'+x(z,30)+'"')}function p(){var t={};if(o(),c(),"strict"===z&&(t.strict=!0,c()),("graph"===z||"digraph"===z)&&(t.type=z,c()),L===S.IDENTIFIER&&(t.id=z,c()),"{"!=z)throw _("Angle bracket { expected");if(c(),f(t),"}"!=z)throw _("Angle bracket } expected");if(c(),""!==z)throw _("End of file expected");return c(),delete t.node,delete t.edge,delete t.graph,t}function f(t){for(;""!==z&&"}"!=z;)m(t),";"===z&&c()}function m(t){var e=v(t);if(e)return void b(t,e);var i=g(t);if(!i){if(L!=S.IDENTIFIER)throw _("Identifier expected");var o=z;if(c(),"="===z){if(c(),L!=S.IDENTIFIER)throw _("Identifier expected");t[o]=z,c()}else y(t,o)}}function v(t){var e=null;if("subgraph"===z&&(e={},e.type="subgraph",c(),L===S.IDENTIFIER&&(e.id=z,c())),"{"===z){if(c(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,f(e),"}"!=z)throw _("Angle bracket } expected");c(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function g(t){return"node"===z?(c(),t.node=w(),"node"):"edge"===z?(c(),t.edge=w(),"edge"):"graph"===z?(c(),t.graph=w(),"graph"):null}function y(t,e){var i={id:e},o=w();o&&(i.attr=o),d(t,i),b(t,e)}function b(t,e){for(;"->"===z||"--"===z;){var i,o=z;c();var n=v(t);if(n)i=n;else{if(L!=S.IDENTIFIER)throw _("Identifier or subgraph expected");i=z,d(t,{id:i}),c()}var s=w(),r=u(t,e,i,o,s);l(t,r),e=i}}function w(){for(var t=null;"["===z;){for(c(),t={};""!==z&&"]"!=z;){if(L!=S.IDENTIFIER)throw _("Attribute name expected");var e=z;if(c(),"="!=z)throw _("Equal sign = expected");if(c(),L!=S.IDENTIFIER)throw _("Attribute value expected");var i=z;h(t,e,i),c(),","==z&&c()}if("]"!=z)throw _("Bracket ] expected");c()}return t}function _(t){return new SyntaxError(t+', got "'+x(z,30)+'" (char '+I+")")}function x(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function k(t,e,i){Array.isArray(t)?t.forEach(function(t){Array.isArray(e)?e.forEach(function(e){i(t,e)}):i(t,e)}):Array.isArray(e)?e.forEach(function(e){i(t,e)}):i(t,e)}function O(t,e,i){for(var o=e.split("."),n=o.pop(),s=t,r=0;r<o.length;r++){var a=o[r];a in s||(s[a]={}),s=s[a]}return s[n]=i,t}function M(t,e){var i={};for(var o in t)if(t.hasOwnProperty(o)){var n=e[o];Array.isArray(n)?n.forEach(function(e){O(i,e,t[o])}):"string"==typeof n?O(i,n,t[o]):O(i,o,t[o])}return i}function D(t){var e=i(t),o={nodes:[],edges:[],options:{}};if(e.nodes&&e.nodes.forEach(function(t){var e={id:t.id,label:String(t.label||t.id)};a(e,M(t.attr,C)),e.image&&(e.shape="image"),o.nodes.push(e)}),e.edges){var n=function(t){var e={from:t.from,to:t.to};return a(e,M(t.attr,T)),e.arrows="->"===t.type?"to":void 0,e};e.edges.forEach(function(t){var e,i;e=t.from instanceof Object?t.from.nodes:{id:t.from},i=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&t.from.edges.forEach(function(t){var e=n(t);o.edges.push(e)}),k(e,i,function(e,i){var s=u(o,e.id,i.id,t.type,t.attr),r=n(s);o.edges.push(r)}),t.to instanceof Object&&t.to.edges&&t.to.edges.forEach(function(t){var e=n(t);o.edges.push(e)})})}return e.attr&&(o.options=e.attr),o}var C={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},T=Object.create(C);T.color="color.color";var S={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},E={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},P="",I=0,N="",z="",L=S.NULL,A=/[a-zA-Z_0-9.:#]/;e.parseDOT=i,e.DOTToGraph=D},function(t,e){function i(t,e){var i=[],o=[],n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==e&&(void 0!==e.fixed&&(n.nodes.fixed=e.fixed),void 0!==e.parseColor&&(n.nodes.parseColor=e.parseColor),void 0!==e.inheritColor&&(n.edges.inheritColor=e.inheritColor));for(var s=t.edges,r=t.nodes,a=0;a<s.length;a++){var h={},d=s[a];h.id=d.id,h.from=d.source,h.to=d.target,h.attributes=d.attributes,h.label=d.label,h.title=void 0!==d.attributes?d.attributes.title:void 0,"Directed"===d.type&&(h.arrows="to"),d.color&&n.inheritColor===!1&&(h.color=d.color),i.push(h)}for(var a=0;a<r.length;a++){var l={},u=r[a];l.id=u.id,l.attributes=u.attributes,l.title=u.title,l.x=u.x,l.y=u.y,l.label=u.label,l.title=void 0!==u.attributes?u.attributes.title:void 0,n.nodes.parseColor===!0?l.color=u.color:l.color=void 0!==u.color?{background:u.color,border:u.color,highlight:{background:u.color,border:u.color},hover:{background:u.color,border:u.color}}:void 0,l.size=u.size,l.fixed=n.nodes.fixed&&void 0!==u.x&&void 0!==u.y,o.push(l)}return{nodes:o,edges:i}}e.parseGephi=i},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e){i(this,t),this.images={},this.imageBroken={},this.callback=e}return o(t,[{key:"_addImageToCache",value:function(t,e){0===e.width&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e)),this.images[t]=e}},{key:"_tryloadBrokenUrl",value:function(t,e,i){var o=this;void 0!==t&&void 0!==e&&void 0!==i&&(i.onerror=function(){console.error("Could not load brokenImage:",e),o._addImageToCache(t,new Image)},i.src=e)}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e,i){var o=this,n=this.images[t];if(n)return n;var s=new Image;return s.onload=function(){o._addImageToCache(t,s),o._redrawWithImage(s)},s.onerror=function(){console.error("Could not load image:",t),o._tryloadBrokenUrl(t,e,s)},s.src=t,s}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){e.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},e.en_EN=e.en,e.en_US=e.en,e.de={edit:"Editieren",del:"Lösche Auswahl",back:"Zurück",addNode:"Knoten hinzufügen",addEdge:"Kante hinzufügen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster können nicht gelöscht werden.",editClusterError:"Cluster können nicht editiert werden."},e.de_DE=e.de,e.es={edit:"Editar",del:"Eliminar selección",back:"Átras",addNode:"Añadir nodo",addEdge:"Añadir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},e.es_ES=e.es,e.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},e.nl_NL=e.nl,e.nl_BE=e.nl}])});
//# sourceMappingURL=vis.map

},{}],3:[function(require,module,exports){
"use strict";
module.exports = Explorer;

function Explorer( wdqsExplorer, item) {
    this._Vis = require('vis');
    this._Explorer = wdqsExplorer;
    this._handleExploreItem(item);
}

Explorer.prototype._handleExploreEvent = function( event ) {
    this._handleExploreItem(item);
};

Explorer.prototype._handleExploreItem = function( item ) {
    var explorerSelector = $( '.explorer' );
    explorerSelector.empty( '' );
    $( '.explorer-panel' ).show();

    var id = item.substring(item.lastIndexOf('/') + 1);
    this._Vis.config = { get: function () {
        return id;
    } };
    new this._Explorer( $, this._Vis, explorerSelector, this._Vis.config.get('wgWikibaseItemId') );
};
},{"vis":2}],4:[function(require,module,exports){
(function (global){
'use strict';
var $ =  (typeof window !== "undefined" ? window['$'] : typeof global !== "undefined" ? global['$'] : null);

var wdqsExplorer = require('./wdqsExplorer.js');
var Explorer = require('./Explorer.js');

function getRandomId(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
}

var item = 'https://www.wikidata.org/entity/Q' + getRandomId(1,18000000);

$( document ).ready( function () {
    new Explorer( wdqsExplorer, item );
} );


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSAgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJyQnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJyQnXSA6IG51bGwpO1xuXG52YXIgd2Rxc0V4cGxvcmVyID0gcmVxdWlyZSgnLi93ZHFzRXhwbG9yZXIuanMnKTtcbnZhciBFeHBsb3JlciA9IHJlcXVpcmUoJy4vRXhwbG9yZXIuanMnKTtcblxuZnVuY3Rpb24gZ2V0UmFuZG9tSWQobWluLCBtYXgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcbn1cblxudmFyIGl0ZW0gPSAnaHR0cHM6Ly93d3cud2lraWRhdGEub3JnL2VudGl0eS9RJyArIGdldFJhbmRvbUlkKDEsMTgwMDAwMDApO1xuXG4kKCBkb2N1bWVudCApLnJlYWR5KCBmdW5jdGlvbiAoKSB7XG4gICAgbmV3IEV4cGxvcmVyKCB3ZHFzRXhwbG9yZXIsIGl0ZW0gKTtcbn0gKTtcblxuIl19
},{"./Explorer.js":3,"./wdqsExplorer.js":5}],5:[function(require,module,exports){
'use strict';
module.exports = wdqsExplorer;

function wdqsExplorer( $, Vis, attachContent, rootId ) {
    require('./wdqsExplorerPanel.js')($, Vis);

    var graphContainer = document.createElement('div');
    graphContainer.className = "vis-graph";

    var panelContainer = document.createElement('div');
    panelContainer.className = "vis-panel";

    var clear = document.createElement('div');
    clear.style.clear = 'left';

    var container = document.createElement('div');
    container.className = "vis-container";
    container.appendChild(graphContainer);
    container.appendChild(panelContainer);
    container.appendChild(clear);
    attachContent.append(container);

    var nodes = new Vis.DataSet();
    var edges = new Vis.DataSet();

    var options = {
        autoResize: false,
        width: '1200px',
        height: '800px',
        layout: {
            improvedLayout:false,
            randomSeed:1
        },
        nodes:{
            color: '#E4DFDF',
            fixed: false,
            font: '8px arial'
        },
        edges:{
            color: '#E4DFDF',
            font: '8px arial',
            smooth: {
                type:'cubicBezier',
                roundness: 0.4
            }
        },
        physics:{
            maxVelocity: 25,
            barnesHut: {
                springLength: 55
            }
        }
    };

    var network = new Vis.Network(
        graphContainer,
        { nodes: nodes, edges: edges },
        options
    );

    network.on('doubleClick', function (properties) {
      if (properties.nodes.length === 1) {
        var label = nodes.get(properties.nodes[0]).label;
        window.open('//en.wikipedia.org/wiki/' + label, '_blank');
      }
    });

    network.on('click', function (properties) {
      while (panelContainer.hasChildNodes()) {
        panelContainer.removeChild(panelContainer.childNodes[0]);
      }
      if (properties.nodes.length === 1) {

        var loading = document.createElement('em');
        loading.innerHTML = 'Loading links...';
        panelContainer.appendChild(loading);

        getBindings(properties.nodes[0]);

      }
    });

    var showPanel = function (fromId, allBindings) {
      while (panelContainer.hasChildNodes()) {
        panelContainer.removeChild(panelContainer.childNodes[0]);
      }

      var histogram = {};
      var tally = function(bindings) {
        for (var i = 0; i < bindings.length; i++) {
          var binding = bindings[i];
          var linkLabel = value(binding.pl);
	  histogram[linkLabel] = histogram[linkLabel] || 0;
          histogram[linkLabel] = histogram[linkLabel] + 1;
        }
      };
      tally(allBindings.outgoing);
      tally(allBindings.incoming);

      var list = [];
      for (var x in histogram) {
        if (histogram.hasOwnProperty(x)) {
          list.push(createListItem(fromId, allBindings, x, histogram[x]));
        }
      }
      list.sort(function (a, b) { return b.count - a.count; });

      var heading = document.createElement('h2');
      heading.innerHTML = 'Links';
      panelContainer.appendChild(heading);

      for (var i = 0; i < list.length; i++) {
        showListItem(list[i]);
      }

    };

    var createListItem = function (fromId, allBindings, label, item) {
      return {
        label: label,
        count: item,
        show: function () {
          showBindings(fromId, allBindings.outgoing, label);
          showBindings(fromId, allBindings.incoming, label, true);
         }
      };
    };

    var showListItem = function (item) {
      var button = document.createElement('button');
      button.innerHTML = 'show';
      button.style.margin = '0.5em';
      button.onclick = item.show;

      var count = document.createElement('em');
      count.style.margin = '0.25em';
      count.innerHTML = '(' + item.count + ')';

      var label = document.createElement('em');
      label.style.margin = '0.25em';
      label.innerHTML = item.label;

      var buttonContainer = document.createElement('div');
      buttonContainer.appendChild(button);
      buttonContainer.appendChild(count);
      buttonContainer.appendChild(label);

      panelContainer.appendChild(buttonContainer);
    };
 
    var getBindings = function (fromId) {
      Vis.wdqsGetOutgoingLinksById(fromId).sequence(
        Vis.wdqsGetIncomingLinksById(fromId)).apply(
        function (bindingses) {
          showPanel(fromId, { outgoing: bindingses[0], incoming: bindingses[1] });
        }
      );
    };

    var value = function (bindingVar) {
      if (bindingVar && bindingVar.value) {
        return bindingVar.value;
      } else {
        return '(unknown)';
      }
    };

    var entityId = function (bindingVar) {
      if (bindingVar && bindingVar.value) {
        return bindingVar.value.substr('http://www.wikidata.org/entity/'.length);
      } else {
        return '(unknown)';
      }
    };

    var showBindings = function (fromId, bindings, linkType, incoming) {
      for (var i = 0; i < bindings.length; i++) {
        var binding = bindings[i];
        var linkLabel = value(binding.pl);
        if (linkLabel === linkType) {
          var toId = entityId(binding.o);
          var toLabel = value(binding.ol);
          addNode(toId, toLabel);
          if (incoming) {
            addLink(toId, linkLabel, fromId);
          } else {
            addLink(fromId, linkLabel, toId);
          }
        }
      }
    };

    var addNode = function(id, label) {
      if (!nodes.get(id)) {
        nodes.add([ { id: id, label: label } ]);
      }
    };

    var addLink = function(fromId, linkLabel, toId) {
      var id = fromId + '-' + linkLabel + '-' + toId;
      if (!edges.get(id)) {
        edges.add([ { id: id, from: fromId, to: toId, label: linkLabel } ]);
      }
    };

    Vis.wdqsGetLabelById(rootId).apply(
      function (label) {
        addNode(rootId, label);
      }
    );
  }

},{"./wdqsExplorerPanel.js":6}],6:[function(require,module,exports){
'use strict';

module.exports = function ($, vis) {
  var id = function (x) {
    return x;
  };

  var future = function(f) {
    return {
      apply: function (k) {
        if (k === undefined) {
          return f(id);
        } else {
          return f(k);
        }
      },
      map: function (g) {
        return future (function (k) {
          return f(function (x) {
            return k(g(x));
          });
        });
      },
      flatMap: function (g) {
        return future (function (k) {
          return f(function (x) {
            return g(x).apply(k);
          });
        });
      },
      sequence: function (f2) {
        var x1 = null;
        var x2 = null;
        return future(function (k) {
          f(function (x) {
            x1 = x;
            if (x2 !== null) {
              k([x1, x2]);
            }
          });
          f2.apply(function (x) {
            x2 = x;
            if (x1 !== null) {
              k([x1, x2]);
            }
          });
        });
      }
    };
  };

  vis.wdqsQuery = function (query) {
    return future(function (k) {
      $.ajax({
        url: 'https://query.wikidata.org/bigdata/namespace/wdq/sparql',
        data: { query: query },
        dataType: 'json',
        success: function (x) { return k(x.results.bindings); }
      });
    });
  };

  vis.wdqsGetIncomingLinks = function (uri) {
    return vis.wdqsQuery(
      'SELECT ?o ?ol ?p ?pl WHERE {' +
      '  ?o ?p ' + uri + ' .' +
      '  ?o <http://www.w3.org/2000/01/rdf-schema#label> ?ol .' +
      '  FILTER ( LANG(?ol) = "en" )' +
      '  ?ps <http://wikiba.se/ontology#directClaim> ?p .' +
      '  ?ps rdfs:label ?pl .' +
      '  FILTER ( LANG(?pl) = "en" )' +
      '} LIMIT 50'
    );
  };

  vis.wdqsGetIncomingLinksById = function (qid) {
    return vis.wdqsGetIncomingLinks('<http://www.wikidata.org/entity/' + qid + '>');
  };

  vis.wdqsGetOutgoingLinks = function (uri) {
    return vis.wdqsQuery(
      'SELECT ?p ?pl ?o ?ol WHERE {' +
      '  ' + uri + ' ?p ?o .' +
      '  ?o <http://www.w3.org/2000/01/rdf-schema#label> ?ol .' +
      '  FILTER ( LANG(?ol) = "en" )' +
      '  ?s <http://wikiba.se/ontology#directClaim> ?p .' +
      '  ?s rdfs:label ?pl .' +
      '  FILTER ( LANG(?pl) = "en" )' +
      '} LIMIT 50'
    );
  };

  vis.wdqsGetOutgoingLinksById = function (qid) {
    return vis.wdqsGetOutgoingLinks('<http://www.wikidata.org/entity/' + qid + '>');
  };

  vis.wdqsGetLabel = function (uri) {
    return vis.wdqsQuery(
      'SELECT ?sl WHERE {' +
      '  ' + uri + ' <http://www.w3.org/2000/01/rdf-schema#label> ?sl .' +
      '  FILTER ( LANG(?sl) = "en" )' +
      '} LIMIT 1'
    );
  };

  vis.wdqsGetLabelById = function (qid) {
    return vis.wdqsGetLabel('<http://www.wikidata.org/entity/' + qid + '>').map(
      function (bindings) {
        if (bindings.length === 1 &&
            bindings[0].sl &&
            bindings[0].sl.value) {
          return bindings[0].sl.value;
        } else {
          return '(unlabeled)';
        }
      }
    );
  };

};


},{}]},{},[1])(1)
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvZW50cnkuanMiLCJub2RlX21vZHVsZXMvdmlzL2Rpc3QvdmlzLm1pbi5qcyIsInNyYy9FeHBsb3Jlci5qcyIsInNyYy9pbmRleC5qcyIsInNyYy93ZHFzRXhwbG9yZXIuanMiLCJzcmMvd2Rxc0V4cGxvcmVyUGFuZWwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25OQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9pbmRleC5qcycpO1xuIiwiLyoqXG4gKiB2aXMuanNcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbG1lbmRlL3Zpc1xuICpcbiAqIEEgZHluYW1pYywgYnJvd3Nlci1iYXNlZCB2aXN1YWxpemF0aW9uIGxpYnJhcnkuXG4gKlxuICogQHZlcnNpb24gNC4xMS4wXG4gKiBAZGF0ZSAgICAyMDE1LTEyLTE4XG4gKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoQykgMjAxMS0yMDE1IEFsbWVuZGUgQi5WLCBodHRwOi8vYWxtZW5kZS5jb21cbiAqXG4gKiBWaXMuanMgaXMgZHVhbCBsaWNlbnNlZCB1bmRlciBib3RoXG4gKlxuICogKiBUaGUgQXBhY2hlIDIuMCBMaWNlbnNlXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIGFuZFxuICpcbiAqICogVGhlIE1JVCBMaWNlbnNlXG4gKiAgIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbiAqXG4gKiBWaXMuanMgbWF5IGJlIGRpc3RyaWJ1dGVkIHVuZGVyIGVpdGhlciBsaWNlbnNlLlxuICovXG5cInVzZSBzdHJpY3RcIjshZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLnZpcz1lKCk6dC52aXM9ZSgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUobyl7aWYoaVtvXSlyZXR1cm4gaVtvXS5leHBvcnRzO3ZhciBuPWlbb109e2V4cG9ydHM6e30saWQ6byxsb2FkZWQ6ITF9O3JldHVybiB0W29dLmNhbGwobi5leHBvcnRzLG4sbi5leHBvcnRzLGUpLG4ubG9hZGVkPSEwLG4uZXhwb3J0c312YXIgaT17fTtyZXR1cm4gZS5tPXQsZS5jPWksZS5wPVwiXCIsZSgwKX0oW2Z1bmN0aW9uKHQsZSxpKXtlLnV0aWw9aSgxKSxlLkRPTXV0aWw9aSg3KSxlLkRhdGFTZXQ9aSg4KSxlLkRhdGFWaWV3PWkoMTApLGUuUXVldWU9aSg5KSxlLkdyYXBoM2Q9aSgxMSksZS5ncmFwaDNkPXtDYW1lcmE6aSgxNSksRmlsdGVyOmkoMTYpLFBvaW50MmQ6aSgxNCksUG9pbnQzZDppKDEzKSxTbGlkZXI6aSgxNyksU3RlcE51bWJlcjppKDE4KX0sZS5UaW1lbGluZT1pKDE5KSxlLkdyYXBoMmQ9aSg0OSksZS50aW1lbGluZT17Q29yZTppKDI4KSxEYXRhU3RlcDppKDUyKSxEYXRlVXRpbDppKDI3KSxSYW5nZTppKDI0KSxzdGFjazppKDMyKSxUaW1lU3RlcDppKDMwKSxjb21wb25lbnRzOntpdGVtczp7SXRlbTppKDM0KSxCYWNrZ3JvdW5kSXRlbTppKDM4KSxCb3hJdGVtOmkoMzYpLFBvaW50SXRlbTppKDM3KSxSYW5nZUl0ZW06aSgzMyl9LEJhY2tncm91bmRHcm91cDppKDM1KSxDb21wb25lbnQ6aSgyNiksQ3VycmVudFRpbWU6aSg0NCksQ3VzdG9tVGltZTppKDQyKSxEYXRhQXhpczppKDUxKSxHcmFwaEdyb3VwOmkoNTMpLEdyb3VwOmkoMzEpLEl0ZW1TZXQ6aSgyOSksTGVnZW5kOmkoNTcpLExpbmVHcmFwaDppKDUwKSxUaW1lQXhpczppKDM5KX19LGUuTmV0d29yaz1pKDU5KSxlLm5ldHdvcms9e0ltYWdlczppKDExNyksZG90cGFyc2VyOmkoMTE1KSxnZXBoaVBhcnNlcjppKDExNiksYWxsT3B0aW9uczppKDExMSl9LGUubmV0d29yay5jb252ZXJ0RG90PWZ1bmN0aW9uKHQpe3JldHVybiBlLm5ldHdvcmsuZG90cGFyc2VyLkRPVFRvR3JhcGgodCl9LGUubmV0d29yay5jb252ZXJ0R2VwaGk9ZnVuY3Rpb24odCxpKXtyZXR1cm4gZS5uZXR3b3JrLmdlcGhpUGFyc2VyLnBhcnNlR2VwaGkodCxpKX0sZS5tb21lbnQ9aSgyKSxlLkhhbW1lcj1pKDIwKSxlLmtleWNoYXJtPWkoNDEpfSxmdW5jdGlvbih0LGUsaSl7dmFyIG89aSgyKSxuPWkoNik7ZS5pc051bWJlcj1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIE51bWJlcnx8XCJudW1iZXJcIj09dHlwZW9mIHR9LGUucmVjdXJzaXZlRE9NRGVsZXRlPWZ1bmN0aW9uKHQpe2lmKHQpZm9yKDt0Lmhhc0NoaWxkTm9kZXMoKT09PSEwOyllLnJlY3Vyc2l2ZURPTURlbGV0ZSh0LmZpcnN0Q2hpbGQpLHQucmVtb3ZlQ2hpbGQodC5maXJzdENoaWxkKX0sZS5naXZlUmFuZ2U9ZnVuY3Rpb24odCxlLGksbyl7aWYoZT09dClyZXR1cm4uNTt2YXIgbj0xLyhlLXQpO3JldHVybiBNYXRoLm1heCgwLChvLXQpKm4pfSxlLmlzU3RyaW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgU3RyaW5nfHxcInN0cmluZ1wiPT10eXBlb2YgdH0sZS5pc0RhdGU9ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIERhdGUpcmV0dXJuITA7aWYoZS5pc1N0cmluZyh0KSl7dmFyIGk9cy5leGVjKHQpO2lmKGkpcmV0dXJuITA7aWYoIWlzTmFOKERhdGUucGFyc2UodCkpKXJldHVybiEwfXJldHVybiExfSxlLnJhbmRvbVVVSUQ9ZnVuY3Rpb24oKXtyZXR1cm4gbi52NCgpfSxlLmFzc2lnbkFsbEtleXM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiZcIm9iamVjdFwiIT10eXBlb2YgdFtpXSYmKHRbaV09ZSl9LGUuZmlsbElmRGVmaW5lZD1mdW5jdGlvbih0LGkpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGg8PTJ8fHZvaWQgMD09PWFyZ3VtZW50c1syXT8hMTphcmd1bWVudHNbMl07Zm9yKHZhciBuIGluIHQpdm9pZCAwIT09aVtuXSYmKFwib2JqZWN0XCIhPXR5cGVvZiBpW25dP3ZvaWQgMCE9PWlbbl0mJm51bGwhPT1pW25dfHx2b2lkIDA9PT10W25dfHxvIT09ITA/dFtuXT1pW25dOmRlbGV0ZSB0W25dOlwib2JqZWN0XCI9PXR5cGVvZiB0W25dJiZlLmZpbGxJZkRlZmluZWQodFtuXSxpW25dLG8pKX0sZS5wcm90b0V4dGVuZD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0xO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspe3ZhciBvPWFyZ3VtZW50c1tpXTtmb3IodmFyIG4gaW4gbyl0W25dPW9bbl19cmV0dXJuIHR9LGUuZXh0ZW5kPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl7dmFyIG89YXJndW1lbnRzW2ldO2Zvcih2YXIgbiBpbiBvKW8uaGFzT3duUHJvcGVydHkobikmJih0W25dPW9bbl0pfXJldHVybiB0fSxlLnNlbGVjdGl2ZUV4dGVuZD1mdW5jdGlvbih0LGUsaSl7aWYoIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IEVycm9yKFwiQXJyYXkgd2l0aCBwcm9wZXJ0eSBuYW1lcyBleHBlY3RlZCBhcyBmaXJzdCBhcmd1bWVudFwiKTtmb3IodmFyIG89MjtvPGFyZ3VtZW50cy5sZW5ndGg7bysrKWZvcih2YXIgbj1hcmd1bWVudHNbb10scz0wO3M8dC5sZW5ndGg7cysrKXt2YXIgcj10W3NdO24uaGFzT3duUHJvcGVydHkocikmJihlW3JdPW5bcl0pfXJldHVybiBlfSxlLnNlbGVjdGl2ZURlZXBFeHRlbmQ9ZnVuY3Rpb24odCxpLG8pe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg8PTN8fHZvaWQgMD09PWFyZ3VtZW50c1szXT8hMTphcmd1bWVudHNbM107aWYoQXJyYXkuaXNBcnJheShvKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJyYXlzIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IGRlZXBFeHRlbmRcIik7Zm9yKHZhciBzPTI7czxhcmd1bWVudHMubGVuZ3RoO3MrKylmb3IodmFyIHI9YXJndW1lbnRzW3NdLGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIGg9dFthXTtpZihyLmhhc093blByb3BlcnR5KGgpKWlmKG9baF0mJm9baF0uY29uc3RydWN0b3I9PT1PYmplY3Qpdm9pZCAwPT09aVtoXSYmKGlbaF09e30pLGlbaF0uY29uc3RydWN0b3I9PT1PYmplY3Q/ZS5kZWVwRXh0ZW5kKGlbaF0sb1toXSwhMSxuKTpudWxsPT09b1toXSYmdm9pZCAwIT09aVtoXSYmbj09PSEwP2RlbGV0ZSBpW2hdOmlbaF09b1toXTtlbHNle2lmKEFycmF5LmlzQXJyYXkob1toXSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFycmF5cyBhcmUgbm90IHN1cHBvcnRlZCBieSBkZWVwRXh0ZW5kXCIpO251bGw9PT1vW2hdJiZ2b2lkIDAhPT1pW2hdJiZuPT09ITA/ZGVsZXRlIGlbaF06aVtoXT1vW2hdfX1yZXR1cm4gaX0sZS5zZWxlY3RpdmVOb3REZWVwRXh0ZW5kPWZ1bmN0aW9uKHQsaSxvKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPD0zfHx2b2lkIDA9PT1hcmd1bWVudHNbM10/ITE6YXJndW1lbnRzWzNdO2lmKEFycmF5LmlzQXJyYXkobykpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFycmF5cyBhcmUgbm90IHN1cHBvcnRlZCBieSBkZWVwRXh0ZW5kXCIpO2Zvcih2YXIgcyBpbiBvKWlmKG8uaGFzT3duUHJvcGVydHkocykmJi0xPT10LmluZGV4T2YocykpaWYob1tzXSYmb1tzXS5jb25zdHJ1Y3Rvcj09PU9iamVjdCl2b2lkIDA9PT1pW3NdJiYoaVtzXT17fSksaVtzXS5jb25zdHJ1Y3Rvcj09PU9iamVjdD9lLmRlZXBFeHRlbmQoaVtzXSxvW3NdKTpudWxsPT09b1tzXSYmdm9pZCAwIT09aVtzXSYmbj09PSEwP2RlbGV0ZSBpW3NdOmlbc109b1tzXTtlbHNlIGlmKEFycmF5LmlzQXJyYXkob1tzXSkpe2lbc109W107Zm9yKHZhciByPTA7cjxvW3NdLmxlbmd0aDtyKyspaVtzXS5wdXNoKG9bc11bcl0pfWVsc2UgbnVsbD09PW9bc10mJnZvaWQgMCE9PWlbc10mJm49PT0hMD9kZWxldGUgaVtzXTppW3NdPW9bc107cmV0dXJuIGl9LGUuZGVlcEV4dGVuZD1mdW5jdGlvbih0LGksbyxuKXtmb3IodmFyIHMgaW4gaSlpZihpLmhhc093blByb3BlcnR5KHMpfHxvPT09ITApaWYoaVtzXSYmaVtzXS5jb25zdHJ1Y3Rvcj09PU9iamVjdCl2b2lkIDA9PT10W3NdJiYodFtzXT17fSksdFtzXS5jb25zdHJ1Y3Rvcj09PU9iamVjdD9lLmRlZXBFeHRlbmQodFtzXSxpW3NdLG8pOm51bGw9PT1pW3NdJiZ2b2lkIDAhPT10W3NdJiZuPT09ITA/ZGVsZXRlIHRbc106dFtzXT1pW3NdO2Vsc2UgaWYoQXJyYXkuaXNBcnJheShpW3NdKSl7dFtzXT1bXTtmb3IodmFyIHI9MDtyPGlbc10ubGVuZ3RoO3IrKyl0W3NdLnB1c2goaVtzXVtyXSl9ZWxzZSBudWxsPT09aVtzXSYmdm9pZCAwIT09dFtzXSYmbj09PSEwP2RlbGV0ZSB0W3NdOnRbc109aVtzXTtyZXR1cm4gdH0sZS5lcXVhbEFycmF5PWZ1bmN0aW9uKHQsZSl7aWYodC5sZW5ndGghPWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgaT0wLG89dC5sZW5ndGg7bz5pO2krKylpZih0W2ldIT1lW2ldKXJldHVybiExO3JldHVybiEwfSxlLmNvbnZlcnQ9ZnVuY3Rpb24odCxpKXt2YXIgbjtpZih2b2lkIDAhPT10KXtpZihudWxsPT09dClyZXR1cm4gbnVsbDtpZighaSlyZXR1cm4gdDtpZihcInN0cmluZ1wiIT10eXBlb2YgaSYmIShpIGluc3RhbmNlb2YgU3RyaW5nKSl0aHJvdyBuZXcgRXJyb3IoXCJUeXBlIG11c3QgYmUgYSBzdHJpbmdcIik7c3dpdGNoKGkpe2Nhc2VcImJvb2xlYW5cIjpjYXNlXCJCb29sZWFuXCI6cmV0dXJuIEJvb2xlYW4odCk7Y2FzZVwibnVtYmVyXCI6Y2FzZVwiTnVtYmVyXCI6cmV0dXJuIE51bWJlcih0LnZhbHVlT2YoKSk7Y2FzZVwic3RyaW5nXCI6Y2FzZVwiU3RyaW5nXCI6cmV0dXJuIFN0cmluZyh0KTtjYXNlXCJEYXRlXCI6aWYoZS5pc051bWJlcih0KSlyZXR1cm4gbmV3IERhdGUodCk7aWYodCBpbnN0YW5jZW9mIERhdGUpcmV0dXJuIG5ldyBEYXRlKHQudmFsdWVPZigpKTtpZihvLmlzTW9tZW50KHQpKXJldHVybiBuZXcgRGF0ZSh0LnZhbHVlT2YoKSk7aWYoZS5pc1N0cmluZyh0KSlyZXR1cm4gbj1zLmV4ZWModCksbj9uZXcgRGF0ZShOdW1iZXIoblsxXSkpOm8odCkudG9EYXRlKCk7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNvbnZlcnQgb2JqZWN0IG9mIHR5cGUgXCIrZS5nZXRUeXBlKHQpK1wiIHRvIHR5cGUgRGF0ZVwiKTtjYXNlXCJNb21lbnRcIjppZihlLmlzTnVtYmVyKHQpKXJldHVybiBvKHQpO2lmKHQgaW5zdGFuY2VvZiBEYXRlKXJldHVybiBvKHQudmFsdWVPZigpKTtpZihvLmlzTW9tZW50KHQpKXJldHVybiBvKHQpO2lmKGUuaXNTdHJpbmcodCkpcmV0dXJuIG49cy5leGVjKHQpLG8obj9OdW1iZXIoblsxXSk6dCk7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNvbnZlcnQgb2JqZWN0IG9mIHR5cGUgXCIrZS5nZXRUeXBlKHQpK1wiIHRvIHR5cGUgRGF0ZVwiKTtjYXNlXCJJU09EYXRlXCI6aWYoZS5pc051bWJlcih0KSlyZXR1cm4gbmV3IERhdGUodCk7aWYodCBpbnN0YW5jZW9mIERhdGUpcmV0dXJuIHQudG9JU09TdHJpbmcoKTtpZihvLmlzTW9tZW50KHQpKXJldHVybiB0LnRvRGF0ZSgpLnRvSVNPU3RyaW5nKCk7aWYoZS5pc1N0cmluZyh0KSlyZXR1cm4gbj1zLmV4ZWModCksbj9uZXcgRGF0ZShOdW1iZXIoblsxXSkpLnRvSVNPU3RyaW5nKCk6bmV3IERhdGUodCkudG9JU09TdHJpbmcoKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29udmVydCBvYmplY3Qgb2YgdHlwZSBcIitlLmdldFR5cGUodCkrXCIgdG8gdHlwZSBJU09EYXRlXCIpO2Nhc2VcIkFTUERhdGVcIjppZihlLmlzTnVtYmVyKHQpKXJldHVyblwiL0RhdGUoXCIrdCtcIikvXCI7aWYodCBpbnN0YW5jZW9mIERhdGUpcmV0dXJuXCIvRGF0ZShcIit0LnZhbHVlT2YoKStcIikvXCI7aWYoZS5pc1N0cmluZyh0KSl7bj1zLmV4ZWModCk7dmFyIHI7cmV0dXJuIHI9bj9uZXcgRGF0ZShOdW1iZXIoblsxXSkpLnZhbHVlT2YoKTpuZXcgRGF0ZSh0KS52YWx1ZU9mKCksXCIvRGF0ZShcIityK1wiKS9cIn10aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29udmVydCBvYmplY3Qgb2YgdHlwZSBcIitlLmdldFR5cGUodCkrXCIgdG8gdHlwZSBBU1BEYXRlXCIpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHR5cGUgXCInK2krJ1wiJyl9fX07dmFyIHM9L15cXC8/RGF0ZVxcKChcXC0/XFxkKykvaTtlLmdldFR5cGU9ZnVuY3Rpb24odCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuXCJvYmplY3RcIj09ZT9udWxsPT09dD9cIm51bGxcIjp0IGluc3RhbmNlb2YgQm9vbGVhbj9cIkJvb2xlYW5cIjp0IGluc3RhbmNlb2YgTnVtYmVyP1wiTnVtYmVyXCI6dCBpbnN0YW5jZW9mIFN0cmluZz9cIlN0cmluZ1wiOkFycmF5LmlzQXJyYXkodCk/XCJBcnJheVwiOnQgaW5zdGFuY2VvZiBEYXRlP1wiRGF0ZVwiOlwiT2JqZWN0XCI6XCJudW1iZXJcIj09ZT9cIk51bWJlclwiOlwiYm9vbGVhblwiPT1lP1wiQm9vbGVhblwiOlwic3RyaW5nXCI9PWU/XCJTdHJpbmdcIjp2b2lkIDA9PT1lP1widW5kZWZpbmVkXCI6ZX0sZS5jb3B5QW5kRXh0ZW5kQXJyYXk9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9W10sbz0wO288dC5sZW5ndGg7bysrKWkucHVzaCh0W29dKTtyZXR1cm4gaS5wdXNoKGUpLGl9LGUuY29weUFycmF5PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxpPTA7aTx0Lmxlbmd0aDtpKyspZS5wdXNoKHRbaV0pO3JldHVybiBlfSxlLmdldEFic29sdXRlTGVmdD1mdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSxlLmdldEFic29sdXRlVG9wPWZ1bmN0aW9uKHQpe3JldHVybiB0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcH0sZS5hZGRDbGFzc05hbWU9ZnVuY3Rpb24odCxlKXt2YXIgaT10LmNsYXNzTmFtZS5zcGxpdChcIiBcIik7LTE9PWkuaW5kZXhPZihlKSYmKGkucHVzaChlKSx0LmNsYXNzTmFtZT1pLmpvaW4oXCIgXCIpKX0sZS5yZW1vdmVDbGFzc05hbWU9ZnVuY3Rpb24odCxlKXt2YXIgaT10LmNsYXNzTmFtZS5zcGxpdChcIiBcIiksbz1pLmluZGV4T2YoZSk7LTEhPW8mJihpLnNwbGljZShvLDEpLHQuY2xhc3NOYW1lPWkuam9pbihcIiBcIikpfSxlLmZvckVhY2g9ZnVuY3Rpb24odCxlKXt2YXIgaSxvO2lmKEFycmF5LmlzQXJyYXkodCkpZm9yKGk9MCxvPXQubGVuZ3RoO28+aTtpKyspZSh0W2ldLGksdCk7ZWxzZSBmb3IoaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJmUodFtpXSxpLHQpfSxlLnRvQXJyYXk9ZnVuY3Rpb24odCl7dmFyIGU9W107Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmZS5wdXNoKHRbaV0pO3JldHVybiBlfSxlLnVwZGF0ZVByb3BlcnR5PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdFtlXSE9PWk/KHRbZV09aSwhMCk6ITF9LGUudGhyb3R0bGU9ZnVuY3Rpb24odCxlKXt2YXIgaT1udWxsLG89ITE7cmV0dXJuIGZ1bmN0aW9uIG4oKXtpP289ITA6KG89ITEsdCgpLGk9c2V0VGltZW91dChmdW5jdGlvbigpe2k9bnVsbCxvJiZuKCl9LGUpKX19LGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LGUsaSxvKXt0LmFkZEV2ZW50TGlzdGVuZXI/KHZvaWQgMD09PW8mJihvPSExKSxcIm1vdXNld2hlZWxcIj09PWUmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkZpcmVmb3hcIik+PTAmJihlPVwiRE9NTW91c2VTY3JvbGxcIiksdC5hZGRFdmVudExpc3RlbmVyKGUsaSxvKSk6dC5hdHRhY2hFdmVudChcIm9uXCIrZSxpKX0sZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSxpLG8pe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcj8odm9pZCAwPT09byYmKG89ITEpLFwibW91c2V3aGVlbFwiPT09ZSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiRmlyZWZveFwiKT49MCYmKGU9XCJET01Nb3VzZVNjcm9sbFwiKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxpLG8pKTp0LmRldGFjaEV2ZW50KFwib25cIitlLGkpfSxlLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKHQpe3R8fCh0PXdpbmRvdy5ldmVudCksdC5wcmV2ZW50RGVmYXVsdD90LnByZXZlbnREZWZhdWx0KCk6dC5yZXR1cm5WYWx1ZT0hMX0sZS5nZXRUYXJnZXQ9ZnVuY3Rpb24odCl7dHx8KHQ9d2luZG93LmV2ZW50KTt2YXIgZTtyZXR1cm4gdC50YXJnZXQ/ZT10LnRhcmdldDp0LnNyY0VsZW1lbnQmJihlPXQuc3JjRWxlbWVudCksdm9pZCAwIT1lLm5vZGVUeXBlJiYzPT1lLm5vZGVUeXBlJiYoZT1lLnBhcmVudE5vZGUpLGV9LGUuaGFzUGFyZW50PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXQ7aTspe2lmKGk9PT1lKXJldHVybiEwO2k9aS5wYXJlbnROb2RlfXJldHVybiExfSxlLm9wdGlvbj17fSxlLm9wdGlvbi5hc0Jvb2xlYW49ZnVuY3Rpb24odCxlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYodD10KCkpLG51bGwhPXQ/MCE9dDplfHxudWxsfSxlLm9wdGlvbi5hc051bWJlcj1mdW5jdGlvbih0LGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJih0PXQoKSksbnVsbCE9dD9OdW1iZXIodCl8fGV8fG51bGw6ZXx8bnVsbH0sZS5vcHRpb24uYXNTdHJpbmc9ZnVuY3Rpb24odCxlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYodD10KCkpLG51bGwhPXQ/U3RyaW5nKHQpOmV8fG51bGx9LGUub3B0aW9uLmFzU2l6ZT1mdW5jdGlvbih0LGkpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJih0PXQoKSksZS5pc1N0cmluZyh0KT90OmUuaXNOdW1iZXIodCk/dCtcInB4XCI6aXx8bnVsbH0sZS5vcHRpb24uYXNFbGVtZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKHQ9dCgpKSx0fHxlfHxudWxsfSxlLmhleFRvUkdCPWZ1bmN0aW9uKHQpe3ZhciBlPS9eIz8oW2EtZlxcZF0pKFthLWZcXGRdKShbYS1mXFxkXSkkL2k7dD10LnJlcGxhY2UoZSxmdW5jdGlvbih0LGUsaSxvKXtyZXR1cm4gZStlK2kraStvK299KTt2YXIgaT0vXiM/KFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pJC9pLmV4ZWModCk7cmV0dXJuIGk/e3I6cGFyc2VJbnQoaVsxXSwxNiksZzpwYXJzZUludChpWzJdLDE2KSxiOnBhcnNlSW50KGlbM10sMTYpfTpudWxsfSxlLm92ZXJyaWRlT3BhY2l0eT1mdW5jdGlvbih0LGkpe2lmKC0xIT10LmluZGV4T2YoXCJyZ2JhXCIpKXJldHVybiB0O2lmKC0xIT10LmluZGV4T2YoXCJyZ2JcIikpe3ZhciBvPXQuc3Vic3RyKHQuaW5kZXhPZihcIihcIikrMSkucmVwbGFjZShcIilcIixcIlwiKS5zcGxpdChcIixcIik7cmV0dXJuXCJyZ2JhKFwiK29bMF0rXCIsXCIrb1sxXStcIixcIitvWzJdK1wiLFwiK2krXCIpXCJ9dmFyIG89ZS5oZXhUb1JHQih0KTtyZXR1cm4gbnVsbD09bz90OlwicmdiYShcIitvLnIrXCIsXCIrby5nK1wiLFwiK28uYitcIixcIitpK1wiKVwifSxlLlJHQlRvSGV4PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm5cIiNcIisoKDE8PDI0KSsodDw8MTYpKyhlPDw4KStpKS50b1N0cmluZygxNikuc2xpY2UoMSl9LGUucGFyc2VDb2xvcj1mdW5jdGlvbih0KXt2YXIgaTtpZihlLmlzU3RyaW5nKHQpPT09ITApe2lmKGUuaXNWYWxpZFJHQih0KT09PSEwKXt2YXIgbz10LnN1YnN0cig0KS5zdWJzdHIoMCx0Lmxlbmd0aC01KS5zcGxpdChcIixcIikubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBwYXJzZUludCh0KX0pO3Q9ZS5SR0JUb0hleChvWzBdLG9bMV0sb1syXSl9aWYoZS5pc1ZhbGlkSGV4KHQpPT09ITApe3ZhciBuPWUuaGV4VG9IU1YodCkscz17aDpuLmgsczouOCpuLnMsdjpNYXRoLm1pbigxLDEuMDIqbi52KX0scj17aDpuLmgsczpNYXRoLm1pbigxLDEuMjUqbi5zKSx2Oi44Km4udn0sYT1lLkhTVlRvSGV4KHIuaCxyLnMsci52KSxoPWUuSFNWVG9IZXgocy5oLHMucyxzLnYpO2k9e2JhY2tncm91bmQ6dCxib3JkZXI6YSxoaWdobGlnaHQ6e2JhY2tncm91bmQ6aCxib3JkZXI6YX0saG92ZXI6e2JhY2tncm91bmQ6aCxib3JkZXI6YX19fWVsc2UgaT17YmFja2dyb3VuZDp0LGJvcmRlcjp0LGhpZ2hsaWdodDp7YmFja2dyb3VuZDp0LGJvcmRlcjp0fSxob3Zlcjp7YmFja2dyb3VuZDp0LGJvcmRlcjp0fX19ZWxzZSBpPXt9LGkuYmFja2dyb3VuZD10LmJhY2tncm91bmR8fHZvaWQgMCxpLmJvcmRlcj10LmJvcmRlcnx8dm9pZCAwLGUuaXNTdHJpbmcodC5oaWdobGlnaHQpP2kuaGlnaGxpZ2h0PXtib3JkZXI6dC5oaWdobGlnaHQsYmFja2dyb3VuZDp0LmhpZ2hsaWdodH06KGkuaGlnaGxpZ2h0PXt9LGkuaGlnaGxpZ2h0LmJhY2tncm91bmQ9dC5oaWdobGlnaHQmJnQuaGlnaGxpZ2h0LmJhY2tncm91bmR8fHZvaWQgMCxpLmhpZ2hsaWdodC5ib3JkZXI9dC5oaWdobGlnaHQmJnQuaGlnaGxpZ2h0LmJvcmRlcnx8dm9pZCAwKSxlLmlzU3RyaW5nKHQuaG92ZXIpP2kuaG92ZXI9e2JvcmRlcjp0LmhvdmVyLGJhY2tncm91bmQ6dC5ob3Zlcn06KGkuaG92ZXI9e30saS5ob3Zlci5iYWNrZ3JvdW5kPXQuaG92ZXImJnQuaG92ZXIuYmFja2dyb3VuZHx8dm9pZCAwLGkuaG92ZXIuYm9yZGVyPXQuaG92ZXImJnQuaG92ZXIuYm9yZGVyfHx2b2lkIDApO3JldHVybiBpfSxlLlJHQlRvSFNWPWZ1bmN0aW9uKHQsZSxpKXt0Lz0yNTUsZS89MjU1LGkvPTI1NTt2YXIgbz1NYXRoLm1pbih0LE1hdGgubWluKGUsaSkpLG49TWF0aC5tYXgodCxNYXRoLm1heChlLGkpKTtpZihvPT1uKXJldHVybntoOjAsczowLHY6b307dmFyIHM9dD09bz9lLWk6aT09bz90LWU6aS10LHI9dD09bz8zOmk9PW8/MTo1LGE9NjAqKHItcy8obi1vKSkvMzYwLGg9KG4tbykvbixkPW47cmV0dXJue2g6YSxzOmgsdjpkfX07dmFyIHI9e3NwbGl0OmZ1bmN0aW9uKHQpe3ZhciBlPXt9O3JldHVybiB0LnNwbGl0KFwiO1wiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKFwiXCIhPXQudHJpbSgpKXt2YXIgaT10LnNwbGl0KFwiOlwiKSxvPWlbMF0udHJpbSgpLG49aVsxXS50cmltKCk7ZVtvXT1ufX0pLGV9LGpvaW46ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5rZXlzKHQpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZStcIjogXCIrdFtlXX0pLmpvaW4oXCI7IFwiKX19O2UuYWRkQ3NzVGV4dD1mdW5jdGlvbih0LGkpe3ZhciBvPXIuc3BsaXQodC5zdHlsZS5jc3NUZXh0KSxuPXIuc3BsaXQoaSkscz1lLmV4dGVuZChvLG4pO3Quc3R5bGUuY3NzVGV4dD1yLmpvaW4ocyl9LGUucmVtb3ZlQ3NzVGV4dD1mdW5jdGlvbih0LGUpe3ZhciBpPXIuc3BsaXQodC5zdHlsZS5jc3NUZXh0KSxvPXIuc3BsaXQoZSk7Zm9yKHZhciBuIGluIG8pby5oYXNPd25Qcm9wZXJ0eShuKSYmZGVsZXRlIGlbbl07dC5zdHlsZS5jc3NUZXh0PXIuam9pbihpKX0sZS5IU1ZUb1JHQj1mdW5jdGlvbih0LGUsaSl7dmFyIG8sbixzLHI9TWF0aC5mbG9vcig2KnQpLGE9Nip0LXIsaD1pKigxLWUpLGQ9aSooMS1hKmUpLGw9aSooMS0oMS1hKSplKTtzd2l0Y2gociU2KXtjYXNlIDA6bz1pLG49bCxzPWg7YnJlYWs7Y2FzZSAxOm89ZCxuPWkscz1oO2JyZWFrO2Nhc2UgMjpvPWgsbj1pLHM9bDticmVhaztjYXNlIDM6bz1oLG49ZCxzPWk7YnJlYWs7Y2FzZSA0Om89bCxuPWgscz1pO2JyZWFrO2Nhc2UgNTpvPWksbj1oLHM9ZH1yZXR1cm57cjpNYXRoLmZsb29yKDI1NSpvKSxnOk1hdGguZmxvb3IoMjU1Km4pLGI6TWF0aC5mbG9vcigyNTUqcyl9fSxlLkhTVlRvSGV4PWZ1bmN0aW9uKHQsaSxvKXt2YXIgbj1lLkhTVlRvUkdCKHQsaSxvKTtyZXR1cm4gZS5SR0JUb0hleChuLnIsbi5nLG4uYil9LGUuaGV4VG9IU1Y9ZnVuY3Rpb24odCl7dmFyIGk9ZS5oZXhUb1JHQih0KTtyZXR1cm4gZS5SR0JUb0hTVihpLnIsaS5nLGkuYil9LGUuaXNWYWxpZEhleD1mdW5jdGlvbih0KXt2YXIgZT0vKF4jWzAtOUEtRl17Nn0kKXwoXiNbMC05QS1GXXszfSQpL2kudGVzdCh0KTtyZXR1cm4gZX0sZS5pc1ZhbGlkUkdCPWZ1bmN0aW9uKHQpe3Q9dC5yZXBsYWNlKFwiIFwiLFwiXCIpO3ZhciBlPS9yZ2JcXCgoXFxkezEsM30pLChcXGR7MSwzfSksKFxcZHsxLDN9KVxcKS9pLnRlc3QodCk7cmV0dXJuIGV9LGUuaXNWYWxpZFJHQkE9ZnVuY3Rpb24odCl7dD10LnJlcGxhY2UoXCIgXCIsXCJcIik7dmFyIGU9L3JnYmFcXCgoXFxkezEsM30pLChcXGR7MSwzfSksKFxcZHsxLDN9KSwoLnsxLDN9KVxcKS9pLnRlc3QodCk7cmV0dXJuIGV9LGUuc2VsZWN0aXZlQnJpZGdlT2JqZWN0PWZ1bmN0aW9uKHQsaSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGkpe2Zvcih2YXIgbz1PYmplY3QuY3JlYXRlKGkpLG49MDtuPHQubGVuZ3RoO24rKylpLmhhc093blByb3BlcnR5KHRbbl0pJiZcIm9iamVjdFwiPT10eXBlb2YgaVt0W25dXSYmKG9bdFtuXV09ZS5icmlkZ2VPYmplY3QoaVt0W25dXSkpO3JldHVybiBvfXJldHVybiBudWxsfSxlLmJyaWRnZU9iamVjdD1mdW5jdGlvbih0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgdCl7dmFyIGk9T2JqZWN0LmNyZWF0ZSh0KTtmb3IodmFyIG8gaW4gdCl0Lmhhc093blByb3BlcnR5KG8pJiZcIm9iamVjdFwiPT10eXBlb2YgdFtvXSYmKGlbb109ZS5icmlkZ2VPYmplY3QodFtvXSkpO3JldHVybiBpfXJldHVybiBudWxsfSxlLmluc2VydFNvcnQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7Zm9yKHZhciBvPXRbaV0sbj1pO24+MCYmZShvLHRbbi0xXSk8MDtuLS0pdFtuXT10W24tMV07dFtuXT1vfXJldHVybiB0fSxlLm1lcmdlT3B0aW9ucz1mdW5jdGlvbih0LGUsaSl7dmFyIG89KGFyZ3VtZW50cy5sZW5ndGg8PTN8fHZvaWQgMD09PWFyZ3VtZW50c1szXT8hMTphcmd1bWVudHNbM10sYXJndW1lbnRzLmxlbmd0aDw9NHx8dm9pZCAwPT09YXJndW1lbnRzWzRdP3t9OmFyZ3VtZW50c1s0XSk7aWYobnVsbD09PWVbaV0pdFtpXT1PYmplY3QuY3JlYXRlKG9baV0pO2Vsc2UgaWYodm9pZCAwIT09ZVtpXSlpZihcImJvb2xlYW5cIj09dHlwZW9mIGVbaV0pdFtpXS5lbmFibGVkPWVbaV07ZWxzZXt2b2lkIDA9PT1lW2ldLmVuYWJsZWQmJih0W2ldLmVuYWJsZWQ9ITApO2Zvcih2YXIgbiBpbiBlW2ldKWVbaV0uaGFzT3duUHJvcGVydHkobikmJih0W2ldW25dPWVbaV1bbl0pfX0sZS5iaW5hcnlTZWFyY2hDdXN0b209ZnVuY3Rpb24odCxlLGksbyl7Zm9yKHZhciBuPTFlNCxzPTAscj0wLGE9dC5sZW5ndGgtMTthPj1yJiZuPnM7KXt2YXIgaD1NYXRoLmZsb29yKChyK2EpLzIpLGQ9dFtoXSxsPXZvaWQgMD09PW8/ZFtpXTpkW2ldW29dLHU9ZShsKTtpZigwPT11KXJldHVybiBoOy0xPT11P3I9aCsxOmE9aC0xLHMrK31yZXR1cm4tMX0sZS5iaW5hcnlTZWFyY2hWYWx1ZT1mdW5jdGlvbih0LGUsaSxvKXtmb3IodmFyIG4scyxyLGEsaD0xZTQsZD0wLGw9MCx1PXQubGVuZ3RoLTE7dT49bCYmaD5kOyl7aWYoYT1NYXRoLmZsb29yKC41Kih1K2wpKSxuPXRbTWF0aC5tYXgoMCxhLTEpXVtpXSxzPXRbYV1baV0scj10W01hdGgubWluKHQubGVuZ3RoLTEsYSsxKV1baV0scz09ZSlyZXR1cm4gYTtpZihlPm4mJnM+ZSlyZXR1cm5cImJlZm9yZVwiPT1vP01hdGgubWF4KDAsYS0xKTphO2lmKGU+cyYmcj5lKXJldHVyblwiYmVmb3JlXCI9PW8/YTpNYXRoLm1pbih0Lmxlbmd0aC0xLGErMSk7ZT5zP2w9YSsxOnU9YS0xLGQrK31yZXR1cm4tMX0sZS5lYXNpbmdGdW5jdGlvbnM9e2xpbmVhcjpmdW5jdGlvbih0KXtyZXR1cm4gdH0sZWFzZUluUXVhZDpmdW5jdGlvbih0KXtyZXR1cm4gdCp0fSxlYXNlT3V0UXVhZDpmdW5jdGlvbih0KXtyZXR1cm4gdCooMi10KX0sZWFzZUluT3V0UXVhZDpmdW5jdGlvbih0KXtyZXR1cm4uNT50PzIqdCp0Oi0xKyg0LTIqdCkqdH0sZWFzZUluQ3ViaWM6ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCp0fSxlYXNlT3V0Q3ViaWM6ZnVuY3Rpb24odCl7cmV0dXJuLS10KnQqdCsxfSxlYXNlSW5PdXRDdWJpYzpmdW5jdGlvbih0KXtyZXR1cm4uNT50PzQqdCp0KnQ6KHQtMSkqKDIqdC0yKSooMip0LTIpKzF9LGVhc2VJblF1YXJ0OmZ1bmN0aW9uKHQpe3JldHVybiB0KnQqdCp0fSxlYXNlT3V0UXVhcnQ6ZnVuY3Rpb24odCl7cmV0dXJuIDEtIC0tdCp0KnQqdH0sZWFzZUluT3V0UXVhcnQ6ZnVuY3Rpb24odCl7cmV0dXJuLjU+dD84KnQqdCp0KnQ6MS04Ki0tdCp0KnQqdH0sZWFzZUluUXVpbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCp0KnQqdH0sZWFzZU91dFF1aW50OmZ1bmN0aW9uKHQpe3JldHVybiAxKy0tdCp0KnQqdCp0fSxlYXNlSW5PdXRRdWludDpmdW5jdGlvbih0KXtyZXR1cm4uNT50PzE2KnQqdCp0KnQqdDoxKzE2Ki0tdCp0KnQqdCp0fX19LGZ1bmN0aW9uKHQsZSxpKXt0LmV4cG9ydHM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lm1vbWVudHx8aSgzKX0sZnVuY3Rpb24odCxlLGkpeyhmdW5jdGlvbih0KXshZnVuY3Rpb24oZSxpKXt0LmV4cG9ydHM9aSgpfSh0aGlzLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3JldHVybiB6aS5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gaSh0KXt6aT10fWZ1bmN0aW9uIG8odCl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfWZ1bmN0aW9uIG4odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBEYXRlfHxcIltvYmplY3QgRGF0ZV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX1mdW5jdGlvbiBzKHQsZSl7dmFyIGksbz1bXTtmb3IoaT0wO2k8dC5sZW5ndGg7KytpKW8ucHVzaChlKHRbaV0saSkpO3JldHVybiBvfWZ1bmN0aW9uIHIodCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9ZnVuY3Rpb24gYSh0LGUpe2Zvcih2YXIgaSBpbiBlKXIoZSxpKSYmKHRbaV09ZVtpXSk7cmV0dXJuIHIoZSxcInRvU3RyaW5nXCIpJiYodC50b1N0cmluZz1lLnRvU3RyaW5nKSxyKGUsXCJ2YWx1ZU9mXCIpJiYodC52YWx1ZU9mPWUudmFsdWVPZiksdH1mdW5jdGlvbiBoKHQsZSxpLG8pe3JldHVybiBTdCh0LGUsaSxvLCEwKS51dGMoKX1mdW5jdGlvbiBkKCl7cmV0dXJue2VtcHR5OiExLHVudXNlZFRva2VuczpbXSx1bnVzZWRJbnB1dDpbXSxvdmVyZmxvdzotMixjaGFyc0xlZnRPdmVyOjAsbnVsbElucHV0OiExLGludmFsaWRNb250aDpudWxsLGludmFsaWRGb3JtYXQ6ITEsdXNlckludmFsaWRhdGVkOiExLGlzbzohMX19ZnVuY3Rpb24gbCh0KXtyZXR1cm4gbnVsbD09dC5fcGYmJih0Ll9wZj1kKCkpLHQuX3BmfWZ1bmN0aW9uIHUodCl7aWYobnVsbD09dC5faXNWYWxpZCl7dmFyIGU9bCh0KTt0Ll9pc1ZhbGlkPSEoaXNOYU4odC5fZC5nZXRUaW1lKCkpfHwhKGUub3ZlcmZsb3c8MCl8fGUuZW1wdHl8fGUuaW52YWxpZE1vbnRofHxlLmludmFsaWRXZWVrZGF5fHxlLm51bGxJbnB1dHx8ZS5pbnZhbGlkRm9ybWF0fHxlLnVzZXJJbnZhbGlkYXRlZCksdC5fc3RyaWN0JiYodC5faXNWYWxpZD10Ll9pc1ZhbGlkJiYwPT09ZS5jaGFyc0xlZnRPdmVyJiYwPT09ZS51bnVzZWRUb2tlbnMubGVuZ3RoJiZ2b2lkIDA9PT1lLmJpZ0hvdXIpfXJldHVybiB0Ll9pc1ZhbGlkfWZ1bmN0aW9uIGModCl7dmFyIGU9aChOYU4pO3JldHVybiBudWxsIT10P2EobChlKSx0KTpsKGUpLnVzZXJJbnZhbGlkYXRlZD0hMCxlfWZ1bmN0aW9uIHAodCxlKXt2YXIgaSxvLG47aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUuX2lzQU1vbWVudE9iamVjdCYmKHQuX2lzQU1vbWVudE9iamVjdD1lLl9pc0FNb21lbnRPYmplY3QpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLl9pJiYodC5faT1lLl9pKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5fZiYmKHQuX2Y9ZS5fZiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUuX2wmJih0Ll9sPWUuX2wpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLl9zdHJpY3QmJih0Ll9zdHJpY3Q9ZS5fc3RyaWN0KSxcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5fdHptJiYodC5fdHptPWUuX3R6bSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUuX2lzVVRDJiYodC5faXNVVEM9ZS5faXNVVEMpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLl9vZmZzZXQmJih0Ll9vZmZzZXQ9ZS5fb2Zmc2V0KSxcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5fcGYmJih0Ll9wZj1sKGUpKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5fbG9jYWxlJiYodC5fbG9jYWxlPWUuX2xvY2FsZSksQWkubGVuZ3RoPjApZm9yKGkgaW4gQWkpbz1BaVtpXSxuPWVbb10sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG4mJih0W29dPW4pO3JldHVybiB0fWZ1bmN0aW9uIGYodCl7cCh0aGlzLHQpLHRoaXMuX2Q9bmV3IERhdGUobnVsbCE9dC5fZD90Ll9kLmdldFRpbWUoKTpOYU4pLEJpPT09ITEmJihCaT0hMCxlLnVwZGF0ZU9mZnNldCh0aGlzKSxCaT0hMSl9ZnVuY3Rpb24gbSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGZ8fG51bGwhPXQmJm51bGwhPXQuX2lzQU1vbWVudE9iamVjdH1mdW5jdGlvbiB2KHQpe3JldHVybiAwPnQ/TWF0aC5jZWlsKHQpOk1hdGguZmxvb3IodCl9ZnVuY3Rpb24gZyh0KXt2YXIgZT0rdCxpPTA7cmV0dXJuIDAhPT1lJiZpc0Zpbml0ZShlKSYmKGk9dihlKSksaX1mdW5jdGlvbiB5KHQsZSxpKXt2YXIgbyxuPU1hdGgubWluKHQubGVuZ3RoLGUubGVuZ3RoKSxzPU1hdGguYWJzKHQubGVuZ3RoLWUubGVuZ3RoKSxyPTA7Zm9yKG89MDtuPm87bysrKShpJiZ0W29dIT09ZVtvXXx8IWkmJmcodFtvXSkhPT1nKGVbb10pKSYmcisrO3JldHVybiByK3N9ZnVuY3Rpb24gYigpe31mdW5jdGlvbiB3KHQpe3JldHVybiB0P3QudG9Mb3dlckNhc2UoKS5yZXBsYWNlKFwiX1wiLFwiLVwiKTp0fWZ1bmN0aW9uIF8odCl7Zm9yKHZhciBlLGksbyxuLHM9MDtzPHQubGVuZ3RoOyl7Zm9yKG49dyh0W3NdKS5zcGxpdChcIi1cIiksZT1uLmxlbmd0aCxpPXcodFtzKzFdKSxpPWk/aS5zcGxpdChcIi1cIik6bnVsbDtlPjA7KXtpZihvPXgobi5zbGljZSgwLGUpLmpvaW4oXCItXCIpKSlyZXR1cm4gbztpZihpJiZpLmxlbmd0aD49ZSYmeShuLGksITApPj1lLTEpYnJlYWs7ZS0tfXMrK31yZXR1cm4gbnVsbH1mdW5jdGlvbiB4KGUpe3ZhciBpPW51bGw7aWYoIUZpW2VdJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmdCYmdC5leHBvcnRzKXRyeXtpPUxpLl9hYmJyLCFmdW5jdGlvbigpe3ZhciB0PW5ldyBFcnJvcignQ2Fubm90IGZpbmQgbW9kdWxlIFwiLi9sb2NhbGVcIicpO3Rocm93IHQuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIix0fSgpLGsoaSl9Y2F0Y2gobyl7fXJldHVybiBGaVtlXX1mdW5jdGlvbiBrKHQsZSl7dmFyIGk7cmV0dXJuIHQmJihpPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP00odCk6Tyh0LGUpLGkmJihMaT1pKSksTGkuX2FiYnJ9ZnVuY3Rpb24gTyh0LGUpe3JldHVybiBudWxsIT09ZT8oZS5hYmJyPXQsRmlbdF09RmlbdF18fG5ldyBiLEZpW3RdLnNldChlKSxrKHQpLEZpW3RdKTooZGVsZXRlIEZpW3RdLG51bGwpfWZ1bmN0aW9uIE0odCl7dmFyIGU7aWYodCYmdC5fbG9jYWxlJiZ0Ll9sb2NhbGUuX2FiYnImJih0PXQuX2xvY2FsZS5fYWJiciksIXQpcmV0dXJuIExpO2lmKCFvKHQpKXtpZihlPXgodCkpcmV0dXJuIGU7dD1bdF19cmV0dXJuIF8odCl9ZnVuY3Rpb24gRCh0LGUpe3ZhciBpPXQudG9Mb3dlckNhc2UoKTtSaVtpXT1SaVtpK1wic1wiXT1SaVtlXT10fWZ1bmN0aW9uIEModCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/UmlbdF18fFJpW3QudG9Mb3dlckNhc2UoKV06dm9pZCAwfWZ1bmN0aW9uIFQodCl7dmFyIGUsaSxvPXt9O2ZvcihpIGluIHQpcih0LGkpJiYoZT1DKGkpLGUmJihvW2VdPXRbaV0pKTtyZXR1cm4gb31mdW5jdGlvbiBTKHQsaSl7cmV0dXJuIGZ1bmN0aW9uKG8pe3JldHVybiBudWxsIT1vPyhQKHRoaXMsdCxvKSxlLnVwZGF0ZU9mZnNldCh0aGlzLGkpLHRoaXMpOkUodGhpcyx0KX19ZnVuY3Rpb24gRSh0LGUpe3JldHVybiB0Ll9kW1wiZ2V0XCIrKHQuX2lzVVRDP1wiVVRDXCI6XCJcIikrZV0oKX1mdW5jdGlvbiBQKHQsZSxpKXtyZXR1cm4gdC5fZFtcInNldFwiKyh0Ll9pc1VUQz9cIlVUQ1wiOlwiXCIpK2VdKGkpfWZ1bmN0aW9uIEkodCxlKXt2YXIgaTtpZihcIm9iamVjdFwiPT10eXBlb2YgdClmb3IoaSBpbiB0KXRoaXMuc2V0KGksdFtpXSk7ZWxzZSBpZih0PUModCksXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpc1t0XSlyZXR1cm4gdGhpc1t0XShlKTtyZXR1cm4gdGhpc31mdW5jdGlvbiBOKHQsZSxpKXt2YXIgbz1cIlwiK01hdGguYWJzKHQpLG49ZS1vLmxlbmd0aCxzPXQ+PTA7cmV0dXJuKHM/aT9cIitcIjpcIlwiOlwiLVwiKStNYXRoLnBvdygxMCxNYXRoLm1heCgwLG4pKS50b1N0cmluZygpLnN1YnN0cigxKStvfWZ1bmN0aW9uIHoodCxlLGksbyl7dmFyIG49bztcInN0cmluZ1wiPT10eXBlb2YgbyYmKG49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tvXSgpfSksdCYmKFlpW3RdPW4pLGUmJihZaVtlWzBdXT1mdW5jdGlvbigpe3JldHVybiBOKG4uYXBwbHkodGhpcyxhcmd1bWVudHMpLGVbMV0sZVsyXSl9KSxpJiYoWWlbaV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkub3JkaW5hbChuLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0KX0pfWZ1bmN0aW9uIEwodCl7cmV0dXJuIHQubWF0Y2goL1xcW1tcXHNcXFNdLyk/dC5yZXBsYWNlKC9eXFxbfFxcXSQvZyxcIlwiKTp0LnJlcGxhY2UoL1xcXFwvZyxcIlwiKX1mdW5jdGlvbiBBKHQpe3ZhciBlLGksbz10Lm1hdGNoKGppKTtmb3IoZT0wLGk9by5sZW5ndGg7aT5lO2UrKylZaVtvW2VdXT9vW2VdPVlpW29bZV1dOm9bZV09TChvW2VdKTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIHM9XCJcIjtmb3IoZT0wO2k+ZTtlKyspcys9b1tlXWluc3RhbmNlb2YgRnVuY3Rpb24/b1tlXS5jYWxsKG4sdCk6b1tlXTtyZXR1cm4gc319ZnVuY3Rpb24gQih0LGUpe3JldHVybiB0LmlzVmFsaWQoKT8oZT1GKGUsdC5sb2NhbGVEYXRhKCkpLFdpW2VdPVdpW2VdfHxBKGUpLFdpW2VdKHQpKTp0LmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpfWZ1bmN0aW9uIEYodCxlKXtmdW5jdGlvbiBpKHQpe3JldHVybiBlLmxvbmdEYXRlRm9ybWF0KHQpfHx0fXZhciBvPTU7Zm9yKEhpLmxhc3RJbmRleD0wO28+PTAmJkhpLnRlc3QodCk7KXQ9dC5yZXBsYWNlKEhpLGkpLEhpLmxhc3RJbmRleD0wLG8tPTE7cmV0dXJuIHR9ZnVuY3Rpb24gUih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZcIltvYmplY3QgRnVuY3Rpb25dXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9ZnVuY3Rpb24gaih0LGUsaSl7bm9bdF09UihlKT9lOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZpP2k6ZX19ZnVuY3Rpb24gSCh0LGUpe3JldHVybiByKG5vLHQpP25vW3RdKGUuX3N0cmljdCxlLl9sb2NhbGUpOm5ldyBSZWdFeHAoVyh0KSl9ZnVuY3Rpb24gVyh0KXtyZXR1cm4gdC5yZXBsYWNlKFwiXFxcXFwiLFwiXCIpLnJlcGxhY2UoL1xcXFwoXFxbKXxcXFxcKFxcXSl8XFxbKFteXFxdXFxbXSopXFxdfFxcXFwoLikvZyxmdW5jdGlvbih0LGUsaSxvLG4pe3JldHVybiBlfHxpfHxvfHxufSkucmVwbGFjZSgvWy1cXC9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLFwiXFxcXCQmXCIpfWZ1bmN0aW9uIFkodCxlKXt2YXIgaSxvPWU7Zm9yKFwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1bdF0pLFwibnVtYmVyXCI9PXR5cGVvZiBlJiYobz1mdW5jdGlvbih0LGkpe2lbZV09Zyh0KX0pLGk9MDtpPHQubGVuZ3RoO2krKylzb1t0W2ldXT1vfWZ1bmN0aW9uIEcodCxlKXtZKHQsZnVuY3Rpb24odCxpLG8sbil7by5fdz1vLl93fHx7fSxlKHQsby5fdyxvLG4pfSl9ZnVuY3Rpb24gVSh0LGUsaSl7bnVsbCE9ZSYmcihzbyx0KSYmc29bdF0oZSxpLl9hLGksdCl9ZnVuY3Rpb24gVih0LGUpe3JldHVybiBuZXcgRGF0ZShEYXRlLlVUQyh0LGUrMSwwKSkuZ2V0VVRDRGF0ZSgpfWZ1bmN0aW9uIHEodCl7cmV0dXJuIHRoaXMuX21vbnRoc1t0Lm1vbnRoKCldfWZ1bmN0aW9uIFgodCl7cmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0W3QubW9udGgoKV19ZnVuY3Rpb24gWih0LGUsaSl7dmFyIG8sbixzO2Zvcih0aGlzLl9tb250aHNQYXJzZXx8KHRoaXMuX21vbnRoc1BhcnNlPVtdLHRoaXMuX2xvbmdNb250aHNQYXJzZT1bXSx0aGlzLl9zaG9ydE1vbnRoc1BhcnNlPVtdKSxvPTA7MTI+bztvKyspe2lmKG49aChbMmUzLG9dKSxpJiYhdGhpcy5fbG9uZ01vbnRoc1BhcnNlW29dJiYodGhpcy5fbG9uZ01vbnRoc1BhcnNlW29dPW5ldyBSZWdFeHAoXCJeXCIrdGhpcy5tb250aHMobixcIlwiKS5yZXBsYWNlKFwiLlwiLFwiXCIpK1wiJFwiLFwiaVwiKSx0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW29dPW5ldyBSZWdFeHAoXCJeXCIrdGhpcy5tb250aHNTaG9ydChuLFwiXCIpLnJlcGxhY2UoXCIuXCIsXCJcIikrXCIkXCIsXCJpXCIpKSxpfHx0aGlzLl9tb250aHNQYXJzZVtvXXx8KHM9XCJeXCIrdGhpcy5tb250aHMobixcIlwiKStcInxeXCIrdGhpcy5tb250aHNTaG9ydChuLFwiXCIpLHRoaXMuX21vbnRoc1BhcnNlW29dPW5ldyBSZWdFeHAocy5yZXBsYWNlKFwiLlwiLFwiXCIpLFwiaVwiKSksaSYmXCJNTU1NXCI9PT1lJiZ0aGlzLl9sb25nTW9udGhzUGFyc2Vbb10udGVzdCh0KSlyZXR1cm4gbztpZihpJiZcIk1NTVwiPT09ZSYmdGhpcy5fc2hvcnRNb250aHNQYXJzZVtvXS50ZXN0KHQpKXJldHVybiBvO2lmKCFpJiZ0aGlzLl9tb250aHNQYXJzZVtvXS50ZXN0KHQpKXJldHVybiBvfX1mdW5jdGlvbiBLKHQsZSl7dmFyIGk7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXQubG9jYWxlRGF0YSgpLm1vbnRoc1BhcnNlKGUpLFwibnVtYmVyXCIhPXR5cGVvZiBlKT90OihpPU1hdGgubWluKHQuZGF0ZSgpLFYodC55ZWFyKCksZSkpLHQuX2RbXCJzZXRcIisodC5faXNVVEM/XCJVVENcIjpcIlwiKStcIk1vbnRoXCJdKGUsaSksdCl9ZnVuY3Rpb24gSih0KXtyZXR1cm4gbnVsbCE9dD8oSyh0aGlzLHQpLGUudXBkYXRlT2Zmc2V0KHRoaXMsITApLHRoaXMpOkUodGhpcyxcIk1vbnRoXCIpfWZ1bmN0aW9uIFEoKXtyZXR1cm4gVih0aGlzLnllYXIoKSx0aGlzLm1vbnRoKCkpfWZ1bmN0aW9uICQodCl7dmFyIGUsaT10Ll9hO3JldHVybiBpJiYtMj09PWwodCkub3ZlcmZsb3cmJihlPWlbYW9dPDB8fGlbYW9dPjExP2FvOmlbaG9dPDF8fGlbaG9dPlYoaVtyb10saVthb10pP2hvOmlbbG9dPDB8fGlbbG9dPjI0fHwyND09PWlbbG9dJiYoMCE9PWlbdW9dfHwwIT09aVtjb118fDAhPT1pW3BvXSk/bG86aVt1b108MHx8aVt1b10+NTk/dW86aVtjb108MHx8aVtjb10+NTk/Y286aVtwb108MHx8aVtwb10+OTk5P3BvOi0xLGwodCkuX292ZXJmbG93RGF5T2ZZZWFyJiYocm8+ZXx8ZT5obykmJihlPWhvKSxsKHQpLm92ZXJmbG93PWUpLHR9ZnVuY3Rpb24gdHQodCl7ZS5zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ3M9PT0hMSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKFwiRGVwcmVjYXRpb24gd2FybmluZzogXCIrdCl9ZnVuY3Rpb24gZXQodCxlKXt2YXIgaT0hMDtyZXR1cm4gYShmdW5jdGlvbigpe3JldHVybiBpJiYodHQodCtcIlxcblwiKyhuZXcgRXJyb3IpLnN0YWNrKSxpPSExKSxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZSl9ZnVuY3Rpb24gaXQodCxlKXt2b1t0XXx8KHR0KGUpLHZvW3RdPSEwKX1mdW5jdGlvbiBvdCh0KXt2YXIgZSxpLG89dC5faSxuPWdvLmV4ZWMobyk7aWYobil7Zm9yKGwodCkuaXNvPSEwLGU9MCxpPXlvLmxlbmd0aDtpPmU7ZSsrKWlmKHlvW2VdWzFdLmV4ZWMobykpe3QuX2Y9eW9bZV1bMF07YnJlYWt9Zm9yKGU9MCxpPWJvLmxlbmd0aDtpPmU7ZSsrKWlmKGJvW2VdWzFdLmV4ZWMobykpe3QuX2YrPShuWzZdfHxcIiBcIikrYm9bZV1bMF07YnJlYWt9by5tYXRjaChlbykmJih0Ll9mKz1cIlpcIikseHQodCl9ZWxzZSB0Ll9pc1ZhbGlkPSExfWZ1bmN0aW9uIG50KHQpe3ZhciBpPXdvLmV4ZWModC5faSk7cmV0dXJuIG51bGwhPT1pP3ZvaWQodC5fZD1uZXcgRGF0ZSgraVsxXSkpOihvdCh0KSx2b2lkKHQuX2lzVmFsaWQ9PT0hMSYmKGRlbGV0ZSB0Ll9pc1ZhbGlkLGUuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2sodCkpKSl9ZnVuY3Rpb24gc3QodCxlLGksbyxuLHMscil7dmFyIGE9bmV3IERhdGUodCxlLGksbyxuLHMscik7cmV0dXJuIDE5NzA+dCYmYS5zZXRGdWxsWWVhcih0KSxhfWZ1bmN0aW9uIHJ0KHQpe3ZhciBlPW5ldyBEYXRlKERhdGUuVVRDLmFwcGx5KG51bGwsYXJndW1lbnRzKSk7cmV0dXJuIDE5NzA+dCYmZS5zZXRVVENGdWxsWWVhcih0KSxlfWZ1bmN0aW9uIGF0KHQpe3JldHVybiBodCh0KT8zNjY6MzY1fWZ1bmN0aW9uIGh0KHQpe3JldHVybiB0JTQ9PT0wJiZ0JTEwMCE9PTB8fHQlNDAwPT09MH1mdW5jdGlvbiBkdCgpe3JldHVybiBodCh0aGlzLnllYXIoKSl9ZnVuY3Rpb24gbHQodCxlLGkpe3ZhciBvLG49aS1lLHM9aS10LmRheSgpO3JldHVybiBzPm4mJihzLT03KSxuLTc+cyYmKHMrPTcpLG89RXQodCkuYWRkKHMsXCJkXCIpLHt3ZWVrOk1hdGguY2VpbChvLmRheU9mWWVhcigpLzcpLHllYXI6by55ZWFyKCl9fWZ1bmN0aW9uIHV0KHQpe3JldHVybiBsdCh0LHRoaXMuX3dlZWsuZG93LHRoaXMuX3dlZWsuZG95KS53ZWVrfWZ1bmN0aW9uIGN0KCl7cmV0dXJuIHRoaXMuX3dlZWsuZG93fWZ1bmN0aW9uIHB0KCl7cmV0dXJuIHRoaXMuX3dlZWsuZG95fWZ1bmN0aW9uIGZ0KHQpe3ZhciBlPXRoaXMubG9jYWxlRGF0YSgpLndlZWsodGhpcyk7cmV0dXJuIG51bGw9PXQ/ZTp0aGlzLmFkZCg3Kih0LWUpLFwiZFwiKX1mdW5jdGlvbiBtdCh0KXt2YXIgZT1sdCh0aGlzLDEsNCkud2VlaztyZXR1cm4gbnVsbD09dD9lOnRoaXMuYWRkKDcqKHQtZSksXCJkXCIpfWZ1bmN0aW9uIHZ0KHQsZSxpLG8sbil7dmFyIHMscj02K24tbyxhPXJ0KHQsMCwxK3IpLGg9YS5nZXRVVENEYXkoKTtyZXR1cm4gbj5oJiYoaCs9NyksaT1udWxsIT1pPzEqaTpuLHM9MStyKzcqKGUtMSktaCtpLHt5ZWFyOnM+MD90OnQtMSxkYXlPZlllYXI6cz4wP3M6YXQodC0xKStzfX1mdW5jdGlvbiBndCh0KXt2YXIgZT1NYXRoLnJvdW5kKCh0aGlzLmNsb25lKCkuc3RhcnRPZihcImRheVwiKS10aGlzLmNsb25lKCkuc3RhcnRPZihcInllYXJcIikpLzg2NGU1KSsxO3JldHVybiBudWxsPT10P2U6dGhpcy5hZGQodC1lLFwiZFwiKX1mdW5jdGlvbiB5dCh0LGUsaSl7cmV0dXJuIG51bGwhPXQ/dDpudWxsIT1lP2U6aX1mdW5jdGlvbiBidCh0KXt2YXIgZT1uZXcgRGF0ZTtyZXR1cm4gdC5fdXNlVVRDP1tlLmdldFVUQ0Z1bGxZZWFyKCksZS5nZXRVVENNb250aCgpLGUuZ2V0VVRDRGF0ZSgpXTpbZS5nZXRGdWxsWWVhcigpLGUuZ2V0TW9udGgoKSxlLmdldERhdGUoKV19ZnVuY3Rpb24gd3QodCl7dmFyIGUsaSxvLG4scz1bXTtpZighdC5fZCl7Zm9yKG89YnQodCksdC5fdyYmbnVsbD09dC5fYVtob10mJm51bGw9PXQuX2FbYW9dJiZfdCh0KSx0Ll9kYXlPZlllYXImJihuPXl0KHQuX2Fbcm9dLG9bcm9dKSx0Ll9kYXlPZlllYXI+YXQobikmJihsKHQpLl9vdmVyZmxvd0RheU9mWWVhcj0hMCksaT1ydChuLDAsdC5fZGF5T2ZZZWFyKSx0Ll9hW2FvXT1pLmdldFVUQ01vbnRoKCksdC5fYVtob109aS5nZXRVVENEYXRlKCkpLGU9MDszPmUmJm51bGw9PXQuX2FbZV07KytlKXQuX2FbZV09c1tlXT1vW2VdO2Zvcig7Nz5lO2UrKyl0Ll9hW2VdPXNbZV09bnVsbD09dC5fYVtlXT8yPT09ZT8xOjA6dC5fYVtlXTsyND09PXQuX2FbbG9dJiYwPT09dC5fYVt1b10mJjA9PT10Ll9hW2NvXSYmMD09PXQuX2FbcG9dJiYodC5fbmV4dERheT0hMCx0Ll9hW2xvXT0wKSx0Ll9kPSh0Ll91c2VVVEM/cnQ6c3QpLmFwcGx5KG51bGwscyksbnVsbCE9dC5fdHptJiZ0Ll9kLnNldFVUQ01pbnV0ZXModC5fZC5nZXRVVENNaW51dGVzKCktdC5fdHptKSx0Ll9uZXh0RGF5JiYodC5fYVtsb109MjQpfX1mdW5jdGlvbiBfdCh0KXt2YXIgZSxpLG8sbixzLHIsYTtlPXQuX3csbnVsbCE9ZS5HR3x8bnVsbCE9ZS5XfHxudWxsIT1lLkU/KHM9MSxyPTQsaT15dChlLkdHLHQuX2Fbcm9dLGx0KEV0KCksMSw0KS55ZWFyKSxvPXl0KGUuVywxKSxuPXl0KGUuRSwxKSk6KHM9dC5fbG9jYWxlLl93ZWVrLmRvdyxyPXQuX2xvY2FsZS5fd2Vlay5kb3ksaT15dChlLmdnLHQuX2Fbcm9dLGx0KEV0KCkscyxyKS55ZWFyKSxvPXl0KGUudywxKSxudWxsIT1lLmQ/KG49ZS5kLHM+biYmKytvKTpuPW51bGwhPWUuZT9lLmUrczpzKSxhPXZ0KGksbyxuLHIscyksdC5fYVtyb109YS55ZWFyLHQuX2RheU9mWWVhcj1hLmRheU9mWWVhcn1mdW5jdGlvbiB4dCh0KXtpZih0Ll9mPT09ZS5JU09fODYwMSlyZXR1cm4gdm9pZCBvdCh0KTt0Ll9hPVtdLGwodCkuZW1wdHk9ITA7dmFyIGksbyxuLHMscixhPVwiXCIrdC5faSxoPWEubGVuZ3RoLGQ9MDtmb3Iobj1GKHQuX2YsdC5fbG9jYWxlKS5tYXRjaChqaSl8fFtdLGk9MDtpPG4ubGVuZ3RoO2krKylzPW5baV0sbz0oYS5tYXRjaChIKHMsdCkpfHxbXSlbMF0sbyYmKHI9YS5zdWJzdHIoMCxhLmluZGV4T2YobykpLHIubGVuZ3RoPjAmJmwodCkudW51c2VkSW5wdXQucHVzaChyKSxhPWEuc2xpY2UoYS5pbmRleE9mKG8pK28ubGVuZ3RoKSxkKz1vLmxlbmd0aCksWWlbc10/KG8/bCh0KS5lbXB0eT0hMTpsKHQpLnVudXNlZFRva2Vucy5wdXNoKHMpLFUocyxvLHQpKTp0Ll9zdHJpY3QmJiFvJiZsKHQpLnVudXNlZFRva2Vucy5wdXNoKHMpO2wodCkuY2hhcnNMZWZ0T3Zlcj1oLWQsYS5sZW5ndGg+MCYmbCh0KS51bnVzZWRJbnB1dC5wdXNoKGEpLGwodCkuYmlnSG91cj09PSEwJiZ0Ll9hW2xvXTw9MTImJnQuX2FbbG9dPjAmJihsKHQpLmJpZ0hvdXI9dm9pZCAwKSx0Ll9hW2xvXT1rdCh0Ll9sb2NhbGUsdC5fYVtsb10sdC5fbWVyaWRpZW0pLHd0KHQpLCQodCl9ZnVuY3Rpb24ga3QodCxlLGkpe3ZhciBvO3JldHVybiBudWxsPT1pP2U6bnVsbCE9dC5tZXJpZGllbUhvdXI/dC5tZXJpZGllbUhvdXIoZSxpKTpudWxsIT10LmlzUE0/KG89dC5pc1BNKGkpLG8mJjEyPmUmJihlKz0xMiksb3x8MTIhPT1lfHwoZT0wKSxlKTplfWZ1bmN0aW9uIE90KHQpe3ZhciBlLGksbyxuLHM7aWYoMD09PXQuX2YubGVuZ3RoKXJldHVybiBsKHQpLmludmFsaWRGb3JtYXQ9ITAsdm9pZCh0Ll9kPW5ldyBEYXRlKE5hTikpO2ZvcihuPTA7bjx0Ll9mLmxlbmd0aDtuKyspcz0wLGU9cCh7fSx0KSxudWxsIT10Ll91c2VVVEMmJihlLl91c2VVVEM9dC5fdXNlVVRDKSxlLl9mPXQuX2Zbbl0seHQoZSksdShlKSYmKHMrPWwoZSkuY2hhcnNMZWZ0T3ZlcixzKz0xMCpsKGUpLnVudXNlZFRva2Vucy5sZW5ndGgsbChlKS5zY29yZT1zLChudWxsPT1vfHxvPnMpJiYobz1zLGk9ZSkpO2EodCxpfHxlKX1mdW5jdGlvbiBNdCh0KXtpZighdC5fZCl7dmFyIGU9VCh0Ll9pKTt0Ll9hPVtlLnllYXIsZS5tb250aCxlLmRheXx8ZS5kYXRlLGUuaG91cixlLm1pbnV0ZSxlLnNlY29uZCxlLm1pbGxpc2Vjb25kXSx3dCh0KX19ZnVuY3Rpb24gRHQodCl7dmFyIGU9bmV3IGYoJChDdCh0KSkpO3JldHVybiBlLl9uZXh0RGF5JiYoZS5hZGQoMSxcImRcIiksZS5fbmV4dERheT12b2lkIDApLGV9ZnVuY3Rpb24gQ3QodCl7dmFyIGU9dC5faSxpPXQuX2Y7cmV0dXJuIHQuX2xvY2FsZT10Ll9sb2NhbGV8fE0odC5fbCksbnVsbD09PWV8fHZvaWQgMD09PWkmJlwiXCI9PT1lP2Moe251bGxJbnB1dDohMH0pOihcInN0cmluZ1wiPT10eXBlb2YgZSYmKHQuX2k9ZT10Ll9sb2NhbGUucHJlcGFyc2UoZSkpLG0oZSk/bmV3IGYoJChlKSk6KG8oaSk/T3QodCk6aT94dCh0KTpuKGUpP3QuX2Q9ZTpUdCh0KSx0KSl9ZnVuY3Rpb24gVHQodCl7dmFyIGk9dC5faTt2b2lkIDA9PT1pP3QuX2Q9bmV3IERhdGU6bihpKT90Ll9kPW5ldyBEYXRlKCtpKTpcInN0cmluZ1wiPT10eXBlb2YgaT9udCh0KTpvKGkpPyh0Ll9hPXMoaS5zbGljZSgwKSxmdW5jdGlvbih0KXtyZXR1cm4gcGFyc2VJbnQodCwxMCl9KSx3dCh0KSk6XCJvYmplY3RcIj09dHlwZW9mIGk/TXQodCk6XCJudW1iZXJcIj09dHlwZW9mIGk/dC5fZD1uZXcgRGF0ZShpKTplLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKHQpfWZ1bmN0aW9uIFN0KHQsZSxpLG8sbil7dmFyIHM9e307cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBpJiYobz1pLGk9dm9pZCAwKSxzLl9pc0FNb21lbnRPYmplY3Q9ITAscy5fdXNlVVRDPXMuX2lzVVRDPW4scy5fbD1pLHMuX2k9dCxzLl9mPWUscy5fc3RyaWN0PW8sRHQocyl9ZnVuY3Rpb24gRXQodCxlLGksbyl7cmV0dXJuIFN0KHQsZSxpLG8sITEpfWZ1bmN0aW9uIFB0KHQsZSl7dmFyIGksbjtpZigxPT09ZS5sZW5ndGgmJm8oZVswXSkmJihlPWVbMF0pLCFlLmxlbmd0aClyZXR1cm4gRXQoKTtmb3IoaT1lWzBdLG49MTtuPGUubGVuZ3RoOysrbikoIWVbbl0uaXNWYWxpZCgpfHxlW25dW3RdKGkpKSYmKGk9ZVtuXSk7cmV0dXJuIGl9ZnVuY3Rpb24gSXQoKXt2YXIgdD1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtyZXR1cm4gUHQoXCJpc0JlZm9yZVwiLHQpfWZ1bmN0aW9uIE50KCl7dmFyIHQ9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cmV0dXJuIFB0KFwiaXNBZnRlclwiLHQpfWZ1bmN0aW9uIHp0KHQpe3ZhciBlPVQodCksaT1lLnllYXJ8fDAsbz1lLnF1YXJ0ZXJ8fDAsbj1lLm1vbnRofHwwLHM9ZS53ZWVrfHwwLHI9ZS5kYXl8fDAsYT1lLmhvdXJ8fDAsaD1lLm1pbnV0ZXx8MCxkPWUuc2Vjb25kfHwwLGw9ZS5taWxsaXNlY29uZHx8MDt0aGlzLl9taWxsaXNlY29uZHM9K2wrMWUzKmQrNmU0KmgrMzZlNSphLHRoaXMuX2RheXM9K3IrNypzLHRoaXMuX21vbnRocz0rbiszKm8rMTIqaSx0aGlzLl9kYXRhPXt9LHRoaXMuX2xvY2FsZT1NKCksdGhpcy5fYnViYmxlKCl9ZnVuY3Rpb24gTHQodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiB6dH1mdW5jdGlvbiBBdCh0LGUpe3oodCwwLDAsZnVuY3Rpb24oKXt2YXIgdD10aGlzLnV0Y09mZnNldCgpLGk9XCIrXCI7cmV0dXJuIDA+dCYmKHQ9LXQsaT1cIi1cIiksaStOKH5+KHQvNjApLDIpK2UrTih+fnQlNjAsMil9KX1mdW5jdGlvbiBCdCh0KXt2YXIgZT0odHx8XCJcIikubWF0Y2goZW8pfHxbXSxpPWVbZS5sZW5ndGgtMV18fFtdLG89KGkrXCJcIikubWF0Y2goTW8pfHxbXCItXCIsMCwwXSxuPSsoNjAqb1sxXSkrZyhvWzJdKTtyZXR1cm5cIitcIj09PW9bMF0/bjotbn1mdW5jdGlvbiBGdCh0LGkpe3ZhciBvLHM7cmV0dXJuIGkuX2lzVVRDPyhvPWkuY2xvbmUoKSxzPShtKHQpfHxuKHQpPyt0OitFdCh0KSktK28sby5fZC5zZXRUaW1lKCtvLl9kK3MpLGUudXBkYXRlT2Zmc2V0KG8sITEpLG8pOkV0KHQpLmxvY2FsKCl9ZnVuY3Rpb24gUnQodCl7cmV0dXJuIDE1Ki1NYXRoLnJvdW5kKHQuX2QuZ2V0VGltZXpvbmVPZmZzZXQoKS8xNSl9ZnVuY3Rpb24ganQodCxpKXt2YXIgbyxuPXRoaXMuX29mZnNldHx8MDtyZXR1cm4gbnVsbCE9dD8oXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PUJ0KHQpKSxNYXRoLmFicyh0KTwxNiYmKHQ9NjAqdCksIXRoaXMuX2lzVVRDJiZpJiYobz1SdCh0aGlzKSksdGhpcy5fb2Zmc2V0PXQsdGhpcy5faXNVVEM9ITAsbnVsbCE9byYmdGhpcy5hZGQobyxcIm1cIiksbiE9PXQmJighaXx8dGhpcy5fY2hhbmdlSW5Qcm9ncmVzcz9pZSh0aGlzLEp0KHQtbixcIm1cIiksMSwhMSk6dGhpcy5fY2hhbmdlSW5Qcm9ncmVzc3x8KHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3M9ITAsZS51cGRhdGVPZmZzZXQodGhpcywhMCksdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcz1udWxsKSksdGhpcyk6dGhpcy5faXNVVEM/bjpSdCh0aGlzKX1mdW5jdGlvbiBIdCh0LGUpe3JldHVybiBudWxsIT10PyhcInN0cmluZ1wiIT10eXBlb2YgdCYmKHQ9LXQpLHRoaXMudXRjT2Zmc2V0KHQsZSksdGhpcyk6LXRoaXMudXRjT2Zmc2V0KCl9ZnVuY3Rpb24gV3QodCl7cmV0dXJuIHRoaXMudXRjT2Zmc2V0KDAsdCl9ZnVuY3Rpb24gWXQodCl7cmV0dXJuIHRoaXMuX2lzVVRDJiYodGhpcy51dGNPZmZzZXQoMCx0KSx0aGlzLl9pc1VUQz0hMSx0JiZ0aGlzLnN1YnRyYWN0KFJ0KHRoaXMpLFwibVwiKSksdGhpc31mdW5jdGlvbiBHdCgpe3JldHVybiB0aGlzLl90em0/dGhpcy51dGNPZmZzZXQodGhpcy5fdHptKTpcInN0cmluZ1wiPT10eXBlb2YgdGhpcy5faSYmdGhpcy51dGNPZmZzZXQoQnQodGhpcy5faSkpLHRoaXN9ZnVuY3Rpb24gVXQodCl7cmV0dXJuIHQ9dD9FdCh0KS51dGNPZmZzZXQoKTowLCh0aGlzLnV0Y09mZnNldCgpLXQpJTYwPT09MH1mdW5jdGlvbiBWdCgpe3JldHVybiB0aGlzLnV0Y09mZnNldCgpPnRoaXMuY2xvbmUoKS5tb250aCgwKS51dGNPZmZzZXQoKXx8dGhpcy51dGNPZmZzZXQoKT50aGlzLmNsb25lKCkubW9udGgoNSkudXRjT2Zmc2V0KCl9ZnVuY3Rpb24gcXQoKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy5faXNEU1RTaGlmdGVkKXJldHVybiB0aGlzLl9pc0RTVFNoaWZ0ZWQ7dmFyIHQ9e307aWYocCh0LHRoaXMpLHQ9Q3QodCksdC5fYSl7dmFyIGU9dC5faXNVVEM/aCh0Ll9hKTpFdCh0Ll9hKTt0aGlzLl9pc0RTVFNoaWZ0ZWQ9dGhpcy5pc1ZhbGlkKCkmJnkodC5fYSxlLnRvQXJyYXkoKSk+MH1lbHNlIHRoaXMuX2lzRFNUU2hpZnRlZD0hMTtyZXR1cm4gdGhpcy5faXNEU1RTaGlmdGVkfWZ1bmN0aW9uIFh0KCl7cmV0dXJuIXRoaXMuX2lzVVRDfWZ1bmN0aW9uIFp0KCl7cmV0dXJuIHRoaXMuX2lzVVRDfWZ1bmN0aW9uIEt0KCl7cmV0dXJuIHRoaXMuX2lzVVRDJiYwPT09dGhpcy5fb2Zmc2V0fWZ1bmN0aW9uIEp0KHQsZSl7dmFyIGksbyxuLHM9dCxhPW51bGw7cmV0dXJuIEx0KHQpP3M9e21zOnQuX21pbGxpc2Vjb25kcyxkOnQuX2RheXMsTTp0Ll9tb250aHN9OlwibnVtYmVyXCI9PXR5cGVvZiB0PyhzPXt9LGU/c1tlXT10OnMubWlsbGlzZWNvbmRzPXQpOihhPURvLmV4ZWModCkpPyhpPVwiLVwiPT09YVsxXT8tMToxLHM9e3k6MCxkOmcoYVtob10pKmksaDpnKGFbbG9dKSppLG06ZyhhW3VvXSkqaSxzOmcoYVtjb10pKmksbXM6ZyhhW3BvXSkqaX0pOihhPUNvLmV4ZWModCkpPyhpPVwiLVwiPT09YVsxXT8tMToxLHM9e3k6UXQoYVsyXSxpKSxNOlF0KGFbM10saSksZDpRdChhWzRdLGkpLGg6UXQoYVs1XSxpKSxtOlF0KGFbNl0saSksczpRdChhWzddLGkpLHc6UXQoYVs4XSxpKX0pOm51bGw9PXM/cz17fTpcIm9iamVjdFwiPT10eXBlb2YgcyYmKFwiZnJvbVwiaW4gc3x8XCJ0b1wiaW4gcykmJihuPXRlKEV0KHMuZnJvbSksRXQocy50bykpLHM9e30scy5tcz1uLm1pbGxpc2Vjb25kcyxzLk09bi5tb250aHMpLG89bmV3IHp0KHMpLEx0KHQpJiZyKHQsXCJfbG9jYWxlXCIpJiYoby5fbG9jYWxlPXQuX2xvY2FsZSksb31mdW5jdGlvbiBRdCh0LGUpe3ZhciBpPXQmJnBhcnNlRmxvYXQodC5yZXBsYWNlKFwiLFwiLFwiLlwiKSk7cmV0dXJuKGlzTmFOKGkpPzA6aSkqZX1mdW5jdGlvbiAkdCh0LGUpe3ZhciBpPXttaWxsaXNlY29uZHM6MCxtb250aHM6MH07cmV0dXJuIGkubW9udGhzPWUubW9udGgoKS10Lm1vbnRoKCkrMTIqKGUueWVhcigpLXQueWVhcigpKSx0LmNsb25lKCkuYWRkKGkubW9udGhzLFwiTVwiKS5pc0FmdGVyKGUpJiYtLWkubW9udGhzLGkubWlsbGlzZWNvbmRzPStlLSt0LmNsb25lKCkuYWRkKGkubW9udGhzLFwiTVwiKSxpfWZ1bmN0aW9uIHRlKHQsZSl7dmFyIGk7cmV0dXJuIGU9RnQoZSx0KSx0LmlzQmVmb3JlKGUpP2k9JHQodCxlKTooaT0kdChlLHQpLGkubWlsbGlzZWNvbmRzPS1pLm1pbGxpc2Vjb25kcyxpLm1vbnRocz0taS5tb250aHMpLGl9ZnVuY3Rpb24gZWUodCxlKXtyZXR1cm4gZnVuY3Rpb24oaSxvKXt2YXIgbixzO3JldHVybiBudWxsPT09b3x8aXNOYU4oK28pfHwoaXQoZSxcIm1vbWVudCgpLlwiK2UrXCIocGVyaW9kLCBudW1iZXIpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgbW9tZW50KCkuXCIrZStcIihudW1iZXIsIHBlcmlvZCkuXCIpLHM9aSxpPW8sbz1zKSxpPVwic3RyaW5nXCI9PXR5cGVvZiBpPytpOmksbj1KdChpLG8pLGllKHRoaXMsbix0KSx0aGlzfX1mdW5jdGlvbiBpZSh0LGksbyxuKXt2YXIgcz1pLl9taWxsaXNlY29uZHMscj1pLl9kYXlzLGE9aS5fbW9udGhzO249bnVsbD09bj8hMDpuLHMmJnQuX2Quc2V0VGltZSgrdC5fZCtzKm8pLHImJlAodCxcIkRhdGVcIixFKHQsXCJEYXRlXCIpK3IqbyksYSYmSyh0LEUodCxcIk1vbnRoXCIpK2EqbyksbiYmZS51cGRhdGVPZmZzZXQodCxyfHxhKX1mdW5jdGlvbiBvZSh0LGUpe3ZhciBpPXR8fEV0KCksbz1GdChpLHRoaXMpLnN0YXJ0T2YoXCJkYXlcIiksbj10aGlzLmRpZmYobyxcImRheXNcIiwhMCkscz0tNj5uP1wic2FtZUVsc2VcIjotMT5uP1wibGFzdFdlZWtcIjowPm4/XCJsYXN0RGF5XCI6MT5uP1wic2FtZURheVwiOjI+bj9cIm5leHREYXlcIjo3Pm4/XCJuZXh0V2Vla1wiOlwic2FtZUVsc2VcIjtyZXR1cm4gdGhpcy5mb3JtYXQoZSYmZVtzXXx8dGhpcy5sb2NhbGVEYXRhKCkuY2FsZW5kYXIocyx0aGlzLEV0KGkpKSl9ZnVuY3Rpb24gbmUoKXtyZXR1cm4gbmV3IGYodGhpcyl9ZnVuY3Rpb24gc2UodCxlKXt2YXIgaTtyZXR1cm4gZT1DKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlP2U6XCJtaWxsaXNlY29uZFwiKSxcIm1pbGxpc2Vjb25kXCI9PT1lPyh0PW0odCk/dDpFdCh0KSwrdGhpcz4rdCk6KGk9bSh0KT8rdDorRXQodCksaTwrdGhpcy5jbG9uZSgpLnN0YXJ0T2YoZSkpfWZ1bmN0aW9uIHJlKHQsZSl7dmFyIGk7cmV0dXJuIGU9QyhcInVuZGVmaW5lZFwiIT10eXBlb2YgZT9lOlwibWlsbGlzZWNvbmRcIiksXCJtaWxsaXNlY29uZFwiPT09ZT8odD1tKHQpP3Q6RXQodCksK3Q+K3RoaXMpOihpPW0odCk/K3Q6K0V0KHQpLCt0aGlzLmNsb25lKCkuZW5kT2YoZSk8aSl9ZnVuY3Rpb24gYWUodCxlLGkpe3JldHVybiB0aGlzLmlzQWZ0ZXIodCxpKSYmdGhpcy5pc0JlZm9yZShlLGkpfWZ1bmN0aW9uIGhlKHQsZSl7dmFyIGk7cmV0dXJuIGU9QyhlfHxcIm1pbGxpc2Vjb25kXCIpLFwibWlsbGlzZWNvbmRcIj09PWU/KHQ9bSh0KT90OkV0KHQpLCt0aGlzPT09K3QpOihpPStFdCh0KSwrdGhpcy5jbG9uZSgpLnN0YXJ0T2YoZSk8PWkmJmk8PSt0aGlzLmNsb25lKCkuZW5kT2YoZSkpfWZ1bmN0aW9uIGRlKHQsZSxpKXt2YXIgbyxuLHM9RnQodCx0aGlzKSxyPTZlNCoocy51dGNPZmZzZXQoKS10aGlzLnV0Y09mZnNldCgpKTtyZXR1cm4gZT1DKGUpLFwieWVhclwiPT09ZXx8XCJtb250aFwiPT09ZXx8XCJxdWFydGVyXCI9PT1lPyhuPWxlKHRoaXMscyksXCJxdWFydGVyXCI9PT1lP24vPTM6XCJ5ZWFyXCI9PT1lJiYobi89MTIpKToobz10aGlzLXMsbj1cInNlY29uZFwiPT09ZT9vLzFlMzpcIm1pbnV0ZVwiPT09ZT9vLzZlNDpcImhvdXJcIj09PWU/by8zNmU1OlwiZGF5XCI9PT1lPyhvLXIpLzg2NGU1Olwid2Vla1wiPT09ZT8oby1yKS82MDQ4ZTU6byksaT9uOnYobil9ZnVuY3Rpb24gbGUodCxlKXt2YXIgaSxvLG49MTIqKGUueWVhcigpLXQueWVhcigpKSsoZS5tb250aCgpLXQubW9udGgoKSkscz10LmNsb25lKCkuYWRkKG4sXCJtb250aHNcIik7cmV0dXJuIDA+ZS1zPyhpPXQuY2xvbmUoKS5hZGQobi0xLFwibW9udGhzXCIpLG89KGUtcykvKHMtaSkpOihpPXQuY2xvbmUoKS5hZGQobisxLFwibW9udGhzXCIpLG89KGUtcykvKGktcykpLC0obitvKX1mdW5jdGlvbiB1ZSgpe3JldHVybiB0aGlzLmNsb25lKCkubG9jYWxlKFwiZW5cIikuZm9ybWF0KFwiZGRkIE1NTSBERCBZWVlZIEhIOm1tOnNzIFtHTVRdWlpcIil9ZnVuY3Rpb24gY2UoKXt2YXIgdD10aGlzLmNsb25lKCkudXRjKCk7cmV0dXJuIDA8dC55ZWFyKCkmJnQueWVhcigpPD05OTk5P1wiZnVuY3Rpb25cIj09dHlwZW9mIERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nP3RoaXMudG9EYXRlKCkudG9JU09TdHJpbmcoKTpCKHQsXCJZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdXCIpOkIodCxcIllZWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXVwiKX1mdW5jdGlvbiBwZSh0KXt2YXIgaT1CKHRoaXMsdHx8ZS5kZWZhdWx0Rm9ybWF0KTtyZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkucG9zdGZvcm1hdChpKX1mdW5jdGlvbiBmZSh0LGUpe3JldHVybiB0aGlzLmlzVmFsaWQoKT9KdCh7dG86dGhpcyxmcm9tOnR9KS5sb2NhbGUodGhpcy5sb2NhbGUoKSkuaHVtYW5pemUoIWUpOnRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCl9ZnVuY3Rpb24gbWUodCl7cmV0dXJuIHRoaXMuZnJvbShFdCgpLHQpfWZ1bmN0aW9uIHZlKHQsZSl7cmV0dXJuIHRoaXMuaXNWYWxpZCgpP0p0KHtmcm9tOnRoaXMsdG86dH0pLmxvY2FsZSh0aGlzLmxvY2FsZSgpKS5odW1hbml6ZSghZSk6dGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKX1mdW5jdGlvbiBnZSh0KXtyZXR1cm4gdGhpcy50byhFdCgpLHQpfWZ1bmN0aW9uIHllKHQpe3ZhciBlO3JldHVybiB2b2lkIDA9PT10P3RoaXMuX2xvY2FsZS5fYWJicjooZT1NKHQpLG51bGwhPWUmJih0aGlzLl9sb2NhbGU9ZSksdGhpcyl9ZnVuY3Rpb24gYmUoKXtyZXR1cm4gdGhpcy5fbG9jYWxlfWZ1bmN0aW9uIHdlKHQpe3N3aXRjaCh0PUModCkpe2Nhc2VcInllYXJcIjp0aGlzLm1vbnRoKDApO2Nhc2VcInF1YXJ0ZXJcIjpjYXNlXCJtb250aFwiOnRoaXMuZGF0ZSgxKTtjYXNlXCJ3ZWVrXCI6Y2FzZVwiaXNvV2Vla1wiOmNhc2VcImRheVwiOnRoaXMuaG91cnMoMCk7Y2FzZVwiaG91clwiOnRoaXMubWludXRlcygwKTtjYXNlXCJtaW51dGVcIjp0aGlzLnNlY29uZHMoMCk7Y2FzZVwic2Vjb25kXCI6dGhpcy5taWxsaXNlY29uZHMoMCl9cmV0dXJuXCJ3ZWVrXCI9PT10JiZ0aGlzLndlZWtkYXkoMCksXCJpc29XZWVrXCI9PT10JiZ0aGlzLmlzb1dlZWtkYXkoMSksXCJxdWFydGVyXCI9PT10JiZ0aGlzLm1vbnRoKDMqTWF0aC5mbG9vcih0aGlzLm1vbnRoKCkvMykpLHRoaXN9ZnVuY3Rpb24gX2UodCl7XG5yZXR1cm4gdD1DKHQpLHZvaWQgMD09PXR8fFwibWlsbGlzZWNvbmRcIj09PXQ/dGhpczp0aGlzLnN0YXJ0T2YodCkuYWRkKDEsXCJpc29XZWVrXCI9PT10P1wid2Vla1wiOnQpLnN1YnRyYWN0KDEsXCJtc1wiKX1mdW5jdGlvbiB4ZSgpe3JldHVybit0aGlzLl9kLTZlNCoodGhpcy5fb2Zmc2V0fHwwKX1mdW5jdGlvbiBrZSgpe3JldHVybiBNYXRoLmZsb29yKCt0aGlzLzFlMyl9ZnVuY3Rpb24gT2UoKXtyZXR1cm4gdGhpcy5fb2Zmc2V0P25ldyBEYXRlKCt0aGlzKTp0aGlzLl9kfWZ1bmN0aW9uIE1lKCl7dmFyIHQ9dGhpcztyZXR1cm5bdC55ZWFyKCksdC5tb250aCgpLHQuZGF0ZSgpLHQuaG91cigpLHQubWludXRlKCksdC5zZWNvbmQoKSx0Lm1pbGxpc2Vjb25kKCldfWZ1bmN0aW9uIERlKCl7dmFyIHQ9dGhpcztyZXR1cm57eWVhcnM6dC55ZWFyKCksbW9udGhzOnQubW9udGgoKSxkYXRlOnQuZGF0ZSgpLGhvdXJzOnQuaG91cnMoKSxtaW51dGVzOnQubWludXRlcygpLHNlY29uZHM6dC5zZWNvbmRzKCksbWlsbGlzZWNvbmRzOnQubWlsbGlzZWNvbmRzKCl9fWZ1bmN0aW9uIENlKCl7cmV0dXJuIHUodGhpcyl9ZnVuY3Rpb24gVGUoKXtyZXR1cm4gYSh7fSxsKHRoaXMpKX1mdW5jdGlvbiBTZSgpe3JldHVybiBsKHRoaXMpLm92ZXJmbG93fWZ1bmN0aW9uIEVlKHQsZSl7eigwLFt0LHQubGVuZ3RoXSwwLGUpfWZ1bmN0aW9uIFBlKHQsZSxpKXtyZXR1cm4gbHQoRXQoW3QsMTEsMzErZS1pXSksZSxpKS53ZWVrfWZ1bmN0aW9uIEllKHQpe3ZhciBlPWx0KHRoaXMsdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG93LHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRveSkueWVhcjtyZXR1cm4gbnVsbD09dD9lOnRoaXMuYWRkKHQtZSxcInlcIil9ZnVuY3Rpb24gTmUodCl7dmFyIGU9bHQodGhpcywxLDQpLnllYXI7cmV0dXJuIG51bGw9PXQ/ZTp0aGlzLmFkZCh0LWUsXCJ5XCIpfWZ1bmN0aW9uIHplKCl7cmV0dXJuIFBlKHRoaXMueWVhcigpLDEsNCl9ZnVuY3Rpb24gTGUoKXt2YXIgdD10aGlzLmxvY2FsZURhdGEoKS5fd2VlaztyZXR1cm4gUGUodGhpcy55ZWFyKCksdC5kb3csdC5kb3kpfWZ1bmN0aW9uIEFlKHQpe3JldHVybiBudWxsPT10P01hdGguY2VpbCgodGhpcy5tb250aCgpKzEpLzMpOnRoaXMubW9udGgoMyoodC0xKSt0aGlzLm1vbnRoKCklMyl9ZnVuY3Rpb24gQmUodCxlKXtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgdD90OmlzTmFOKHQpPyh0PWUud2Vla2RheXNQYXJzZSh0KSxcIm51bWJlclwiPT10eXBlb2YgdD90Om51bGwpOnBhcnNlSW50KHQsMTApfWZ1bmN0aW9uIEZlKHQpe3JldHVybiB0aGlzLl93ZWVrZGF5c1t0LmRheSgpXX1mdW5jdGlvbiBSZSh0KXtyZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFt0LmRheSgpXX1mdW5jdGlvbiBqZSh0KXtyZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5bdC5kYXkoKV19ZnVuY3Rpb24gSGUodCl7dmFyIGUsaSxvO2Zvcih0aGlzLl93ZWVrZGF5c1BhcnNlPXRoaXMuX3dlZWtkYXlzUGFyc2V8fFtdLGU9MDs3PmU7ZSsrKWlmKHRoaXMuX3dlZWtkYXlzUGFyc2VbZV18fChpPUV0KFsyZTMsMV0pLmRheShlKSxvPVwiXlwiK3RoaXMud2Vla2RheXMoaSxcIlwiKStcInxeXCIrdGhpcy53ZWVrZGF5c1Nob3J0KGksXCJcIikrXCJ8XlwiK3RoaXMud2Vla2RheXNNaW4oaSxcIlwiKSx0aGlzLl93ZWVrZGF5c1BhcnNlW2VdPW5ldyBSZWdFeHAoby5yZXBsYWNlKFwiLlwiLFwiXCIpLFwiaVwiKSksdGhpcy5fd2Vla2RheXNQYXJzZVtlXS50ZXN0KHQpKXJldHVybiBlfWZ1bmN0aW9uIFdlKHQpe3ZhciBlPXRoaXMuX2lzVVRDP3RoaXMuX2QuZ2V0VVRDRGF5KCk6dGhpcy5fZC5nZXREYXkoKTtyZXR1cm4gbnVsbCE9dD8odD1CZSh0LHRoaXMubG9jYWxlRGF0YSgpKSx0aGlzLmFkZCh0LWUsXCJkXCIpKTplfWZ1bmN0aW9uIFllKHQpe3ZhciBlPSh0aGlzLmRheSgpKzctdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG93KSU3O3JldHVybiBudWxsPT10P2U6dGhpcy5hZGQodC1lLFwiZFwiKX1mdW5jdGlvbiBHZSh0KXtyZXR1cm4gbnVsbD09dD90aGlzLmRheSgpfHw3OnRoaXMuZGF5KHRoaXMuZGF5KCklNz90OnQtNyl9ZnVuY3Rpb24gVWUodCxlKXt6KHQsMCwwLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1lcmlkaWVtKHRoaXMuaG91cnMoKSx0aGlzLm1pbnV0ZXMoKSxlKX0pfWZ1bmN0aW9uIFZlKHQsZSl7cmV0dXJuIGUuX21lcmlkaWVtUGFyc2V9ZnVuY3Rpb24gcWUodCl7cmV0dXJuXCJwXCI9PT0odCtcIlwiKS50b0xvd2VyQ2FzZSgpLmNoYXJBdCgwKX1mdW5jdGlvbiBYZSh0LGUsaSl7cmV0dXJuIHQ+MTE/aT9cInBtXCI6XCJQTVwiOmk/XCJhbVwiOlwiQU1cIn1mdW5jdGlvbiBaZSh0LGUpe2VbcG9dPWcoMWUzKihcIjAuXCIrdCkpfWZ1bmN0aW9uIEtlKCl7cmV0dXJuIHRoaXMuX2lzVVRDP1wiVVRDXCI6XCJcIn1mdW5jdGlvbiBKZSgpe3JldHVybiB0aGlzLl9pc1VUQz9cIkNvb3JkaW5hdGVkIFVuaXZlcnNhbCBUaW1lXCI6XCJcIn1mdW5jdGlvbiBRZSh0KXtyZXR1cm4gRXQoMWUzKnQpfWZ1bmN0aW9uICRlKCl7cmV0dXJuIEV0LmFwcGx5KG51bGwsYXJndW1lbnRzKS5wYXJzZVpvbmUoKX1mdW5jdGlvbiB0aSh0LGUsaSl7dmFyIG89dGhpcy5fY2FsZW5kYXJbdF07cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygbz9vLmNhbGwoZSxpKTpvfWZ1bmN0aW9uIGVpKHQpe3ZhciBlPXRoaXMuX2xvbmdEYXRlRm9ybWF0W3RdLGk9dGhpcy5fbG9uZ0RhdGVGb3JtYXRbdC50b1VwcGVyQ2FzZSgpXTtyZXR1cm4gZXx8IWk/ZToodGhpcy5fbG9uZ0RhdGVGb3JtYXRbdF09aS5yZXBsYWNlKC9NTU1NfE1NfEREfGRkZGQvZyxmdW5jdGlvbih0KXtyZXR1cm4gdC5zbGljZSgxKX0pLHRoaXMuX2xvbmdEYXRlRm9ybWF0W3RdKX1mdW5jdGlvbiBpaSgpe3JldHVybiB0aGlzLl9pbnZhbGlkRGF0ZX1mdW5jdGlvbiBvaSh0KXtyZXR1cm4gdGhpcy5fb3JkaW5hbC5yZXBsYWNlKFwiJWRcIix0KX1mdW5jdGlvbiBuaSh0KXtyZXR1cm4gdH1mdW5jdGlvbiBzaSh0LGUsaSxvKXt2YXIgbj10aGlzLl9yZWxhdGl2ZVRpbWVbaV07cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygbj9uKHQsZSxpLG8pOm4ucmVwbGFjZSgvJWQvaSx0KX1mdW5jdGlvbiByaSh0LGUpe3ZhciBpPXRoaXMuX3JlbGF0aXZlVGltZVt0PjA/XCJmdXR1cmVcIjpcInBhc3RcIl07cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgaT9pKGUpOmkucmVwbGFjZSgvJXMvaSxlKX1mdW5jdGlvbiBhaSh0KXt2YXIgZSxpO2ZvcihpIGluIHQpZT10W2ldLFwiZnVuY3Rpb25cIj09dHlwZW9mIGU/dGhpc1tpXT1lOnRoaXNbXCJfXCIraV09ZTt0aGlzLl9vcmRpbmFsUGFyc2VMZW5pZW50PW5ldyBSZWdFeHAodGhpcy5fb3JkaW5hbFBhcnNlLnNvdXJjZStcInxcIisvXFxkezEsMn0vLnNvdXJjZSl9ZnVuY3Rpb24gaGkodCxlLGksbyl7dmFyIG49TSgpLHM9aCgpLnNldChvLGUpO3JldHVybiBuW2ldKHMsdCl9ZnVuY3Rpb24gZGkodCxlLGksbyxuKXtpZihcIm51bWJlclwiPT10eXBlb2YgdCYmKGU9dCx0PXZvaWQgMCksdD10fHxcIlwiLG51bGwhPWUpcmV0dXJuIGhpKHQsZSxpLG4pO3ZhciBzLHI9W107Zm9yKHM9MDtvPnM7cysrKXJbc109aGkodCxzLGksbik7cmV0dXJuIHJ9ZnVuY3Rpb24gbGkodCxlKXtyZXR1cm4gZGkodCxlLFwibW9udGhzXCIsMTIsXCJtb250aFwiKX1mdW5jdGlvbiB1aSh0LGUpe3JldHVybiBkaSh0LGUsXCJtb250aHNTaG9ydFwiLDEyLFwibW9udGhcIil9ZnVuY3Rpb24gY2kodCxlKXtyZXR1cm4gZGkodCxlLFwid2Vla2RheXNcIiw3LFwiZGF5XCIpfWZ1bmN0aW9uIHBpKHQsZSl7cmV0dXJuIGRpKHQsZSxcIndlZWtkYXlzU2hvcnRcIiw3LFwiZGF5XCIpfWZ1bmN0aW9uIGZpKHQsZSl7cmV0dXJuIGRpKHQsZSxcIndlZWtkYXlzTWluXCIsNyxcImRheVwiKX1mdW5jdGlvbiBtaSgpe3ZhciB0PXRoaXMuX2RhdGE7cmV0dXJuIHRoaXMuX21pbGxpc2Vjb25kcz1Lbyh0aGlzLl9taWxsaXNlY29uZHMpLHRoaXMuX2RheXM9S28odGhpcy5fZGF5cyksdGhpcy5fbW9udGhzPUtvKHRoaXMuX21vbnRocyksdC5taWxsaXNlY29uZHM9S28odC5taWxsaXNlY29uZHMpLHQuc2Vjb25kcz1Lbyh0LnNlY29uZHMpLHQubWludXRlcz1Lbyh0Lm1pbnV0ZXMpLHQuaG91cnM9S28odC5ob3VycyksdC5tb250aHM9S28odC5tb250aHMpLHQueWVhcnM9S28odC55ZWFycyksdGhpc31mdW5jdGlvbiB2aSh0LGUsaSxvKXt2YXIgbj1KdChlLGkpO3JldHVybiB0Ll9taWxsaXNlY29uZHMrPW8qbi5fbWlsbGlzZWNvbmRzLHQuX2RheXMrPW8qbi5fZGF5cyx0Ll9tb250aHMrPW8qbi5fbW9udGhzLHQuX2J1YmJsZSgpfWZ1bmN0aW9uIGdpKHQsZSl7cmV0dXJuIHZpKHRoaXMsdCxlLDEpfWZ1bmN0aW9uIHlpKHQsZSl7cmV0dXJuIHZpKHRoaXMsdCxlLC0xKX1mdW5jdGlvbiBiaSh0KXtyZXR1cm4gMD50P01hdGguZmxvb3IodCk6TWF0aC5jZWlsKHQpfWZ1bmN0aW9uIHdpKCl7dmFyIHQsZSxpLG8sbixzPXRoaXMuX21pbGxpc2Vjb25kcyxyPXRoaXMuX2RheXMsYT10aGlzLl9tb250aHMsaD10aGlzLl9kYXRhO3JldHVybiBzPj0wJiZyPj0wJiZhPj0wfHwwPj1zJiYwPj1yJiYwPj1hfHwocys9ODY0ZTUqYmkoeGkoYSkrcikscj0wLGE9MCksaC5taWxsaXNlY29uZHM9cyUxZTMsdD12KHMvMWUzKSxoLnNlY29uZHM9dCU2MCxlPXYodC82MCksaC5taW51dGVzPWUlNjAsaT12KGUvNjApLGguaG91cnM9aSUyNCxyKz12KGkvMjQpLG49dihfaShyKSksYSs9bixyLT1iaSh4aShuKSksbz12KGEvMTIpLGElPTEyLGguZGF5cz1yLGgubW9udGhzPWEsaC55ZWFycz1vLHRoaXN9ZnVuY3Rpb24gX2kodCl7cmV0dXJuIDQ4MDAqdC8xNDYwOTd9ZnVuY3Rpb24geGkodCl7cmV0dXJuIDE0NjA5Nyp0LzQ4MDB9ZnVuY3Rpb24ga2kodCl7dmFyIGUsaSxvPXRoaXMuX21pbGxpc2Vjb25kcztpZih0PUModCksXCJtb250aFwiPT09dHx8XCJ5ZWFyXCI9PT10KXJldHVybiBlPXRoaXMuX2RheXMrby84NjRlNSxpPXRoaXMuX21vbnRocytfaShlKSxcIm1vbnRoXCI9PT10P2k6aS8xMjtzd2l0Y2goZT10aGlzLl9kYXlzK01hdGgucm91bmQoeGkodGhpcy5fbW9udGhzKSksdCl7Y2FzZVwid2Vla1wiOnJldHVybiBlLzcrby82MDQ4ZTU7Y2FzZVwiZGF5XCI6cmV0dXJuIGUrby84NjRlNTtjYXNlXCJob3VyXCI6cmV0dXJuIDI0KmUrby8zNmU1O2Nhc2VcIm1pbnV0ZVwiOnJldHVybiAxNDQwKmUrby82ZTQ7Y2FzZVwic2Vjb25kXCI6cmV0dXJuIDg2NDAwKmUrby8xZTM7Y2FzZVwibWlsbGlzZWNvbmRcIjpyZXR1cm4gTWF0aC5mbG9vcig4NjRlNSplKStvO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB1bml0IFwiK3QpfX1mdW5jdGlvbiBPaSgpe3JldHVybiB0aGlzLl9taWxsaXNlY29uZHMrODY0ZTUqdGhpcy5fZGF5cyt0aGlzLl9tb250aHMlMTIqMjU5MmU2KzMxNTM2ZTYqZyh0aGlzLl9tb250aHMvMTIpfWZ1bmN0aW9uIE1pKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLmFzKHQpfX1mdW5jdGlvbiBEaSh0KXtyZXR1cm4gdD1DKHQpLHRoaXNbdCtcInNcIl0oKX1mdW5jdGlvbiBDaSh0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YVt0XX19ZnVuY3Rpb24gVGkoKXtyZXR1cm4gdih0aGlzLmRheXMoKS83KX1mdW5jdGlvbiBTaSh0LGUsaSxvLG4pe3JldHVybiBuLnJlbGF0aXZlVGltZShlfHwxLCEhaSx0LG8pfWZ1bmN0aW9uIEVpKHQsZSxpKXt2YXIgbz1KdCh0KS5hYnMoKSxuPXBuKG8uYXMoXCJzXCIpKSxzPXBuKG8uYXMoXCJtXCIpKSxyPXBuKG8uYXMoXCJoXCIpKSxhPXBuKG8uYXMoXCJkXCIpKSxoPXBuKG8uYXMoXCJNXCIpKSxkPXBuKG8uYXMoXCJ5XCIpKSxsPW48Zm4ucyYmW1wic1wiLG5dfHwxPT09cyYmW1wibVwiXXx8czxmbi5tJiZbXCJtbVwiLHNdfHwxPT09ciYmW1wiaFwiXXx8cjxmbi5oJiZbXCJoaFwiLHJdfHwxPT09YSYmW1wiZFwiXXx8YTxmbi5kJiZbXCJkZFwiLGFdfHwxPT09aCYmW1wiTVwiXXx8aDxmbi5NJiZbXCJNTVwiLGhdfHwxPT09ZCYmW1wieVwiXXx8W1wieXlcIixkXTtyZXR1cm4gbFsyXT1lLGxbM109K3Q+MCxsWzRdPWksU2kuYXBwbHkobnVsbCxsKX1mdW5jdGlvbiBQaSh0LGUpe3JldHVybiB2b2lkIDA9PT1mblt0XT8hMTp2b2lkIDA9PT1lP2ZuW3RdOihmblt0XT1lLCEwKX1mdW5jdGlvbiBJaSh0KXt2YXIgZT10aGlzLmxvY2FsZURhdGEoKSxpPUVpKHRoaXMsIXQsZSk7cmV0dXJuIHQmJihpPWUucGFzdEZ1dHVyZSgrdGhpcyxpKSksZS5wb3N0Zm9ybWF0KGkpfWZ1bmN0aW9uIE5pKCl7dmFyIHQsZSxpLG89bW4odGhpcy5fbWlsbGlzZWNvbmRzKS8xZTMsbj1tbih0aGlzLl9kYXlzKSxzPW1uKHRoaXMuX21vbnRocyk7dD12KG8vNjApLGU9dih0LzYwKSxvJT02MCx0JT02MCxpPXYocy8xMikscyU9MTI7dmFyIHI9aSxhPXMsaD1uLGQ9ZSxsPXQsdT1vLGM9dGhpcy5hc1NlY29uZHMoKTtyZXR1cm4gYz8oMD5jP1wiLVwiOlwiXCIpK1wiUFwiKyhyP3IrXCJZXCI6XCJcIikrKGE/YStcIk1cIjpcIlwiKSsoaD9oK1wiRFwiOlwiXCIpKyhkfHxsfHx1P1wiVFwiOlwiXCIpKyhkP2QrXCJIXCI6XCJcIikrKGw/bCtcIk1cIjpcIlwiKSsodT91K1wiU1wiOlwiXCIpOlwiUDBEXCJ9dmFyIHppLExpLEFpPWUubW9tZW50UHJvcGVydGllcz1bXSxCaT0hMSxGaT17fSxSaT17fSxqaT0vKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oTW98TU0/TT9NP3xEb3xERERvfEREP0Q/RD98ZGRkP2Q/fGRvP3x3W298d10/fFdbb3xXXT98UXxZWVlZWVl8WVlZWVl8WVlZWXxZWXxnZyhnZ2c/KT98R0coR0dHPyk/fGV8RXxhfEF8aGg/fEhIP3xtbT98c3M/fFN7MSw5fXx4fFh8eno/fFpaP3wuKS9nLEhpPS8oXFxbW15cXFtdKlxcXSl8KFxcXFwpPyhMVFN8TFR8TEw/TD9MP3xsezEsNH0pL2csV2k9e30sWWk9e30sR2k9L1xcZC8sVWk9L1xcZFxcZC8sVmk9L1xcZHszfS8scWk9L1xcZHs0fS8sWGk9L1srLV0/XFxkezZ9LyxaaT0vXFxkXFxkPy8sS2k9L1xcZHsxLDN9LyxKaT0vXFxkezEsNH0vLFFpPS9bKy1dP1xcZHsxLDZ9LywkaT0vXFxkKy8sdG89L1srLV0/XFxkKy8sZW89L1p8WystXVxcZFxcZDo/XFxkXFxkL2dpLGlvPS9bKy1dP1xcZCsoXFwuXFxkezEsM30pPy8sb289L1swLTldKlsnYS16XFx1MDBBMC1cXHUwNUZGXFx1MDcwMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSt8W1xcdTA2MDAtXFx1MDZGRlxcL10rKFxccyo/W1xcdTA2MDAtXFx1MDZGRl0rKXsxLDJ9L2ksbm89e30sc289e30scm89MCxhbz0xLGhvPTIsbG89Myx1bz00LGNvPTUscG89Njt6KFwiTVwiLFtcIk1NXCIsMl0sXCJNb1wiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9udGgoKSsxfSkseihcIk1NTVwiLDAsMCxmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzU2hvcnQodGhpcyx0KX0pLHooXCJNTU1NXCIsMCwwLGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tb250aHModGhpcyx0KX0pLEQoXCJtb250aFwiLFwiTVwiKSxqKFwiTVwiLFppKSxqKFwiTU1cIixaaSxVaSksaihcIk1NTVwiLG9vKSxqKFwiTU1NTVwiLG9vKSxZKFtcIk1cIixcIk1NXCJdLGZ1bmN0aW9uKHQsZSl7ZVthb109Zyh0KS0xfSksWShbXCJNTU1cIixcIk1NTU1cIl0sZnVuY3Rpb24odCxlLGksbyl7dmFyIG49aS5fbG9jYWxlLm1vbnRoc1BhcnNlKHQsbyxpLl9zdHJpY3QpO251bGwhPW4/ZVthb109bjpsKGkpLmludmFsaWRNb250aD10fSk7dmFyIGZvPVwiSmFudWFyeV9GZWJydWFyeV9NYXJjaF9BcHJpbF9NYXlfSnVuZV9KdWx5X0F1Z3VzdF9TZXB0ZW1iZXJfT2N0b2Jlcl9Ob3ZlbWJlcl9EZWNlbWJlclwiLnNwbGl0KFwiX1wiKSxtbz1cIkphbl9GZWJfTWFyX0Fwcl9NYXlfSnVuX0p1bF9BdWdfU2VwX09jdF9Ob3ZfRGVjXCIuc3BsaXQoXCJfXCIpLHZvPXt9O2Uuc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzPSExO3ZhciBnbz0vXlxccyooPzpbKy1dXFxkezZ9fFxcZHs0fSktKD86KFxcZFxcZC1cXGRcXGQpfChXXFxkXFxkJCl8KFdcXGRcXGQtXFxkKXwoXFxkXFxkXFxkKSkoKFR8ICkoXFxkXFxkKDpcXGRcXGQoOlxcZFxcZChcXC5cXGQrKT8pPyk/KT8oW1xcK1xcLV1cXGRcXGQoPzo6P1xcZFxcZCk/fFxccypaKT8pPyQvLHlvPVtbXCJZWVlZWVktTU0tRERcIiwvWystXVxcZHs2fS1cXGR7Mn0tXFxkezJ9L10sW1wiWVlZWS1NTS1ERFwiLC9cXGR7NH0tXFxkezJ9LVxcZHsyfS9dLFtcIkdHR0ctW1ddV1ctRVwiLC9cXGR7NH0tV1xcZHsyfS1cXGQvXSxbXCJHR0dHLVtXXVdXXCIsL1xcZHs0fS1XXFxkezJ9L10sW1wiWVlZWS1ERERcIiwvXFxkezR9LVxcZHszfS9dXSxibz1bW1wiSEg6bW06c3MuU1NTU1wiLC8oVHwgKVxcZFxcZDpcXGRcXGQ6XFxkXFxkXFwuXFxkKy9dLFtcIkhIOm1tOnNzXCIsLyhUfCApXFxkXFxkOlxcZFxcZDpcXGRcXGQvXSxbXCJISDptbVwiLC8oVHwgKVxcZFxcZDpcXGRcXGQvXSxbXCJISFwiLC8oVHwgKVxcZFxcZC9dXSx3bz0vXlxcLz9EYXRlXFwoKFxcLT9cXGQrKS9pO2UuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2s9ZXQoXCJtb21lbnQgY29uc3RydWN0aW9uIGZhbGxzIGJhY2sgdG8ganMgRGF0ZS4gVGhpcyBpcyBkaXNjb3VyYWdlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHVwY29taW5nIG1ham9yIHJlbGVhc2UuIFBsZWFzZSByZWZlciB0byBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTQwNyBmb3IgbW9yZSBpbmZvLlwiLGZ1bmN0aW9uKHQpe3QuX2Q9bmV3IERhdGUodC5faSsodC5fdXNlVVRDP1wiIFVUQ1wiOlwiXCIpKX0pLHooMCxbXCJZWVwiLDJdLDAsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55ZWFyKCklMTAwfSkseigwLFtcIllZWVlcIiw0XSwwLFwieWVhclwiKSx6KDAsW1wiWVlZWVlcIiw1XSwwLFwieWVhclwiKSx6KDAsW1wiWVlZWVlZXCIsNiwhMF0sMCxcInllYXJcIiksRChcInllYXJcIixcInlcIiksaihcIllcIix0byksaihcIllZXCIsWmksVWkpLGooXCJZWVlZXCIsSmkscWkpLGooXCJZWVlZWVwiLFFpLFhpKSxqKFwiWVlZWVlZXCIsUWksWGkpLFkoW1wiWVlZWVlcIixcIllZWVlZWVwiXSxybyksWShcIllZWVlcIixmdW5jdGlvbih0LGkpe2lbcm9dPTI9PT10Lmxlbmd0aD9lLnBhcnNlVHdvRGlnaXRZZWFyKHQpOmcodCl9KSxZKFwiWVlcIixmdW5jdGlvbih0LGkpe2lbcm9dPWUucGFyc2VUd29EaWdpdFllYXIodCl9KSxlLnBhcnNlVHdvRGlnaXRZZWFyPWZ1bmN0aW9uKHQpe3JldHVybiBnKHQpKyhnKHQpPjY4PzE5MDA6MmUzKX07dmFyIF9vPVMoXCJGdWxsWWVhclwiLCExKTt6KFwid1wiLFtcInd3XCIsMl0sXCJ3b1wiLFwid2Vla1wiKSx6KFwiV1wiLFtcIldXXCIsMl0sXCJXb1wiLFwiaXNvV2Vla1wiKSxEKFwid2Vla1wiLFwid1wiKSxEKFwiaXNvV2Vla1wiLFwiV1wiKSxqKFwid1wiLFppKSxqKFwid3dcIixaaSxVaSksaihcIldcIixaaSksaihcIldXXCIsWmksVWkpLEcoW1wid1wiLFwid3dcIixcIldcIixcIldXXCJdLGZ1bmN0aW9uKHQsZSxpLG8pe2Vbby5zdWJzdHIoMCwxKV09Zyh0KX0pO3ZhciB4bz17ZG93OjAsZG95OjZ9O3ooXCJERERcIixbXCJEREREXCIsM10sXCJERERvXCIsXCJkYXlPZlllYXJcIiksRChcImRheU9mWWVhclwiLFwiREREXCIpLGooXCJERERcIixLaSksaihcIkRERERcIixWaSksWShbXCJERERcIixcIkRERERcIl0sZnVuY3Rpb24odCxlLGkpe2kuX2RheU9mWWVhcj1nKHQpfSksZS5JU09fODYwMT1mdW5jdGlvbigpe307dmFyIGtvPWV0KFwibW9tZW50KCkubWluIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQubWluIGluc3RlYWQuIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8xNTQ4XCIsZnVuY3Rpb24oKXt2YXIgdD1FdC5hcHBseShudWxsLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXM+dD90aGlzOnR9KSxPbz1ldChcIm1vbWVudCgpLm1heCBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1heCBpbnN0ZWFkLiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTU0OFwiLGZ1bmN0aW9uKCl7dmFyIHQ9RXQuYXBwbHkobnVsbCxhcmd1bWVudHMpO3JldHVybiB0PnRoaXM/dGhpczp0fSk7QXQoXCJaXCIsXCI6XCIpLEF0KFwiWlpcIixcIlwiKSxqKFwiWlwiLGVvKSxqKFwiWlpcIixlbyksWShbXCJaXCIsXCJaWlwiXSxmdW5jdGlvbih0LGUsaSl7aS5fdXNlVVRDPSEwLGkuX3R6bT1CdCh0KX0pO3ZhciBNbz0vKFtcXCtcXC1dfFxcZFxcZCkvZ2k7ZS51cGRhdGVPZmZzZXQ9ZnVuY3Rpb24oKXt9O3ZhciBEbz0vKFxcLSk/KD86KFxcZCopXFwuKT8oXFxkKylcXDooXFxkKykoPzpcXDooXFxkKylcXC4/KFxcZHszfSk/KT8vLENvPS9eKC0pP1AoPzooPzooWzAtOSwuXSopWSk/KD86KFswLTksLl0qKU0pPyg/OihbMC05LC5dKilEKT8oPzpUKD86KFswLTksLl0qKUgpPyg/OihbMC05LC5dKilNKT8oPzooWzAtOSwuXSopUyk/KT98KFswLTksLl0qKVcpJC87SnQuZm49enQucHJvdG90eXBlO3ZhciBUbz1lZSgxLFwiYWRkXCIpLFNvPWVlKC0xLFwic3VidHJhY3RcIik7ZS5kZWZhdWx0Rm9ybWF0PVwiWVlZWS1NTS1ERFRISDptbTpzc1pcIjt2YXIgRW89ZXQoXCJtb21lbnQoKS5sYW5nKCkgaXMgZGVwcmVjYXRlZC4gSW5zdGVhZCwgdXNlIG1vbWVudCgpLmxvY2FsZURhdGEoKSB0byBnZXQgdGhlIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24uIFVzZSBtb21lbnQoKS5sb2NhbGUoKSB0byBjaGFuZ2UgbGFuZ3VhZ2VzLlwiLGZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10P3RoaXMubG9jYWxlRGF0YSgpOnRoaXMubG9jYWxlKHQpfSk7eigwLFtcImdnXCIsMl0sMCxmdW5jdGlvbigpe3JldHVybiB0aGlzLndlZWtZZWFyKCklMTAwfSkseigwLFtcIkdHXCIsMl0sMCxmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzb1dlZWtZZWFyKCklMTAwfSksRWUoXCJnZ2dnXCIsXCJ3ZWVrWWVhclwiKSxFZShcImdnZ2dnXCIsXCJ3ZWVrWWVhclwiKSxFZShcIkdHR0dcIixcImlzb1dlZWtZZWFyXCIpLEVlKFwiR0dHR0dcIixcImlzb1dlZWtZZWFyXCIpLEQoXCJ3ZWVrWWVhclwiLFwiZ2dcIiksRChcImlzb1dlZWtZZWFyXCIsXCJHR1wiKSxqKFwiR1wiLHRvKSxqKFwiZ1wiLHRvKSxqKFwiR0dcIixaaSxVaSksaihcImdnXCIsWmksVWkpLGooXCJHR0dHXCIsSmkscWkpLGooXCJnZ2dnXCIsSmkscWkpLGooXCJHR0dHR1wiLFFpLFhpKSxqKFwiZ2dnZ2dcIixRaSxYaSksRyhbXCJnZ2dnXCIsXCJnZ2dnZ1wiLFwiR0dHR1wiLFwiR0dHR0dcIl0sZnVuY3Rpb24odCxlLGksbyl7ZVtvLnN1YnN0cigwLDIpXT1nKHQpfSksRyhbXCJnZ1wiLFwiR0dcIl0sZnVuY3Rpb24odCxpLG8sbil7aVtuXT1lLnBhcnNlVHdvRGlnaXRZZWFyKHQpfSkseihcIlFcIiwwLDAsXCJxdWFydGVyXCIpLEQoXCJxdWFydGVyXCIsXCJRXCIpLGooXCJRXCIsR2kpLFkoXCJRXCIsZnVuY3Rpb24odCxlKXtlW2FvXT0zKihnKHQpLTEpfSkseihcIkRcIixbXCJERFwiLDJdLFwiRG9cIixcImRhdGVcIiksRChcImRhdGVcIixcIkRcIiksaihcIkRcIixaaSksaihcIkREXCIsWmksVWkpLGooXCJEb1wiLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ/ZS5fb3JkaW5hbFBhcnNlOmUuX29yZGluYWxQYXJzZUxlbmllbnR9KSxZKFtcIkRcIixcIkREXCJdLGhvKSxZKFwiRG9cIixmdW5jdGlvbih0LGUpe2VbaG9dPWcodC5tYXRjaChaaSlbMF0sMTApfSk7dmFyIFBvPVMoXCJEYXRlXCIsITApO3ooXCJkXCIsMCxcImRvXCIsXCJkYXlcIikseihcImRkXCIsMCwwLGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c01pbih0aGlzLHQpfSkseihcImRkZFwiLDAsMCxmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNTaG9ydCh0aGlzLHQpfSkseihcImRkZGRcIiwwLDAsZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzKHRoaXMsdCl9KSx6KFwiZVwiLDAsMCxcIndlZWtkYXlcIikseihcIkVcIiwwLDAsXCJpc29XZWVrZGF5XCIpLEQoXCJkYXlcIixcImRcIiksRChcIndlZWtkYXlcIixcImVcIiksRChcImlzb1dlZWtkYXlcIixcIkVcIiksaihcImRcIixaaSksaihcImVcIixaaSksaihcIkVcIixaaSksaihcImRkXCIsb28pLGooXCJkZGRcIixvbyksaihcImRkZGRcIixvbyksRyhbXCJkZFwiLFwiZGRkXCIsXCJkZGRkXCJdLGZ1bmN0aW9uKHQsZSxpKXt2YXIgbz1pLl9sb2NhbGUud2Vla2RheXNQYXJzZSh0KTtudWxsIT1vP2UuZD1vOmwoaSkuaW52YWxpZFdlZWtkYXk9dH0pLEcoW1wiZFwiLFwiZVwiLFwiRVwiXSxmdW5jdGlvbih0LGUsaSxvKXtlW29dPWcodCl9KTt2YXIgSW89XCJTdW5kYXlfTW9uZGF5X1R1ZXNkYXlfV2VkbmVzZGF5X1RodXJzZGF5X0ZyaWRheV9TYXR1cmRheVwiLnNwbGl0KFwiX1wiKSxObz1cIlN1bl9Nb25fVHVlX1dlZF9UaHVfRnJpX1NhdFwiLnNwbGl0KFwiX1wiKSx6bz1cIlN1X01vX1R1X1dlX1RoX0ZyX1NhXCIuc3BsaXQoXCJfXCIpO3ooXCJIXCIsW1wiSEhcIiwyXSwwLFwiaG91clwiKSx6KFwiaFwiLFtcImhoXCIsMl0sMCxmdW5jdGlvbigpe3JldHVybiB0aGlzLmhvdXJzKCklMTJ8fDEyfSksVWUoXCJhXCIsITApLFVlKFwiQVwiLCExKSxEKFwiaG91clwiLFwiaFwiKSxqKFwiYVwiLFZlKSxqKFwiQVwiLFZlKSxqKFwiSFwiLFppKSxqKFwiaFwiLFppKSxqKFwiSEhcIixaaSxVaSksaihcImhoXCIsWmksVWkpLFkoW1wiSFwiLFwiSEhcIl0sbG8pLFkoW1wiYVwiLFwiQVwiXSxmdW5jdGlvbih0LGUsaSl7aS5faXNQbT1pLl9sb2NhbGUuaXNQTSh0KSxpLl9tZXJpZGllbT10fSksWShbXCJoXCIsXCJoaFwiXSxmdW5jdGlvbih0LGUsaSl7ZVtsb109Zyh0KSxsKGkpLmJpZ0hvdXI9ITB9KTt2YXIgTG89L1thcF1cXC4/bT9cXC4/L2ksQW89UyhcIkhvdXJzXCIsITApO3ooXCJtXCIsW1wibW1cIiwyXSwwLFwibWludXRlXCIpLEQoXCJtaW51dGVcIixcIm1cIiksaihcIm1cIixaaSksaihcIm1tXCIsWmksVWkpLFkoW1wibVwiLFwibW1cIl0sdW8pO3ZhciBCbz1TKFwiTWludXRlc1wiLCExKTt6KFwic1wiLFtcInNzXCIsMl0sMCxcInNlY29uZFwiKSxEKFwic2Vjb25kXCIsXCJzXCIpLGooXCJzXCIsWmkpLGooXCJzc1wiLFppLFVpKSxZKFtcInNcIixcInNzXCJdLGNvKTt2YXIgRm89UyhcIlNlY29uZHNcIiwhMSk7eihcIlNcIiwwLDAsZnVuY3Rpb24oKXtyZXR1cm5+fih0aGlzLm1pbGxpc2Vjb25kKCkvMTAwKX0pLHooMCxbXCJTU1wiLDJdLDAsZnVuY3Rpb24oKXtyZXR1cm5+fih0aGlzLm1pbGxpc2Vjb25kKCkvMTApfSkseigwLFtcIlNTU1wiLDNdLDAsXCJtaWxsaXNlY29uZFwiKSx6KDAsW1wiU1NTU1wiLDRdLDAsZnVuY3Rpb24oKXtyZXR1cm4gMTAqdGhpcy5taWxsaXNlY29uZCgpfSkseigwLFtcIlNTU1NTXCIsNV0sMCxmdW5jdGlvbigpe3JldHVybiAxMDAqdGhpcy5taWxsaXNlY29uZCgpfSkseigwLFtcIlNTU1NTU1wiLDZdLDAsZnVuY3Rpb24oKXtyZXR1cm4gMWUzKnRoaXMubWlsbGlzZWNvbmQoKX0pLHooMCxbXCJTU1NTU1NTXCIsN10sMCxmdW5jdGlvbigpe3JldHVybiAxZTQqdGhpcy5taWxsaXNlY29uZCgpfSkseigwLFtcIlNTU1NTU1NTXCIsOF0sMCxmdW5jdGlvbigpe3JldHVybiAxZTUqdGhpcy5taWxsaXNlY29uZCgpfSkseigwLFtcIlNTU1NTU1NTU1wiLDldLDAsZnVuY3Rpb24oKXtyZXR1cm4gMWU2KnRoaXMubWlsbGlzZWNvbmQoKX0pLEQoXCJtaWxsaXNlY29uZFwiLFwibXNcIiksaihcIlNcIixLaSxHaSksaihcIlNTXCIsS2ksVWkpLGooXCJTU1NcIixLaSxWaSk7dmFyIFJvO2ZvcihSbz1cIlNTU1NcIjtSby5sZW5ndGg8PTk7Um8rPVwiU1wiKWooUm8sJGkpO2ZvcihSbz1cIlNcIjtSby5sZW5ndGg8PTk7Um8rPVwiU1wiKVkoUm8sWmUpO3ZhciBqbz1TKFwiTWlsbGlzZWNvbmRzXCIsITEpO3ooXCJ6XCIsMCwwLFwiem9uZUFiYnJcIikseihcInp6XCIsMCwwLFwiem9uZU5hbWVcIik7dmFyIEhvPWYucHJvdG90eXBlO0hvLmFkZD1UbyxIby5jYWxlbmRhcj1vZSxIby5jbG9uZT1uZSxIby5kaWZmPWRlLEhvLmVuZE9mPV9lLEhvLmZvcm1hdD1wZSxIby5mcm9tPWZlLEhvLmZyb21Ob3c9bWUsSG8udG89dmUsSG8udG9Ob3c9Z2UsSG8uZ2V0PUksSG8uaW52YWxpZEF0PVNlLEhvLmlzQWZ0ZXI9c2UsSG8uaXNCZWZvcmU9cmUsSG8uaXNCZXR3ZWVuPWFlLEhvLmlzU2FtZT1oZSxIby5pc1ZhbGlkPUNlLEhvLmxhbmc9RW8sSG8ubG9jYWxlPXllLEhvLmxvY2FsZURhdGE9YmUsSG8ubWF4PU9vLEhvLm1pbj1rbyxIby5wYXJzaW5nRmxhZ3M9VGUsSG8uc2V0PUksSG8uc3RhcnRPZj13ZSxIby5zdWJ0cmFjdD1TbyxIby50b0FycmF5PU1lLEhvLnRvT2JqZWN0PURlLEhvLnRvRGF0ZT1PZSxIby50b0lTT1N0cmluZz1jZSxIby50b0pTT049Y2UsSG8udG9TdHJpbmc9dWUsSG8udW5peD1rZSxIby52YWx1ZU9mPXhlLEhvLnllYXI9X28sSG8uaXNMZWFwWWVhcj1kdCxIby53ZWVrWWVhcj1JZSxIby5pc29XZWVrWWVhcj1OZSxIby5xdWFydGVyPUhvLnF1YXJ0ZXJzPUFlLEhvLm1vbnRoPUosSG8uZGF5c0luTW9udGg9USxIby53ZWVrPUhvLndlZWtzPWZ0LEhvLmlzb1dlZWs9SG8uaXNvV2Vla3M9bXQsSG8ud2Vla3NJblllYXI9TGUsSG8uaXNvV2Vla3NJblllYXI9emUsSG8uZGF0ZT1QbyxIby5kYXk9SG8uZGF5cz1XZSxIby53ZWVrZGF5PVllLEhvLmlzb1dlZWtkYXk9R2UsSG8uZGF5T2ZZZWFyPWd0LEhvLmhvdXI9SG8uaG91cnM9QW8sSG8ubWludXRlPUhvLm1pbnV0ZXM9Qm8sSG8uc2Vjb25kPUhvLnNlY29uZHM9Rm8sSG8ubWlsbGlzZWNvbmQ9SG8ubWlsbGlzZWNvbmRzPWpvLEhvLnV0Y09mZnNldD1qdCxIby51dGM9V3QsSG8ubG9jYWw9WXQsSG8ucGFyc2Vab25lPUd0LEhvLmhhc0FsaWduZWRIb3VyT2Zmc2V0PVV0LEhvLmlzRFNUPVZ0LEhvLmlzRFNUU2hpZnRlZD1xdCxIby5pc0xvY2FsPVh0LEhvLmlzVXRjT2Zmc2V0PVp0LEhvLmlzVXRjPUt0LEhvLmlzVVRDPUt0LEhvLnpvbmVBYmJyPUtlLEhvLnpvbmVOYW1lPUplLEhvLmRhdGVzPWV0KFwiZGF0ZXMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIGRhdGUgaW5zdGVhZC5cIixQbyksSG8ubW9udGhzPWV0KFwibW9udGhzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb250aCBpbnN0ZWFkXCIsSiksSG8ueWVhcnM9ZXQoXCJ5ZWFycyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgeWVhciBpbnN0ZWFkXCIsX28pLEhvLnpvbmU9ZXQoXCJtb21lbnQoKS56b25lIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQoKS51dGNPZmZzZXQgaW5zdGVhZC4gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzE3NzlcIixIdCk7dmFyIFdvPUhvLFlvPXtzYW1lRGF5OlwiW1RvZGF5IGF0XSBMVFwiLG5leHREYXk6XCJbVG9tb3Jyb3cgYXRdIExUXCIsbmV4dFdlZWs6XCJkZGRkIFthdF0gTFRcIixsYXN0RGF5OlwiW1llc3RlcmRheSBhdF0gTFRcIixsYXN0V2VlazpcIltMYXN0XSBkZGRkIFthdF0gTFRcIixzYW1lRWxzZTpcIkxcIn0sR289e0xUUzpcImg6bW06c3MgQVwiLExUOlwiaDptbSBBXCIsTDpcIk1NL0REL1lZWVlcIixMTDpcIk1NTU0gRCwgWVlZWVwiLExMTDpcIk1NTU0gRCwgWVlZWSBoOm1tIEFcIixMTExMOlwiZGRkZCwgTU1NTSBELCBZWVlZIGg6bW0gQVwifSxVbz1cIkludmFsaWQgZGF0ZVwiLFZvPVwiJWRcIixxbz0vXFxkezEsMn0vLFhvPXtmdXR1cmU6XCJpbiAlc1wiLHBhc3Q6XCIlcyBhZ29cIixzOlwiYSBmZXcgc2Vjb25kc1wiLG06XCJhIG1pbnV0ZVwiLG1tOlwiJWQgbWludXRlc1wiLGg6XCJhbiBob3VyXCIsaGg6XCIlZCBob3Vyc1wiLGQ6XCJhIGRheVwiLGRkOlwiJWQgZGF5c1wiLE06XCJhIG1vbnRoXCIsTU06XCIlZCBtb250aHNcIix5OlwiYSB5ZWFyXCIseXk6XCIlZCB5ZWFyc1wifSxabz1iLnByb3RvdHlwZTtaby5fY2FsZW5kYXI9WW8sWm8uY2FsZW5kYXI9dGksWm8uX2xvbmdEYXRlRm9ybWF0PUdvLFpvLmxvbmdEYXRlRm9ybWF0PWVpLFpvLl9pbnZhbGlkRGF0ZT1Vbyxaby5pbnZhbGlkRGF0ZT1paSxaby5fb3JkaW5hbD1Wbyxaby5vcmRpbmFsPW9pLFpvLl9vcmRpbmFsUGFyc2U9cW8sWm8ucHJlcGFyc2U9bmksWm8ucG9zdGZvcm1hdD1uaSxaby5fcmVsYXRpdmVUaW1lPVhvLFpvLnJlbGF0aXZlVGltZT1zaSxaby5wYXN0RnV0dXJlPXJpLFpvLnNldD1haSxaby5tb250aHM9cSxaby5fbW9udGhzPWZvLFpvLm1vbnRoc1Nob3J0PVgsWm8uX21vbnRoc1Nob3J0PW1vLFpvLm1vbnRoc1BhcnNlPVosWm8ud2Vlaz11dCxaby5fd2Vlaz14byxaby5maXJzdERheU9mWWVhcj1wdCxaby5maXJzdERheU9mV2Vlaz1jdCxaby53ZWVrZGF5cz1GZSxaby5fd2Vla2RheXM9SW8sWm8ud2Vla2RheXNNaW49amUsWm8uX3dlZWtkYXlzTWluPXpvLFpvLndlZWtkYXlzU2hvcnQ9UmUsWm8uX3dlZWtkYXlzU2hvcnQ9Tm8sWm8ud2Vla2RheXNQYXJzZT1IZSxaby5pc1BNPXFlLFpvLl9tZXJpZGllbVBhcnNlPUxvLFpvLm1lcmlkaWVtPVhlLGsoXCJlblwiLHtvcmRpbmFsUGFyc2U6L1xcZHsxLDJ9KHRofHN0fG5kfHJkKS8sb3JkaW5hbDpmdW5jdGlvbih0KXt2YXIgZT10JTEwLGk9MT09PWcodCUxMDAvMTApP1widGhcIjoxPT09ZT9cInN0XCI6Mj09PWU/XCJuZFwiOjM9PT1lP1wicmRcIjpcInRoXCI7cmV0dXJuIHQraX19KSxlLmxhbmc9ZXQoXCJtb21lbnQubGFuZyBpcyBkZXByZWNhdGVkLiBVc2UgbW9tZW50LmxvY2FsZSBpbnN0ZWFkLlwiLGspLGUubGFuZ0RhdGE9ZXQoXCJtb21lbnQubGFuZ0RhdGEgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGVEYXRhIGluc3RlYWQuXCIsTSk7dmFyIEtvPU1hdGguYWJzLEpvPU1pKFwibXNcIiksUW89TWkoXCJzXCIpLCRvPU1pKFwibVwiKSx0bj1NaShcImhcIiksZW49TWkoXCJkXCIpLG9uPU1pKFwid1wiKSxubj1NaShcIk1cIiksc249TWkoXCJ5XCIpLHJuPUNpKFwibWlsbGlzZWNvbmRzXCIpLGFuPUNpKFwic2Vjb25kc1wiKSxobj1DaShcIm1pbnV0ZXNcIiksZG49Q2koXCJob3Vyc1wiKSxsbj1DaShcImRheXNcIiksdW49Q2koXCJtb250aHNcIiksY249Q2koXCJ5ZWFyc1wiKSxwbj1NYXRoLnJvdW5kLGZuPXtzOjQ1LG06NDUsaDoyMixkOjI2LE06MTF9LG1uPU1hdGguYWJzLHZuPXp0LnByb3RvdHlwZTt2bi5hYnM9bWksdm4uYWRkPWdpLHZuLnN1YnRyYWN0PXlpLHZuLmFzPWtpLHZuLmFzTWlsbGlzZWNvbmRzPUpvLHZuLmFzU2Vjb25kcz1Rbyx2bi5hc01pbnV0ZXM9JG8sdm4uYXNIb3Vycz10bix2bi5hc0RheXM9ZW4sdm4uYXNXZWVrcz1vbix2bi5hc01vbnRocz1ubix2bi5hc1llYXJzPXNuLHZuLnZhbHVlT2Y9T2ksdm4uX2J1YmJsZT13aSx2bi5nZXQ9RGksdm4ubWlsbGlzZWNvbmRzPXJuLHZuLnNlY29uZHM9YW4sdm4ubWludXRlcz1obix2bi5ob3Vycz1kbix2bi5kYXlzPWxuLHZuLndlZWtzPVRpLHZuLm1vbnRocz11bix2bi55ZWFycz1jbix2bi5odW1hbml6ZT1JaSx2bi50b0lTT1N0cmluZz1OaSx2bi50b1N0cmluZz1OaSx2bi50b0pTT049Tmksdm4ubG9jYWxlPXllLHZuLmxvY2FsZURhdGE9YmUsdm4udG9Jc29TdHJpbmc9ZXQoXCJ0b0lzb1N0cmluZygpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgdG9JU09TdHJpbmcoKSBpbnN0ZWFkIChub3RpY2UgdGhlIGNhcGl0YWxzKVwiLE5pKSx2bi5sYW5nPUVvLHooXCJYXCIsMCwwLFwidW5peFwiKSx6KFwieFwiLDAsMCxcInZhbHVlT2ZcIiksaihcInhcIix0byksaihcIlhcIixpbyksWShcIlhcIixmdW5jdGlvbih0LGUsaSl7aS5fZD1uZXcgRGF0ZSgxZTMqcGFyc2VGbG9hdCh0LDEwKSl9KSxZKFwieFwiLGZ1bmN0aW9uKHQsZSxpKXtpLl9kPW5ldyBEYXRlKGcodCkpfSksZS52ZXJzaW9uPVwiMi4xMC42XCIsaShFdCksZS5mbj1XbyxlLm1pbj1JdCxlLm1heD1OdCxlLnV0Yz1oLGUudW5peD1RZSxlLm1vbnRocz1saSxlLmlzRGF0ZT1uLGUubG9jYWxlPWssZS5pbnZhbGlkPWMsZS5kdXJhdGlvbj1KdCxlLmlzTW9tZW50PW0sZS53ZWVrZGF5cz1jaSxlLnBhcnNlWm9uZT0kZSxlLmxvY2FsZURhdGE9TSxlLmlzRHVyYXRpb249THQsZS5tb250aHNTaG9ydD11aSxlLndlZWtkYXlzTWluPWZpLGUuZGVmaW5lTG9jYWxlPU8sZS53ZWVrZGF5c1Nob3J0PXBpLGUubm9ybWFsaXplVW5pdHM9QyxlLnJlbGF0aXZlVGltZVRocmVzaG9sZD1QaTt2YXIgZ249ZTtyZXR1cm4gZ259KX0pLmNhbGwoZSxpKDQpKHQpKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQud2VicGFja1BvbHlmaWxsfHwodC5kZXByZWNhdGU9ZnVuY3Rpb24oKXt9LHQucGF0aHM9W10sdC5jaGlsZHJlbj1bXSx0LndlYnBhY2tQb2x5ZmlsbD0xKSx0fX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQpe3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrdCtcIicuXCIpfWkua2V5cz1mdW5jdGlvbigpe3JldHVybltdfSxpLnJlc29sdmU9aSx0LmV4cG9ydHM9aSxpLmlkPTV9LGZ1bmN0aW9uKHQsZSl7KGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGkodCxlLGkpe3ZhciBvPWUmJml8fDAsbj0wO2ZvcihlPWV8fFtdLHQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bMC05YS1mXXsyfS9nLGZ1bmN0aW9uKHQpezE2Pm4mJihlW28rbisrXT11W3RdKX0pOzE2Pm47KWVbbytuKytdPTA7cmV0dXJuIGV9ZnVuY3Rpb24gbyh0LGUpe3ZhciBpPWV8fDAsbz1sO3JldHVybiBvW3RbaSsrXV0rb1t0W2krK11dK29bdFtpKytdXStvW3RbaSsrXV0rXCItXCIrb1t0W2krK11dK29bdFtpKytdXStcIi1cIitvW3RbaSsrXV0rb1t0W2krK11dK1wiLVwiK29bdFtpKytdXStvW3RbaSsrXV0rXCItXCIrb1t0W2krK11dK29bdFtpKytdXStvW3RbaSsrXV0rb1t0W2krK11dK29bdFtpKytdXStvW3RbaSsrXV19ZnVuY3Rpb24gbih0LGUsaSl7dmFyIG49ZSYmaXx8MCxzPWV8fFtdO3Q9dHx8e307dmFyIHI9dm9pZCAwIT09dC5jbG9ja3NlcT90LmNsb2Nrc2VxOm0sYT12b2lkIDAhPT10Lm1zZWNzP3QubXNlY3M6KG5ldyBEYXRlKS5nZXRUaW1lKCksaD12b2lkIDAhPT10Lm5zZWNzP3QubnNlY3M6ZysxLGQ9YS12KyhoLWcpLzFlNDtpZigwPmQmJnZvaWQgMD09PXQuY2xvY2tzZXEmJihyPXIrMSYxNjM4MyksKDA+ZHx8YT52KSYmdm9pZCAwPT09dC5uc2VjcyYmKGg9MCksaD49MWU0KXRocm93IG5ldyBFcnJvcihcInV1aWQudjEoKTogQ2FuJ3QgY3JlYXRlIG1vcmUgdGhhbiAxME0gdXVpZHMvc2VjXCIpO3Y9YSxnPWgsbT1yLGErPTEyMjE5MjkyOGU1O3ZhciBsPSgxZTQqKDI2ODQzNTQ1NSZhKStoKSU0Mjk0OTY3Mjk2O3NbbisrXT1sPj4+MjQmMjU1LHNbbisrXT1sPj4+MTYmMjU1LHNbbisrXT1sPj4+OCYyNTUsc1tuKytdPTI1NSZsO3ZhciB1PWEvNDI5NDk2NzI5NioxZTQmMjY4NDM1NDU1O3NbbisrXT11Pj4+OCYyNTUsc1tuKytdPTI1NSZ1LHNbbisrXT11Pj4+MjQmMTV8MTYsc1tuKytdPXU+Pj4xNiYyNTUsc1tuKytdPXI+Pj44fDEyOCxzW24rK109MjU1JnI7Zm9yKHZhciBjPXQubm9kZXx8ZixwPTA7Nj5wO3ArKylzW24rcF09Y1twXTtyZXR1cm4gZT9lOm8ocyl9ZnVuY3Rpb24gcyh0LGUsaSl7dmFyIG49ZSYmaXx8MDtcInN0cmluZ1wiPT10eXBlb2YgdCYmKGU9XCJiaW5hcnlcIj09dD9uZXcgQXJyYXkoMTYpOm51bGwsdD1udWxsKSx0PXR8fHt9O3ZhciBzPXQucmFuZG9tfHwodC5ybmd8fHIpKCk7aWYoc1s2XT0xNSZzWzZdfDY0LHNbOF09NjMmc1s4XXwxMjgsZSlmb3IodmFyIGE9MDsxNj5hO2ErKyllW24rYV09c1thXTtyZXR1cm4gZXx8byhzKX12YXIgcixhPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBlP2U6bnVsbDtpZihhJiZhLmNyeXB0byYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcyl7dmFyIGg9bmV3IFVpbnQ4QXJyYXkoMTYpO3I9ZnVuY3Rpb24oKXtyZXR1cm4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhoKSxofX1pZighcil7dmFyIGQ9bmV3IEFycmF5KDE2KTtyPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LGU9MDsxNj5lO2UrKykwPT09KDMmZSkmJih0PTQyOTQ5NjcyOTYqTWF0aC5yYW5kb20oKSksZFtlXT10Pj4+KCgzJmUpPDwzKSYyNTU7cmV0dXJuIGR9fWZvcih2YXIgbD1bXSx1PXt9LGM9MDsyNTY+YztjKyspbFtjXT0oYysyNTYpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSksdVtsW2NdXT1jO3ZhciBwPXIoKSxmPVsxfHBbMF0scFsxXSxwWzJdLHBbM10scFs0XSxwWzVdXSxtPTE2MzgzJihwWzZdPDw4fHBbN10pLHY9MCxnPTAseT1zO3kudjE9bix5LnY0PXMseS5wYXJzZT1pLHkudW5wYXJzZT1vLHQuZXhwb3J0cz15fSkuY2FsbChlLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbih0LGUpe2UucHJlcGFyZUVsZW1lbnRzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0KXQuaGFzT3duUHJvcGVydHkoZSkmJih0W2VdLnJlZHVuZGFudD10W2VdLnVzZWQsdFtlXS51c2VkPVtdKX0sZS5jbGVhbnVwRWxlbWVudHM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShlKSYmdFtlXS5yZWR1bmRhbnQpe2Zvcih2YXIgaT0wO2k8dFtlXS5yZWR1bmRhbnQubGVuZ3RoO2krKyl0W2VdLnJlZHVuZGFudFtpXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRbZV0ucmVkdW5kYW50W2ldKTt0W2VdLnJlZHVuZGFudD1bXX19LGUucmVzZXRFbGVtZW50cz1mdW5jdGlvbih0KXtlLnByZXBhcmVFbGVtZW50cyh0KSxlLmNsZWFudXBFbGVtZW50cyh0KSxlLnByZXBhcmVFbGVtZW50cyh0KX0sZS5nZXRTVkdFbGVtZW50PWZ1bmN0aW9uKHQsZSxpKXt2YXIgbztyZXR1cm4gZS5oYXNPd25Qcm9wZXJ0eSh0KT9lW3RdLnJlZHVuZGFudC5sZW5ndGg+MD8obz1lW3RdLnJlZHVuZGFudFswXSxlW3RdLnJlZHVuZGFudC5zaGlmdCgpKToobz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLHQpLGkuYXBwZW5kQ2hpbGQobykpOihvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsdCksZVt0XT17dXNlZDpbXSxyZWR1bmRhbnQ6W119LGkuYXBwZW5kQ2hpbGQobykpLGVbdF0udXNlZC5wdXNoKG8pLG99LGUuZ2V0RE9NRWxlbWVudD1mdW5jdGlvbih0LGUsaSxvKXt2YXIgbjtyZXR1cm4gZS5oYXNPd25Qcm9wZXJ0eSh0KT9lW3RdLnJlZHVuZGFudC5sZW5ndGg+MD8obj1lW3RdLnJlZHVuZGFudFswXSxlW3RdLnJlZHVuZGFudC5zaGlmdCgpKToobj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KHQpLHZvaWQgMCE9PW8/aS5pbnNlcnRCZWZvcmUobixvKTppLmFwcGVuZENoaWxkKG4pKToobj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KHQpLGVbdF09e3VzZWQ6W10scmVkdW5kYW50OltdfSx2b2lkIDAhPT1vP2kuaW5zZXJ0QmVmb3JlKG4sbyk6aS5hcHBlbmRDaGlsZChuKSksZVt0XS51c2VkLnB1c2gobiksbn0sZS5kcmF3UG9pbnQ9ZnVuY3Rpb24odCxpLG8sbixzLHIpe3ZhciBhO2lmKFwiY2lyY2xlXCI9PW8uc3R5bGU/KGE9ZS5nZXRTVkdFbGVtZW50KFwiY2lyY2xlXCIsbixzKSxhLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJjeFwiLHQpLGEuc2V0QXR0cmlidXRlTlMobnVsbCxcImN5XCIsaSksYS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiclwiLC41Km8uc2l6ZSkpOihhPWUuZ2V0U1ZHRWxlbWVudChcInJlY3RcIixuLHMpLGEuc2V0QXR0cmlidXRlTlMobnVsbCxcInhcIix0LS41Km8uc2l6ZSksYS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieVwiLGktLjUqby5zaXplKSxhLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ3aWR0aFwiLG8uc2l6ZSksYS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiaGVpZ2h0XCIsby5zaXplKSksdm9pZCAwIT09by5zdHlsZXMmJmEuc2V0QXR0cmlidXRlTlMobnVsbCxcInN0eWxlXCIsby5zdHlsZXMpLGEuc2V0QXR0cmlidXRlTlMobnVsbCxcImNsYXNzXCIsby5jbGFzc05hbWUrXCIgdmlzLXBvaW50XCIpLHIpe3ZhciBoPWUuZ2V0U1ZHRWxlbWVudChcInRleHRcIixuLHMpO3IueE9mZnNldCYmKHQrPXIueE9mZnNldCksci55T2Zmc2V0JiYoaSs9ci55T2Zmc2V0KSxyLmNvbnRlbnQmJihoLnRleHRDb250ZW50PXIuY29udGVudCksci5jbGFzc05hbWUmJmguc2V0QXR0cmlidXRlTlMobnVsbCxcImNsYXNzXCIsci5jbGFzc05hbWUrXCIgdmlzLWxhYmVsXCIpLGguc2V0QXR0cmlidXRlTlMobnVsbCxcInhcIix0KSxoLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ5XCIsaSl9cmV0dXJuIGF9LGUuZHJhd0Jhcj1mdW5jdGlvbih0LGksbyxuLHMscixhLGgpe2lmKDAhPW4pezA+biYmKG4qPS0xLGktPW4pO3ZhciBkPWUuZ2V0U1ZHRWxlbWVudChcInJlY3RcIixyLGEpO2Quc2V0QXR0cmlidXRlTlMobnVsbCxcInhcIix0LS41Km8pLGQuc2V0QXR0cmlidXRlTlMobnVsbCxcInlcIixpKSxkLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ3aWR0aFwiLG8pLGQuc2V0QXR0cmlidXRlTlMobnVsbCxcImhlaWdodFwiLG4pLGQuc2V0QXR0cmlidXRlTlMobnVsbCxcImNsYXNzXCIscyksaCYmZC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3R5bGVcIixoKX19fSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbyh0LGUpe2lmKHQmJiFBcnJheS5pc0FycmF5KHQpJiYoZT10LHQ9bnVsbCksdGhpcy5fb3B0aW9ucz1lfHx7fSx0aGlzLl9kYXRhPXt9LHRoaXMubGVuZ3RoPTAsdGhpcy5fZmllbGRJZD10aGlzLl9vcHRpb25zLmZpZWxkSWR8fFwiaWRcIix0aGlzLl90eXBlPXt9LHRoaXMuX29wdGlvbnMudHlwZSlmb3IodmFyIGk9T2JqZWN0LmtleXModGhpcy5fb3B0aW9ucy50eXBlKSxvPTAsbj1pLmxlbmd0aDtuPm87bysrKXt2YXIgcz1pW29dLHI9dGhpcy5fb3B0aW9ucy50eXBlW3NdO1wiRGF0ZVwiPT1yfHxcIklTT0RhdGVcIj09cnx8XCJBU1BEYXRlXCI9PXI/dGhpcy5fdHlwZVtzXT1cIkRhdGVcIjp0aGlzLl90eXBlW3NdPXJ9aWYodGhpcy5fb3B0aW9ucy5jb252ZXJ0KXRocm93IG5ldyBFcnJvcignT3B0aW9uIFwiY29udmVydFwiIGlzIGRlcHJlY2F0ZWQuIFVzZSBcInR5cGVcIiBpbnN0ZWFkLicpO3RoaXMuX3N1YnNjcmliZXJzPXt9LHQmJnRoaXMuYWRkKHQpLHRoaXMuc2V0T3B0aW9ucyhlKX12YXIgbj1pKDEpLHM9aSg5KTtvLnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKHQpe3QmJnZvaWQgMCE9PXQucXVldWUmJih0LnF1ZXVlPT09ITE/dGhpcy5fcXVldWUmJih0aGlzLl9xdWV1ZS5kZXN0cm95KCksZGVsZXRlIHRoaXMuX3F1ZXVlKToodGhpcy5fcXVldWV8fCh0aGlzLl9xdWV1ZT1zLmV4dGVuZCh0aGlzLHtyZXBsYWNlOltcImFkZFwiLFwidXBkYXRlXCIsXCJyZW1vdmVcIl19KSksXCJvYmplY3RcIj09dHlwZW9mIHQucXVldWUmJnRoaXMuX3F1ZXVlLnNldE9wdGlvbnModC5xdWV1ZSkpKX0sby5wcm90b3R5cGUub249ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9zdWJzY3JpYmVyc1t0XTtpfHwoaT1bXSx0aGlzLl9zdWJzY3JpYmVyc1t0XT1pKSxpLnB1c2goe2NhbGxiYWNrOmV9KX0sby5wcm90b3R5cGUuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiRGF0YVNldC5zdWJzY3JpYmUgaXMgZGVwcmVjYXRlZC4gVXNlIERhdGFTZXQub24gaW5zdGVhZC5cIil9LG8ucHJvdG90eXBlLm9mZj1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX3N1YnNjcmliZXJzW3RdO2kmJih0aGlzLl9zdWJzY3JpYmVyc1t0XT1pLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5jYWxsYmFjayE9ZX0pKX0sby5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJEYXRhU2V0LnVuc3Vic2NyaWJlIGlzIGRlcHJlY2F0ZWQuIFVzZSBEYXRhU2V0Lm9mZiBpbnN0ZWFkLlwiKX0sby5wcm90b3R5cGUuX3RyaWdnZXI9ZnVuY3Rpb24odCxlLGkpe2lmKFwiKlwiPT10KXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB0cmlnZ2VyIGV2ZW50ICpcIik7dmFyIG89W107dCBpbiB0aGlzLl9zdWJzY3JpYmVycyYmKG89by5jb25jYXQodGhpcy5fc3Vic2NyaWJlcnNbdF0pKSxcIipcImluIHRoaXMuX3N1YnNjcmliZXJzJiYobz1vLmNvbmNhdCh0aGlzLl9zdWJzY3JpYmVyc1tcIipcIl0pKTtmb3IodmFyIG49MCxzPW8ubGVuZ3RoO3M+bjtuKyspe3ZhciByPW9bbl07ci5jYWxsYmFjayYmci5jYWxsYmFjayh0LGUsaXx8bnVsbCl9fSxvLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlKXt2YXIgaSxvPVtdLG49dGhpcztpZihBcnJheS5pc0FycmF5KHQpKWZvcih2YXIgcz0wLHI9dC5sZW5ndGg7cj5zO3MrKylpPW4uX2FkZEl0ZW0odFtzXSksby5wdXNoKGkpO2Vsc2V7aWYoISh0IGluc3RhbmNlb2YgT2JqZWN0KSl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGRhdGFUeXBlXCIpO2k9bi5fYWRkSXRlbSh0KSxvLnB1c2goaSl9cmV0dXJuIG8ubGVuZ3RoJiZ0aGlzLl90cmlnZ2VyKFwiYWRkXCIse2l0ZW1zOm99LGUpLG99LG8ucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe3ZhciBpPVtdLG89W10scz1bXSxyPVtdLGE9dGhpcyxoPWEuX2ZpZWxkSWQsZD1mdW5jdGlvbih0KXt2YXIgZT10W2hdO2lmKGEuX2RhdGFbZV0pe3ZhciBkPW4uZXh0ZW5kKHt9LGEuX2RhdGFbZV0pO2U9YS5fdXBkYXRlSXRlbSh0KSxvLnB1c2goZSksci5wdXNoKHQpLHMucHVzaChkKX1lbHNlIGU9YS5fYWRkSXRlbSh0KSxpLnB1c2goZSl9O2lmKEFycmF5LmlzQXJyYXkodCkpZm9yKHZhciBsPTAsdT10Lmxlbmd0aDt1Pmw7bCsrKXRbbF1pbnN0YW5jZW9mIE9iamVjdD9kKHRbbF0pOmNvbnNvbGUud2FybihcIklnbm9yaW5nIGlucHV0IGl0ZW0sIHdoaWNoIGlzIG5vdCBhbiBvYmplY3QgYXQgaW5kZXhcIitsKTtlbHNle2lmKCEodCBpbnN0YW5jZW9mIE9iamVjdCkpdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBkYXRhVHlwZVwiKTtkKHQpfWlmKGkubGVuZ3RoJiZ0aGlzLl90cmlnZ2VyKFwiYWRkXCIse2l0ZW1zOml9LGUpLG8ubGVuZ3RoKXt2YXIgYz17aXRlbXM6byxvbGREYXRhOnMsZGF0YTpyfTt0aGlzLl90cmlnZ2VyKFwidXBkYXRlXCIsYyxlKX1yZXR1cm4gaS5jb25jYXQobyl9LG8ucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXt2YXIgZSxpLG8scz10aGlzLHI9bi5nZXRUeXBlKGFyZ3VtZW50c1swXSk7XCJTdHJpbmdcIj09cnx8XCJOdW1iZXJcIj09cj8oZT1hcmd1bWVudHNbMF0sbz1hcmd1bWVudHNbMV0pOlwiQXJyYXlcIj09cj8oaT1hcmd1bWVudHNbMF0sbz1hcmd1bWVudHNbMV0pOm89YXJndW1lbnRzWzBdO3ZhciBhO2lmKG8mJm8ucmV0dXJuVHlwZSl7dmFyIGg9W1wiQXJyYXlcIixcIk9iamVjdFwiXTthPS0xPT1oLmluZGV4T2Yoby5yZXR1cm5UeXBlKT9cIkFycmF5XCI6by5yZXR1cm5UeXBlfWVsc2UgYT1cIkFycmF5XCI7dmFyIGQsbCx1LGMscCxmPW8mJm8udHlwZXx8dGhpcy5fb3B0aW9ucy50eXBlLG09byYmby5maWx0ZXIsdj1bXTtpZih2b2lkIDAhPWUpZD1zLl9nZXRJdGVtKGUsZiksZCYmbSYmIW0oZCkmJihkPW51bGwpO2Vsc2UgaWYodm9pZCAwIT1pKWZvcihjPTAscD1pLmxlbmd0aDtwPmM7YysrKWQ9cy5fZ2V0SXRlbShpW2NdLGYpLCghbXx8bShkKSkmJnYucHVzaChkKTtlbHNlIGZvcihsPU9iamVjdC5rZXlzKHRoaXMuX2RhdGEpLGM9MCxwPWwubGVuZ3RoO3A+YztjKyspdT1sW2NdLGQ9cy5fZ2V0SXRlbSh1LGYpLCghbXx8bShkKSkmJnYucHVzaChkKTtpZihvJiZvLm9yZGVyJiZ2b2lkIDA9PWUmJnRoaXMuX3NvcnQodixvLm9yZGVyKSxvJiZvLmZpZWxkcyl7dmFyIGc9by5maWVsZHM7aWYodm9pZCAwIT1lKWQ9dGhpcy5fZmlsdGVyRmllbGRzKGQsZyk7ZWxzZSBmb3IoYz0wLHA9di5sZW5ndGg7cD5jO2MrKyl2W2NdPXRoaXMuX2ZpbHRlckZpZWxkcyh2W2NdLGcpfWlmKFwiT2JqZWN0XCI9PWEpe3ZhciB5LGI9e307Zm9yKGM9MCxwPXYubGVuZ3RoO3A+YztjKyspeT12W2NdLGJbeS5pZF09eTtyZXR1cm4gYn1yZXR1cm4gdm9pZCAwIT1lP2Q6dn0sby5wcm90b3R5cGUuZ2V0SWRzPWZ1bmN0aW9uKHQpe3ZhciBlLGksbyxuLHMscj10aGlzLl9kYXRhLGE9dCYmdC5maWx0ZXIsaD10JiZ0Lm9yZGVyLGQ9dCYmdC50eXBlfHx0aGlzLl9vcHRpb25zLnR5cGUsbD1PYmplY3Qua2V5cyhyKSx1PVtdO2lmKGEpaWYoaCl7Zm9yKHM9W10sZT0wLGk9bC5sZW5ndGg7aT5lO2UrKylvPWxbZV0sbj10aGlzLl9nZXRJdGVtKG8sZCksYShuKSYmcy5wdXNoKG4pO2Zvcih0aGlzLl9zb3J0KHMsaCksZT0wLGk9cy5sZW5ndGg7aT5lO2UrKyl1LnB1c2goc1tlXVt0aGlzLl9maWVsZElkXSl9ZWxzZSBmb3IoZT0wLGk9bC5sZW5ndGg7aT5lO2UrKylvPWxbZV0sbj10aGlzLl9nZXRJdGVtKG8sZCksYShuKSYmdS5wdXNoKG5bdGhpcy5fZmllbGRJZF0pO2Vsc2UgaWYoaCl7Zm9yKHM9W10sZT0wLGk9bC5sZW5ndGg7aT5lO2UrKylvPWxbZV0scy5wdXNoKHJbb10pO2Zvcih0aGlzLl9zb3J0KHMsaCksZT0wLGk9cy5sZW5ndGg7aT5lO2UrKyl1LnB1c2goc1tlXVt0aGlzLl9maWVsZElkXSl9ZWxzZSBmb3IoZT0wLGk9bC5sZW5ndGg7aT5lO2UrKylvPWxbZV0sbj1yW29dLHUucHVzaChuW3RoaXMuX2ZpZWxkSWRdKTtyZXR1cm4gdX0sby5wcm90b3R5cGUuZ2V0RGF0YVNldD1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxvLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKHQsZSl7dmFyIGksbyxuLHMscj1lJiZlLmZpbHRlcixhPWUmJmUudHlwZXx8dGhpcy5fb3B0aW9ucy50eXBlLGg9dGhpcy5fZGF0YSxkPU9iamVjdC5rZXlzKGgpO2lmKGUmJmUub3JkZXIpe3ZhciBsPXRoaXMuZ2V0KGUpO2ZvcihpPTAsbz1sLmxlbmd0aDtvPmk7aSsrKW49bFtpXSxzPW5bdGhpcy5fZmllbGRJZF0sdChuLHMpfWVsc2UgZm9yKGk9MCxvPWQubGVuZ3RoO28+aTtpKyspcz1kW2ldLG49dGhpcy5fZ2V0SXRlbShzLGEpLCghcnx8cihuKSkmJnQobixzKX0sby5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSl7dmFyIGksbyxuLHMscj1lJiZlLmZpbHRlcixhPWUmJmUudHlwZXx8dGhpcy5fb3B0aW9ucy50eXBlLGg9W10sZD10aGlzLl9kYXRhLGw9T2JqZWN0LmtleXMoZCk7Zm9yKGk9MCxvPWwubGVuZ3RoO28+aTtpKyspbj1sW2ldLHM9dGhpcy5fZ2V0SXRlbShuLGEpLCghcnx8cihzKSkmJmgucHVzaCh0KHMsbikpO3JldHVybiBlJiZlLm9yZGVyJiZ0aGlzLl9zb3J0KGgsZS5vcmRlciksaH0sby5wcm90b3R5cGUuX2ZpbHRlckZpZWxkcz1mdW5jdGlvbih0LGUpe2lmKCF0KXJldHVybiB0O3ZhciBpLG8sbj17fSxzPU9iamVjdC5rZXlzKHQpLHI9cy5sZW5ndGg7aWYoQXJyYXkuaXNBcnJheShlKSlmb3IoaT0wO3I+aTtpKyspbz1zW2ldLC0xIT1lLmluZGV4T2YobykmJihuW29dPXRbb10pO2Vsc2UgZm9yKGk9MDtyPmk7aSsrKW89c1tpXSxlLmhhc093blByb3BlcnR5KG8pJiYobltlW29dXT10W29dKTtyZXR1cm4gbn0sby5wcm90b3R5cGUuX3NvcnQ9ZnVuY3Rpb24odCxlKXtpZihuLmlzU3RyaW5nKGUpKXt2YXIgaT1lO3Quc29ydChmdW5jdGlvbih0LGUpe3ZhciBvPXRbaV0sbj1lW2ldO3JldHVybiBvPm4/MTpuPm8/LTE6MH0pfWVsc2V7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiT3JkZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIG9yIGEgc3RyaW5nXCIpO3Quc29ydChlKX19LG8ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3ZhciBpLG8sbixzPVtdO2lmKEFycmF5LmlzQXJyYXkodCkpZm9yKGk9MCxvPXQubGVuZ3RoO28+aTtpKyspbj10aGlzLl9yZW1vdmUodFtpXSksbnVsbCE9biYmcy5wdXNoKG4pO2Vsc2Ugbj10aGlzLl9yZW1vdmUodCksbnVsbCE9biYmcy5wdXNoKG4pO3JldHVybiBzLmxlbmd0aCYmdGhpcy5fdHJpZ2dlcihcInJlbW92ZVwiLHtpdGVtczpzfSxlKSxzfSxvLnByb3RvdHlwZS5fcmVtb3ZlPWZ1bmN0aW9uKHQpe2lmKG4uaXNOdW1iZXIodCl8fG4uaXNTdHJpbmcodCkpe2lmKHRoaXMuX2RhdGFbdF0pcmV0dXJuIGRlbGV0ZSB0aGlzLl9kYXRhW3RdLHRoaXMubGVuZ3RoLS0sdH1lbHNlIGlmKHQgaW5zdGFuY2VvZiBPYmplY3Qpe3ZhciBlPXRbdGhpcy5fZmllbGRJZF07aWYodm9pZCAwIT09ZSYmdGhpcy5fZGF0YVtlXSlyZXR1cm4gZGVsZXRlIHRoaXMuX2RhdGFbZV0sdGhpcy5sZW5ndGgtLSxlfXJldHVybiBudWxsfSxvLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbih0KXt2YXIgZT1PYmplY3Qua2V5cyh0aGlzLl9kYXRhKTtyZXR1cm4gdGhpcy5fZGF0YT17fSx0aGlzLmxlbmd0aD0wLHRoaXMuX3RyaWdnZXIoXCJyZW1vdmVcIix7aXRlbXM6ZX0sdCksZX0sby5wcm90b3R5cGUubWF4PWZ1bmN0aW9uKHQpe3ZhciBlLGksbz10aGlzLl9kYXRhLG49T2JqZWN0LmtleXMobykscz1udWxsLHI9bnVsbDtmb3IoZT0wLGk9bi5sZW5ndGg7aT5lO2UrKyl7dmFyIGE9bltlXSxoPW9bYV0sZD1oW3RdO251bGwhPWQmJighc3x8ZD5yKSYmKHM9aCxyPWQpfXJldHVybiBzfSxvLnByb3RvdHlwZS5taW49ZnVuY3Rpb24odCl7dmFyIGUsaSxvPXRoaXMuX2RhdGEsbj1PYmplY3Qua2V5cyhvKSxzPW51bGwscj1udWxsO2ZvcihlPTAsaT1uLmxlbmd0aDtpPmU7ZSsrKXt2YXIgYT1uW2VdLGg9b1thXSxkPWhbdF07bnVsbCE9ZCYmKCFzfHxyPmQpJiYocz1oLHI9ZCl9cmV0dXJuIHN9LG8ucHJvdG90eXBlLmRpc3RpbmN0PWZ1bmN0aW9uKHQpe3ZhciBlLGksbyxzPXRoaXMuX2RhdGEscj1PYmplY3Qua2V5cyhzKSxhPVtdLGg9dGhpcy5fb3B0aW9ucy50eXBlJiZ0aGlzLl9vcHRpb25zLnR5cGVbdF18fG51bGwsZD0wO2ZvcihlPTAsbz1yLmxlbmd0aDtvPmU7ZSsrKXt2YXIgbD1yW2VdLHU9c1tsXSxjPXVbdF0scD0hMTtmb3IoaT0wO2Q+aTtpKyspaWYoYVtpXT09Yyl7cD0hMDticmVha31wfHx2b2lkIDA9PT1jfHwoYVtkXT1jLGQrKyl9aWYoaClmb3IoZT0wLG89YS5sZW5ndGg7bz5lO2UrKylhW2VdPW4uY29udmVydChhW2VdLGgpO3JldHVybiBhfSxvLnByb3RvdHlwZS5fYWRkSXRlbT1mdW5jdGlvbih0KXt2YXIgZT10W3RoaXMuX2ZpZWxkSWRdO2lmKHZvaWQgMCE9ZSl7aWYodGhpcy5fZGF0YVtlXSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgYWRkIGl0ZW06IGl0ZW0gd2l0aCBpZCBcIitlK1wiIGFscmVhZHkgZXhpc3RzXCIpfWVsc2UgZT1uLnJhbmRvbVVVSUQoKSx0W3RoaXMuX2ZpZWxkSWRdPWU7dmFyIGksbyxzPXt9LHI9T2JqZWN0LmtleXModCk7Zm9yKGk9MCxvPXIubGVuZ3RoO28+aTtpKyspe3ZhciBhPXJbaV0saD10aGlzLl90eXBlW2FdO3NbYV09bi5jb252ZXJ0KHRbYV0saCl9cmV0dXJuIHRoaXMuX2RhdGFbZV09cyx0aGlzLmxlbmd0aCsrLGV9LG8ucHJvdG90eXBlLl9nZXRJdGVtPWZ1bmN0aW9uKHQsZSl7dmFyIGksbyxzLHIsYT10aGlzLl9kYXRhW3RdO2lmKCFhKXJldHVybiBudWxsO3ZhciBoPXt9LGQ9T2JqZWN0LmtleXMoYSk7aWYoZSlmb3Iocz0wLHI9ZC5sZW5ndGg7cj5zO3MrKylpPWRbc10sbz1hW2ldLGhbaV09bi5jb252ZXJ0KG8sZVtpXSk7ZWxzZSBmb3Iocz0wLHI9ZC5sZW5ndGg7cj5zO3MrKylpPWRbc10sbz1hW2ldLGhbaV09bztyZXR1cm4gaH0sby5wcm90b3R5cGUuX3VwZGF0ZUl0ZW09ZnVuY3Rpb24odCl7dmFyIGU9dFt0aGlzLl9maWVsZElkXTtpZih2b2lkIDA9PWUpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVwZGF0ZSBpdGVtOiBpdGVtIGhhcyBubyBpZCAoaXRlbTogXCIrSlNPTi5zdHJpbmdpZnkodCkrXCIpXCIpO3ZhciBpPXRoaXMuX2RhdGFbZV07aWYoIWkpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVwZGF0ZSBpdGVtOiBubyBpdGVtIHdpdGggaWQgXCIrZStcIiBmb3VuZFwiKTtmb3IodmFyIG89T2JqZWN0LmtleXModCkscz0wLHI9by5sZW5ndGg7cj5zO3MrKyl7dmFyIGE9b1tzXSxoPXRoaXMuX3R5cGVbYV07aVthXT1uLmNvbnZlcnQodFthXSxoKX1yZXR1cm4gZX0sdC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0KXt0aGlzLmRlbGF5PW51bGwsdGhpcy5tYXg9MS8wLHRoaXMuX3F1ZXVlPVtdLHRoaXMuX3RpbWVvdXQ9bnVsbCx0aGlzLl9leHRlbmRlZD1udWxsLHRoaXMuc2V0T3B0aW9ucyh0KX1pLnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKHQpe3QmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LmRlbGF5JiYodGhpcy5kZWxheT10LmRlbGF5KSx0JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5tYXgmJih0aGlzLm1heD10Lm1heCksdGhpcy5fZmx1c2hJZk5lZWRlZCgpfSxpLmV4dGVuZD1mdW5jdGlvbih0LGUpe3ZhciBvPW5ldyBpKGUpO2lmKHZvaWQgMCE9PXQuZmx1c2gpdGhyb3cgbmV3IEVycm9yKFwiVGFyZ2V0IG9iamVjdCBhbHJlYWR5IGhhcyBhIHByb3BlcnR5IGZsdXNoXCIpO3QuZmx1c2g9ZnVuY3Rpb24oKXtvLmZsdXNoKCl9O3ZhciBuPVt7bmFtZTpcImZsdXNoXCIsb3JpZ2luYWw6dm9pZCAwfV07aWYoZSYmZS5yZXBsYWNlKWZvcih2YXIgcz0wO3M8ZS5yZXBsYWNlLmxlbmd0aDtzKyspe3ZhciByPWUucmVwbGFjZVtzXTtuLnB1c2goe25hbWU6cixvcmlnaW5hbDp0W3JdfSksby5yZXBsYWNlKHQscil9cmV0dXJuIG8uX2V4dGVuZGVkPXtvYmplY3Q6dCxtZXRob2RzOm59LG99LGkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtpZih0aGlzLmZsdXNoKCksdGhpcy5fZXh0ZW5kZWQpe2Zvcih2YXIgdD10aGlzLl9leHRlbmRlZC5vYmplY3QsZT10aGlzLl9leHRlbmRlZC5tZXRob2RzLGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLm9yaWdpbmFsP3Rbby5uYW1lXT1vLm9yaWdpbmFsOmRlbGV0ZSB0W28ubmFtZV19dGhpcy5fZXh0ZW5kZWQ9bnVsbH19LGkucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLG89dFtlXTtpZighbyl0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2QgXCIrZStcIiB1bmRlZmluZWRcIik7dFtlXT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTtpLnF1ZXVlKHthcmdzOnQsZm46byxjb250ZXh0OnRoaXN9KX19LGkucHJvdG90eXBlLnF1ZXVlPWZ1bmN0aW9uKHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dGhpcy5fcXVldWUucHVzaCh7Zm46dH0pOnRoaXMuX3F1ZXVlLnB1c2godCksdGhpcy5fZmx1c2hJZk5lZWRlZCgpfSxpLnByb3RvdHlwZS5fZmx1c2hJZk5lZWRlZD1mdW5jdGlvbigpe2lmKHRoaXMuX3F1ZXVlLmxlbmd0aD50aGlzLm1heCYmdGhpcy5mbHVzaCgpLGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KSx0aGlzLnF1ZXVlLmxlbmd0aD4wJiZcIm51bWJlclwiPT10eXBlb2YgdGhpcy5kZWxheSl7dmFyIHQ9dGhpczt0aGlzLl90aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LmZsdXNoKCl9LHRoaXMuZGVsYXkpfX0saS5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXtmb3IoO3RoaXMuX3F1ZXVlLmxlbmd0aD4wOyl7dmFyIHQ9dGhpcy5fcXVldWUuc2hpZnQoKTt0LmZuLmFwcGx5KHQuY29udGV4dHx8dC5mbix0LmFyZ3N8fFtdKX19LHQuZXhwb3J0cz1pfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbyh0LGUpe3RoaXMuX2RhdGE9bnVsbCx0aGlzLl9pZHM9e30sdGhpcy5sZW5ndGg9MCx0aGlzLl9vcHRpb25zPWV8fHt9LHRoaXMuX2ZpZWxkSWQ9XCJpZFwiLHRoaXMuX3N1YnNjcmliZXJzPXt9O3ZhciBpPXRoaXM7dGhpcy5saXN0ZW5lcj1mdW5jdGlvbigpe2kuX29uRXZlbnQuYXBwbHkoaSxhcmd1bWVudHMpfSx0aGlzLnNldERhdGEodCl9dmFyIG49aSgxKSxzPWkoOCk7by5wcm90b3R5cGUuc2V0RGF0YT1mdW5jdGlvbih0KXt2YXIgZSxpLG8sbjtpZih0aGlzLl9kYXRhJiYodGhpcy5fZGF0YS5vZmYmJnRoaXMuX2RhdGEub2ZmKFwiKlwiLHRoaXMubGlzdGVuZXIpLGU9T2JqZWN0LmtleXModGhpcy5faWRzKSx0aGlzLl9pZHM9e30sdGhpcy5sZW5ndGg9MCx0aGlzLl90cmlnZ2VyKFwicmVtb3ZlXCIse2l0ZW1zOmV9KSksdGhpcy5fZGF0YT10LHRoaXMuX2RhdGEpe2Zvcih0aGlzLl9maWVsZElkPXRoaXMuX29wdGlvbnMuZmllbGRJZHx8dGhpcy5fZGF0YSYmdGhpcy5fZGF0YS5vcHRpb25zJiZ0aGlzLl9kYXRhLm9wdGlvbnMuZmllbGRJZHx8XCJpZFwiLGU9dGhpcy5fZGF0YS5nZXRJZHMoe2ZpbHRlcjp0aGlzLl9vcHRpb25zJiZ0aGlzLl9vcHRpb25zLmZpbHRlcn0pLG89MCxuPWUubGVuZ3RoO24+bztvKyspaT1lW29dLHRoaXMuX2lkc1tpXT0hMDt0aGlzLmxlbmd0aD1lLmxlbmd0aCx0aGlzLl90cmlnZ2VyKFwiYWRkXCIse2l0ZW1zOmV9KSx0aGlzLl9kYXRhLm9uJiZ0aGlzLl9kYXRhLm9uKFwiKlwiLHRoaXMubGlzdGVuZXIpfX0sby5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe3ZhciB0LGUsaSxvPXRoaXMuX2RhdGEuZ2V0SWRzKHtmaWx0ZXI6dGhpcy5fb3B0aW9ucyYmdGhpcy5fb3B0aW9ucy5maWx0ZXJ9KSxuPU9iamVjdC5rZXlzKHRoaXMuX2lkcykscz17fSxyPVtdLGE9W107Zm9yKGU9MCxpPW8ubGVuZ3RoO2k+ZTtlKyspdD1vW2VdLHNbdF09ITAsdGhpcy5faWRzW3RdfHwoci5wdXNoKHQpLHRoaXMuX2lkc1t0XT0hMCk7Zm9yKGU9MCxpPW4ubGVuZ3RoO2k+ZTtlKyspdD1uW2VdLHNbdF18fChhLnB1c2godCksZGVsZXRlIHRoaXMuX2lkc1t0XSk7dGhpcy5sZW5ndGgrPXIubGVuZ3RoLWEubGVuZ3RoLHIubGVuZ3RoJiZ0aGlzLl90cmlnZ2VyKFwiYWRkXCIse2l0ZW1zOnJ9KSxhLmxlbmd0aCYmdGhpcy5fdHJpZ2dlcihcInJlbW92ZVwiLHtpdGVtczphfSl9LG8ucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXt2YXIgZSxpLG8scz10aGlzLHI9bi5nZXRUeXBlKGFyZ3VtZW50c1swXSk7XCJTdHJpbmdcIj09cnx8XCJOdW1iZXJcIj09cnx8XCJBcnJheVwiPT1yPyhlPWFyZ3VtZW50c1swXSxpPWFyZ3VtZW50c1sxXSxvPWFyZ3VtZW50c1syXSk6KGk9YXJndW1lbnRzWzBdLG89YXJndW1lbnRzWzFdKTt2YXIgYT1uLmV4dGVuZCh7fSx0aGlzLl9vcHRpb25zLGkpO3RoaXMuX29wdGlvbnMuZmlsdGVyJiZpJiZpLmZpbHRlciYmKGEuZmlsdGVyPWZ1bmN0aW9uKHQpe3JldHVybiBzLl9vcHRpb25zLmZpbHRlcih0KSYmaS5maWx0ZXIodCl9KTt2YXIgaD1bXTtyZXR1cm4gdm9pZCAwIT1lJiZoLnB1c2goZSksaC5wdXNoKGEpLGgucHVzaChvKSx0aGlzLl9kYXRhJiZ0aGlzLl9kYXRhLmdldC5hcHBseSh0aGlzLl9kYXRhLGgpfSxvLnByb3RvdHlwZS5nZXRJZHM9ZnVuY3Rpb24odCl7dmFyIGU7aWYodGhpcy5fZGF0YSl7dmFyIGksbz10aGlzLl9vcHRpb25zLmZpbHRlcjtpPXQmJnQuZmlsdGVyP28/ZnVuY3Rpb24oZSl7XG5yZXR1cm4gbyhlKSYmdC5maWx0ZXIoZSl9OnQuZmlsdGVyOm8sZT10aGlzLl9kYXRhLmdldElkcyh7ZmlsdGVyOmksb3JkZXI6dCYmdC5vcmRlcn0pfWVsc2UgZT1bXTtyZXR1cm4gZX0sby5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSl7dmFyIGk9W107aWYodGhpcy5fZGF0YSl7dmFyIG8sbj10aGlzLl9vcHRpb25zLmZpbHRlcjtvPWUmJmUuZmlsdGVyP24/ZnVuY3Rpb24odCl7cmV0dXJuIG4odCkmJmUuZmlsdGVyKHQpfTplLmZpbHRlcjpuLGk9dGhpcy5fZGF0YS5tYXAodCx7ZmlsdGVyOm8sb3JkZXI6ZSYmZS5vcmRlcn0pfWVsc2UgaT1bXTtyZXR1cm4gaX0sby5wcm90b3R5cGUuZ2V0RGF0YVNldD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzO3QgaW5zdGFuY2VvZiBvOyl0PXQuX2RhdGE7cmV0dXJuIHR8fG51bGx9LG8ucHJvdG90eXBlLl9vbkV2ZW50PWZ1bmN0aW9uKHQsZSxpKXt2YXIgbyxuLHMscixhPWUmJmUuaXRlbXMsaD10aGlzLl9kYXRhLGQ9W10sbD1bXSx1PVtdLGM9W107aWYoYSYmaCl7c3dpdGNoKHQpe2Nhc2VcImFkZFwiOmZvcihvPTAsbj1hLmxlbmd0aDtuPm87bysrKXM9YVtvXSxyPXRoaXMuZ2V0KHMpLHImJih0aGlzLl9pZHNbc109ITAsbC5wdXNoKHMpKTticmVhaztjYXNlXCJ1cGRhdGVcIjpmb3Iobz0wLG49YS5sZW5ndGg7bj5vO28rKylzPWFbb10scj10aGlzLmdldChzKSxyP3RoaXMuX2lkc1tzXT8odS5wdXNoKHMpLGQucHVzaChlLmRhdGFbb10pKToodGhpcy5faWRzW3NdPSEwLGwucHVzaChzKSk6dGhpcy5faWRzW3NdJiYoZGVsZXRlIHRoaXMuX2lkc1tzXSxjLnB1c2gocykpO2JyZWFrO2Nhc2VcInJlbW92ZVwiOmZvcihvPTAsbj1hLmxlbmd0aDtuPm87bysrKXM9YVtvXSx0aGlzLl9pZHNbc10mJihkZWxldGUgdGhpcy5faWRzW3NdLGMucHVzaChzKSl9dGhpcy5sZW5ndGgrPWwubGVuZ3RoLWMubGVuZ3RoLGwubGVuZ3RoJiZ0aGlzLl90cmlnZ2VyKFwiYWRkXCIse2l0ZW1zOmx9LGkpLHUubGVuZ3RoJiZ0aGlzLl90cmlnZ2VyKFwidXBkYXRlXCIse2l0ZW1zOnUsZGF0YTpkfSxpKSxjLmxlbmd0aCYmdGhpcy5fdHJpZ2dlcihcInJlbW92ZVwiLHtpdGVtczpjfSxpKX19LG8ucHJvdG90eXBlLm9uPXMucHJvdG90eXBlLm9uLG8ucHJvdG90eXBlLm9mZj1zLnByb3RvdHlwZS5vZmYsby5wcm90b3R5cGUuX3RyaWdnZXI9cy5wcm90b3R5cGUuX3RyaWdnZXIsby5wcm90b3R5cGUuc3Vic2NyaWJlPW8ucHJvdG90eXBlLm9uLG8ucHJvdG90eXBlLnVuc3Vic2NyaWJlPW8ucHJvdG90eXBlLm9mZix0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCxlLGkpe2lmKCEodGhpcyBpbnN0YW5jZW9mIG8pKXRocm93IG5ldyBTeW50YXhFcnJvcihcIkNvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvclwiKTt0aGlzLmNvbnRhaW5lckVsZW1lbnQ9dCx0aGlzLndpZHRoPVwiNDAwcHhcIix0aGlzLmhlaWdodD1cIjQwMHB4XCIsdGhpcy5tYXJnaW49MTAsdGhpcy5kZWZhdWx0WENlbnRlcj1cIjU1JVwiLHRoaXMuZGVmYXVsdFlDZW50ZXI9XCI1MCVcIix0aGlzLnhMYWJlbD1cInhcIix0aGlzLnlMYWJlbD1cInlcIix0aGlzLnpMYWJlbD1cInpcIjt2YXIgbj1mdW5jdGlvbih0KXtyZXR1cm4gdH07dGhpcy54VmFsdWVMYWJlbD1uLHRoaXMueVZhbHVlTGFiZWw9bix0aGlzLnpWYWx1ZUxhYmVsPW4sdGhpcy5maWx0ZXJMYWJlbD1cInRpbWVcIix0aGlzLmxlZ2VuZExhYmVsPVwidmFsdWVcIix0aGlzLnN0eWxlPW8uU1RZTEUuRE9ULHRoaXMuc2hvd1BlcnNwZWN0aXZlPSEwLHRoaXMuc2hvd0dyaWQ9ITAsdGhpcy5rZWVwQXNwZWN0UmF0aW89ITAsdGhpcy5zaG93U2hhZG93PSExLHRoaXMuc2hvd0dyYXlCb3R0b209ITEsdGhpcy5zaG93VG9vbHRpcD0hMSx0aGlzLnZlcnRpY2FsUmF0aW89LjUsdGhpcy5hbmltYXRpb25JbnRlcnZhbD0xZTMsdGhpcy5hbmltYXRpb25QcmVsb2FkPSExLHRoaXMuY2FtZXJhPW5ldyBjLHRoaXMuY2FtZXJhLnNldEFybVJvdGF0aW9uKDEsLjUpLHRoaXMuY2FtZXJhLnNldEFybUxlbmd0aCgxLjcpLHRoaXMuZXllPW5ldyBsKDAsMCwtMSksdGhpcy5kYXRhVGFibGU9bnVsbCx0aGlzLmRhdGFQb2ludHM9bnVsbCx0aGlzLmNvbFg9dm9pZCAwLHRoaXMuY29sWT12b2lkIDAsdGhpcy5jb2xaPXZvaWQgMCx0aGlzLmNvbFZhbHVlPXZvaWQgMCx0aGlzLmNvbEZpbHRlcj12b2lkIDAsdGhpcy54TWluPTAsdGhpcy54U3RlcD12b2lkIDAsdGhpcy54TWF4PTEsdGhpcy55TWluPTAsdGhpcy55U3RlcD12b2lkIDAsdGhpcy55TWF4PTEsdGhpcy56TWluPTAsdGhpcy56U3RlcD12b2lkIDAsdGhpcy56TWF4PTEsdGhpcy52YWx1ZU1pbj0wLHRoaXMudmFsdWVNYXg9MSx0aGlzLnhCYXJXaWR0aD0xLHRoaXMueUJhcldpZHRoPTEsdGhpcy5heGlzQ29sb3I9XCIjNEQ0RDREXCIsdGhpcy5ncmlkQ29sb3I9XCIjRDNEM0QzXCIsdGhpcy5kYXRhQ29sb3I9e2ZpbGw6XCIjN0RDMUZGXCIsc3Ryb2tlOlwiIzMyNjdEMlwiLHN0cm9rZVdpZHRoOjF9LHRoaXMuY3JlYXRlKCksdGhpcy5zZXRPcHRpb25zKGkpLGUmJnRoaXMuc2V0RGF0YShlKX1mdW5jdGlvbiBuKHQpe3JldHVyblwiY2xpZW50WFwiaW4gdD90LmNsaWVudFg6dC50YXJnZXRUb3VjaGVzWzBdJiZ0LnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WHx8MH1mdW5jdGlvbiBzKHQpe3JldHVyblwiY2xpZW50WVwiaW4gdD90LmNsaWVudFk6dC50YXJnZXRUb3VjaGVzWzBdJiZ0LnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WXx8MH12YXIgcj1pKDEyKSxhPWkoOCksaD1pKDEwKSxkPWkoMSksbD1pKDEzKSx1PWkoMTQpLGM9aSgxNSkscD1pKDE2KSxmPWkoMTcpLG09aSgxOCk7cihvLnByb3RvdHlwZSksby5wcm90b3R5cGUuX3NldFNjYWxlPWZ1bmN0aW9uKCl7dGhpcy5zY2FsZT1uZXcgbCgxLyh0aGlzLnhNYXgtdGhpcy54TWluKSwxLyh0aGlzLnlNYXgtdGhpcy55TWluKSwxLyh0aGlzLnpNYXgtdGhpcy56TWluKSksdGhpcy5rZWVwQXNwZWN0UmF0aW8mJih0aGlzLnNjYWxlLng8dGhpcy5zY2FsZS55P3RoaXMuc2NhbGUueT10aGlzLnNjYWxlLng6dGhpcy5zY2FsZS54PXRoaXMuc2NhbGUueSksdGhpcy5zY2FsZS56Kj10aGlzLnZlcnRpY2FsUmF0aW8sdGhpcy5zY2FsZS52YWx1ZT0xLyh0aGlzLnZhbHVlTWF4LXRoaXMudmFsdWVNaW4pO3ZhciB0PSh0aGlzLnhNYXgrdGhpcy54TWluKS8yKnRoaXMuc2NhbGUueCxlPSh0aGlzLnlNYXgrdGhpcy55TWluKS8yKnRoaXMuc2NhbGUueSxpPSh0aGlzLnpNYXgrdGhpcy56TWluKS8yKnRoaXMuc2NhbGUuejt0aGlzLmNhbWVyYS5zZXRBcm1Mb2NhdGlvbih0LGUsaSl9LG8ucHJvdG90eXBlLl9jb252ZXJ0M0R0bzJEPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2NvbnZlcnRQb2ludFRvVHJhbnNsYXRpb24odCk7cmV0dXJuIHRoaXMuX2NvbnZlcnRUcmFuc2xhdGlvblRvU2NyZWVuKGUpfSxvLnByb3RvdHlwZS5fY29udmVydFBvaW50VG9UcmFuc2xhdGlvbj1mdW5jdGlvbih0KXt2YXIgZT10LngqdGhpcy5zY2FsZS54LGk9dC55KnRoaXMuc2NhbGUueSxvPXQueip0aGlzLnNjYWxlLnosbj10aGlzLmNhbWVyYS5nZXRDYW1lcmFMb2NhdGlvbigpLngscz10aGlzLmNhbWVyYS5nZXRDYW1lcmFMb2NhdGlvbigpLnkscj10aGlzLmNhbWVyYS5nZXRDYW1lcmFMb2NhdGlvbigpLnosYT1NYXRoLnNpbih0aGlzLmNhbWVyYS5nZXRDYW1lcmFSb3RhdGlvbigpLngpLGg9TWF0aC5jb3ModGhpcy5jYW1lcmEuZ2V0Q2FtZXJhUm90YXRpb24oKS54KSxkPU1hdGguc2luKHRoaXMuY2FtZXJhLmdldENhbWVyYVJvdGF0aW9uKCkueSksdT1NYXRoLmNvcyh0aGlzLmNhbWVyYS5nZXRDYW1lcmFSb3RhdGlvbigpLnkpLGM9TWF0aC5zaW4odGhpcy5jYW1lcmEuZ2V0Q2FtZXJhUm90YXRpb24oKS56KSxwPU1hdGguY29zKHRoaXMuY2FtZXJhLmdldENhbWVyYVJvdGF0aW9uKCkueiksZj11KihjKihpLXMpK3AqKGUtbikpLWQqKG8tciksbT1hKih1KihvLXIpK2QqKGMqKGktcykrcCooZS1uKSkpK2gqKHAqKGktcyktYyooZS1uKSksdj1oKih1KihvLXIpK2QqKGMqKGktcykrcCooZS1uKSkpLWEqKHAqKGktcyktYyooZS1uKSk7cmV0dXJuIG5ldyBsKGYsbSx2KX0sby5wcm90b3R5cGUuX2NvbnZlcnRUcmFuc2xhdGlvblRvU2NyZWVuPWZ1bmN0aW9uKHQpe3ZhciBlLGksbz10aGlzLmV5ZS54LG49dGhpcy5leWUueSxzPXRoaXMuZXllLnoscj10LngsYT10LnksaD10Lno7cmV0dXJuIHRoaXMuc2hvd1BlcnNwZWN0aXZlPyhlPShyLW8pKihzL2gpLGk9KGEtbikqKHMvaCkpOihlPXIqLShzL3RoaXMuY2FtZXJhLmdldEFybUxlbmd0aCgpKSxpPWEqLShzL3RoaXMuY2FtZXJhLmdldEFybUxlbmd0aCgpKSksbmV3IHUodGhpcy54Y2VudGVyK2UqdGhpcy5mcmFtZS5jYW52YXMuY2xpZW50V2lkdGgsdGhpcy55Y2VudGVyLWkqdGhpcy5mcmFtZS5jYW52YXMuY2xpZW50V2lkdGgpfSxvLnByb3RvdHlwZS5fc2V0QmFja2dyb3VuZENvbG9yPWZ1bmN0aW9uKHQpe3ZhciBlPVwid2hpdGVcIixpPVwiZ3JheVwiLG89MTtpZihcInN0cmluZ1wiPT10eXBlb2YgdCllPXQsaT1cIm5vbmVcIixvPTA7ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgdCl2b2lkIDAhPT10LmZpbGwmJihlPXQuZmlsbCksdm9pZCAwIT09dC5zdHJva2UmJihpPXQuc3Ryb2tlKSx2b2lkIDAhPT10LnN0cm9rZVdpZHRoJiYobz10LnN0cm9rZVdpZHRoKTtlbHNlIGlmKHZvaWQgMCE9PXQpdGhyb3dcIlVuc3VwcG9ydGVkIHR5cGUgb2YgYmFja2dyb3VuZENvbG9yXCI7dGhpcy5mcmFtZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9ZSx0aGlzLmZyYW1lLnN0eWxlLmJvcmRlckNvbG9yPWksdGhpcy5mcmFtZS5zdHlsZS5ib3JkZXJXaWR0aD1vK1wicHhcIix0aGlzLmZyYW1lLnN0eWxlLmJvcmRlclN0eWxlPVwic29saWRcIn0sby5TVFlMRT17QkFSOjAsQkFSQ09MT1I6MSxCQVJTSVpFOjIsRE9UOjMsRE9UTElORTo0LERPVENPTE9SOjUsRE9UU0laRTo2LEdSSUQ6NyxMSU5FOjgsU1VSRkFDRTo5fSxvLnByb3RvdHlwZS5fZ2V0U3R5bGVOdW1iZXI9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2VcImRvdFwiOnJldHVybiBvLlNUWUxFLkRPVDtjYXNlXCJkb3QtbGluZVwiOnJldHVybiBvLlNUWUxFLkRPVExJTkU7Y2FzZVwiZG90LWNvbG9yXCI6cmV0dXJuIG8uU1RZTEUuRE9UQ09MT1I7Y2FzZVwiZG90LXNpemVcIjpyZXR1cm4gby5TVFlMRS5ET1RTSVpFO2Nhc2VcImxpbmVcIjpyZXR1cm4gby5TVFlMRS5MSU5FO2Nhc2VcImdyaWRcIjpyZXR1cm4gby5TVFlMRS5HUklEO2Nhc2VcInN1cmZhY2VcIjpyZXR1cm4gby5TVFlMRS5TVVJGQUNFO2Nhc2VcImJhclwiOnJldHVybiBvLlNUWUxFLkJBUjtjYXNlXCJiYXItY29sb3JcIjpyZXR1cm4gby5TVFlMRS5CQVJDT0xPUjtjYXNlXCJiYXItc2l6ZVwiOnJldHVybiBvLlNUWUxFLkJBUlNJWkV9cmV0dXJuLTF9LG8ucHJvdG90eXBlLl9kZXRlcm1pbmVDb2x1bW5JbmRleGVzPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5zdHlsZT09PW8uU1RZTEUuRE9UfHx0aGlzLnN0eWxlPT09by5TVFlMRS5ET1RMSU5FfHx0aGlzLnN0eWxlPT09by5TVFlMRS5MSU5FfHx0aGlzLnN0eWxlPT09by5TVFlMRS5HUklEfHx0aGlzLnN0eWxlPT09by5TVFlMRS5TVVJGQUNFfHx0aGlzLnN0eWxlPT09by5TVFlMRS5CQVIpdGhpcy5jb2xYPTAsdGhpcy5jb2xZPTEsdGhpcy5jb2xaPTIsdGhpcy5jb2xWYWx1ZT12b2lkIDAsdC5nZXROdW1iZXJPZkNvbHVtbnMoKT4zJiYodGhpcy5jb2xGaWx0ZXI9Myk7ZWxzZXtpZih0aGlzLnN0eWxlIT09by5TVFlMRS5ET1RDT0xPUiYmdGhpcy5zdHlsZSE9PW8uU1RZTEUuRE9UU0laRSYmdGhpcy5zdHlsZSE9PW8uU1RZTEUuQkFSQ09MT1ImJnRoaXMuc3R5bGUhPT1vLlNUWUxFLkJBUlNJWkUpdGhyb3cnVW5rbm93biBzdHlsZSBcIicrdGhpcy5zdHlsZSsnXCInO3RoaXMuY29sWD0wLHRoaXMuY29sWT0xLHRoaXMuY29sWj0yLHRoaXMuY29sVmFsdWU9Myx0LmdldE51bWJlck9mQ29sdW1ucygpPjQmJih0aGlzLmNvbEZpbHRlcj00KX19LG8ucHJvdG90eXBlLmdldE51bWJlck9mUm93cz1mdW5jdGlvbih0KXtyZXR1cm4gdC5sZW5ndGh9LG8ucHJvdG90eXBlLmdldE51bWJlck9mQ29sdW1ucz1mdW5jdGlvbih0KXt2YXIgZT0wO2Zvcih2YXIgaSBpbiB0WzBdKXRbMF0uaGFzT3duUHJvcGVydHkoaSkmJmUrKztyZXR1cm4gZX0sby5wcm90b3R5cGUuZ2V0RGlzdGluY3RWYWx1ZXM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9W10sbz0wO288dC5sZW5ndGg7bysrKS0xPT1pLmluZGV4T2YodFtvXVtlXSkmJmkucHVzaCh0W29dW2VdKTtyZXR1cm4gaX0sby5wcm90b3R5cGUuZ2V0Q29sdW1uUmFuZ2U9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9e21pbjp0WzBdW2VdLG1heDp0WzBdW2VdfSxvPTA7bzx0Lmxlbmd0aDtvKyspaS5taW4+dFtvXVtlXSYmKGkubWluPXRbb11bZV0pLGkubWF4PHRbb11bZV0mJihpLm1heD10W29dW2VdKTtyZXR1cm4gaX0sby5wcm90b3R5cGUuX2RhdGFJbml0aWFsaXplPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcztpZih0aGlzLmRhdGFTZXQmJnRoaXMuZGF0YVNldC5vZmYoXCIqXCIsdGhpcy5fb25DaGFuZ2UpLHZvaWQgMCE9PXQpe0FycmF5LmlzQXJyYXkodCkmJih0PW5ldyBhKHQpKTt2YXIgbjtpZighKHQgaW5zdGFuY2VvZiBhfHx0IGluc3RhbmNlb2YgaCkpdGhyb3cgbmV3IEVycm9yKFwiQXJyYXksIERhdGFTZXQsIG9yIERhdGFWaWV3IGV4cGVjdGVkXCIpO2lmKG49dC5nZXQoKSwwIT1uLmxlbmd0aCl7dGhpcy5kYXRhU2V0PXQsdGhpcy5kYXRhVGFibGU9bix0aGlzLl9vbkNoYW5nZT1mdW5jdGlvbigpe2kuc2V0RGF0YShpLmRhdGFTZXQpfSx0aGlzLmRhdGFTZXQub24oXCIqXCIsdGhpcy5fb25DaGFuZ2UpLHRoaXMuY29sWD1cInhcIix0aGlzLmNvbFk9XCJ5XCIsdGhpcy5jb2xaPVwielwiLHRoaXMuY29sVmFsdWU9XCJzdHlsZVwiLHRoaXMuY29sRmlsdGVyPVwiZmlsdGVyXCIsblswXS5oYXNPd25Qcm9wZXJ0eShcImZpbHRlclwiKSYmdm9pZCAwPT09dGhpcy5kYXRhRmlsdGVyJiYodGhpcy5kYXRhRmlsdGVyPW5ldyBwKHQsdGhpcy5jb2xGaWx0ZXIsdGhpcyksdGhpcy5kYXRhRmlsdGVyLnNldE9uTG9hZENhbGxiYWNrKGZ1bmN0aW9uKCl7aS5yZWRyYXcoKX0pKTt2YXIgcz10aGlzLnN0eWxlPT1vLlNUWUxFLkJBUnx8dGhpcy5zdHlsZT09by5TVFlMRS5CQVJDT0xPUnx8dGhpcy5zdHlsZT09by5TVFlMRS5CQVJTSVpFO2lmKHMpe2lmKHZvaWQgMCE9PXRoaXMuZGVmYXVsdFhCYXJXaWR0aCl0aGlzLnhCYXJXaWR0aD10aGlzLmRlZmF1bHRYQmFyV2lkdGg7ZWxzZXt2YXIgcj10aGlzLmdldERpc3RpbmN0VmFsdWVzKG4sdGhpcy5jb2xYKTt0aGlzLnhCYXJXaWR0aD1yWzFdLXJbMF18fDF9aWYodm9pZCAwIT09dGhpcy5kZWZhdWx0WUJhcldpZHRoKXRoaXMueUJhcldpZHRoPXRoaXMuZGVmYXVsdFlCYXJXaWR0aDtlbHNle3ZhciBkPXRoaXMuZ2V0RGlzdGluY3RWYWx1ZXMobix0aGlzLmNvbFkpO3RoaXMueUJhcldpZHRoPWRbMV0tZFswXXx8MX19dmFyIGw9dGhpcy5nZXRDb2x1bW5SYW5nZShuLHRoaXMuY29sWCk7cyYmKGwubWluLT10aGlzLnhCYXJXaWR0aC8yLGwubWF4Kz10aGlzLnhCYXJXaWR0aC8yKSx0aGlzLnhNaW49dm9pZCAwIT09dGhpcy5kZWZhdWx0WE1pbj90aGlzLmRlZmF1bHRYTWluOmwubWluLHRoaXMueE1heD12b2lkIDAhPT10aGlzLmRlZmF1bHRYTWF4P3RoaXMuZGVmYXVsdFhNYXg6bC5tYXgsdGhpcy54TWF4PD10aGlzLnhNaW4mJih0aGlzLnhNYXg9dGhpcy54TWluKzEpLHRoaXMueFN0ZXA9dm9pZCAwIT09dGhpcy5kZWZhdWx0WFN0ZXA/dGhpcy5kZWZhdWx0WFN0ZXA6KHRoaXMueE1heC10aGlzLnhNaW4pLzU7dmFyIHU9dGhpcy5nZXRDb2x1bW5SYW5nZShuLHRoaXMuY29sWSk7cyYmKHUubWluLT10aGlzLnlCYXJXaWR0aC8yLHUubWF4Kz10aGlzLnlCYXJXaWR0aC8yKSx0aGlzLnlNaW49dm9pZCAwIT09dGhpcy5kZWZhdWx0WU1pbj90aGlzLmRlZmF1bHRZTWluOnUubWluLHRoaXMueU1heD12b2lkIDAhPT10aGlzLmRlZmF1bHRZTWF4P3RoaXMuZGVmYXVsdFlNYXg6dS5tYXgsdGhpcy55TWF4PD10aGlzLnlNaW4mJih0aGlzLnlNYXg9dGhpcy55TWluKzEpLHRoaXMueVN0ZXA9dm9pZCAwIT09dGhpcy5kZWZhdWx0WVN0ZXA/dGhpcy5kZWZhdWx0WVN0ZXA6KHRoaXMueU1heC10aGlzLnlNaW4pLzU7dmFyIGM9dGhpcy5nZXRDb2x1bW5SYW5nZShuLHRoaXMuY29sWik7aWYodGhpcy56TWluPXZvaWQgMCE9PXRoaXMuZGVmYXVsdFpNaW4/dGhpcy5kZWZhdWx0Wk1pbjpjLm1pbix0aGlzLnpNYXg9dm9pZCAwIT09dGhpcy5kZWZhdWx0Wk1heD90aGlzLmRlZmF1bHRaTWF4OmMubWF4LHRoaXMuek1heDw9dGhpcy56TWluJiYodGhpcy56TWF4PXRoaXMuek1pbisxKSx0aGlzLnpTdGVwPXZvaWQgMCE9PXRoaXMuZGVmYXVsdFpTdGVwP3RoaXMuZGVmYXVsdFpTdGVwOih0aGlzLnpNYXgtdGhpcy56TWluKS81LHZvaWQgMCE9PXRoaXMuY29sVmFsdWUpe3ZhciBmPXRoaXMuZ2V0Q29sdW1uUmFuZ2Uobix0aGlzLmNvbFZhbHVlKTt0aGlzLnZhbHVlTWluPXZvaWQgMCE9PXRoaXMuZGVmYXVsdFZhbHVlTWluP3RoaXMuZGVmYXVsdFZhbHVlTWluOmYubWluLHRoaXMudmFsdWVNYXg9dm9pZCAwIT09dGhpcy5kZWZhdWx0VmFsdWVNYXg/dGhpcy5kZWZhdWx0VmFsdWVNYXg6Zi5tYXgsdGhpcy52YWx1ZU1heDw9dGhpcy52YWx1ZU1pbiYmKHRoaXMudmFsdWVNYXg9dGhpcy52YWx1ZU1pbisxKX10aGlzLl9zZXRTY2FsZSgpfX19LG8ucHJvdG90eXBlLl9nZXREYXRhUG9pbnRzPWZ1bmN0aW9uKHQpe3ZhciBlLGksbixzLHIsYSxoPVtdO2lmKHRoaXMuc3R5bGU9PT1vLlNUWUxFLkdSSUR8fHRoaXMuc3R5bGU9PT1vLlNUWUxFLlNVUkZBQ0Upe3ZhciBkPVtdLHU9W107Zm9yKG49MDtuPHRoaXMuZ2V0TnVtYmVyT2ZSb3dzKHQpO24rKyllPXRbbl1bdGhpcy5jb2xYXXx8MCxpPXRbbl1bdGhpcy5jb2xZXXx8MCwtMT09PWQuaW5kZXhPZihlKSYmZC5wdXNoKGUpLC0xPT09dS5pbmRleE9mKGkpJiZ1LnB1c2goaSk7dmFyIGM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1lfTtkLnNvcnQoYyksdS5zb3J0KGMpO3ZhciBwPVtdO2ZvcihuPTA7bjx0Lmxlbmd0aDtuKyspe2U9dFtuXVt0aGlzLmNvbFhdfHwwLGk9dFtuXVt0aGlzLmNvbFldfHwwLHM9dFtuXVt0aGlzLmNvbFpdfHwwO3ZhciBmPWQuaW5kZXhPZihlKSxtPXUuaW5kZXhPZihpKTt2b2lkIDA9PT1wW2ZdJiYocFtmXT1bXSk7dmFyIHY9bmV3IGw7di54PWUsdi55PWksdi56PXMscj17fSxyLnBvaW50PXYsci50cmFucz12b2lkIDAsci5zY3JlZW49dm9pZCAwLHIuYm90dG9tPW5ldyBsKGUsaSx0aGlzLnpNaW4pLHBbZl1bbV09cixoLnB1c2gocil9Zm9yKGU9MDtlPHAubGVuZ3RoO2UrKylmb3IoaT0wO2k8cFtlXS5sZW5ndGg7aSsrKXBbZV1baV0mJihwW2VdW2ldLnBvaW50UmlnaHQ9ZTxwLmxlbmd0aC0xP3BbZSsxXVtpXTp2b2lkIDAscFtlXVtpXS5wb2ludFRvcD1pPHBbZV0ubGVuZ3RoLTE/cFtlXVtpKzFdOnZvaWQgMCxwW2VdW2ldLnBvaW50Q3Jvc3M9ZTxwLmxlbmd0aC0xJiZpPHBbZV0ubGVuZ3RoLTE/cFtlKzFdW2krMV06dm9pZCAwKX1lbHNlIGZvcihuPTA7bjx0Lmxlbmd0aDtuKyspYT1uZXcgbCxhLng9dFtuXVt0aGlzLmNvbFhdfHwwLGEueT10W25dW3RoaXMuY29sWV18fDAsYS56PXRbbl1bdGhpcy5jb2xaXXx8MCx2b2lkIDAhPT10aGlzLmNvbFZhbHVlJiYoYS52YWx1ZT10W25dW3RoaXMuY29sVmFsdWVdfHwwKSxyPXt9LHIucG9pbnQ9YSxyLmJvdHRvbT1uZXcgbChhLngsYS55LHRoaXMuek1pbiksci50cmFucz12b2lkIDAsci5zY3JlZW49dm9pZCAwLGgucHVzaChyKTtyZXR1cm4gaH0sby5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLmNvbnRhaW5lckVsZW1lbnQuaGFzQ2hpbGROb2RlcygpOyl0aGlzLmNvbnRhaW5lckVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5jb250YWluZXJFbGVtZW50LmZpcnN0Q2hpbGQpO3RoaXMuZnJhbWU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmZyYW1lLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIix0aGlzLmZyYW1lLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsdGhpcy5mcmFtZS5jYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSx0aGlzLmZyYW1lLmNhbnZhcy5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIsdGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLmZyYW1lLmNhbnZhcyk7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTt0LnN0eWxlLmNvbG9yPVwicmVkXCIsdC5zdHlsZS5mb250V2VpZ2h0PVwiYm9sZFwiLHQuc3R5bGUucGFkZGluZz1cIjEwcHhcIix0LmlubmVySFRNTD1cIkVycm9yOiB5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBIVE1MIGNhbnZhc1wiLHRoaXMuZnJhbWUuY2FudmFzLmFwcGVuZENoaWxkKHQpLHRoaXMuZnJhbWUuZmlsdGVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5mcmFtZS5maWx0ZXIuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHRoaXMuZnJhbWUuZmlsdGVyLnN0eWxlLmJvdHRvbT1cIjBweFwiLHRoaXMuZnJhbWUuZmlsdGVyLnN0eWxlLmxlZnQ9XCIwcHhcIix0aGlzLmZyYW1lLmZpbHRlci5zdHlsZS53aWR0aD1cIjEwMCVcIix0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuZnJhbWUuZmlsdGVyKTt2YXIgZT10aGlzLGk9ZnVuY3Rpb24odCl7ZS5fb25Nb3VzZURvd24odCl9LG89ZnVuY3Rpb24odCl7ZS5fb25Ub3VjaFN0YXJ0KHQpfSxuPWZ1bmN0aW9uKHQpe2UuX29uV2hlZWwodCl9LHM9ZnVuY3Rpb24odCl7ZS5fb25Ub29sdGlwKHQpfTtkLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5mcmFtZS5jYW52YXMsXCJrZXlkb3duXCIsb25rZXlkb3duKSxkLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5mcmFtZS5jYW52YXMsXCJtb3VzZWRvd25cIixpKSxkLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5mcmFtZS5jYW52YXMsXCJ0b3VjaHN0YXJ0XCIsbyksZC5hZGRFdmVudExpc3RlbmVyKHRoaXMuZnJhbWUuY2FudmFzLFwibW91c2V3aGVlbFwiLG4pLGQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmZyYW1lLmNhbnZhcyxcIm1vdXNlbW92ZVwiLHMpLHRoaXMuY29udGFpbmVyRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmZyYW1lKX0sby5wcm90b3R5cGUuc2V0U2l6ZT1mdW5jdGlvbih0LGUpe3RoaXMuZnJhbWUuc3R5bGUud2lkdGg9dCx0aGlzLmZyYW1lLnN0eWxlLmhlaWdodD1lLHRoaXMuX3Jlc2l6ZUNhbnZhcygpfSxvLnByb3RvdHlwZS5fcmVzaXplQ2FudmFzPWZ1bmN0aW9uKCl7dGhpcy5mcmFtZS5jYW52YXMuc3R5bGUud2lkdGg9XCIxMDAlXCIsdGhpcy5mcmFtZS5jYW52YXMuc3R5bGUuaGVpZ2h0PVwiMTAwJVwiLHRoaXMuZnJhbWUuY2FudmFzLndpZHRoPXRoaXMuZnJhbWUuY2FudmFzLmNsaWVudFdpZHRoLHRoaXMuZnJhbWUuY2FudmFzLmhlaWdodD10aGlzLmZyYW1lLmNhbnZhcy5jbGllbnRIZWlnaHQsdGhpcy5mcmFtZS5maWx0ZXIuc3R5bGUud2lkdGg9dGhpcy5mcmFtZS5jYW52YXMuY2xpZW50V2lkdGgtMjArXCJweFwifSxvLnByb3RvdHlwZS5hbmltYXRpb25TdGFydD1mdW5jdGlvbigpe2lmKCF0aGlzLmZyYW1lLmZpbHRlcnx8IXRoaXMuZnJhbWUuZmlsdGVyLnNsaWRlcil0aHJvd1wiTm8gYW5pbWF0aW9uIGF2YWlsYWJsZVwiO3RoaXMuZnJhbWUuZmlsdGVyLnNsaWRlci5wbGF5KCl9LG8ucHJvdG90eXBlLmFuaW1hdGlvblN0b3A9ZnVuY3Rpb24oKXt0aGlzLmZyYW1lLmZpbHRlciYmdGhpcy5mcmFtZS5maWx0ZXIuc2xpZGVyJiZ0aGlzLmZyYW1lLmZpbHRlci5zbGlkZXIuc3RvcCgpfSxvLnByb3RvdHlwZS5fcmVzaXplQ2VudGVyPWZ1bmN0aW9uKCl7XCIlXCI9PT10aGlzLmRlZmF1bHRYQ2VudGVyLmNoYXJBdCh0aGlzLmRlZmF1bHRYQ2VudGVyLmxlbmd0aC0xKT90aGlzLnhjZW50ZXI9cGFyc2VGbG9hdCh0aGlzLmRlZmF1bHRYQ2VudGVyKS8xMDAqdGhpcy5mcmFtZS5jYW52YXMuY2xpZW50V2lkdGg6dGhpcy54Y2VudGVyPXBhcnNlRmxvYXQodGhpcy5kZWZhdWx0WENlbnRlciksXCIlXCI9PT10aGlzLmRlZmF1bHRZQ2VudGVyLmNoYXJBdCh0aGlzLmRlZmF1bHRZQ2VudGVyLmxlbmd0aC0xKT90aGlzLnljZW50ZXI9cGFyc2VGbG9hdCh0aGlzLmRlZmF1bHRZQ2VudGVyKS8xMDAqKHRoaXMuZnJhbWUuY2FudmFzLmNsaWVudEhlaWdodC10aGlzLmZyYW1lLmZpbHRlci5jbGllbnRIZWlnaHQpOnRoaXMueWNlbnRlcj1wYXJzZUZsb2F0KHRoaXMuZGVmYXVsdFlDZW50ZXIpfSxvLnByb3RvdHlwZS5zZXRDYW1lcmFQb3NpdGlvbj1mdW5jdGlvbih0KXt2b2lkIDAhPT10JiYodm9pZCAwIT09dC5ob3Jpem9udGFsJiZ2b2lkIDAhPT10LnZlcnRpY2FsJiZ0aGlzLmNhbWVyYS5zZXRBcm1Sb3RhdGlvbih0Lmhvcml6b250YWwsdC52ZXJ0aWNhbCksdm9pZCAwIT09dC5kaXN0YW5jZSYmdGhpcy5jYW1lcmEuc2V0QXJtTGVuZ3RoKHQuZGlzdGFuY2UpLHRoaXMucmVkcmF3KCkpfSxvLnByb3RvdHlwZS5nZXRDYW1lcmFQb3NpdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY2FtZXJhLmdldEFybVJvdGF0aW9uKCk7cmV0dXJuIHQuZGlzdGFuY2U9dGhpcy5jYW1lcmEuZ2V0QXJtTGVuZ3RoKCksdH0sby5wcm90b3R5cGUuX3JlYWREYXRhPWZ1bmN0aW9uKHQpe3RoaXMuX2RhdGFJbml0aWFsaXplKHQsdGhpcy5zdHlsZSksdGhpcy5kYXRhRmlsdGVyP3RoaXMuZGF0YVBvaW50cz10aGlzLmRhdGFGaWx0ZXIuX2dldERhdGFQb2ludHMoKTp0aGlzLmRhdGFQb2ludHM9dGhpcy5fZ2V0RGF0YVBvaW50cyh0aGlzLmRhdGFUYWJsZSksdGhpcy5fcmVkcmF3RmlsdGVyKCl9LG8ucHJvdG90eXBlLnNldERhdGE9ZnVuY3Rpb24odCl7dGhpcy5fcmVhZERhdGEodCksdGhpcy5yZWRyYXcoKSx0aGlzLmFuaW1hdGlvbkF1dG9TdGFydCYmdGhpcy5kYXRhRmlsdGVyJiZ0aGlzLmFuaW1hdGlvblN0YXJ0KCl9LG8ucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24odCl7dmFyIGU9dm9pZCAwO2lmKHRoaXMuYW5pbWF0aW9uU3RvcCgpLHZvaWQgMCE9PXQpe2lmKHZvaWQgMCE9PXQud2lkdGgmJih0aGlzLndpZHRoPXQud2lkdGgpLHZvaWQgMCE9PXQuaGVpZ2h0JiYodGhpcy5oZWlnaHQ9dC5oZWlnaHQpLHZvaWQgMCE9PXQueENlbnRlciYmKHRoaXMuZGVmYXVsdFhDZW50ZXI9dC54Q2VudGVyKSx2b2lkIDAhPT10LnlDZW50ZXImJih0aGlzLmRlZmF1bHRZQ2VudGVyPXQueUNlbnRlciksdm9pZCAwIT09dC5maWx0ZXJMYWJlbCYmKHRoaXMuZmlsdGVyTGFiZWw9dC5maWx0ZXJMYWJlbCksdm9pZCAwIT09dC5sZWdlbmRMYWJlbCYmKHRoaXMubGVnZW5kTGFiZWw9dC5sZWdlbmRMYWJlbCksdm9pZCAwIT09dC54TGFiZWwmJih0aGlzLnhMYWJlbD10LnhMYWJlbCksdm9pZCAwIT09dC55TGFiZWwmJih0aGlzLnlMYWJlbD10LnlMYWJlbCksdm9pZCAwIT09dC56TGFiZWwmJih0aGlzLnpMYWJlbD10LnpMYWJlbCksdm9pZCAwIT09dC54VmFsdWVMYWJlbCYmKHRoaXMueFZhbHVlTGFiZWw9dC54VmFsdWVMYWJlbCksdm9pZCAwIT09dC55VmFsdWVMYWJlbCYmKHRoaXMueVZhbHVlTGFiZWw9dC55VmFsdWVMYWJlbCksdm9pZCAwIT09dC56VmFsdWVMYWJlbCYmKHRoaXMuelZhbHVlTGFiZWw9dC56VmFsdWVMYWJlbCksdm9pZCAwIT09dC5zdHlsZSl7dmFyIGk9dGhpcy5fZ2V0U3R5bGVOdW1iZXIodC5zdHlsZSk7LTEhPT1pJiYodGhpcy5zdHlsZT1pKX12b2lkIDAhPT10LnNob3dHcmlkJiYodGhpcy5zaG93R3JpZD10LnNob3dHcmlkKSx2b2lkIDAhPT10LnNob3dQZXJzcGVjdGl2ZSYmKHRoaXMuc2hvd1BlcnNwZWN0aXZlPXQuc2hvd1BlcnNwZWN0aXZlKSx2b2lkIDAhPT10LnNob3dTaGFkb3cmJih0aGlzLnNob3dTaGFkb3c9dC5zaG93U2hhZG93KSx2b2lkIDAhPT10LnRvb2x0aXAmJih0aGlzLnNob3dUb29sdGlwPXQudG9vbHRpcCksdm9pZCAwIT09dC5zaG93QW5pbWF0aW9uQ29udHJvbHMmJih0aGlzLnNob3dBbmltYXRpb25Db250cm9scz10LnNob3dBbmltYXRpb25Db250cm9scyksdm9pZCAwIT09dC5rZWVwQXNwZWN0UmF0aW8mJih0aGlzLmtlZXBBc3BlY3RSYXRpbz10LmtlZXBBc3BlY3RSYXRpbyksdm9pZCAwIT09dC52ZXJ0aWNhbFJhdGlvJiYodGhpcy52ZXJ0aWNhbFJhdGlvPXQudmVydGljYWxSYXRpbyksdm9pZCAwIT09dC5hbmltYXRpb25JbnRlcnZhbCYmKHRoaXMuYW5pbWF0aW9uSW50ZXJ2YWw9dC5hbmltYXRpb25JbnRlcnZhbCksdm9pZCAwIT09dC5hbmltYXRpb25QcmVsb2FkJiYodGhpcy5hbmltYXRpb25QcmVsb2FkPXQuYW5pbWF0aW9uUHJlbG9hZCksdm9pZCAwIT09dC5hbmltYXRpb25BdXRvU3RhcnQmJih0aGlzLmFuaW1hdGlvbkF1dG9TdGFydD10LmFuaW1hdGlvbkF1dG9TdGFydCksdm9pZCAwIT09dC54QmFyV2lkdGgmJih0aGlzLmRlZmF1bHRYQmFyV2lkdGg9dC54QmFyV2lkdGgpLHZvaWQgMCE9PXQueUJhcldpZHRoJiYodGhpcy5kZWZhdWx0WUJhcldpZHRoPXQueUJhcldpZHRoKSx2b2lkIDAhPT10LnhNaW4mJih0aGlzLmRlZmF1bHRYTWluPXQueE1pbiksdm9pZCAwIT09dC54U3RlcCYmKHRoaXMuZGVmYXVsdFhTdGVwPXQueFN0ZXApLHZvaWQgMCE9PXQueE1heCYmKHRoaXMuZGVmYXVsdFhNYXg9dC54TWF4KSx2b2lkIDAhPT10LnlNaW4mJih0aGlzLmRlZmF1bHRZTWluPXQueU1pbiksdm9pZCAwIT09dC55U3RlcCYmKHRoaXMuZGVmYXVsdFlTdGVwPXQueVN0ZXApLHZvaWQgMCE9PXQueU1heCYmKHRoaXMuZGVmYXVsdFlNYXg9dC55TWF4KSx2b2lkIDAhPT10LnpNaW4mJih0aGlzLmRlZmF1bHRaTWluPXQuek1pbiksdm9pZCAwIT09dC56U3RlcCYmKHRoaXMuZGVmYXVsdFpTdGVwPXQuelN0ZXApLHZvaWQgMCE9PXQuek1heCYmKHRoaXMuZGVmYXVsdFpNYXg9dC56TWF4KSx2b2lkIDAhPT10LnZhbHVlTWluJiYodGhpcy5kZWZhdWx0VmFsdWVNaW49dC52YWx1ZU1pbiksdm9pZCAwIT09dC52YWx1ZU1heCYmKHRoaXMuZGVmYXVsdFZhbHVlTWF4PXQudmFsdWVNYXgpLHZvaWQgMCE9PXQuYmFja2dyb3VuZENvbG9yJiZ0aGlzLl9zZXRCYWNrZ3JvdW5kQ29sb3IodC5iYWNrZ3JvdW5kQ29sb3IpLHZvaWQgMCE9PXQuY2FtZXJhUG9zaXRpb24mJihlPXQuY2FtZXJhUG9zaXRpb24pLHZvaWQgMCE9PWUmJih0aGlzLmNhbWVyYS5zZXRBcm1Sb3RhdGlvbihlLmhvcml6b250YWwsZS52ZXJ0aWNhbCksdGhpcy5jYW1lcmEuc2V0QXJtTGVuZ3RoKGUuZGlzdGFuY2UpKSx2b2lkIDAhPT10LmF4aXNDb2xvciYmKHRoaXMuYXhpc0NvbG9yPXQuYXhpc0NvbG9yKSx2b2lkIDAhPT10LmdyaWRDb2xvciYmKHRoaXMuZ3JpZENvbG9yPXQuZ3JpZENvbG9yKSx0LmRhdGFDb2xvciYmKFwic3RyaW5nXCI9PXR5cGVvZiB0LmRhdGFDb2xvcj8odGhpcy5kYXRhQ29sb3IuZmlsbD10LmRhdGFDb2xvcix0aGlzLmRhdGFDb2xvci5zdHJva2U9dC5kYXRhQ29sb3IpOih0LmRhdGFDb2xvci5maWxsJiYodGhpcy5kYXRhQ29sb3IuZmlsbD10LmRhdGFDb2xvci5maWxsKSx0LmRhdGFDb2xvci5zdHJva2UmJih0aGlzLmRhdGFDb2xvci5zdHJva2U9dC5kYXRhQ29sb3Iuc3Ryb2tlKSx2b2lkIDAhPT10LmRhdGFDb2xvci5zdHJva2VXaWR0aCYmKHRoaXMuZGF0YUNvbG9yLnN0cm9rZVdpZHRoPXQuZGF0YUNvbG9yLnN0cm9rZVdpZHRoKSkpfXRoaXMuc2V0U2l6ZSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0aGlzLmRhdGFUYWJsZSYmdGhpcy5zZXREYXRhKHRoaXMuZGF0YVRhYmxlKSx0aGlzLmFuaW1hdGlvbkF1dG9TdGFydCYmdGhpcy5kYXRhRmlsdGVyJiZ0aGlzLmFuaW1hdGlvblN0YXJ0KCl9LG8ucHJvdG90eXBlLnJlZHJhdz1mdW5jdGlvbigpe2lmKHZvaWQgMD09PXRoaXMuZGF0YVBvaW50cyl0aHJvd1wiRXJyb3I6IGdyYXBoIGRhdGEgbm90IGluaXRpYWxpemVkXCI7dGhpcy5fcmVzaXplQ2FudmFzKCksdGhpcy5fcmVzaXplQ2VudGVyKCksdGhpcy5fcmVkcmF3U2xpZGVyKCksdGhpcy5fcmVkcmF3Q2xlYXIoKSx0aGlzLl9yZWRyYXdBeGlzKCksdGhpcy5zdHlsZT09PW8uU1RZTEUuR1JJRHx8dGhpcy5zdHlsZT09PW8uU1RZTEUuU1VSRkFDRT90aGlzLl9yZWRyYXdEYXRhR3JpZCgpOnRoaXMuc3R5bGU9PT1vLlNUWUxFLkxJTkU/dGhpcy5fcmVkcmF3RGF0YUxpbmUoKTp0aGlzLnN0eWxlPT09by5TVFlMRS5CQVJ8fHRoaXMuc3R5bGU9PT1vLlNUWUxFLkJBUkNPTE9SfHx0aGlzLnN0eWxlPT09by5TVFlMRS5CQVJTSVpFP3RoaXMuX3JlZHJhd0RhdGFCYXIoKTp0aGlzLl9yZWRyYXdEYXRhRG90KCksdGhpcy5fcmVkcmF3SW5mbygpLHRoaXMuX3JlZHJhd0xlZ2VuZCgpfSxvLnByb3RvdHlwZS5fcmVkcmF3Q2xlYXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmZyYW1lLmNhbnZhcyxlPXQuZ2V0Q29udGV4dChcIjJkXCIpO2UuY2xlYXJSZWN0KDAsMCx0LndpZHRoLHQuaGVpZ2h0KX0sby5wcm90b3R5cGUuX3JlZHJhd0xlZ2VuZD1mdW5jdGlvbigpe3ZhciB0O2lmKHRoaXMuc3R5bGU9PT1vLlNUWUxFLkRPVENPTE9SfHx0aGlzLnN0eWxlPT09by5TVFlMRS5ET1RTSVpFKXt2YXIgZSxpLG49LjAyKnRoaXMuZnJhbWUuY2xpZW50V2lkdGg7dGhpcy5zdHlsZT09PW8uU1RZTEUuRE9UU0laRT8oZT1uLzIsaT1uLzIrMipuKTooZT0yMCxpPTIwKTt2YXIgcz1NYXRoLm1heCguMjUqdGhpcy5mcmFtZS5jbGllbnRIZWlnaHQsMTAwKSxyPXRoaXMubWFyZ2luLGE9dGhpcy5mcmFtZS5jbGllbnRXaWR0aC10aGlzLm1hcmdpbixoPWEtaSxkPXIrc312YXIgbD10aGlzLmZyYW1lLmNhbnZhcyx1PWwuZ2V0Q29udGV4dChcIjJkXCIpO2lmKHUubGluZVdpZHRoPTEsdS5mb250PVwiMTRweCBhcmlhbFwiLHRoaXMuc3R5bGU9PT1vLlNUWUxFLkRPVENPTE9SKXt2YXIgYz0wLHA9cztmb3IodD1jO3A+dDt0Kyspe3ZhciBmPSh0LWMpLyhwLWMpLHY9MjQwKmYsZz10aGlzLl9oc3YycmdiKHYsMSwxKTt1LnN0cm9rZVN0eWxlPWcsdS5iZWdpblBhdGgoKSx1Lm1vdmVUbyhoLHIrdCksdS5saW5lVG8oYSxyK3QpLHUuc3Ryb2tlKCl9dS5zdHJva2VTdHlsZT10aGlzLmF4aXNDb2xvcix1LnN0cm9rZVJlY3QoaCxyLGkscyl9aWYodGhpcy5zdHlsZT09PW8uU1RZTEUuRE9UU0laRSYmKHUuc3Ryb2tlU3R5bGU9dGhpcy5heGlzQ29sb3IsdS5maWxsU3R5bGU9dGhpcy5kYXRhQ29sb3IuZmlsbCx1LmJlZ2luUGF0aCgpLHUubW92ZVRvKGgsciksdS5saW5lVG8oYSxyKSx1LmxpbmVUbyhhLWkrZSxkKSx1LmxpbmVUbyhoLGQpLHUuY2xvc2VQYXRoKCksdS5maWxsKCksdS5zdHJva2UoKSksdGhpcy5zdHlsZT09PW8uU1RZTEUuRE9UQ09MT1J8fHRoaXMuc3R5bGU9PT1vLlNUWUxFLkRPVFNJWkUpe3ZhciB5PTUsYj1uZXcgbSh0aGlzLnZhbHVlTWluLHRoaXMudmFsdWVNYXgsKHRoaXMudmFsdWVNYXgtdGhpcy52YWx1ZU1pbikvNSwhMCk7Zm9yKGIuc3RhcnQoKSxiLmdldEN1cnJlbnQoKTx0aGlzLnZhbHVlTWluJiZiLm5leHQoKTshYi5lbmQoKTspdD1kLShiLmdldEN1cnJlbnQoKS10aGlzLnZhbHVlTWluKS8odGhpcy52YWx1ZU1heC10aGlzLnZhbHVlTWluKSpzLHUuYmVnaW5QYXRoKCksdS5tb3ZlVG8oaC15LHQpLHUubGluZVRvKGgsdCksdS5zdHJva2UoKSx1LnRleHRBbGlnbj1cInJpZ2h0XCIsdS50ZXh0QmFzZWxpbmU9XCJtaWRkbGVcIix1LmZpbGxTdHlsZT10aGlzLmF4aXNDb2xvcix1LmZpbGxUZXh0KGIuZ2V0Q3VycmVudCgpLGgtMip5LHQpLGIubmV4dCgpO3UudGV4dEFsaWduPVwicmlnaHRcIix1LnRleHRCYXNlbGluZT1cInRvcFwiO3ZhciB3PXRoaXMubGVnZW5kTGFiZWw7dS5maWxsVGV4dCh3LGEsZCt0aGlzLm1hcmdpbil9fSxvLnByb3RvdHlwZS5fcmVkcmF3RmlsdGVyPWZ1bmN0aW9uKCl7aWYodGhpcy5mcmFtZS5maWx0ZXIuaW5uZXJIVE1MPVwiXCIsdGhpcy5kYXRhRmlsdGVyKXt2YXIgdD17dmlzaWJsZTp0aGlzLnNob3dBbmltYXRpb25Db250cm9sc30sZT1uZXcgZih0aGlzLmZyYW1lLmZpbHRlcix0KTt0aGlzLmZyYW1lLmZpbHRlci5zbGlkZXI9ZSx0aGlzLmZyYW1lLmZpbHRlci5zdHlsZS5wYWRkaW5nPVwiMTBweFwiLGUuc2V0VmFsdWVzKHRoaXMuZGF0YUZpbHRlci52YWx1ZXMpLGUuc2V0UGxheUludGVydmFsKHRoaXMuYW5pbWF0aW9uSW50ZXJ2YWwpO3ZhciBpPXRoaXMsbz1mdW5jdGlvbigpe3ZhciB0PWUuZ2V0SW5kZXgoKTtpLmRhdGFGaWx0ZXIuc2VsZWN0VmFsdWUodCksaS5kYXRhUG9pbnRzPWkuZGF0YUZpbHRlci5fZ2V0RGF0YVBvaW50cygpLGkucmVkcmF3KCl9O2Uuc2V0T25DaGFuZ2VDYWxsYmFjayhvKX1lbHNlIHRoaXMuZnJhbWUuZmlsdGVyLnNsaWRlcj12b2lkIDB9LG8ucHJvdG90eXBlLl9yZWRyYXdTbGlkZXI9ZnVuY3Rpb24oKXt2b2lkIDAhPT10aGlzLmZyYW1lLmZpbHRlci5zbGlkZXImJnRoaXMuZnJhbWUuZmlsdGVyLnNsaWRlci5yZWRyYXcoKX0sby5wcm90b3R5cGUuX3JlZHJhd0luZm89ZnVuY3Rpb24oKXtpZih0aGlzLmRhdGFGaWx0ZXIpe3ZhciB0PXRoaXMuZnJhbWUuY2FudmFzLGU9dC5nZXRDb250ZXh0KFwiMmRcIik7ZS5mb250PVwiMTRweCBhcmlhbFwiLGUubGluZVN0eWxlPVwiZ3JheVwiLGUuZmlsbFN0eWxlPVwiZ3JheVwiLGUudGV4dEFsaWduPVwibGVmdFwiLGUudGV4dEJhc2VsaW5lPVwidG9wXCI7dmFyIGk9dGhpcy5tYXJnaW4sbz10aGlzLm1hcmdpbjtlLmZpbGxUZXh0KHRoaXMuZGF0YUZpbHRlci5nZXRMYWJlbCgpK1wiOiBcIit0aGlzLmRhdGFGaWx0ZXIuZ2V0U2VsZWN0ZWRWYWx1ZSgpLGksbyl9fSxvLnByb3RvdHlwZS5fcmVkcmF3QXhpcz1mdW5jdGlvbigpe3ZhciB0LGUsaSxvLG4scyxyLGEsaCxkLHUsYyxwLGY9dGhpcy5mcmFtZS5jYW52YXMsdj1mLmdldENvbnRleHQoXCIyZFwiKTt2LmZvbnQ9MjQvdGhpcy5jYW1lcmEuZ2V0QXJtTGVuZ3RoKCkrXCJweCBhcmlhbFwiO3ZhciBnPS4wMjUvdGhpcy5zY2FsZS54LHk9LjAyNS90aGlzLnNjYWxlLnksYj01L3RoaXMuY2FtZXJhLmdldEFybUxlbmd0aCgpLHc9dGhpcy5jYW1lcmEuZ2V0QXJtUm90YXRpb24oKS5ob3Jpem9udGFsO2Zvcih2LmxpbmVXaWR0aD0xLG89dm9pZCAwPT09dGhpcy5kZWZhdWx0WFN0ZXAsaT1uZXcgbSh0aGlzLnhNaW4sdGhpcy54TWF4LHRoaXMueFN0ZXAsbyksaS5zdGFydCgpLGkuZ2V0Q3VycmVudCgpPHRoaXMueE1pbiYmaS5uZXh0KCk7IWkuZW5kKCk7KXt2YXIgXz1pLmdldEN1cnJlbnQoKTt0aGlzLnNob3dHcmlkPyh0PXRoaXMuX2NvbnZlcnQzRHRvMkQobmV3IGwoXyx0aGlzLnlNaW4sdGhpcy56TWluKSksZT10aGlzLl9jb252ZXJ0M0R0bzJEKG5ldyBsKF8sdGhpcy55TWF4LHRoaXMuek1pbikpLHYuc3Ryb2tlU3R5bGU9dGhpcy5ncmlkQ29sb3Isdi5iZWdpblBhdGgoKSx2Lm1vdmVUbyh0LngsdC55KSx2LmxpbmVUbyhlLngsZS55KSx2LnN0cm9rZSgpKToodD10aGlzLl9jb252ZXJ0M0R0bzJEKG5ldyBsKF8sdGhpcy55TWluLHRoaXMuek1pbikpLGU9dGhpcy5fY29udmVydDNEdG8yRChuZXcgbChfLHRoaXMueU1pbitnLHRoaXMuek1pbikpLHYuc3Ryb2tlU3R5bGU9dGhpcy5heGlzQ29sb3Isdi5iZWdpblBhdGgoKSx2Lm1vdmVUbyh0LngsdC55KSx2LmxpbmVUbyhlLngsZS55KSx2LnN0cm9rZSgpLHQ9dGhpcy5fY29udmVydDNEdG8yRChuZXcgbChfLHRoaXMueU1heCx0aGlzLnpNaW4pKSxlPXRoaXMuX2NvbnZlcnQzRHRvMkQobmV3IGwoXyx0aGlzLnlNYXgtZyx0aGlzLnpNaW4pKSx2LnN0cm9rZVN0eWxlPXRoaXMuYXhpc0NvbG9yLHYuYmVnaW5QYXRoKCksdi5tb3ZlVG8odC54LHQueSksdi5saW5lVG8oZS54LGUueSksdi5zdHJva2UoKSkscj1NYXRoLmNvcyh3KT4wP3RoaXMueU1pbjp0aGlzLnlNYXgsbj10aGlzLl9jb252ZXJ0M0R0bzJEKG5ldyBsKF8scix0aGlzLnpNaW4pKSxNYXRoLmNvcygyKncpPjA/KHYudGV4dEFsaWduPVwiY2VudGVyXCIsdi50ZXh0QmFzZWxpbmU9XCJ0b3BcIixuLnkrPWIpOk1hdGguc2luKDIqdyk8MD8odi50ZXh0QWxpZ249XCJyaWdodFwiLHYudGV4dEJhc2VsaW5lPVwibWlkZGxlXCIpOih2LnRleHRBbGlnbj1cImxlZnRcIix2LnRleHRCYXNlbGluZT1cIm1pZGRsZVwiKSx2LmZpbGxTdHlsZT10aGlzLmF4aXNDb2xvcix2LmZpbGxUZXh0KFwiICBcIit0aGlzLnhWYWx1ZUxhYmVsKGkuZ2V0Q3VycmVudCgpKStcIiAgXCIsbi54LG4ueSksaS5uZXh0KCl9Zm9yKHYubGluZVdpZHRoPTEsbz12b2lkIDA9PT10aGlzLmRlZmF1bHRZU3RlcCxpPW5ldyBtKHRoaXMueU1pbix0aGlzLnlNYXgsdGhpcy55U3RlcCxvKSxpLnN0YXJ0KCksaS5nZXRDdXJyZW50KCk8dGhpcy55TWluJiZpLm5leHQoKTshaS5lbmQoKTspdGhpcy5zaG93R3JpZD8odD10aGlzLl9jb252ZXJ0M0R0bzJEKG5ldyBsKHRoaXMueE1pbixpLmdldEN1cnJlbnQoKSx0aGlzLnpNaW4pKSxlPXRoaXMuX2NvbnZlcnQzRHRvMkQobmV3IGwodGhpcy54TWF4LGkuZ2V0Q3VycmVudCgpLHRoaXMuek1pbikpLHYuc3Ryb2tlU3R5bGU9dGhpcy5ncmlkQ29sb3Isdi5iZWdpblBhdGgoKSx2Lm1vdmVUbyh0LngsdC55KSx2LmxpbmVUbyhlLngsZS55KSx2LnN0cm9rZSgpKToodD10aGlzLl9jb252ZXJ0M0R0bzJEKG5ldyBsKHRoaXMueE1pbixpLmdldEN1cnJlbnQoKSx0aGlzLnpNaW4pKSxlPXRoaXMuX2NvbnZlcnQzRHRvMkQobmV3IGwodGhpcy54TWluK3ksaS5nZXRDdXJyZW50KCksdGhpcy56TWluKSksdi5zdHJva2VTdHlsZT10aGlzLmF4aXNDb2xvcix2LmJlZ2luUGF0aCgpLHYubW92ZVRvKHQueCx0LnkpLHYubGluZVRvKGUueCxlLnkpLHYuc3Ryb2tlKCksdD10aGlzLl9jb252ZXJ0M0R0bzJEKG5ldyBsKHRoaXMueE1heCxpLmdldEN1cnJlbnQoKSx0aGlzLnpNaW4pKSxlPXRoaXMuX2NvbnZlcnQzRHRvMkQobmV3IGwodGhpcy54TWF4LXksaS5nZXRDdXJyZW50KCksdGhpcy56TWluKSksdi5zdHJva2VTdHlsZT10aGlzLmF4aXNDb2xvcix2LmJlZ2luUGF0aCgpLHYubW92ZVRvKHQueCx0LnkpLHYubGluZVRvKGUueCxlLnkpLHYuc3Ryb2tlKCkpLHM9TWF0aC5zaW4odyk+MD90aGlzLnhNaW46dGhpcy54TWF4LG49dGhpcy5fY29udmVydDNEdG8yRChuZXcgbChzLGkuZ2V0Q3VycmVudCgpLHRoaXMuek1pbikpLE1hdGguY29zKDIqdyk8MD8odi50ZXh0QWxpZ249XCJjZW50ZXJcIix2LnRleHRCYXNlbGluZT1cInRvcFwiLG4ueSs9Yik6TWF0aC5zaW4oMip3KT4wPyh2LnRleHRBbGlnbj1cInJpZ2h0XCIsdi50ZXh0QmFzZWxpbmU9XCJtaWRkbGVcIik6KHYudGV4dEFsaWduPVwibGVmdFwiLHYudGV4dEJhc2VsaW5lPVwibWlkZGxlXCIpLHYuZmlsbFN0eWxlPXRoaXMuYXhpc0NvbG9yLHYuZmlsbFRleHQoXCIgIFwiK3RoaXMueVZhbHVlTGFiZWwoaS5nZXRDdXJyZW50KCkpK1wiICBcIixuLngsbi55KSxpLm5leHQoKTtmb3Iodi5saW5lV2lkdGg9MSxvPXZvaWQgMD09PXRoaXMuZGVmYXVsdFpTdGVwLGk9bmV3IG0odGhpcy56TWluLHRoaXMuek1heCx0aGlzLnpTdGVwLG8pLGkuc3RhcnQoKSxpLmdldEN1cnJlbnQoKTx0aGlzLnpNaW4mJmkubmV4dCgpLHM9TWF0aC5jb3Modyk+MD90aGlzLnhNaW46dGhpcy54TWF4LHI9TWF0aC5zaW4odyk8MD90aGlzLnlNaW46dGhpcy55TWF4OyFpLmVuZCgpOyl0PXRoaXMuX2NvbnZlcnQzRHRvMkQobmV3IGwocyxyLGkuZ2V0Q3VycmVudCgpKSksdi5zdHJva2VTdHlsZT10aGlzLmF4aXNDb2xvcix2LmJlZ2luUGF0aCgpLHYubW92ZVRvKHQueCx0LnkpLHYubGluZVRvKHQueC1iLHQueSksdi5zdHJva2UoKSx2LnRleHRBbGlnbj1cInJpZ2h0XCIsdi50ZXh0QmFzZWxpbmU9XCJtaWRkbGVcIix2LmZpbGxTdHlsZT10aGlzLmF4aXNDb2xvcix2LmZpbGxUZXh0KHRoaXMuelZhbHVlTGFiZWwoaS5nZXRDdXJyZW50KCkpK1wiIFwiLHQueC01LHQueSksaS5uZXh0KCk7di5saW5lV2lkdGg9MSx0PXRoaXMuX2NvbnZlcnQzRHRvMkQobmV3IGwocyxyLHRoaXMuek1pbikpLGU9dGhpcy5fY29udmVydDNEdG8yRChuZXcgbChzLHIsdGhpcy56TWF4KSksdi5zdHJva2VTdHlsZT10aGlzLmF4aXNDb2xvcix2LmJlZ2luUGF0aCgpLHYubW92ZVRvKHQueCx0LnkpLHYubGluZVRvKGUueCxlLnkpLHYuc3Ryb2tlKCksdi5saW5lV2lkdGg9MSxjPXRoaXMuX2NvbnZlcnQzRHRvMkQobmV3IGwodGhpcy54TWluLHRoaXMueU1pbix0aGlzLnpNaW4pKSxwPXRoaXMuX2NvbnZlcnQzRHRvMkQobmV3IGwodGhpcy54TWF4LHRoaXMueU1pbix0aGlzLnpNaW4pKSx2LnN0cm9rZVN0eWxlPXRoaXMuYXhpc0NvbG9yLHYuYmVnaW5QYXRoKCksdi5tb3ZlVG8oYy54LGMueSksdi5saW5lVG8ocC54LHAueSksdi5zdHJva2UoKSxjPXRoaXMuX2NvbnZlcnQzRHRvMkQobmV3IGwodGhpcy54TWluLHRoaXMueU1heCx0aGlzLnpNaW4pKSxwPXRoaXMuX2NvbnZlcnQzRHRvMkQobmV3IGwodGhpcy54TWF4LHRoaXMueU1heCx0aGlzLnpNaW4pKSx2LnN0cm9rZVN0eWxlPXRoaXMuYXhpc0NvbG9yLHYuYmVnaW5QYXRoKCksdi5tb3ZlVG8oYy54LGMueSksdi5saW5lVG8ocC54LHAueSksdi5zdHJva2UoKSx2LmxpbmVXaWR0aD0xLHQ9dGhpcy5fY29udmVydDNEdG8yRChuZXcgbCh0aGlzLnhNaW4sdGhpcy55TWluLHRoaXMuek1pbikpLGU9dGhpcy5fY29udmVydDNEdG8yRChuZXcgbCh0aGlzLnhNaW4sdGhpcy55TWF4LHRoaXMuek1pbikpLHYuc3Ryb2tlU3R5bGU9dGhpcy5heGlzQ29sb3Isdi5iZWdpblBhdGgoKSx2Lm1vdmVUbyh0LngsdC55KSx2LmxpbmVUbyhlLngsZS55KSx2LnN0cm9rZSgpLHQ9dGhpcy5fY29udmVydDNEdG8yRChuZXcgbCh0aGlzLnhNYXgsdGhpcy55TWluLHRoaXMuek1pbikpLGU9dGhpcy5fY29udmVydDNEdG8yRChuZXcgbCh0aGlzLnhNYXgsdGhpcy55TWF4LHRoaXMuek1pbikpLHYuc3Ryb2tlU3R5bGU9dGhpcy5heGlzQ29sb3Isdi5iZWdpblBhdGgoKSx2Lm1vdmVUbyh0LngsdC55KSx2LmxpbmVUbyhlLngsZS55KSx2LnN0cm9rZSgpO3ZhciB4PXRoaXMueExhYmVsO3gubGVuZ3RoPjAmJih1PS4xL3RoaXMuc2NhbGUueSxzPSh0aGlzLnhNaW4rdGhpcy54TWF4KS8yLHI9TWF0aC5jb3Modyk+MD90aGlzLnlNaW4tdTp0aGlzLnlNYXgrdSxuPXRoaXMuX2NvbnZlcnQzRHRvMkQobmV3IGwocyxyLHRoaXMuek1pbikpLE1hdGguY29zKDIqdyk+MD8odi50ZXh0QWxpZ249XCJjZW50ZXJcIix2LnRleHRCYXNlbGluZT1cInRvcFwiKTpNYXRoLnNpbigyKncpPDA/KHYudGV4dEFsaWduPVwicmlnaHRcIix2LnRleHRCYXNlbGluZT1cIm1pZGRsZVwiKToodi50ZXh0QWxpZ249XCJsZWZ0XCIsdi50ZXh0QmFzZWxpbmU9XCJtaWRkbGVcIiksdi5maWxsU3R5bGU9dGhpcy5heGlzQ29sb3Isdi5maWxsVGV4dCh4LG4ueCxuLnkpKTt2YXIgaz10aGlzLnlMYWJlbDtrLmxlbmd0aD4wJiYoZD0uMS90aGlzLnNjYWxlLngscz1NYXRoLnNpbih3KT4wP3RoaXMueE1pbi1kOnRoaXMueE1heCtkLHI9KHRoaXMueU1pbit0aGlzLnlNYXgpLzIsbj10aGlzLl9jb252ZXJ0M0R0bzJEKG5ldyBsKHMscix0aGlzLnpNaW4pKSxNYXRoLmNvcygyKncpPDA/KHYudGV4dEFsaWduPVwiY2VudGVyXCIsdi50ZXh0QmFzZWxpbmU9XCJ0b3BcIik6TWF0aC5zaW4oMip3KT4wPyh2LnRleHRBbGlnbj1cInJpZ2h0XCIsdi50ZXh0QmFzZWxpbmU9XCJtaWRkbGVcIik6KHYudGV4dEFsaWduPVwibGVmdFwiLHYudGV4dEJhc2VsaW5lPVwibWlkZGxlXCIpLHYuZmlsbFN0eWxlPXRoaXMuYXhpc0NvbG9yLHYuZmlsbFRleHQoayxuLngsbi55KSk7dmFyIE89dGhpcy56TGFiZWw7Ty5sZW5ndGg+MCYmKGg9MzAscz1NYXRoLmNvcyh3KT4wP3RoaXMueE1pbjp0aGlzLnhNYXgscj1NYXRoLnNpbih3KTwwP3RoaXMueU1pbjp0aGlzLnlNYXgsYT0odGhpcy56TWluK3RoaXMuek1heCkvMixuPXRoaXMuX2NvbnZlcnQzRHRvMkQobmV3IGwocyxyLGEpKSx2LnRleHRBbGlnbj1cInJpZ2h0XCIsdi50ZXh0QmFzZWxpbmU9XCJtaWRkbGVcIix2LmZpbGxTdHlsZT10aGlzLmF4aXNDb2xvcix2LmZpbGxUZXh0KE8sbi54LWgsbi55KSl9LG8ucHJvdG90eXBlLl9oc3YycmdiPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbyxuLHMscixhLGg7c3dpdGNoKHI9aSplLGE9TWF0aC5mbG9vcih0LzYwKSxoPXIqKDEtTWF0aC5hYnModC82MCUyLTEpKSxhKXtjYXNlIDA6bz1yLG49aCxzPTA7YnJlYWs7Y2FzZSAxOm89aCxuPXIscz0wO2JyZWFrO2Nhc2UgMjpvPTAsbj1yLHM9aDticmVhaztjYXNlIDM6bz0wLG49aCxzPXI7YnJlYWs7Y2FzZSA0Om89aCxuPTAscz1yO2JyZWFrO2Nhc2UgNTpvPXIsbj0wLHM9aDticmVhaztkZWZhdWx0Om89MCxuPTAscz0wfXJldHVyblwiUkdCKFwiK3BhcnNlSW50KDI1NSpvKStcIixcIitwYXJzZUludCgyNTUqbikrXCIsXCIrcGFyc2VJbnQoMjU1KnMpK1wiKVwifSxvLnByb3RvdHlwZS5fcmVkcmF3RGF0YUdyaWQ9ZnVuY3Rpb24oKXt2YXIgdCxlLGksbixzLHIsYSxoLGQsdSxjLHAsZj10aGlzLmZyYW1lLmNhbnZhcyxtPWYuZ2V0Q29udGV4dChcIjJkXCIpO2lmKG0ubGluZUpvaW49XCJyb3VuZFwiLG0ubGluZUNhcD1cInJvdW5kXCIsISh2b2lkIDA9PT10aGlzLmRhdGFQb2ludHN8fHRoaXMuZGF0YVBvaW50cy5sZW5ndGg8PTApKXtmb3Iocz0wO3M8dGhpcy5kYXRhUG9pbnRzLmxlbmd0aDtzKyspe3ZhciB2PXRoaXMuX2NvbnZlcnRQb2ludFRvVHJhbnNsYXRpb24odGhpcy5kYXRhUG9pbnRzW3NdLnBvaW50KSxnPXRoaXMuX2NvbnZlcnRUcmFuc2xhdGlvblRvU2NyZWVuKHYpO3RoaXMuZGF0YVBvaW50c1tzXS50cmFucz12LHRoaXMuZGF0YVBvaW50c1tzXS5zY3JlZW49Zzt2YXIgeT10aGlzLl9jb252ZXJ0UG9pbnRUb1RyYW5zbGF0aW9uKHRoaXMuZGF0YVBvaW50c1tzXS5ib3R0b20pO3RoaXMuZGF0YVBvaW50c1tzXS5kaXN0PXRoaXMuc2hvd1BlcnNwZWN0aXZlP3kubGVuZ3RoKCk6LXkuen12YXIgYj1mdW5jdGlvbih0LGUpe3JldHVybiBlLmRpc3QtdC5kaXN0fTtpZih0aGlzLmRhdGFQb2ludHMuc29ydChiKSx0aGlzLnN0eWxlPT09by5TVFlMRS5TVVJGQUNFKXtmb3Iocz0wO3M8dGhpcy5kYXRhUG9pbnRzLmxlbmd0aDtzKyspaWYodD10aGlzLmRhdGFQb2ludHNbc10sZT10aGlzLmRhdGFQb2ludHNbc10ucG9pbnRSaWdodCxpPXRoaXMuZGF0YVBvaW50c1tzXS5wb2ludFRvcCxuPXRoaXMuZGF0YVBvaW50c1tzXS5wb2ludENyb3NzLHZvaWQgMCE9PXQmJnZvaWQgMCE9PWUmJnZvaWQgMCE9PWkmJnZvaWQgMCE9PW4pe2lmKHRoaXMuc2hvd0dyYXlCb3R0b218fHRoaXMuc2hvd1NoYWRvdyl7dmFyIHc9bC5zdWJ0cmFjdChuLnRyYW5zLHQudHJhbnMpLF89bC5zdWJ0cmFjdChpLnRyYW5zLGUudHJhbnMpLHg9bC5jcm9zc1Byb2R1Y3QodyxfKSxrPXgubGVuZ3RoKCk7cj14Lno+MH1lbHNlIHI9ITA7cj8ocD0odC5wb2ludC56K2UucG9pbnQueitpLnBvaW50Lnorbi5wb2ludC56KS80LGQ9MjQwKigxLShwLXRoaXMuek1pbikqdGhpcy5zY2FsZS56L3RoaXMudmVydGljYWxSYXRpbyksdT0xLHRoaXMuc2hvd1NoYWRvdz8oYz1NYXRoLm1pbigxK3gueC9rLzIsMSksYT10aGlzLl9oc3YycmdiKGQsdSxjKSxoPWEpOihjPTEsYT10aGlzLl9oc3YycmdiKGQsdSxjKSxoPXRoaXMuYXhpc0NvbG9yKSk6KGE9XCJncmF5XCIsaD10aGlzLmF4aXNDb2xvciksbS5saW5lV2lkdGg9dGhpcy5fZ2V0U3Ryb2tlV2lkdGgodCksbS5maWxsU3R5bGU9YSxtLnN0cm9rZVN0eWxlPWgsbS5iZWdpblBhdGgoKSxtLm1vdmVUbyh0LnNjcmVlbi54LHQuc2NyZWVuLnkpLG0ubGluZVRvKGUuc2NyZWVuLngsZS5zY3JlZW4ueSksbS5saW5lVG8obi5zY3JlZW4ueCxuLnNjcmVlbi55KSxtLmxpbmVUbyhpLnNjcmVlbi54LGkuc2NyZWVuLnkpLG0uY2xvc2VQYXRoKCksbS5maWxsKCksbS5zdHJva2UoKX19ZWxzZSBmb3Iocz0wO3M8dGhpcy5kYXRhUG9pbnRzLmxlbmd0aDtzKyspdD10aGlzLmRhdGFQb2ludHNbc10sZT10aGlzLmRhdGFQb2ludHNbc10ucG9pbnRSaWdodCxpPXRoaXMuZGF0YVBvaW50c1tzXS5wb2ludFRvcCx2b2lkIDAhPT10JiZ2b2lkIDAhPT1lJiYocD0odC5wb2ludC56K2UucG9pbnQueikvMixkPTI0MCooMS0ocC10aGlzLnpNaW4pKnRoaXMuc2NhbGUuei90aGlzLnZlcnRpY2FsUmF0aW8pLG0ubGluZVdpZHRoPTIqdGhpcy5fZ2V0U3Ryb2tlV2lkdGgodCksbS5zdHJva2VTdHlsZT10aGlzLl9oc3YycmdiKGQsMSwxKSxtLmJlZ2luUGF0aCgpLG0ubW92ZVRvKHQuc2NyZWVuLngsdC5zY3JlZW4ueSksbS5saW5lVG8oZS5zY3JlZW4ueCxlLnNjcmVlbi55KSxtLnN0cm9rZSgpKSx2b2lkIDAhPT10JiZ2b2lkIDAhPT1pJiYocD0odC5wb2ludC56K2kucG9pbnQueikvMixkPTI0MCooMS0ocC10aGlzLnpNaW4pKnRoaXMuc2NhbGUuei90aGlzLnZlcnRpY2FsUmF0aW8pLG0ubGluZVdpZHRoPTIqdGhpcy5fZ2V0U3Ryb2tlV2lkdGgodCksbS5zdHJva2VTdHlsZT10aGlzLl9oc3YycmdiKGQsMSwxKSxtLmJlZ2luUGF0aCgpLG0ubW92ZVRvKHQuc2NyZWVuLngsdC5zY3JlZW4ueSksbS5saW5lVG8oaS5zY3JlZW4ueCxpLnNjcmVlbi55KSxtLnN0cm9rZSgpKX19LG8ucHJvdG90eXBlLl9nZXRTdHJva2VXaWR0aD1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dD90aGlzLnNob3dQZXJzcGVjdGl2ZT8xLy10LnRyYW5zLnoqdGhpcy5kYXRhQ29sb3Iuc3Ryb2tlV2lkdGg6LSh0aGlzLmV5ZS56L3RoaXMuY2FtZXJhLmdldEFybUxlbmd0aCgpKSp0aGlzLmRhdGFDb2xvci5zdHJva2VXaWR0aDp0aGlzLmRhdGFDb2xvci5zdHJva2VXaWR0aH0sby5wcm90b3R5cGUuX3JlZHJhd0RhdGFEb3Q9ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuZnJhbWUuY2FudmFzLGk9ZS5nZXRDb250ZXh0KFwiMmRcIik7aWYoISh2b2lkIDA9PT10aGlzLmRhdGFQb2ludHN8fHRoaXMuZGF0YVBvaW50cy5sZW5ndGg8PTApKXtmb3IodD0wO3Q8dGhpcy5kYXRhUG9pbnRzLmxlbmd0aDt0Kyspe3ZhciBuPXRoaXMuX2NvbnZlcnRQb2ludFRvVHJhbnNsYXRpb24odGhpcy5kYXRhUG9pbnRzW3RdLnBvaW50KSxzPXRoaXMuX2NvbnZlcnRUcmFuc2xhdGlvblRvU2NyZWVuKG4pO3RoaXMuZGF0YVBvaW50c1t0XS50cmFucz1uLHRoaXMuZGF0YVBvaW50c1t0XS5zY3JlZW49czt2YXIgcj10aGlzLl9jb252ZXJ0UG9pbnRUb1RyYW5zbGF0aW9uKHRoaXMuZGF0YVBvaW50c1t0XS5ib3R0b20pO3RoaXMuZGF0YVBvaW50c1t0XS5kaXN0PXRoaXMuc2hvd1BlcnNwZWN0aXZlP3IubGVuZ3RoKCk6LXIuen12YXIgYT1mdW5jdGlvbih0LGUpe3JldHVybiBlLmRpc3QtdC5kaXN0fTt0aGlzLmRhdGFQb2ludHMuc29ydChhKTt2YXIgaD0uMDIqdGhpcy5mcmFtZS5jbGllbnRXaWR0aDtmb3IodD0wO3Q8dGhpcy5kYXRhUG9pbnRzLmxlbmd0aDt0Kyspe3ZhciBkPXRoaXMuZGF0YVBvaW50c1t0XTtpZih0aGlzLnN0eWxlPT09by5TVFlMRS5ET1RMSU5FKXt2YXIgbD10aGlzLl9jb252ZXJ0M0R0bzJEKGQuYm90dG9tKTtpLmxpbmVXaWR0aD0xLGkuc3Ryb2tlU3R5bGU9dGhpcy5ncmlkQ29sb3IsaS5iZWdpblBhdGgoKSxpLm1vdmVUbyhsLngsbC55KSxpLmxpbmVUbyhkLnNjcmVlbi54LGQuc2NyZWVuLnkpLGkuc3Ryb2tlKCl9dmFyIHU7dT10aGlzLnN0eWxlPT09by5TVFlMRS5ET1RTSVpFP2gvMisyKmgqKGQucG9pbnQudmFsdWUtdGhpcy52YWx1ZU1pbikvKHRoaXMudmFsdWVNYXgtdGhpcy52YWx1ZU1pbik6aDt2YXIgYztjPXRoaXMuc2hvd1BlcnNwZWN0aXZlP3UvLWQudHJhbnMuejp1Ki0odGhpcy5leWUuei90aGlzLmNhbWVyYS5nZXRBcm1MZW5ndGgoKSksMD5jJiYoYz0wKTt2YXIgcCxmLG07dGhpcy5zdHlsZT09PW8uU1RZTEUuRE9UQ09MT1I/KHA9MjQwKigxLShkLnBvaW50LnZhbHVlLXRoaXMudmFsdWVNaW4pKnRoaXMuc2NhbGUudmFsdWUpLGY9dGhpcy5faHN2MnJnYihwLDEsMSksbT10aGlzLl9oc3YycmdiKHAsMSwuOCkpOnRoaXMuc3R5bGU9PT1vLlNUWUxFLkRPVFNJWkU/KGY9dGhpcy5kYXRhQ29sb3IuZmlsbCxtPXRoaXMuZGF0YUNvbG9yLnN0cm9rZSk6KHA9MjQwKigxLShkLnBvaW50LnotdGhpcy56TWluKSp0aGlzLnNjYWxlLnovdGhpcy52ZXJ0aWNhbFJhdGlvKSxmPXRoaXMuX2hzdjJyZ2IocCwxLDEpLG09dGhpcy5faHN2MnJnYihwLDEsLjgpKSxpLmxpbmVXaWR0aD10aGlzLl9nZXRTdHJva2VXaWR0aChkKSxpLnN0cm9rZVN0eWxlPW0saS5maWxsU3R5bGU9ZixpLmJlZ2luUGF0aCgpLGkuYXJjKGQuc2NyZWVuLngsZC5zY3JlZW4ueSxjLDAsMipNYXRoLlBJLCEwKSxpLmZpbGwoKSxpLnN0cm9rZSgpfX19LG8ucHJvdG90eXBlLl9yZWRyYXdEYXRhQmFyPWZ1bmN0aW9uKCl7dmFyIHQsZSxpLG4scz10aGlzLmZyYW1lLmNhbnZhcyxyPXMuZ2V0Q29udGV4dChcIjJkXCIpO2lmKCEodm9pZCAwPT09dGhpcy5kYXRhUG9pbnRzfHx0aGlzLmRhdGFQb2ludHMubGVuZ3RoPD0wKSl7Zm9yKHQ9MDt0PHRoaXMuZGF0YVBvaW50cy5sZW5ndGg7dCsrKXt2YXIgYT10aGlzLl9jb252ZXJ0UG9pbnRUb1RyYW5zbGF0aW9uKHRoaXMuZGF0YVBvaW50c1t0XS5wb2ludCksaD10aGlzLl9jb252ZXJ0VHJhbnNsYXRpb25Ub1NjcmVlbihhKTt0aGlzLmRhdGFQb2ludHNbdF0udHJhbnM9YSx0aGlzLmRhdGFQb2ludHNbdF0uc2NyZWVuPWg7dmFyIGQ9dGhpcy5fY29udmVydFBvaW50VG9UcmFuc2xhdGlvbih0aGlzLmRhdGFQb2ludHNbdF0uYm90dG9tKTt0aGlzLmRhdGFQb2ludHNbdF0uZGlzdD10aGlzLnNob3dQZXJzcGVjdGl2ZT9kLmxlbmd0aCgpOi1kLnp9dmFyIHU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5kaXN0LXQuZGlzdH07dGhpcy5kYXRhUG9pbnRzLnNvcnQodSksci5saW5lSm9pbj1cInJvdW5kXCIsci5saW5lQ2FwPVwicm91bmRcIjt2YXIgYz10aGlzLnhCYXJXaWR0aC8yLHA9dGhpcy55QmFyV2lkdGgvMjtmb3IodD0wO3Q8dGhpcy5kYXRhUG9pbnRzLmxlbmd0aDt0Kyspe3ZhciBmLG0sdixnPXRoaXMuZGF0YVBvaW50c1t0XTt0aGlzLnN0eWxlPT09by5TVFlMRS5CQVJDT0xPUj8oZj0yNDAqKDEtKGcucG9pbnQudmFsdWUtdGhpcy52YWx1ZU1pbikqdGhpcy5zY2FsZS52YWx1ZSksbT10aGlzLl9oc3YycmdiKGYsMSwxKSx2PXRoaXMuX2hzdjJyZ2IoZiwxLC44KSk6dGhpcy5zdHlsZT09PW8uU1RZTEUuQkFSU0laRT8obT10aGlzLmRhdGFDb2xvci5maWxsLHY9dGhpcy5kYXRhQ29sb3Iuc3Ryb2tlKTooZj0yNDAqKDEtKGcucG9pbnQuei10aGlzLnpNaW4pKnRoaXMuc2NhbGUuei90aGlzLnZlcnRpY2FsUmF0aW8pLG09dGhpcy5faHN2MnJnYihmLDEsMSksdj10aGlzLl9oc3YycmdiKGYsMSwuOCkpLHRoaXMuc3R5bGU9PT1vLlNUWUxFLkJBUlNJWkUmJihjPXRoaXMueEJhcldpZHRoLzIqKChnLnBvaW50LnZhbHVlLXRoaXMudmFsdWVNaW4pLyh0aGlzLnZhbHVlTWF4LXRoaXMudmFsdWVNaW4pKi44Ky4yKSxwPXRoaXMueUJhcldpZHRoLzIqKChnLnBvaW50LnZhbHVlLXRoaXMudmFsdWVNaW4pLyh0aGlzLnZhbHVlTWF4LXRoaXMudmFsdWVNaW4pKi44Ky4yKSk7dmFyIHk9dGhpcyxiPWcucG9pbnQsdz1be3BvaW50Om5ldyBsKGIueC1jLGIueS1wLGIueil9LHtwb2ludDpuZXcgbChiLngrYyxiLnktcCxiLnopfSx7cG9pbnQ6bmV3IGwoYi54K2MsYi55K3AsYi56KX0se3BvaW50Om5ldyBsKGIueC1jLGIueStwLGIueil9XSxfPVt7cG9pbnQ6bmV3IGwoYi54LWMsYi55LXAsdGhpcy56TWluKX0se3BvaW50Om5ldyBsKGIueCtjLGIueS1wLHRoaXMuek1pbil9LHtwb2ludDpuZXcgbChiLngrYyxiLnkrcCx0aGlzLnpNaW4pfSx7cG9pbnQ6bmV3IGwoYi54LWMsYi55K3AsdGhpcy56TWluKX1dO3cuZm9yRWFjaChmdW5jdGlvbih0KXt0LnNjcmVlbj15Ll9jb252ZXJ0M0R0bzJEKHQucG9pbnQpfSksXy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3Quc2NyZWVuPXkuX2NvbnZlcnQzRHRvMkQodC5wb2ludCl9KTt2YXIgeD1be2Nvcm5lcnM6dyxjZW50ZXI6bC5hdmcoX1swXS5wb2ludCxfWzJdLnBvaW50KX0se2Nvcm5lcnM6W3dbMF0sd1sxXSxfWzFdLF9bMF1dLGNlbnRlcjpsLmF2ZyhfWzFdLnBvaW50LF9bMF0ucG9pbnQpfSx7Y29ybmVyczpbd1sxXSx3WzJdLF9bMl0sX1sxXV0sY2VudGVyOmwuYXZnKF9bMl0ucG9pbnQsX1sxXS5wb2ludCl9LHtjb3JuZXJzOlt3WzJdLHdbM10sX1szXSxfWzJdXSxjZW50ZXI6bC5hdmcoX1szXS5wb2ludCxfWzJdLnBvaW50KX0se2Nvcm5lcnM6W3dbM10sd1swXSxfWzBdLF9bM11dLGNlbnRlcjpsLmF2ZyhfWzBdLnBvaW50LF9bM10ucG9pbnQpfV07Zm9yKGcuc3VyZmFjZXM9eCxlPTA7ZTx4Lmxlbmd0aDtlKyspe2k9eFtlXTt2YXIgaz10aGlzLl9jb252ZXJ0UG9pbnRUb1RyYW5zbGF0aW9uKGkuY2VudGVyKTtpLmRpc3Q9dGhpcy5zaG93UGVyc3BlY3RpdmU/ay5sZW5ndGgoKTotay56fWZvcih4LnNvcnQoZnVuY3Rpb24odCxlKXt2YXIgaT1lLmRpc3QtdC5kaXN0O3JldHVybiBpP2k6dC5jb3JuZXJzPT09dz8xOmUuY29ybmVycz09PXc/LTE6MH0pLHIubGluZVdpZHRoPXRoaXMuX2dldFN0cm9rZVdpZHRoKGcpLHIuc3Ryb2tlU3R5bGU9dixyLmZpbGxTdHlsZT1tLGU9MjtlPHgubGVuZ3RoO2UrKylpPXhbZV0sbj1pLmNvcm5lcnMsci5iZWdpblBhdGgoKSxyLm1vdmVUbyhuWzNdLnNjcmVlbi54LG5bM10uc2NyZWVuLnkpLHIubGluZVRvKG5bMF0uc2NyZWVuLngsblswXS5zY3JlZW4ueSksci5saW5lVG8oblsxXS5zY3JlZW4ueCxuWzFdLnNjcmVlbi55KSxyLmxpbmVUbyhuWzJdLnNjcmVlbi54LG5bMl0uc2NyZWVuLnkpLHIubGluZVRvKG5bM10uc2NyZWVuLngsblszXS5zY3JlZW4ueSksci5maWxsKCksci5zdHJva2UoKX19fSxvLnByb3RvdHlwZS5fcmVkcmF3RGF0YUxpbmU9ZnVuY3Rpb24oKXt2YXIgdCxlLGk9dGhpcy5mcmFtZS5jYW52YXMsbz1pLmdldENvbnRleHQoXCIyZFwiKTtpZighKHZvaWQgMD09PXRoaXMuZGF0YVBvaW50c3x8dGhpcy5kYXRhUG9pbnRzLmxlbmd0aDw9MCkpe2ZvcihlPTA7ZTx0aGlzLmRhdGFQb2ludHMubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5fY29udmVydFBvaW50VG9UcmFuc2xhdGlvbih0aGlzLmRhdGFQb2ludHNbZV0ucG9pbnQpLHM9dGhpcy5fY29udmVydFRyYW5zbGF0aW9uVG9TY3JlZW4obik7dGhpcy5kYXRhUG9pbnRzW2VdLnRyYW5zPW4sdGhpcy5kYXRhUG9pbnRzW2VdLnNjcmVlbj1zfWlmKHRoaXMuZGF0YVBvaW50cy5sZW5ndGg+MCl7Zm9yKHQ9dGhpcy5kYXRhUG9pbnRzWzBdLG8ubGluZVdpZHRoPXRoaXMuX2dldFN0cm9rZVdpZHRoKHQpLG8ubGluZUpvaW49XCJyb3VuZFwiLG8ubGluZUNhcD1cInJvdW5kXCIsby5zdHJva2VTdHlsZT10aGlzLmRhdGFDb2xvci5zdHJva2Usby5iZWdpblBhdGgoKSxvLm1vdmVUbyh0LnNjcmVlbi54LHQuc2NyZWVuLnkpLGU9MTtlPHRoaXMuZGF0YVBvaW50cy5sZW5ndGg7ZSsrKXQ9dGhpcy5kYXRhUG9pbnRzW2VdLG8ubGluZVRvKHQuc2NyZWVuLngsdC5zY3JlZW4ueSk7by5zdHJva2UoKX19fSxvLnByb3RvdHlwZS5fb25Nb3VzZURvd249ZnVuY3Rpb24odCl7aWYodD10fHx3aW5kb3cuZXZlbnQsdGhpcy5sZWZ0QnV0dG9uRG93biYmdGhpcy5fb25Nb3VzZVVwKHQpLHRoaXMubGVmdEJ1dHRvbkRvd249dC53aGljaD8xPT09dC53aGljaDoxPT09dC5idXR0b24sdGhpcy5sZWZ0QnV0dG9uRG93bnx8dGhpcy50b3VjaERvd24pe3RoaXMuc3RhcnRNb3VzZVg9bih0KSx0aGlzLnN0YXJ0TW91c2VZPXModCksdGhpcy5zdGFydFN0YXJ0PW5ldyBEYXRlKHRoaXMuc3RhcnQpLHRoaXMuc3RhcnRFbmQ9bmV3IERhdGUodGhpcy5lbmQpLHRoaXMuc3RhcnRBcm1Sb3RhdGlvbj10aGlzLmNhbWVyYS5nZXRBcm1Sb3RhdGlvbigpLHRoaXMuZnJhbWUuc3R5bGUuY3Vyc29yPVwibW92ZVwiO3ZhciBlPXRoaXM7dGhpcy5vbm1vdXNlbW92ZT1mdW5jdGlvbih0KXtlLl9vbk1vdXNlTW92ZSh0KX0sdGhpcy5vbm1vdXNldXA9ZnVuY3Rpb24odCl7ZS5fb25Nb3VzZVVwKHQpfSxkLmFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsXCJtb3VzZW1vdmVcIixlLm9ubW91c2Vtb3ZlKSxkLmFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsXCJtb3VzZXVwXCIsZS5vbm1vdXNldXApLGQucHJldmVudERlZmF1bHQodCl9fSxvLnByb3RvdHlwZS5fb25Nb3VzZU1vdmU9ZnVuY3Rpb24odCl7dD10fHx3aW5kb3cuZXZlbnQ7dmFyIGU9cGFyc2VGbG9hdChuKHQpKS10aGlzLnN0YXJ0TW91c2VYLGk9cGFyc2VGbG9hdChzKHQpKS10aGlzLnN0YXJ0TW91c2VZLG89dGhpcy5zdGFydEFybVJvdGF0aW9uLmhvcml6b250YWwrZS8yMDAscj10aGlzLnN0YXJ0QXJtUm90YXRpb24udmVydGljYWwraS8yMDAsYT00LGg9TWF0aC5zaW4oYS8zNjAqMipNYXRoLlBJKTtcbk1hdGguYWJzKE1hdGguc2luKG8pKTxoJiYobz1NYXRoLnJvdW5kKG8vTWF0aC5QSSkqTWF0aC5QSS0uMDAxKSxNYXRoLmFicyhNYXRoLmNvcyhvKSk8aCYmKG89KE1hdGgucm91bmQoby9NYXRoLlBJLS41KSsuNSkqTWF0aC5QSS0uMDAxKSxNYXRoLmFicyhNYXRoLnNpbihyKSk8aCYmKHI9TWF0aC5yb3VuZChyL01hdGguUEkpKk1hdGguUEkpLE1hdGguYWJzKE1hdGguY29zKHIpKTxoJiYocj0oTWF0aC5yb3VuZChyL01hdGguUEktLjUpKy41KSpNYXRoLlBJKSx0aGlzLmNhbWVyYS5zZXRBcm1Sb3RhdGlvbihvLHIpLHRoaXMucmVkcmF3KCk7dmFyIGw9dGhpcy5nZXRDYW1lcmFQb3NpdGlvbigpO3RoaXMuZW1pdChcImNhbWVyYVBvc2l0aW9uQ2hhbmdlXCIsbCksZC5wcmV2ZW50RGVmYXVsdCh0KX0sby5wcm90b3R5cGUuX29uTW91c2VVcD1mdW5jdGlvbih0KXt0aGlzLmZyYW1lLnN0eWxlLmN1cnNvcj1cImF1dG9cIix0aGlzLmxlZnRCdXR0b25Eb3duPSExLGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihkb2N1bWVudCxcIm1vdXNlbW92ZVwiLHRoaXMub25tb3VzZW1vdmUpLGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihkb2N1bWVudCxcIm1vdXNldXBcIix0aGlzLm9ubW91c2V1cCksZC5wcmV2ZW50RGVmYXVsdCh0KX0sby5wcm90b3R5cGUuX29uVG9vbHRpcD1mdW5jdGlvbih0KXt2YXIgZT0zMDAsaT10aGlzLmZyYW1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG89bih0KS1pLmxlZnQscj1zKHQpLWkudG9wO2lmKHRoaXMuc2hvd1Rvb2x0aXApe2lmKHRoaXMudG9vbHRpcFRpbWVvdXQmJmNsZWFyVGltZW91dCh0aGlzLnRvb2x0aXBUaW1lb3V0KSx0aGlzLmxlZnRCdXR0b25Eb3duKXJldHVybiB2b2lkIHRoaXMuX2hpZGVUb29sdGlwKCk7aWYodGhpcy50b29sdGlwJiZ0aGlzLnRvb2x0aXAuZGF0YVBvaW50KXt2YXIgYT10aGlzLl9kYXRhUG9pbnRGcm9tWFkobyxyKTthIT09dGhpcy50b29sdGlwLmRhdGFQb2ludCYmKGE/dGhpcy5fc2hvd1Rvb2x0aXAoYSk6dGhpcy5faGlkZVRvb2x0aXAoKSl9ZWxzZXt2YXIgaD10aGlzO3RoaXMudG9vbHRpcFRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe2gudG9vbHRpcFRpbWVvdXQ9bnVsbDt2YXIgdD1oLl9kYXRhUG9pbnRGcm9tWFkobyxyKTt0JiZoLl9zaG93VG9vbHRpcCh0KX0sZSl9fX0sby5wcm90b3R5cGUuX29uVG91Y2hTdGFydD1mdW5jdGlvbih0KXt0aGlzLnRvdWNoRG93bj0hMDt2YXIgZT10aGlzO3RoaXMub250b3VjaG1vdmU9ZnVuY3Rpb24odCl7ZS5fb25Ub3VjaE1vdmUodCl9LHRoaXMub250b3VjaGVuZD1mdW5jdGlvbih0KXtlLl9vblRvdWNoRW5kKHQpfSxkLmFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsXCJ0b3VjaG1vdmVcIixlLm9udG91Y2htb3ZlKSxkLmFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsXCJ0b3VjaGVuZFwiLGUub250b3VjaGVuZCksdGhpcy5fb25Nb3VzZURvd24odCl9LG8ucHJvdG90eXBlLl9vblRvdWNoTW92ZT1mdW5jdGlvbih0KXt0aGlzLl9vbk1vdXNlTW92ZSh0KX0sby5wcm90b3R5cGUuX29uVG91Y2hFbmQ9ZnVuY3Rpb24odCl7dGhpcy50b3VjaERvd249ITEsZC5yZW1vdmVFdmVudExpc3RlbmVyKGRvY3VtZW50LFwidG91Y2htb3ZlXCIsdGhpcy5vbnRvdWNobW92ZSksZC5yZW1vdmVFdmVudExpc3RlbmVyKGRvY3VtZW50LFwidG91Y2hlbmRcIix0aGlzLm9udG91Y2hlbmQpLHRoaXMuX29uTW91c2VVcCh0KX0sby5wcm90b3R5cGUuX29uV2hlZWw9ZnVuY3Rpb24odCl7dHx8KHQ9d2luZG93LmV2ZW50KTt2YXIgZT0wO2lmKHQud2hlZWxEZWx0YT9lPXQud2hlZWxEZWx0YS8xMjA6dC5kZXRhaWwmJihlPS10LmRldGFpbC8zKSxlKXt2YXIgaT10aGlzLmNhbWVyYS5nZXRBcm1MZW5ndGgoKSxvPWkqKDEtZS8xMCk7dGhpcy5jYW1lcmEuc2V0QXJtTGVuZ3RoKG8pLHRoaXMucmVkcmF3KCksdGhpcy5faGlkZVRvb2x0aXAoKX12YXIgbj10aGlzLmdldENhbWVyYVBvc2l0aW9uKCk7dGhpcy5lbWl0KFwiY2FtZXJhUG9zaXRpb25DaGFuZ2VcIixuKSxkLnByZXZlbnREZWZhdWx0KHQpfSxvLnByb3RvdHlwZS5faW5zaWRlVHJpYW5nbGU9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQpe3JldHVybiB0PjA/MTowPnQ/LTE6MH12YXIgbz1lWzBdLG49ZVsxXSxzPWVbMl0scj1pKChuLngtby54KSoodC55LW8ueSktKG4ueS1vLnkpKih0Lngtby54KSksYT1pKChzLngtbi54KSoodC55LW4ueSktKHMueS1uLnkpKih0Lngtbi54KSksaD1pKChvLngtcy54KSoodC55LXMueSktKG8ueS1zLnkpKih0Lngtcy54KSk7cmV0dXJuISgwIT1yJiYwIT1hJiZyIT1hfHwwIT1hJiYwIT1oJiZhIT1ofHwwIT1yJiYwIT1oJiZyIT1oKX0sby5wcm90b3R5cGUuX2RhdGFQb2ludEZyb21YWT1mdW5jdGlvbih0LGUpe3ZhciBpLG49MTAwLHM9bnVsbCxyPW51bGwsYT1udWxsLGg9bmV3IHUodCxlKTtpZih0aGlzLnN0eWxlPT09by5TVFlMRS5CQVJ8fHRoaXMuc3R5bGU9PT1vLlNUWUxFLkJBUkNPTE9SfHx0aGlzLnN0eWxlPT09by5TVFlMRS5CQVJTSVpFKWZvcihpPXRoaXMuZGF0YVBvaW50cy5sZW5ndGgtMTtpPj0wO2ktLSl7cz10aGlzLmRhdGFQb2ludHNbaV07dmFyIGQ9cy5zdXJmYWNlcztpZihkKWZvcih2YXIgbD1kLmxlbmd0aC0xO2w+PTA7bC0tKXt2YXIgYz1kW2xdLHA9Yy5jb3JuZXJzLGY9W3BbMF0uc2NyZWVuLHBbMV0uc2NyZWVuLHBbMl0uc2NyZWVuXSxtPVtwWzJdLnNjcmVlbixwWzNdLnNjcmVlbixwWzBdLnNjcmVlbl07aWYodGhpcy5faW5zaWRlVHJpYW5nbGUoaCxmKXx8dGhpcy5faW5zaWRlVHJpYW5nbGUoaCxtKSlyZXR1cm4gc319ZWxzZSBmb3IoaT0wO2k8dGhpcy5kYXRhUG9pbnRzLmxlbmd0aDtpKyspe3M9dGhpcy5kYXRhUG9pbnRzW2ldO3ZhciB2PXMuc2NyZWVuO2lmKHYpe3ZhciBnPU1hdGguYWJzKHQtdi54KSx5PU1hdGguYWJzKGUtdi55KSxiPU1hdGguc3FydChnKmcreSp5KTsobnVsbD09PWF8fGE+YikmJm4+YiYmKGE9YixyPXMpfX1yZXR1cm4gcn0sby5wcm90b3R5cGUuX3Nob3dUb29sdGlwPWZ1bmN0aW9uKHQpe3ZhciBlLGksbzt0aGlzLnRvb2x0aXA/KGU9dGhpcy50b29sdGlwLmRvbS5jb250ZW50LGk9dGhpcy50b29sdGlwLmRvbS5saW5lLG89dGhpcy50b29sdGlwLmRvbS5kb3QpOihlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZS5zdHlsZS5wYWRkaW5nPVwiMTBweFwiLGUuc3R5bGUuYm9yZGVyPVwiMXB4IHNvbGlkICM0ZDRkNGRcIixlLnN0eWxlLmNvbG9yPVwiIzFhMWExYVwiLGUuc3R5bGUuYmFja2dyb3VuZD1cInJnYmEoMjU1LDI1NSwyNTUsMC43KVwiLGUuc3R5bGUuYm9yZGVyUmFkaXVzPVwiMnB4XCIsZS5zdHlsZS5ib3hTaGFkb3c9XCI1cHggNXB4IDEwcHggcmdiYSgxMjgsMTI4LDEyOCwwLjUpXCIsaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGkuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGkuc3R5bGUuaGVpZ2h0PVwiNDBweFwiLGkuc3R5bGUud2lkdGg9XCIwXCIsaS5zdHlsZS5ib3JkZXJMZWZ0PVwiMXB4IHNvbGlkICM0ZDRkNGRcIixvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksby5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsby5zdHlsZS5oZWlnaHQ9XCIwXCIsby5zdHlsZS53aWR0aD1cIjBcIixvLnN0eWxlLmJvcmRlcj1cIjVweCBzb2xpZCAjNGQ0ZDRkXCIsby5zdHlsZS5ib3JkZXJSYWRpdXM9XCI1cHhcIix0aGlzLnRvb2x0aXA9e2RhdGFQb2ludDpudWxsLGRvbTp7Y29udGVudDplLGxpbmU6aSxkb3Q6b319KSx0aGlzLl9oaWRlVG9vbHRpcCgpLHRoaXMudG9vbHRpcC5kYXRhUG9pbnQ9dCxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLnNob3dUb29sdGlwP2UuaW5uZXJIVE1MPXRoaXMuc2hvd1Rvb2x0aXAodC5wb2ludCk6ZS5pbm5lckhUTUw9XCI8dGFibGU+PHRyPjx0ZD54OjwvdGQ+PHRkPlwiK3QucG9pbnQueCtcIjwvdGQ+PC90cj48dHI+PHRkPnk6PC90ZD48dGQ+XCIrdC5wb2ludC55K1wiPC90ZD48L3RyPjx0cj48dGQ+ejo8L3RkPjx0ZD5cIit0LnBvaW50LnorXCI8L3RkPjwvdHI+PC90YWJsZT5cIixlLnN0eWxlLmxlZnQ9XCIwXCIsZS5zdHlsZS50b3A9XCIwXCIsdGhpcy5mcmFtZS5hcHBlbmRDaGlsZChlKSx0aGlzLmZyYW1lLmFwcGVuZENoaWxkKGkpLHRoaXMuZnJhbWUuYXBwZW5kQ2hpbGQobyk7dmFyIG49ZS5vZmZzZXRXaWR0aCxzPWUub2Zmc2V0SGVpZ2h0LHI9aS5vZmZzZXRIZWlnaHQsYT1vLm9mZnNldFdpZHRoLGg9by5vZmZzZXRIZWlnaHQsZD10LnNjcmVlbi54LW4vMjtkPU1hdGgubWluKE1hdGgubWF4KGQsMTApLHRoaXMuZnJhbWUuY2xpZW50V2lkdGgtMTAtbiksaS5zdHlsZS5sZWZ0PXQuc2NyZWVuLngrXCJweFwiLGkuc3R5bGUudG9wPXQuc2NyZWVuLnktcitcInB4XCIsZS5zdHlsZS5sZWZ0PWQrXCJweFwiLGUuc3R5bGUudG9wPXQuc2NyZWVuLnktci1zK1wicHhcIixvLnN0eWxlLmxlZnQ9dC5zY3JlZW4ueC1hLzIrXCJweFwiLG8uc3R5bGUudG9wPXQuc2NyZWVuLnktaC8yK1wicHhcIn0sby5wcm90b3R5cGUuX2hpZGVUb29sdGlwPWZ1bmN0aW9uKCl7aWYodGhpcy50b29sdGlwKXt0aGlzLnRvb2x0aXAuZGF0YVBvaW50PW51bGw7Zm9yKHZhciB0IGluIHRoaXMudG9vbHRpcC5kb20paWYodGhpcy50b29sdGlwLmRvbS5oYXNPd25Qcm9wZXJ0eSh0KSl7dmFyIGU9dGhpcy50b29sdGlwLmRvbVt0XTtlJiZlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKX19fSx0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQpe3JldHVybiB0P28odCk6dm9pZCAwfWZ1bmN0aW9uIG8odCl7Zm9yKHZhciBlIGluIGkucHJvdG90eXBlKXRbZV09aS5wcm90b3R5cGVbZV07cmV0dXJuIHR9dC5leHBvcnRzPWksaS5wcm90b3R5cGUub249aS5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fSwodGhpcy5fY2FsbGJhY2tzW3RdPXRoaXMuX2NhbGxiYWNrc1t0XXx8W10pLnB1c2goZSksdGhpc30saS5wcm90b3R5cGUub25jZT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXtvLm9mZih0LGkpLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBvPXRoaXM7cmV0dXJuIHRoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9LGkuZm49ZSx0aGlzLm9uKHQsaSksdGhpc30saS5wcm90b3R5cGUub2ZmPWkucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWkucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1pLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e30sMD09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5fY2FsbGJhY2tzPXt9LHRoaXM7dmFyIGk9dGhpcy5fY2FsbGJhY2tzW3RdO2lmKCFpKXJldHVybiB0aGlzO2lmKDE9PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbdF0sdGhpcztmb3IodmFyIG8sbj0wO248aS5sZW5ndGg7bisrKWlmKG89aVtuXSxvPT09ZXx8by5mbj09PWUpe2kuc3BsaWNlKG4sMSk7YnJlYWt9cmV0dXJuIHRoaXN9LGkucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odCl7dGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e307dmFyIGU9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSksaT10aGlzLl9jYWxsYmFja3NbdF07aWYoaSl7aT1pLnNsaWNlKDApO2Zvcih2YXIgbz0wLG49aS5sZW5ndGg7bj5vOysrbylpW29dLmFwcGx5KHRoaXMsZSl9cmV0dXJuIHRoaXN9LGkucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e30sdGhpcy5fY2FsbGJhY2tzW3RdfHxbXX0saS5wcm90b3R5cGUuaGFzTGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5saXN0ZW5lcnModCkubGVuZ3RofX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQsZSxpKXt0aGlzLng9dm9pZCAwIT09dD90OjAsdGhpcy55PXZvaWQgMCE9PWU/ZTowLHRoaXMuej12b2lkIDAhPT1pP2k6MH1pLnN1YnRyYWN0PWZ1bmN0aW9uKHQsZSl7dmFyIG89bmV3IGk7cmV0dXJuIG8ueD10LngtZS54LG8ueT10LnktZS55LG8uej10LnotZS56LG99LGkuYWRkPWZ1bmN0aW9uKHQsZSl7dmFyIG89bmV3IGk7cmV0dXJuIG8ueD10LngrZS54LG8ueT10LnkrZS55LG8uej10LnorZS56LG99LGkuYXZnPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBpKCh0LngrZS54KS8yLCh0LnkrZS55KS8yLCh0LnorZS56KS8yKX0saS5jcm9zc1Byb2R1Y3Q9ZnVuY3Rpb24odCxlKXt2YXIgbz1uZXcgaTtyZXR1cm4gby54PXQueSplLnotdC56KmUueSxvLnk9dC56KmUueC10LngqZS56LG8uej10LngqZS55LXQueSplLngsb30saS5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkrdGhpcy56KnRoaXMueil9LHQuZXhwb3J0cz1pfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkodCxlKXt0aGlzLng9dm9pZCAwIT09dD90OjAsdGhpcy55PXZvaWQgMCE9PWU/ZTowfXQuZXhwb3J0cz1pfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbygpe3RoaXMuYXJtTG9jYXRpb249bmV3IG4sdGhpcy5hcm1Sb3RhdGlvbj17fSx0aGlzLmFybVJvdGF0aW9uLmhvcml6b250YWw9MCx0aGlzLmFybVJvdGF0aW9uLnZlcnRpY2FsPTAsdGhpcy5hcm1MZW5ndGg9MS43LHRoaXMuY2FtZXJhTG9jYXRpb249bmV3IG4sdGhpcy5jYW1lcmFSb3RhdGlvbj1uZXcgbiguNSpNYXRoLlBJLDAsMCksdGhpcy5jYWxjdWxhdGVDYW1lcmFPcmllbnRhdGlvbigpfXZhciBuPWkoMTMpO28ucHJvdG90eXBlLnNldEFybUxvY2F0aW9uPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLmFybUxvY2F0aW9uLng9dCx0aGlzLmFybUxvY2F0aW9uLnk9ZSx0aGlzLmFybUxvY2F0aW9uLno9aSx0aGlzLmNhbGN1bGF0ZUNhbWVyYU9yaWVudGF0aW9uKCl9LG8ucHJvdG90eXBlLnNldEFybVJvdGF0aW9uPWZ1bmN0aW9uKHQsZSl7dm9pZCAwIT09dCYmKHRoaXMuYXJtUm90YXRpb24uaG9yaXpvbnRhbD10KSx2b2lkIDAhPT1lJiYodGhpcy5hcm1Sb3RhdGlvbi52ZXJ0aWNhbD1lLHRoaXMuYXJtUm90YXRpb24udmVydGljYWw8MCYmKHRoaXMuYXJtUm90YXRpb24udmVydGljYWw9MCksdGhpcy5hcm1Sb3RhdGlvbi52ZXJ0aWNhbD4uNSpNYXRoLlBJJiYodGhpcy5hcm1Sb3RhdGlvbi52ZXJ0aWNhbD0uNSpNYXRoLlBJKSksKHZvaWQgMCE9PXR8fHZvaWQgMCE9PWUpJiZ0aGlzLmNhbGN1bGF0ZUNhbWVyYU9yaWVudGF0aW9uKCl9LG8ucHJvdG90eXBlLmdldEFybVJvdGF0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIHQuaG9yaXpvbnRhbD10aGlzLmFybVJvdGF0aW9uLmhvcml6b250YWwsdC52ZXJ0aWNhbD10aGlzLmFybVJvdGF0aW9uLnZlcnRpY2FsLHR9LG8ucHJvdG90eXBlLnNldEFybUxlbmd0aD1mdW5jdGlvbih0KXt2b2lkIDAhPT10JiYodGhpcy5hcm1MZW5ndGg9dCx0aGlzLmFybUxlbmd0aDwuNzEmJih0aGlzLmFybUxlbmd0aD0uNzEpLHRoaXMuYXJtTGVuZ3RoPjUmJih0aGlzLmFybUxlbmd0aD01KSx0aGlzLmNhbGN1bGF0ZUNhbWVyYU9yaWVudGF0aW9uKCkpfSxvLnByb3RvdHlwZS5nZXRBcm1MZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcm1MZW5ndGh9LG8ucHJvdG90eXBlLmdldENhbWVyYUxvY2F0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FtZXJhTG9jYXRpb259LG8ucHJvdG90eXBlLmdldENhbWVyYVJvdGF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FtZXJhUm90YXRpb259LG8ucHJvdG90eXBlLmNhbGN1bGF0ZUNhbWVyYU9yaWVudGF0aW9uPWZ1bmN0aW9uKCl7dGhpcy5jYW1lcmFMb2NhdGlvbi54PXRoaXMuYXJtTG9jYXRpb24ueC10aGlzLmFybUxlbmd0aCpNYXRoLnNpbih0aGlzLmFybVJvdGF0aW9uLmhvcml6b250YWwpKk1hdGguY29zKHRoaXMuYXJtUm90YXRpb24udmVydGljYWwpLHRoaXMuY2FtZXJhTG9jYXRpb24ueT10aGlzLmFybUxvY2F0aW9uLnktdGhpcy5hcm1MZW5ndGgqTWF0aC5jb3ModGhpcy5hcm1Sb3RhdGlvbi5ob3Jpem9udGFsKSpNYXRoLmNvcyh0aGlzLmFybVJvdGF0aW9uLnZlcnRpY2FsKSx0aGlzLmNhbWVyYUxvY2F0aW9uLno9dGhpcy5hcm1Mb2NhdGlvbi56K3RoaXMuYXJtTGVuZ3RoKk1hdGguc2luKHRoaXMuYXJtUm90YXRpb24udmVydGljYWwpLHRoaXMuY2FtZXJhUm90YXRpb24ueD1NYXRoLlBJLzItdGhpcy5hcm1Sb3RhdGlvbi52ZXJ0aWNhbCx0aGlzLmNhbWVyYVJvdGF0aW9uLnk9MCx0aGlzLmNhbWVyYVJvdGF0aW9uLno9LXRoaXMuYXJtUm90YXRpb24uaG9yaXpvbnRhbH0sdC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQsZSxpKXt0aGlzLmRhdGE9dCx0aGlzLmNvbHVtbj1lLHRoaXMuZ3JhcGg9aSx0aGlzLmluZGV4PXZvaWQgMCx0aGlzLnZhbHVlPXZvaWQgMCx0aGlzLnZhbHVlcz1pLmdldERpc3RpbmN0VmFsdWVzKHQuZ2V0KCksdGhpcy5jb2x1bW4pLHRoaXMudmFsdWVzLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdD5lPzE6ZT50Py0xOjB9KSx0aGlzLnZhbHVlcy5sZW5ndGg+MCYmdGhpcy5zZWxlY3RWYWx1ZSgwKSx0aGlzLmRhdGFQb2ludHM9W10sdGhpcy5sb2FkZWQ9ITEsdGhpcy5vbkxvYWRDYWxsYmFjaz12b2lkIDAsaS5hbmltYXRpb25QcmVsb2FkPyh0aGlzLmxvYWRlZD0hMSx0aGlzLmxvYWRJbkJhY2tncm91bmQoKSk6dGhpcy5sb2FkZWQ9ITB9dmFyIG49aSgxMCk7by5wcm90b3R5cGUuaXNMb2FkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2FkZWR9LG8ucHJvdG90eXBlLmdldExvYWRlZFByb2dyZXNzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMudmFsdWVzLmxlbmd0aCxlPTA7dGhpcy5kYXRhUG9pbnRzW2VdOyllKys7cmV0dXJuIE1hdGgucm91bmQoZS90KjEwMCl9LG8ucHJvdG90eXBlLmdldExhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3JhcGguZmlsdGVyTGFiZWx9LG8ucHJvdG90eXBlLmdldENvbHVtbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbHVtbn0sby5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT10aGlzLmluZGV4P3RoaXMudmFsdWVzW3RoaXMuaW5kZXhdOnZvaWQgMH0sby5wcm90b3R5cGUuZ2V0VmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzfSxvLnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXtpZih0Pj10aGlzLnZhbHVlcy5sZW5ndGgpdGhyb3dcIkVycm9yOiBpbmRleCBvdXQgb2YgcmFuZ2VcIjtyZXR1cm4gdGhpcy52YWx1ZXNbdF19LG8ucHJvdG90eXBlLl9nZXREYXRhUG9pbnRzPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQmJih0PXRoaXMuaW5kZXgpLHZvaWQgMD09PXQpcmV0dXJuW107dmFyIGU7aWYodGhpcy5kYXRhUG9pbnRzW3RdKWU9dGhpcy5kYXRhUG9pbnRzW3RdO2Vsc2V7dmFyIGk9e307aS5jb2x1bW49dGhpcy5jb2x1bW4saS52YWx1ZT10aGlzLnZhbHVlc1t0XTt2YXIgbz1uZXcgbih0aGlzLmRhdGEse2ZpbHRlcjpmdW5jdGlvbih0KXtyZXR1cm4gdFtpLmNvbHVtbl09PWkudmFsdWV9fSkuZ2V0KCk7ZT10aGlzLmdyYXBoLl9nZXREYXRhUG9pbnRzKG8pLHRoaXMuZGF0YVBvaW50c1t0XT1lfXJldHVybiBlfSxvLnByb3RvdHlwZS5zZXRPbkxvYWRDYWxsYmFjaz1mdW5jdGlvbih0KXt0aGlzLm9uTG9hZENhbGxiYWNrPXR9LG8ucHJvdG90eXBlLnNlbGVjdFZhbHVlPWZ1bmN0aW9uKHQpe2lmKHQ+PXRoaXMudmFsdWVzLmxlbmd0aCl0aHJvd1wiRXJyb3I6IGluZGV4IG91dCBvZiByYW5nZVwiO3RoaXMuaW5kZXg9dCx0aGlzLnZhbHVlPXRoaXMudmFsdWVzW3RdfSxvLnByb3RvdHlwZS5sb2FkSW5CYWNrZ3JvdW5kPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PTApO3ZhciBlPXRoaXMuZ3JhcGguZnJhbWU7aWYodDx0aGlzLnZhbHVlcy5sZW5ndGgpe3RoaXMuX2dldERhdGFQb2ludHModCk7dm9pZCAwPT09ZS5wcm9ncmVzcyYmKGUucHJvZ3Jlc3M9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKSxlLnByb2dyZXNzLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixlLnByb2dyZXNzLnN0eWxlLmNvbG9yPVwiZ3JheVwiLGUuYXBwZW5kQ2hpbGQoZS5wcm9ncmVzcykpO3ZhciBpPXRoaXMuZ2V0TG9hZGVkUHJvZ3Jlc3MoKTtlLnByb2dyZXNzLmlubmVySFRNTD1cIkxvYWRpbmcgYW5pbWF0aW9uLi4uIFwiK2krXCIlXCIsZS5wcm9ncmVzcy5zdHlsZS5ib3R0b209XCI2MHB4XCIsZS5wcm9ncmVzcy5zdHlsZS5sZWZ0PVwiMTBweFwiO3ZhciBvPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe28ubG9hZEluQmFja2dyb3VuZCh0KzEpfSwxMCksdGhpcy5sb2FkZWQ9ITF9ZWxzZSB0aGlzLmxvYWRlZD0hMCx2b2lkIDAhPT1lLnByb2dyZXNzJiYoZS5yZW1vdmVDaGlsZChlLnByb2dyZXNzKSxlLnByb2dyZXNzPXZvaWQgMCksdGhpcy5vbkxvYWRDYWxsYmFjayYmdGhpcy5vbkxvYWRDYWxsYmFjaygpfSx0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCxlKXtpZih2b2lkIDA9PT10KXRocm93XCJFcnJvcjogTm8gY29udGFpbmVyIGVsZW1lbnQgZGVmaW5lZFwiO2lmKHRoaXMuY29udGFpbmVyPXQsdGhpcy52aXNpYmxlPWUmJnZvaWQgMCE9ZS52aXNpYmxlP2UudmlzaWJsZTohMCx0aGlzLnZpc2libGUpe3RoaXMuZnJhbWU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKSx0aGlzLmZyYW1lLnN0eWxlLndpZHRoPVwiMTAwJVwiLHRoaXMuZnJhbWUuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZnJhbWUpLHRoaXMuZnJhbWUucHJldj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiSU5QVVRcIiksdGhpcy5mcmFtZS5wcmV2LnR5cGU9XCJCVVRUT05cIix0aGlzLmZyYW1lLnByZXYudmFsdWU9XCJQcmV2XCIsdGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLmZyYW1lLnByZXYpLHRoaXMuZnJhbWUucGxheT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiSU5QVVRcIiksdGhpcy5mcmFtZS5wbGF5LnR5cGU9XCJCVVRUT05cIix0aGlzLmZyYW1lLnBsYXkudmFsdWU9XCJQbGF5XCIsdGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLmZyYW1lLnBsYXkpLHRoaXMuZnJhbWUubmV4dD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiSU5QVVRcIiksdGhpcy5mcmFtZS5uZXh0LnR5cGU9XCJCVVRUT05cIix0aGlzLmZyYW1lLm5leHQudmFsdWU9XCJOZXh0XCIsdGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLmZyYW1lLm5leHQpLHRoaXMuZnJhbWUuYmFyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJJTlBVVFwiKSx0aGlzLmZyYW1lLmJhci50eXBlPVwiQlVUVE9OXCIsdGhpcy5mcmFtZS5iYXIuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHRoaXMuZnJhbWUuYmFyLnN0eWxlLmJvcmRlcj1cIjFweCBzb2xpZCByZWRcIix0aGlzLmZyYW1lLmJhci5zdHlsZS53aWR0aD1cIjEwMHB4XCIsdGhpcy5mcmFtZS5iYXIuc3R5bGUuaGVpZ2h0PVwiNnB4XCIsdGhpcy5mcmFtZS5iYXIuc3R5bGUuYm9yZGVyUmFkaXVzPVwiMnB4XCIsdGhpcy5mcmFtZS5iYXIuc3R5bGUuTW96Qm9yZGVyUmFkaXVzPVwiMnB4XCIsdGhpcy5mcmFtZS5iYXIuc3R5bGUuYm9yZGVyPVwiMXB4IHNvbGlkICM3RjdGN0ZcIix0aGlzLmZyYW1lLmJhci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCIjRTVFNUU1XCIsdGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLmZyYW1lLmJhciksdGhpcy5mcmFtZS5zbGlkZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiSU5QVVRcIiksdGhpcy5mcmFtZS5zbGlkZS50eXBlPVwiQlVUVE9OXCIsdGhpcy5mcmFtZS5zbGlkZS5zdHlsZS5tYXJnaW49XCIwcHhcIix0aGlzLmZyYW1lLnNsaWRlLnZhbHVlPVwiIFwiLHRoaXMuZnJhbWUuc2xpZGUuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLHRoaXMuZnJhbWUuc2xpZGUuc3R5bGUubGVmdD1cIi0xMDBweFwiLHRoaXMuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5mcmFtZS5zbGlkZSk7dmFyIGk9dGhpczt0aGlzLmZyYW1lLnNsaWRlLm9ubW91c2Vkb3duPWZ1bmN0aW9uKHQpe2kuX29uTW91c2VEb3duKHQpfSx0aGlzLmZyYW1lLnByZXYub25jbGljaz1mdW5jdGlvbih0KXtpLnByZXYodCl9LHRoaXMuZnJhbWUucGxheS5vbmNsaWNrPWZ1bmN0aW9uKHQpe2kudG9nZ2xlUGxheSh0KX0sdGhpcy5mcmFtZS5uZXh0Lm9uY2xpY2s9ZnVuY3Rpb24odCl7aS5uZXh0KHQpfX10aGlzLm9uQ2hhbmdlQ2FsbGJhY2s9dm9pZCAwLHRoaXMudmFsdWVzPVtdLHRoaXMuaW5kZXg9dm9pZCAwLHRoaXMucGxheVRpbWVvdXQ9dm9pZCAwLHRoaXMucGxheUludGVydmFsPTFlMyx0aGlzLnBsYXlMb29wPSEwfXZhciBuPWkoMSk7by5wcm90b3R5cGUucHJldj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0SW5kZXgoKTt0PjAmJih0LS0sdGhpcy5zZXRJbmRleCh0KSl9LG8ucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEluZGV4KCk7dDx0aGlzLnZhbHVlcy5sZW5ndGgtMSYmKHQrKyx0aGlzLnNldEluZGV4KHQpKX0sby5wcm90b3R5cGUucGxheU5leHQ9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgRGF0ZSxlPXRoaXMuZ2V0SW5kZXgoKTtlPHRoaXMudmFsdWVzLmxlbmd0aC0xPyhlKyssdGhpcy5zZXRJbmRleChlKSk6dGhpcy5wbGF5TG9vcCYmKGU9MCx0aGlzLnNldEluZGV4KGUpKTt2YXIgaT1uZXcgRGF0ZSxvPWktdCxuPU1hdGgubWF4KHRoaXMucGxheUludGVydmFsLW8sMCkscz10aGlzO3RoaXMucGxheVRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3MucGxheU5leHQoKX0sbil9LG8ucHJvdG90eXBlLnRvZ2dsZVBsYXk9ZnVuY3Rpb24oKXt2b2lkIDA9PT10aGlzLnBsYXlUaW1lb3V0P3RoaXMucGxheSgpOnRoaXMuc3RvcCgpfSxvLnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKCl7dGhpcy5wbGF5VGltZW91dHx8KHRoaXMucGxheU5leHQoKSx0aGlzLmZyYW1lJiYodGhpcy5mcmFtZS5wbGF5LnZhbHVlPVwiU3RvcFwiKSl9LG8ucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKHRoaXMucGxheVRpbWVvdXQpLHRoaXMucGxheVRpbWVvdXQ9dm9pZCAwLHRoaXMuZnJhbWUmJih0aGlzLmZyYW1lLnBsYXkudmFsdWU9XCJQbGF5XCIpfSxvLnByb3RvdHlwZS5zZXRPbkNoYW5nZUNhbGxiYWNrPWZ1bmN0aW9uKHQpe3RoaXMub25DaGFuZ2VDYWxsYmFjaz10fSxvLnByb3RvdHlwZS5zZXRQbGF5SW50ZXJ2YWw9ZnVuY3Rpb24odCl7dGhpcy5wbGF5SW50ZXJ2YWw9dH0sby5wcm90b3R5cGUuZ2V0UGxheUludGVydmFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBsYXlJbnRlcnZhbH0sby5wcm90b3R5cGUuc2V0UGxheUxvb3A9ZnVuY3Rpb24odCl7dGhpcy5wbGF5TG9vcD10fSxvLnByb3RvdHlwZS5vbkNoYW5nZT1mdW5jdGlvbigpe3ZvaWQgMCE9PXRoaXMub25DaGFuZ2VDYWxsYmFjayYmdGhpcy5vbkNoYW5nZUNhbGxiYWNrKCl9LG8ucHJvdG90eXBlLnJlZHJhdz1mdW5jdGlvbigpe2lmKHRoaXMuZnJhbWUpe3RoaXMuZnJhbWUuYmFyLnN0eWxlLnRvcD10aGlzLmZyYW1lLmNsaWVudEhlaWdodC8yLXRoaXMuZnJhbWUuYmFyLm9mZnNldEhlaWdodC8yK1wicHhcIix0aGlzLmZyYW1lLmJhci5zdHlsZS53aWR0aD10aGlzLmZyYW1lLmNsaWVudFdpZHRoLXRoaXMuZnJhbWUucHJldi5jbGllbnRXaWR0aC10aGlzLmZyYW1lLnBsYXkuY2xpZW50V2lkdGgtdGhpcy5mcmFtZS5uZXh0LmNsaWVudFdpZHRoLTMwK1wicHhcIjt2YXIgdD10aGlzLmluZGV4VG9MZWZ0KHRoaXMuaW5kZXgpO3RoaXMuZnJhbWUuc2xpZGUuc3R5bGUubGVmdD10K1wicHhcIn19LG8ucHJvdG90eXBlLnNldFZhbHVlcz1mdW5jdGlvbih0KXt0aGlzLnZhbHVlcz10LHRoaXMudmFsdWVzLmxlbmd0aD4wP3RoaXMuc2V0SW5kZXgoMCk6dGhpcy5pbmRleD12b2lkIDB9LG8ucHJvdG90eXBlLnNldEluZGV4PWZ1bmN0aW9uKHQpe2lmKCEodDx0aGlzLnZhbHVlcy5sZW5ndGgpKXRocm93XCJFcnJvcjogaW5kZXggb3V0IG9mIHJhbmdlXCI7dGhpcy5pbmRleD10LHRoaXMucmVkcmF3KCksdGhpcy5vbkNoYW5nZSgpfSxvLnByb3RvdHlwZS5nZXRJbmRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGV4fSxvLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZXNbdGhpcy5pbmRleF19LG8ucHJvdG90eXBlLl9vbk1vdXNlRG93bj1mdW5jdGlvbih0KXt2YXIgZT10LndoaWNoPzE9PT10LndoaWNoOjE9PT10LmJ1dHRvbjtpZihlKXt0aGlzLnN0YXJ0Q2xpZW50WD10LmNsaWVudFgsdGhpcy5zdGFydFNsaWRlWD1wYXJzZUZsb2F0KHRoaXMuZnJhbWUuc2xpZGUuc3R5bGUubGVmdCksdGhpcy5mcmFtZS5zdHlsZS5jdXJzb3I9XCJtb3ZlXCI7dmFyIGk9dGhpczt0aGlzLm9ubW91c2Vtb3ZlPWZ1bmN0aW9uKHQpe2kuX29uTW91c2VNb3ZlKHQpfSx0aGlzLm9ubW91c2V1cD1mdW5jdGlvbih0KXtpLl9vbk1vdXNlVXAodCl9LG4uYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudCxcIm1vdXNlbW92ZVwiLHRoaXMub25tb3VzZW1vdmUpLG4uYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudCxcIm1vdXNldXBcIix0aGlzLm9ubW91c2V1cCksbi5wcmV2ZW50RGVmYXVsdCh0KX19LG8ucHJvdG90eXBlLmxlZnRUb0luZGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXBhcnNlRmxvYXQodGhpcy5mcmFtZS5iYXIuc3R5bGUud2lkdGgpLXRoaXMuZnJhbWUuc2xpZGUuY2xpZW50V2lkdGgtMTAsaT10LTMsbz1NYXRoLnJvdW5kKGkvZSoodGhpcy52YWx1ZXMubGVuZ3RoLTEpKTtyZXR1cm4gMD5vJiYobz0wKSxvPnRoaXMudmFsdWVzLmxlbmd0aC0xJiYobz10aGlzLnZhbHVlcy5sZW5ndGgtMSksb30sby5wcm90b3R5cGUuaW5kZXhUb0xlZnQ9ZnVuY3Rpb24odCl7dmFyIGU9cGFyc2VGbG9hdCh0aGlzLmZyYW1lLmJhci5zdHlsZS53aWR0aCktdGhpcy5mcmFtZS5zbGlkZS5jbGllbnRXaWR0aC0xMCxpPXQvKHRoaXMudmFsdWVzLmxlbmd0aC0xKSplLG89aSszO3JldHVybiBvfSxvLnByb3RvdHlwZS5fb25Nb3VzZU1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9dC5jbGllbnRYLXRoaXMuc3RhcnRDbGllbnRYLGk9dGhpcy5zdGFydFNsaWRlWCtlLG89dGhpcy5sZWZ0VG9JbmRleChpKTt0aGlzLnNldEluZGV4KG8pLG4ucHJldmVudERlZmF1bHQoKX0sby5wcm90b3R5cGUuX29uTW91c2VVcD1mdW5jdGlvbih0KXt0aGlzLmZyYW1lLnN0eWxlLmN1cnNvcj1cImF1dG9cIixuLnJlbW92ZUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsXCJtb3VzZW1vdmVcIix0aGlzLm9ubW91c2Vtb3ZlKSxuLnJlbW92ZUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsXCJtb3VzZXVwXCIsdGhpcy5vbm1vdXNldXApLG4ucHJldmVudERlZmF1bHQoKX0sdC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0LGUsaSxvKXt0aGlzLl9zdGFydD0wLHRoaXMuX2VuZD0wLHRoaXMuX3N0ZXA9MSx0aGlzLnByZXR0eVN0ZXA9ITAsdGhpcy5wcmVjaXNpb249NSx0aGlzLl9jdXJyZW50PTAsdGhpcy5zZXRSYW5nZSh0LGUsaSxvKX1pLnByb3RvdHlwZS5zZXRSYW5nZT1mdW5jdGlvbih0LGUsaSxvKXt0aGlzLl9zdGFydD10P3Q6MCx0aGlzLl9lbmQ9ZT9lOjAsdGhpcy5zZXRTdGVwKGksbyl9LGkucHJvdG90eXBlLnNldFN0ZXA9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT10fHwwPj10fHwodm9pZCAwIT09ZSYmKHRoaXMucHJldHR5U3RlcD1lKSx0aGlzLnByZXR0eVN0ZXA9PT0hMD90aGlzLl9zdGVwPWkuY2FsY3VsYXRlUHJldHR5U3RlcCh0KTp0aGlzLl9zdGVwPXQpfSxpLmNhbGN1bGF0ZVByZXR0eVN0ZXA9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubG9nKHQpL01hdGguTE4xMH0saT1NYXRoLnBvdygxMCxNYXRoLnJvdW5kKGUodCkpKSxvPTIqTWF0aC5wb3coMTAsTWF0aC5yb3VuZChlKHQvMikpKSxuPTUqTWF0aC5wb3coMTAsTWF0aC5yb3VuZChlKHQvNSkpKSxzPWk7cmV0dXJuIE1hdGguYWJzKG8tdCk8PU1hdGguYWJzKHMtdCkmJihzPW8pLE1hdGguYWJzKG4tdCk8PU1hdGguYWJzKHMtdCkmJihzPW4pLDA+PXMmJihzPTEpLHN9LGkucHJvdG90eXBlLmdldEN1cnJlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gcGFyc2VGbG9hdCh0aGlzLl9jdXJyZW50LnRvUHJlY2lzaW9uKHRoaXMucHJlY2lzaW9uKSl9LGkucHJvdG90eXBlLmdldFN0ZXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RlcH0saS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLl9jdXJyZW50PXRoaXMuX3N0YXJ0LXRoaXMuX3N0YXJ0JXRoaXMuX3N0ZXB9LGkucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXt0aGlzLl9jdXJyZW50Kz10aGlzLl9zdGVwfSxpLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VycmVudD50aGlzLl9lbmR9LHQuZXhwb3J0cz1pfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbyh0LGUsaSxkKXtpZighKHRoaXMgaW5zdGFuY2VvZiBvKSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3JcIik7aWYoIShBcnJheS5pc0FycmF5KGkpfHxpIGluc3RhbmNlb2Ygcnx8aSBpbnN0YW5jZW9mIGEpJiZpIGluc3RhbmNlb2YgT2JqZWN0KXt2YXIgYz1kO2Q9aSxpPWN9dmFyIGY9dGhpczt0aGlzLmRlZmF1bHRPcHRpb25zPXtzdGFydDpudWxsLGVuZDpudWxsLGF1dG9SZXNpemU6ITAsdGhyb3R0bGVSZWRyYXc6MCxvcmllbnRhdGlvbjp7YXhpczpcImJvdHRvbVwiLGl0ZW06XCJib3R0b21cIn0sbW9tZW50Om4sd2lkdGg6bnVsbCxoZWlnaHQ6bnVsbCxtYXhIZWlnaHQ6bnVsbCxtaW5IZWlnaHQ6bnVsbH0sdGhpcy5vcHRpb25zPXMuZGVlcEV4dGVuZCh7fSx0aGlzLmRlZmF1bHRPcHRpb25zKSx0aGlzLl9jcmVhdGUodCksdGhpcy5jb21wb25lbnRzPVtdLHRoaXMuYm9keT17ZG9tOnRoaXMuZG9tLGRvbVByb3BzOnRoaXMucHJvcHMsZW1pdHRlcjp7b246dGhpcy5vbi5iaW5kKHRoaXMpLG9mZjp0aGlzLm9mZi5iaW5kKHRoaXMpLGVtaXQ6dGhpcy5lbWl0LmJpbmQodGhpcyl9LGhpZGRlbkRhdGVzOltdLHV0aWw6e2dldFNjYWxlOmZ1bmN0aW9uKCl7cmV0dXJuIGYudGltZUF4aXMuc3RlcC5zY2FsZX0sZ2V0U3RlcDpmdW5jdGlvbigpe3JldHVybiBmLnRpbWVBeGlzLnN0ZXAuc3RlcH0sdG9TY3JlZW46Zi5fdG9TY3JlZW4uYmluZChmKSx0b0dsb2JhbFNjcmVlbjpmLl90b0dsb2JhbFNjcmVlbi5iaW5kKGYpLHRvVGltZTpmLl90b1RpbWUuYmluZChmKSx0b0dsb2JhbFRpbWU6Zi5fdG9HbG9iYWxUaW1lLmJpbmQoZil9fSx0aGlzLnJhbmdlPW5ldyBoKHRoaXMuYm9keSksdGhpcy5jb21wb25lbnRzLnB1c2godGhpcy5yYW5nZSksdGhpcy5ib2R5LnJhbmdlPXRoaXMucmFuZ2UsdGhpcy50aW1lQXhpcz1uZXcgbCh0aGlzLmJvZHkpLHRoaXMudGltZUF4aXMyPW51bGwsdGhpcy5jb21wb25lbnRzLnB1c2godGhpcy50aW1lQXhpcyksdGhpcy5jdXJyZW50VGltZT1uZXcgdSh0aGlzLmJvZHkpLHRoaXMuY29tcG9uZW50cy5wdXNoKHRoaXMuY3VycmVudFRpbWUpLHRoaXMuaXRlbVNldD1uZXcgcCh0aGlzLmJvZHkpLHRoaXMuY29tcG9uZW50cy5wdXNoKHRoaXMuaXRlbVNldCksdGhpcy5pdGVtc0RhdGE9bnVsbCx0aGlzLmdyb3Vwc0RhdGE9bnVsbCx0aGlzLm9uKFwidGFwXCIsZnVuY3Rpb24odCl7Zi5lbWl0KFwiY2xpY2tcIixmLmdldEV2ZW50UHJvcGVydGllcyh0KSl9KSx0aGlzLm9uKFwiZG91YmxldGFwXCIsZnVuY3Rpb24odCl7Zi5lbWl0KFwiZG91YmxlQ2xpY2tcIixmLmdldEV2ZW50UHJvcGVydGllcyh0KSl9KSx0aGlzLmRvbS5yb290Lm9uY29udGV4dG1lbnU9ZnVuY3Rpb24odCl7Zi5lbWl0KFwiY29udGV4dG1lbnVcIixmLmdldEV2ZW50UHJvcGVydGllcyh0KSl9LGQmJnRoaXMuc2V0T3B0aW9ucyhkKSxpJiZ0aGlzLnNldEdyb3VwcyhpKSxlP3RoaXMuc2V0SXRlbXMoZSk6dGhpcy5fcmVkcmF3KCl9dmFyIG49KGkoMTIpLGkoMjApLGkoMikpLHM9aSgxKSxyPWkoOCksYT1pKDEwKSxoPWkoMjQpLGQ9aSgyOCksbD1pKDM5KSx1PWkoNDQpLGM9aSg0MikscD1pKDI5KSxmPWkoNDUpLG09aSg0NylbXCJkZWZhdWx0XCJdLHY9aSg0NykucHJpbnRTdHlsZSxnPWkoNDgpLmFsbE9wdGlvbnMseT1pKDQ4KS5jb25maWd1cmVPcHRpb25zO28ucHJvdG90eXBlPW5ldyBkLG8ucHJvdG90eXBlLl9jcmVhdGVDb25maWd1cmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGYodGhpcyx0aGlzLmRvbS5jb250YWluZXIseSl9LG8ucHJvdG90eXBlLnJlZHJhdz1mdW5jdGlvbigpe3RoaXMuaXRlbVNldCYmdGhpcy5pdGVtU2V0Lm1hcmtEaXJ0eSh7cmVmcmVzaEl0ZW1zOiEwfSksdGhpcy5fcmVkcmF3KCl9LG8ucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24odCl7dmFyIGU9bS52YWxpZGF0ZSh0LGcpO2lmKGU9PT0hMCYmY29uc29sZS5sb2coXCIlY0Vycm9ycyBoYXZlIGJlZW4gZm91bmQgaW4gdGhlIHN1cHBsaWVkIG9wdGlvbnMgb2JqZWN0LlwiLHYpLGQucHJvdG90eXBlLnNldE9wdGlvbnMuY2FsbCh0aGlzLHQpLFwidHlwZVwiaW4gdCYmdC50eXBlIT09dGhpcy5vcHRpb25zLnR5cGUpe3RoaXMub3B0aW9ucy50eXBlPXQudHlwZTt2YXIgaT10aGlzLml0ZW1zRGF0YTtpZihpKXt2YXIgbz10aGlzLmdldFNlbGVjdGlvbigpO3RoaXMuc2V0SXRlbXMobnVsbCksdGhpcy5zZXRJdGVtcyhpKSx0aGlzLnNldFNlbGVjdGlvbihvKX19fSxvLnByb3RvdHlwZS5zZXRJdGVtcz1mdW5jdGlvbih0KXt2YXIgZSxpPW51bGw9PXRoaXMuaXRlbXNEYXRhO2lmKGU9dD90IGluc3RhbmNlb2Ygcnx8dCBpbnN0YW5jZW9mIGE/dDpuZXcgcih0LHt0eXBlOntzdGFydDpcIkRhdGVcIixlbmQ6XCJEYXRlXCJ9fSk6bnVsbCx0aGlzLml0ZW1zRGF0YT1lLHRoaXMuaXRlbVNldCYmdGhpcy5pdGVtU2V0LnNldEl0ZW1zKGUpLGkpaWYodm9pZCAwIT10aGlzLm9wdGlvbnMuc3RhcnR8fHZvaWQgMCE9dGhpcy5vcHRpb25zLmVuZCl7aWYodm9pZCAwPT10aGlzLm9wdGlvbnMuc3RhcnR8fHZvaWQgMD09dGhpcy5vcHRpb25zLmVuZCl2YXIgbz10aGlzLmdldEl0ZW1SYW5nZSgpO3ZhciBuPXZvaWQgMCE9dGhpcy5vcHRpb25zLnN0YXJ0P3RoaXMub3B0aW9ucy5zdGFydDpvLm1pbixzPXZvaWQgMCE9dGhpcy5vcHRpb25zLmVuZD90aGlzLm9wdGlvbnMuZW5kOm8ubWF4O3RoaXMuc2V0V2luZG93KG4scyx7YW5pbWF0aW9uOiExfSl9ZWxzZSB0aGlzLmZpdCh7YW5pbWF0aW9uOiExfSl9LG8ucHJvdG90eXBlLnNldEdyb3Vwcz1mdW5jdGlvbih0KXt2YXIgZTtlPXQ/dCBpbnN0YW5jZW9mIHJ8fHQgaW5zdGFuY2VvZiBhP3Q6bmV3IHIodCk6bnVsbCx0aGlzLmdyb3Vwc0RhdGE9ZSx0aGlzLml0ZW1TZXQuc2V0R3JvdXBzKGUpfSxvLnByb3RvdHlwZS5zZXREYXRhPWZ1bmN0aW9uKHQpe3QmJnQuZ3JvdXBzJiZ0aGlzLnNldEdyb3Vwcyh0Lmdyb3VwcyksdCYmdC5pdGVtcyYmdGhpcy5zZXRJdGVtcyh0Lml0ZW1zKX0sby5wcm90b3R5cGUuc2V0U2VsZWN0aW9uPWZ1bmN0aW9uKHQsZSl7dGhpcy5pdGVtU2V0JiZ0aGlzLml0ZW1TZXQuc2V0U2VsZWN0aW9uKHQpLGUmJmUuZm9jdXMmJnRoaXMuZm9jdXModCxlKX0sby5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlbVNldCYmdGhpcy5pdGVtU2V0LmdldFNlbGVjdGlvbigpfHxbXX0sby5wcm90b3R5cGUuZm9jdXM9ZnVuY3Rpb24odCxlKXtpZih0aGlzLml0ZW1zRGF0YSYmdm9pZCAwIT10KXt2YXIgaT1BcnJheS5pc0FycmF5KHQpP3Q6W3RdLG89dGhpcy5pdGVtc0RhdGEuZ2V0RGF0YVNldCgpLmdldChpLHt0eXBlOntzdGFydDpcIkRhdGVcIixlbmQ6XCJEYXRlXCJ9fSksbj1udWxsLHM9bnVsbDtpZihvLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9dC5zdGFydC52YWx1ZU9mKCksaT1cImVuZFwiaW4gdD90LmVuZC52YWx1ZU9mKCk6dC5zdGFydC52YWx1ZU9mKCk7KG51bGw9PT1ufHxuPmUpJiYobj1lKSwobnVsbD09PXN8fGk+cykmJihzPWkpfSksbnVsbCE9PW4mJm51bGwhPT1zKXt2YXIgcj0obitzKS8yLGE9TWF0aC5tYXgodGhpcy5yYW5nZS5lbmQtdGhpcy5yYW5nZS5zdGFydCwxLjEqKHMtbikpLGg9ZSYmdm9pZCAwIT09ZS5hbmltYXRpb24/ZS5hbmltYXRpb246ITA7dGhpcy5yYW5nZS5zZXRSYW5nZShyLWEvMixyK2EvMixoKX19fSxvLnByb3RvdHlwZS5maXQ9ZnVuY3Rpb24odCl7dmFyIGU9dCYmdm9pZCAwIT09dC5hbmltYXRpb24/dC5hbmltYXRpb246ITAsaT10aGlzLmdldEl0ZW1SYW5nZSgpO3RoaXMucmFuZ2Uuc2V0UmFuZ2UoaS5taW4saS5tYXgsZSl9LG8ucHJvdG90eXBlLmdldEl0ZW1SYW5nZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLmdldERhdGFSYW5nZSgpLGk9ZS5taW4udmFsdWVPZigpLG89ZS5tYXgudmFsdWVPZigpLG49bnVsbCxyPW51bGw7aWYobnVsbCE9aSYmbnVsbCE9byl7dmFyIGEsaCxkLGwsdTshZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbih0KXtyZXR1cm4gcy5jb252ZXJ0KHQuZGF0YS5zdGFydCxcIkRhdGVcIikudmFsdWVPZigpfSxjPWZ1bmN0aW9uKHQpe3ZhciBlPXZvaWQgMCE9dC5kYXRhLmVuZD90LmRhdGEuZW5kOnQuZGF0YS5zdGFydDtyZXR1cm4gcy5jb252ZXJ0KGUsXCJEYXRlXCIpLnZhbHVlT2YoKX07YT1vLWksMD49YSYmKGE9MTApLGg9YS90LnByb3BzLmNlbnRlci53aWR0aCxzLmZvckVhY2godC5pdGVtU2V0Lml0ZW1zLGZ1bmN0aW9uKHQpe3Quc2hvdygpO3ZhciBzPWUodCksYT1jKHQpLGQ9cy0odC5nZXRXaWR0aExlZnQoKSsxMCkqaCxsPWErKHQuZ2V0V2lkdGhSaWdodCgpKzEwKSpoO2k+ZCYmKGk9ZCxuPXQpLGw+byYmKG89bCxyPXQpfS5iaW5kKHQpKSxuJiZyJiYoZD1uLmdldFdpZHRoTGVmdCgpKzEwLGw9ci5nZXRXaWR0aFJpZ2h0KCkrMTAsdT10LnByb3BzLmNlbnRlci53aWR0aC1kLWwsdT4wJiYoaT1lKG4pLWQqYS91LG89YyhyKStsKmEvdSkpfSgpfXJldHVybnttaW46bnVsbCE9aT9uZXcgRGF0ZShpKTpudWxsLG1heDpudWxsIT1vP25ldyBEYXRlKG8pOm51bGx9fSxvLnByb3RvdHlwZS5nZXREYXRhUmFuZ2U9ZnVuY3Rpb24oKXt2YXIgdD1udWxsLGU9bnVsbCxpPXRoaXMuaXRlbXNEYXRhJiZ0aGlzLml0ZW1zRGF0YS5nZXREYXRhU2V0KCk7cmV0dXJuIGkmJmkuZm9yRWFjaChmdW5jdGlvbihpKXt2YXIgbz1zLmNvbnZlcnQoaS5zdGFydCxcIkRhdGVcIikudmFsdWVPZigpLG49cy5jb252ZXJ0KHZvaWQgMCE9aS5lbmQ/aS5lbmQ6aS5zdGFydCxcIkRhdGVcIikudmFsdWVPZigpOyhudWxsPT09dHx8dD5vKSYmKHQ9byksKG51bGw9PT1lfHxuPmUpJiYoZT1uKX0pLHttaW46bnVsbCE9dD9uZXcgRGF0ZSh0KTpudWxsLG1heDpudWxsIT1lP25ldyBEYXRlKGUpOm51bGx9fSxvLnByb3RvdHlwZS5nZXRFdmVudFByb3BlcnRpZXM9ZnVuY3Rpb24odCl7dmFyIGU9dC5jZW50ZXI/dC5jZW50ZXIueDp0LmNsaWVudFgsaT10LmNlbnRlcj90LmNlbnRlci55OnQuY2xpZW50WSxvPWUtcy5nZXRBYnNvbHV0ZUxlZnQodGhpcy5kb20uY2VudGVyQ29udGFpbmVyKSxuPWktcy5nZXRBYnNvbHV0ZVRvcCh0aGlzLmRvbS5jZW50ZXJDb250YWluZXIpLHI9dGhpcy5pdGVtU2V0Lml0ZW1Gcm9tVGFyZ2V0KHQpLGE9dGhpcy5pdGVtU2V0Lmdyb3VwRnJvbVRhcmdldCh0KSxoPWMuY3VzdG9tVGltZUZyb21UYXJnZXQodCksZD10aGlzLml0ZW1TZXQub3B0aW9ucy5zbmFwfHxudWxsLGw9dGhpcy5ib2R5LnV0aWwuZ2V0U2NhbGUoKSx1PXRoaXMuYm9keS51dGlsLmdldFN0ZXAoKSxwPXRoaXMuX3RvVGltZShvKSxmPWQ/ZChwLGwsdSk6cCxtPXMuZ2V0VGFyZ2V0KHQpLHY9bnVsbDtyZXR1cm4gbnVsbCE9cj92PVwiaXRlbVwiOm51bGwhPWg/dj1cImN1c3RvbS10aW1lXCI6cy5oYXNQYXJlbnQobSx0aGlzLnRpbWVBeGlzLmRvbS5mb3JlZ3JvdW5kKT92PVwiYXhpc1wiOnRoaXMudGltZUF4aXMyJiZzLmhhc1BhcmVudChtLHRoaXMudGltZUF4aXMyLmRvbS5mb3JlZ3JvdW5kKT92PVwiYXhpc1wiOnMuaGFzUGFyZW50KG0sdGhpcy5pdGVtU2V0LmRvbS5sYWJlbFNldCk/dj1cImdyb3VwLWxhYmVsXCI6cy5oYXNQYXJlbnQobSx0aGlzLmN1cnJlbnRUaW1lLmJhcik/dj1cImN1cnJlbnQtdGltZVwiOnMuaGFzUGFyZW50KG0sdGhpcy5kb20uY2VudGVyKSYmKHY9XCJiYWNrZ3JvdW5kXCIpLHtldmVudDp0LGl0ZW06cj9yLmlkOm51bGwsZ3JvdXA6YT9hLmdyb3VwSWQ6bnVsbCx3aGF0OnYscGFnZVg6dC5zcmNFdmVudD90LnNyY0V2ZW50LnBhZ2VYOnQucGFnZVgscGFnZVk6dC5zcmNFdmVudD90LnNyY0V2ZW50LnBhZ2VZOnQucGFnZVkseDpvLHk6bix0aW1lOnAsc25hcHBlZFRpbWU6Zn19LHQuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsaSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyl7dmFyIG89aSgyMSksbj13aW5kb3cuSGFtbWVyfHxpKDIyKTt0LmV4cG9ydHM9byhuLHtwcmV2ZW50RGVmYXVsdDpcIm1vdXNlXCJ9KX1lbHNlIHQuZXhwb3J0cz1mdW5jdGlvbigpe3Rocm93IEVycm9yKFwiaGFtbWVyLmpzIGlzIG9ubHkgYXZhaWxhYmxlIGluIGEgYnJvd3Nlciwgbm90IGluIG5vZGUuanMuXCIpfX0sZnVuY3Rpb24odCxlLGkpe3ZhciBvLG4sczshZnVuY3Rpb24oaSl7bj1bXSxvPWkscz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBvP28uYXBwbHkoZSxuKTpvLCEodm9pZCAwIT09cyYmKHQuZXhwb3J0cz1zKSl9KGZ1bmN0aW9uKCl7dmFyIHQ9bnVsbDtyZXR1cm4gZnVuY3Rpb24gZShpLG8pe2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQubWF0Y2goL1teIF0rL2cpfWZ1bmN0aW9uIHMoZSl7aWYoXCJoYW1tZXIuaW5wdXRcIiE9PWUudHlwZSl7aWYoZS5zcmNFdmVudC5faGFuZGxlZHx8KGUuc3JjRXZlbnQuX2hhbmRsZWQ9e30pLGUuc3JjRXZlbnQuX2hhbmRsZWRbZS50eXBlXSlyZXR1cm47ZS5zcmNFdmVudC5faGFuZGxlZFtlLnR5cGVdPSEwfXZhciBpPSExO2Uuc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7aT0hMH0sZS5maXJzdFRhcmdldD10O2Zvcih2YXIgbz10O28mJiFpOyl7dmFyIG49by5oYW1tZXImJm8uaGFtbWVyLl9oYW5kbGVyc1tlLnR5cGVdO2lmKG4pZm9yKHZhciBzPTA7czxuLmxlbmd0aCYmIWk7cysrKW5bc10oZSk7bz1vLnBhcmVudE5vZGV9fXZhciByPW98fHtwcmV2ZW50RGVmYXVsdDohMX07aWYoaS5NYW5hZ2VyKXt2YXIgYT1pLGg9ZnVuY3Rpb24odCxpKXt2YXIgbz1PYmplY3QuY3JlYXRlKHIpO3JldHVybiBpJiZhLmV4dGVuZChvLGkpLGUobmV3IGEodCxvKSxvKX07cmV0dXJuIGEuZXh0ZW5kKGgsYSksaC5NYW5hZ2VyPWZ1bmN0aW9uKHQsaSl7dmFyIG89T2JqZWN0LmNyZWF0ZShyKTtyZXR1cm4gaSYmYS5leHRlbmQobyxpKSxlKG5ldyBhLk1hbmFnZXIodCxvKSxvKX0saH12YXIgZD1PYmplY3QuY3JlYXRlKGkpLGw9aS5lbGVtZW50O3JldHVybiBsLmhhbW1lcj1kLGkub24oXCJoYW1tZXIuaW5wdXRcIixmdW5jdGlvbihlKXsoci5wcmV2ZW50RGVmYXVsdD09PSEwfHxyLnByZXZlbnREZWZhdWx0PT09ZS5wb2ludGVyVHlwZSkmJmUucHJldmVudERlZmF1bHQoKSxlLmlzRmlyc3QmJih0PWUudGFyZ2V0KX0pLGQuX2hhbmRsZXJzPXt9LGQub249ZnVuY3Rpb24odCxlKXtyZXR1cm4gbih0KS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBvPWQuX2hhbmRsZXJzW3RdO298fChkLl9oYW5kbGVyc1t0XT1vPVtdLGkub24odCxzKSksby5wdXNoKGUpfSksZH0sZC5vZmY9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbih0KS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBvPWQuX2hhbmRsZXJzW3RdO28mJihvPWU/by5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQhPT1lfSk6W10sby5sZW5ndGg+MD9kLl9oYW5kbGVyc1t0XT1vOihpLm9mZih0LHMpLGRlbGV0ZSBkLl9oYW5kbGVyc1t0XSkpfSksZH0sZC5lbWl0PWZ1bmN0aW9uKGUsbyl7dD1vLnRhcmdldCxpLmVtaXQoZSxvKX0sZC5kZXN0cm95PWZ1bmN0aW9uKCl7ZGVsZXRlIGkuZWxlbWVudC5oYW1tZXIsZC5faGFuZGxlcnM9e30saS5kZXN0cm95KCl9LGR9fSl9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgbzshZnVuY3Rpb24obixzLHIsYSl7ZnVuY3Rpb24gaCh0LGUsaSl7cmV0dXJuIHNldFRpbWVvdXQoZih0LGkpLGUpfWZ1bmN0aW9uIGQodCxlLGkpe3JldHVybiBBcnJheS5pc0FycmF5KHQpPyhsKHQsaVtlXSxpKSwhMCk6ITF9ZnVuY3Rpb24gbCh0LGUsaSl7dmFyIG87aWYodClpZih0LmZvckVhY2gpdC5mb3JFYWNoKGUsaSk7ZWxzZSBpZih0Lmxlbmd0aCE9PWEpZm9yKG89MDtvPHQubGVuZ3RoOyllLmNhbGwoaSx0W29dLG8sdCksbysrO2Vsc2UgZm9yKG8gaW4gdCl0Lmhhc093blByb3BlcnR5KG8pJiZlLmNhbGwoaSx0W29dLG8sdCl9ZnVuY3Rpb24gdSh0LGUsaSl7Zm9yKHZhciBvPU9iamVjdC5rZXlzKGUpLG49MDtuPG8ubGVuZ3RoOykoIWl8fGkmJnRbb1tuXV09PT1hKSYmKHRbb1tuXV09ZVtvW25dXSksbisrO3JldHVybiB0fWZ1bmN0aW9uIGModCxlKXtyZXR1cm4gdSh0LGUsITApfWZ1bmN0aW9uIHAodCxlLGkpe3ZhciBvLG49ZS5wcm90b3R5cGU7bz10LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4pLG8uY29uc3RydWN0b3I9dCxvLl9zdXBlcj1uLGkmJnUobyxpKX1mdW5jdGlvbiBmKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX1mdW5jdGlvbiBtKHQsZSl7cmV0dXJuIHR5cGVvZiB0PT1mdD90LmFwcGx5KGU/ZVswXXx8YTphLGUpOnR9ZnVuY3Rpb24gdih0LGUpe3JldHVybiB0PT09YT9lOnR9ZnVuY3Rpb24gZyh0LGUsaSl7bChfKGUpLGZ1bmN0aW9uKGUpe3QuYWRkRXZlbnRMaXN0ZW5lcihlLGksITEpfSl9ZnVuY3Rpb24geSh0LGUsaSl7bChfKGUpLGZ1bmN0aW9uKGUpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLGksITEpfSl9ZnVuY3Rpb24gYih0LGUpe2Zvcig7dDspe2lmKHQ9PWUpcmV0dXJuITA7dD10LnBhcmVudE5vZGV9cmV0dXJuITF9ZnVuY3Rpb24gdyh0LGUpe3JldHVybiB0LmluZGV4T2YoZSk+LTF9ZnVuY3Rpb24gXyh0KXtyZXR1cm4gdC50cmltKCkuc3BsaXQoL1xccysvZyl9ZnVuY3Rpb24geCh0LGUsaSl7aWYodC5pbmRleE9mJiYhaSlyZXR1cm4gdC5pbmRleE9mKGUpO2Zvcih2YXIgbz0wO288dC5sZW5ndGg7KXtpZihpJiZ0W29dW2ldPT1lfHwhaSYmdFtvXT09PWUpcmV0dXJuIG87bysrfXJldHVybi0xfWZ1bmN0aW9uIGsodCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQsMCl9ZnVuY3Rpb24gTyh0LGUsaSl7Zm9yKHZhciBvPVtdLG49W10scz0wO3M8dC5sZW5ndGg7KXt2YXIgcj1lP3Rbc11bZV06dFtzXTt4KG4scik8MCYmby5wdXNoKHRbc10pLG5bc109cixzKyt9cmV0dXJuIGkmJihvPWU/by5zb3J0KGZ1bmN0aW9uKHQsaSl7cmV0dXJuIHRbZV0+aVtlXX0pOm8uc29ydCgpKSxvfWZ1bmN0aW9uIE0odCxlKXtmb3IodmFyIGksbyxuPWVbMF0udG9VcHBlckNhc2UoKStlLnNsaWNlKDEpLHM9MDtzPGN0Lmxlbmd0aDspe2lmKGk9Y3Rbc10sbz1pP2krbjplLG8gaW4gdClyZXR1cm4gbztzKyt9cmV0dXJuIGF9ZnVuY3Rpb24gRCgpe3JldHVybiB5dCsrfWZ1bmN0aW9uIEModCl7dmFyIGU9dC5vd25lckRvY3VtZW50O3JldHVybiBlLmRlZmF1bHRWaWV3fHxlLnBhcmVudFdpbmRvd31mdW5jdGlvbiBUKHQsZSl7dmFyIGk9dGhpczt0aGlzLm1hbmFnZXI9dCx0aGlzLmNhbGxiYWNrPWUsdGhpcy5lbGVtZW50PXQuZWxlbWVudCx0aGlzLnRhcmdldD10Lm9wdGlvbnMuaW5wdXRUYXJnZXQsdGhpcy5kb21IYW5kbGVyPWZ1bmN0aW9uKGUpe20odC5vcHRpb25zLmVuYWJsZSxbdF0pJiZpLmhhbmRsZXIoZSl9LHRoaXMuaW5pdCgpfWZ1bmN0aW9uIFModCl7dmFyIGUsaT10Lm9wdGlvbnMuaW5wdXRDbGFzcztyZXR1cm4gbmV3KGU9aT9pOl90P1k6eHQ/Vjp3dD9YOlcpKHQsRSl9ZnVuY3Rpb24gRSh0LGUsaSl7dmFyIG89aS5wb2ludGVycy5sZW5ndGgsbj1pLmNoYW5nZWRQb2ludGVycy5sZW5ndGgscz1lJlR0JiZvLW49PT0wLHI9ZSYoRXR8UHQpJiZvLW49PT0wO2kuaXNGaXJzdD0hIXMsaS5pc0ZpbmFsPSEhcixzJiYodC5zZXNzaW9uPXt9KSxpLmV2ZW50VHlwZT1lLFAodCxpKSx0LmVtaXQoXCJoYW1tZXIuaW5wdXRcIixpKSx0LnJlY29nbml6ZShpKSx0LnNlc3Npb24ucHJldklucHV0PWl9ZnVuY3Rpb24gUCh0LGUpe3ZhciBpPXQuc2Vzc2lvbixvPWUucG9pbnRlcnMsbj1vLmxlbmd0aDtpLmZpcnN0SW5wdXR8fChpLmZpcnN0SW5wdXQ9eihlKSksbj4xJiYhaS5maXJzdE11bHRpcGxlP2kuZmlyc3RNdWx0aXBsZT16KGUpOjE9PT1uJiYoaS5maXJzdE11bHRpcGxlPSExKTt2YXIgcz1pLmZpcnN0SW5wdXQscj1pLmZpcnN0TXVsdGlwbGUsYT1yP3IuY2VudGVyOnMuY2VudGVyLGg9ZS5jZW50ZXI9TChvKTtlLnRpbWVTdGFtcD1ndCgpLGUuZGVsdGFUaW1lPWUudGltZVN0YW1wLXMudGltZVN0YW1wLGUuYW5nbGU9UihhLGgpLGUuZGlzdGFuY2U9RihhLGgpLEkoaSxlKSxlLm9mZnNldERpcmVjdGlvbj1CKGUuZGVsdGFYLGUuZGVsdGFZKSxlLnNjYWxlPXI/SChyLnBvaW50ZXJzLG8pOjEsZS5yb3RhdGlvbj1yP2ooci5wb2ludGVycyxvKTowLE4oaSxlKTt2YXIgZD10LmVsZW1lbnQ7YihlLnNyY0V2ZW50LnRhcmdldCxkKSYmKGQ9ZS5zcmNFdmVudC50YXJnZXQpLGUudGFyZ2V0PWR9ZnVuY3Rpb24gSSh0LGUpe3ZhciBpPWUuY2VudGVyLG89dC5vZmZzZXREZWx0YXx8e30sbj10LnByZXZEZWx0YXx8e30scz10LnByZXZJbnB1dHx8e307KGUuZXZlbnRUeXBlPT09VHR8fHMuZXZlbnRUeXBlPT09RXQpJiYobj10LnByZXZEZWx0YT17eDpzLmRlbHRhWHx8MCx5OnMuZGVsdGFZfHwwfSxvPXQub2Zmc2V0RGVsdGE9e3g6aS54LHk6aS55fSksZS5kZWx0YVg9bi54KyhpLngtby54KSxlLmRlbHRhWT1uLnkrKGkueS1vLnkpfWZ1bmN0aW9uIE4odCxlKXt2YXIgaSxvLG4scyxyPXQubGFzdEludGVydmFsfHxlLGg9ZS50aW1lU3RhbXAtci50aW1lU3RhbXA7aWYoZS5ldmVudFR5cGUhPVB0JiYoaD5DdHx8ci52ZWxvY2l0eT09PWEpKXt2YXIgZD1yLmRlbHRhWC1lLmRlbHRhWCxsPXIuZGVsdGFZLWUuZGVsdGFZLHU9QShoLGQsbCk7bz11Lngsbj11LnksaT12dCh1LngpPnZ0KHUueSk/dS54OnUueSxzPUIoZCxsKSx0Lmxhc3RJbnRlcnZhbD1lfWVsc2UgaT1yLnZlbG9jaXR5LG89ci52ZWxvY2l0eVgsbj1yLnZlbG9jaXR5WSxzPXIuZGlyZWN0aW9uO2UudmVsb2NpdHk9aSxlLnZlbG9jaXR5WD1vLGUudmVsb2NpdHlZPW4sZS5kaXJlY3Rpb249c31mdW5jdGlvbiB6KHQpe2Zvcih2YXIgZT1bXSxpPTA7aTx0LnBvaW50ZXJzLmxlbmd0aDspZVtpXT17Y2xpZW50WDptdCh0LnBvaW50ZXJzW2ldLmNsaWVudFgpLGNsaWVudFk6bXQodC5wb2ludGVyc1tpXS5jbGllbnRZKX0saSsrO3JldHVybnt0aW1lU3RhbXA6Z3QoKSxwb2ludGVyczplLGNlbnRlcjpMKGUpLGRlbHRhWDp0LmRlbHRhWCxkZWx0YVk6dC5kZWx0YVl9fWZ1bmN0aW9uIEwodCl7dmFyIGU9dC5sZW5ndGg7aWYoMT09PWUpcmV0dXJue3g6bXQodFswXS5jbGllbnRYKSx5Om10KHRbMF0uY2xpZW50WSl9O2Zvcih2YXIgaT0wLG89MCxuPTA7ZT5uOylpKz10W25dLmNsaWVudFgsbys9dFtuXS5jbGllbnRZLG4rKztyZXR1cm57eDptdChpL2UpLHk6bXQoby9lKX19ZnVuY3Rpb24gQSh0LGUsaSl7cmV0dXJue3g6ZS90fHwwLHk6aS90fHwwfX1mdW5jdGlvbiBCKHQsZSl7cmV0dXJuIHQ9PT1lP0l0OnZ0KHQpPj12dChlKT90PjA/TnQ6enQ6ZT4wP0x0OkF0fWZ1bmN0aW9uIEYodCxlLGkpe2l8fChpPWp0KTt2YXIgbz1lW2lbMF1dLXRbaVswXV0sbj1lW2lbMV1dLXRbaVsxXV07cmV0dXJuIE1hdGguc3FydChvKm8rbipuKX1mdW5jdGlvbiBSKHQsZSxpKXtpfHwoaT1qdCk7dmFyIG89ZVtpWzBdXS10W2lbMF1dLG49ZVtpWzFdXS10W2lbMV1dO3JldHVybiAxODAqTWF0aC5hdGFuMihuLG8pL01hdGguUEl9ZnVuY3Rpb24gaih0LGUpe3JldHVybiBSKGVbMV0sZVswXSxIdCktUih0WzFdLHRbMF0sSHQpfWZ1bmN0aW9uIEgodCxlKXtyZXR1cm4gRihlWzBdLGVbMV0sSHQpL0YodFswXSx0WzFdLEh0KX1mdW5jdGlvbiBXKCl7dGhpcy5ldkVsPVl0LHRoaXMuZXZXaW49R3QsdGhpcy5hbGxvdz0hMCx0aGlzLnByZXNzZWQ9ITEsVC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gWSgpe3RoaXMuZXZFbD1xdCx0aGlzLmV2V2luPVh0LFQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuc3RvcmU9dGhpcy5tYW5hZ2VyLnNlc3Npb24ucG9pbnRlckV2ZW50cz1bXX1mdW5jdGlvbiBHKCl7dGhpcy5ldlRhcmdldD1LdCx0aGlzLmV2V2luPUp0LHRoaXMuc3RhcnRlZD0hMSxULmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBVKHQsZSl7dmFyIGk9ayh0LnRvdWNoZXMpLG89ayh0LmNoYW5nZWRUb3VjaGVzKTtyZXR1cm4gZSYoRXR8UHQpJiYoaT1PKGkuY29uY2F0KG8pLFwiaWRlbnRpZmllclwiLCEwKSksW2ksb119ZnVuY3Rpb24gVigpe3RoaXMuZXZUYXJnZXQ9JHQsdGhpcy50YXJnZXRJZHM9e30sVC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcSh0LGUpe3ZhciBpPWsodC50b3VjaGVzKSxvPXRoaXMudGFyZ2V0SWRzO2lmKGUmKFR0fFN0KSYmMT09PWkubGVuZ3RoKXJldHVybiBvW2lbMF0uaWRlbnRpZmllcl09ITAsW2ksaV07dmFyIG4scyxyPWsodC5jaGFuZ2VkVG91Y2hlcyksYT1bXSxoPXRoaXMudGFyZ2V0O2lmKHM9aS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIGIodC50YXJnZXQsaCl9KSxlPT09VHQpZm9yKG49MDtuPHMubGVuZ3RoOylvW3Nbbl0uaWRlbnRpZmllcl09ITAsbisrO2ZvcihuPTA7bjxyLmxlbmd0aDspb1tyW25dLmlkZW50aWZpZXJdJiZhLnB1c2gocltuXSksZSYoRXR8UHQpJiZkZWxldGUgb1tyW25dLmlkZW50aWZpZXJdLG4rKztyZXR1cm4gYS5sZW5ndGg/W08ocy5jb25jYXQoYSksXCJpZGVudGlmaWVyXCIsITApLGFdOnZvaWQgMH1mdW5jdGlvbiBYKCl7VC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIHQ9Zih0aGlzLmhhbmRsZXIsdGhpcyk7dGhpcy50b3VjaD1uZXcgVih0aGlzLm1hbmFnZXIsdCksdGhpcy5tb3VzZT1uZXcgVyh0aGlzLm1hbmFnZXIsdCl9ZnVuY3Rpb24gWih0LGUpe3RoaXMubWFuYWdlcj10LHRoaXMuc2V0KGUpfWZ1bmN0aW9uIEsodCl7aWYodyh0LHNlKSlyZXR1cm4gc2U7dmFyIGU9dyh0LHJlKSxpPXcodCxhZSk7cmV0dXJuIGUmJmk/cmUrXCIgXCIrYWU6ZXx8aT9lP3JlOmFlOncodCxuZSk/bmU6b2V9ZnVuY3Rpb24gSih0KXt0aGlzLmlkPUQoKSx0aGlzLm1hbmFnZXI9bnVsbCx0aGlzLm9wdGlvbnM9Yyh0fHx7fSx0aGlzLmRlZmF1bHRzKSx0aGlzLm9wdGlvbnMuZW5hYmxlPXYodGhpcy5vcHRpb25zLmVuYWJsZSwhMCksdGhpcy5zdGF0ZT1oZSx0aGlzLnNpbXVsdGFuZW91cz17fSx0aGlzLnJlcXVpcmVGYWlsPVtdfWZ1bmN0aW9uIFEodCl7cmV0dXJuIHQmcGU/XCJjYW5jZWxcIjp0JnVlP1wiZW5kXCI6dCZsZT9cIm1vdmVcIjp0JmRlP1wic3RhcnRcIjpcIlwifWZ1bmN0aW9uICQodCl7cmV0dXJuIHQ9PUF0P1wiZG93blwiOnQ9PUx0P1widXBcIjp0PT1OdD9cImxlZnRcIjp0PT16dD9cInJpZ2h0XCI6XCJcIn1mdW5jdGlvbiB0dCh0LGUpe3ZhciBpPWUubWFuYWdlcjtyZXR1cm4gaT9pLmdldCh0KTp0fWZ1bmN0aW9uIGV0KCl7Si5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gaXQoKXtldC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5wWD1udWxsLHRoaXMucFk9bnVsbH1mdW5jdGlvbiBvdCgpe2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBudCgpe0ouYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3RpbWVyPW51bGwsdGhpcy5faW5wdXQ9bnVsbH1mdW5jdGlvbiBzdCgpe2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBydCgpe2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBhdCgpe0ouYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMucFRpbWU9ITEsdGhpcy5wQ2VudGVyPSExLHRoaXMuX3RpbWVyPW51bGwsdGhpcy5faW5wdXQ9bnVsbCx0aGlzLmNvdW50PTB9ZnVuY3Rpb24gaHQodCxlKXtyZXR1cm4gZT1lfHx7fSxlLnJlY29nbml6ZXJzPXYoZS5yZWNvZ25pemVycyxodC5kZWZhdWx0cy5wcmVzZXQpLG5ldyBkdCh0LGUpfWZ1bmN0aW9uIGR0KHQsZSl7ZT1lfHx7fSx0aGlzLm9wdGlvbnM9YyhlLGh0LmRlZmF1bHRzKSx0aGlzLm9wdGlvbnMuaW5wdXRUYXJnZXQ9dGhpcy5vcHRpb25zLmlucHV0VGFyZ2V0fHx0LHRoaXMuaGFuZGxlcnM9e30sdGhpcy5zZXNzaW9uPXt9LHRoaXMucmVjb2duaXplcnM9W10sdGhpcy5lbGVtZW50PXQsdGhpcy5pbnB1dD1TKHRoaXMpLHRoaXMudG91Y2hBY3Rpb249bmV3IFoodGhpcyx0aGlzLm9wdGlvbnMudG91Y2hBY3Rpb24pLGx0KHRoaXMsITApLGwoZS5yZWNvZ25pemVycyxmdW5jdGlvbih0KXt2YXIgZT10aGlzLmFkZChuZXcgdFswXSh0WzFdKSk7dFsyXSYmZS5yZWNvZ25pemVXaXRoKHRbMl0pLHRbM10mJmUucmVxdWlyZUZhaWx1cmUodFszXSl9LHRoaXMpfWZ1bmN0aW9uIGx0KHQsZSl7dmFyIGk9dC5lbGVtZW50O2wodC5vcHRpb25zLmNzc1Byb3BzLGZ1bmN0aW9uKHQsbyl7aS5zdHlsZVtNKGkuc3R5bGUsbyldPWU/dDpcIlwifSl9ZnVuY3Rpb24gdXQodCxlKXt2YXIgaT1zLmNyZWF0ZUV2ZW50KFwiRXZlbnRcIik7aS5pbml0RXZlbnQodCwhMCwhMCksaS5nZXN0dXJlPWUsZS50YXJnZXQuZGlzcGF0Y2hFdmVudChpKX12YXIgY3Q9W1wiXCIsXCJ3ZWJraXRcIixcIm1velwiLFwiTVNcIixcIm1zXCIsXCJvXCJdLHB0PXMuY3JlYXRlRWxlbWVudChcImRpdlwiKSxmdD1cImZ1bmN0aW9uXCIsbXQ9TWF0aC5yb3VuZCx2dD1NYXRoLmFicyxndD1EYXRlLm5vdyx5dD0xLGJ0PS9tb2JpbGV8dGFibGV0fGlwKGFkfGhvbmV8b2QpfGFuZHJvaWQvaSx3dD1cIm9udG91Y2hzdGFydFwiaW4gbixfdD1NKG4sXCJQb2ludGVyRXZlbnRcIikhPT1hLHh0PXd0JiZidC50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGt0PVwidG91Y2hcIixPdD1cInBlblwiLE10PVwibW91c2VcIixEdD1cImtpbmVjdFwiLEN0PTI1LFR0PTEsU3Q9MixFdD00LFB0PTgsSXQ9MSxOdD0yLHp0PTQsTHQ9OCxBdD0xNixCdD1OdHx6dCxGdD1MdHxBdCxSdD1CdHxGdCxqdD1bXCJ4XCIsXCJ5XCJdLEh0PVtcImNsaWVudFhcIixcImNsaWVudFlcIl07VC5wcm90b3R5cGU9e2hhbmRsZXI6ZnVuY3Rpb24oKXt9LGluaXQ6ZnVuY3Rpb24oKXt0aGlzLmV2RWwmJmcodGhpcy5lbGVtZW50LHRoaXMuZXZFbCx0aGlzLmRvbUhhbmRsZXIpLHRoaXMuZXZUYXJnZXQmJmcodGhpcy50YXJnZXQsdGhpcy5ldlRhcmdldCx0aGlzLmRvbUhhbmRsZXIpLHRoaXMuZXZXaW4mJmcoQyh0aGlzLmVsZW1lbnQpLHRoaXMuZXZXaW4sdGhpcy5kb21IYW5kbGVyKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZXZFbCYmeSh0aGlzLmVsZW1lbnQsdGhpcy5ldkVsLHRoaXMuZG9tSGFuZGxlciksdGhpcy5ldlRhcmdldCYmeSh0aGlzLnRhcmdldCx0aGlzLmV2VGFyZ2V0LHRoaXMuZG9tSGFuZGxlciksdGhpcy5ldldpbiYmeShDKHRoaXMuZWxlbWVudCksdGhpcy5ldldpbix0aGlzLmRvbUhhbmRsZXIpfX07dmFyIFd0PXttb3VzZWRvd246VHQsbW91c2Vtb3ZlOlN0LG1vdXNldXA6RXR9LFl0PVwibW91c2Vkb3duXCIsR3Q9XCJtb3VzZW1vdmUgbW91c2V1cFwiO3AoVyxULHtoYW5kbGVyOmZ1bmN0aW9uKHQpe3ZhciBlPVd0W3QudHlwZV07ZSZUdCYmMD09PXQuYnV0dG9uJiYodGhpcy5wcmVzc2VkPSEwKSxlJlN0JiYxIT09dC53aGljaCYmKGU9RXQpLHRoaXMucHJlc3NlZCYmdGhpcy5hbGxvdyYmKGUmRXQmJih0aGlzLnByZXNzZWQ9ITEpLHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLGUse3BvaW50ZXJzOlt0XSxjaGFuZ2VkUG9pbnRlcnM6W3RdLHBvaW50ZXJUeXBlOk10LHNyY0V2ZW50OnR9KSl9fSk7dmFyIFV0PXtwb2ludGVyZG93bjpUdCxwb2ludGVybW92ZTpTdCxwb2ludGVydXA6RXQscG9pbnRlcmNhbmNlbDpQdCxwb2ludGVyb3V0OlB0fSxWdD17MjprdCwzOk90LDQ6TXQsNTpEdH0scXQ9XCJwb2ludGVyZG93blwiLFh0PVwicG9pbnRlcm1vdmUgcG9pbnRlcnVwIHBvaW50ZXJjYW5jZWxcIjtuLk1TUG9pbnRlckV2ZW50JiYocXQ9XCJNU1BvaW50ZXJEb3duXCIsWHQ9XCJNU1BvaW50ZXJNb3ZlIE1TUG9pbnRlclVwIE1TUG9pbnRlckNhbmNlbFwiKSxwKFksVCx7aGFuZGxlcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0b3JlLGk9ITEsbz10LnR5cGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKFwibXNcIixcIlwiKSxuPVV0W29dLHM9VnRbdC5wb2ludGVyVHlwZV18fHQucG9pbnRlclR5cGUscj1zPT1rdCxhPXgoZSx0LnBvaW50ZXJJZCxcInBvaW50ZXJJZFwiKTtcbm4mVHQmJigwPT09dC5idXR0b258fHIpPzA+YSYmKGUucHVzaCh0KSxhPWUubGVuZ3RoLTEpOm4mKEV0fFB0KSYmKGk9ITApLDA+YXx8KGVbYV09dCx0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlcixuLHtwb2ludGVyczplLGNoYW5nZWRQb2ludGVyczpbdF0scG9pbnRlclR5cGU6cyxzcmNFdmVudDp0fSksaSYmZS5zcGxpY2UoYSwxKSl9fSk7dmFyIFp0PXt0b3VjaHN0YXJ0OlR0LHRvdWNobW92ZTpTdCx0b3VjaGVuZDpFdCx0b3VjaGNhbmNlbDpQdH0sS3Q9XCJ0b3VjaHN0YXJ0XCIsSnQ9XCJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbFwiO3AoRyxULHtoYW5kbGVyOmZ1bmN0aW9uKHQpe3ZhciBlPVp0W3QudHlwZV07aWYoZT09PVR0JiYodGhpcy5zdGFydGVkPSEwKSx0aGlzLnN0YXJ0ZWQpe3ZhciBpPVUuY2FsbCh0aGlzLHQsZSk7ZSYoRXR8UHQpJiZpWzBdLmxlbmd0aC1pWzFdLmxlbmd0aD09PTAmJih0aGlzLnN0YXJ0ZWQ9ITEpLHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLGUse3BvaW50ZXJzOmlbMF0sY2hhbmdlZFBvaW50ZXJzOmlbMV0scG9pbnRlclR5cGU6a3Qsc3JjRXZlbnQ6dH0pfX19KTt2YXIgUXQ9e3RvdWNoc3RhcnQ6VHQsdG91Y2htb3ZlOlN0LHRvdWNoZW5kOkV0LHRvdWNoY2FuY2VsOlB0fSwkdD1cInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsXCI7cChWLFQse2hhbmRsZXI6ZnVuY3Rpb24odCl7dmFyIGU9UXRbdC50eXBlXSxpPXEuY2FsbCh0aGlzLHQsZSk7aSYmdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsZSx7cG9pbnRlcnM6aVswXSxjaGFuZ2VkUG9pbnRlcnM6aVsxXSxwb2ludGVyVHlwZTprdCxzcmNFdmVudDp0fSl9fSkscChYLFQse2hhbmRsZXI6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPWkucG9pbnRlclR5cGU9PWt0LG49aS5wb2ludGVyVHlwZT09TXQ7aWYobyl0aGlzLm1vdXNlLmFsbG93PSExO2Vsc2UgaWYobiYmIXRoaXMubW91c2UuYWxsb3cpcmV0dXJuO2UmKEV0fFB0KSYmKHRoaXMubW91c2UuYWxsb3c9ITApLHRoaXMuY2FsbGJhY2sodCxlLGkpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy50b3VjaC5kZXN0cm95KCksdGhpcy5tb3VzZS5kZXN0cm95KCl9fSk7dmFyIHRlPU0ocHQuc3R5bGUsXCJ0b3VjaEFjdGlvblwiKSxlZT10ZSE9PWEsaWU9XCJjb21wdXRlXCIsb2U9XCJhdXRvXCIsbmU9XCJtYW5pcHVsYXRpb25cIixzZT1cIm5vbmVcIixyZT1cInBhbi14XCIsYWU9XCJwYW4teVwiO1oucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24odCl7dD09aWUmJih0PXRoaXMuY29tcHV0ZSgpKSxlZSYmKHRoaXMubWFuYWdlci5lbGVtZW50LnN0eWxlW3RlXT10KSx0aGlzLmFjdGlvbnM9dC50b0xvd2VyQ2FzZSgpLnRyaW0oKX0sdXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5zZXQodGhpcy5tYW5hZ2VyLm9wdGlvbnMudG91Y2hBY3Rpb24pfSxjb21wdXRlOmZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIGwodGhpcy5tYW5hZ2VyLnJlY29nbml6ZXJzLGZ1bmN0aW9uKGUpe20oZS5vcHRpb25zLmVuYWJsZSxbZV0pJiYodD10LmNvbmNhdChlLmdldFRvdWNoQWN0aW9uKCkpKX0pLEsodC5qb2luKFwiIFwiKSl9LHByZXZlbnREZWZhdWx0czpmdW5jdGlvbih0KXtpZighZWUpe3ZhciBlPXQuc3JjRXZlbnQsaT10Lm9mZnNldERpcmVjdGlvbjtpZih0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQpcmV0dXJuIHZvaWQgZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBvPXRoaXMuYWN0aW9ucyxuPXcobyxzZSkscz13KG8sYWUpLHI9dyhvLHJlKTtyZXR1cm4gbnx8cyYmaSZCdHx8ciYmaSZGdD90aGlzLnByZXZlbnRTcmMoZSk6dm9pZCAwfX0scHJldmVudFNyYzpmdW5jdGlvbih0KXt0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQ9ITAsdC5wcmV2ZW50RGVmYXVsdCgpfX07dmFyIGhlPTEsZGU9MixsZT00LHVlPTgsY2U9dWUscGU9MTYsZmU9MzI7Si5wcm90b3R5cGU9e2RlZmF1bHRzOnt9LHNldDpmdW5jdGlvbih0KXtyZXR1cm4gdSh0aGlzLm9wdGlvbnMsdCksdGhpcy5tYW5hZ2VyJiZ0aGlzLm1hbmFnZXIudG91Y2hBY3Rpb24udXBkYXRlKCksdGhpc30scmVjb2duaXplV2l0aDpmdW5jdGlvbih0KXtpZihkKHQsXCJyZWNvZ25pemVXaXRoXCIsdGhpcykpcmV0dXJuIHRoaXM7dmFyIGU9dGhpcy5zaW11bHRhbmVvdXM7cmV0dXJuIHQ9dHQodCx0aGlzKSxlW3QuaWRdfHwoZVt0LmlkXT10LHQucmVjb2duaXplV2l0aCh0aGlzKSksdGhpc30sZHJvcFJlY29nbml6ZVdpdGg6ZnVuY3Rpb24odCl7cmV0dXJuIGQodCxcImRyb3BSZWNvZ25pemVXaXRoXCIsdGhpcyk/dGhpczoodD10dCh0LHRoaXMpLGRlbGV0ZSB0aGlzLnNpbXVsdGFuZW91c1t0LmlkXSx0aGlzKX0scmVxdWlyZUZhaWx1cmU6ZnVuY3Rpb24odCl7aWYoZCh0LFwicmVxdWlyZUZhaWx1cmVcIix0aGlzKSlyZXR1cm4gdGhpczt2YXIgZT10aGlzLnJlcXVpcmVGYWlsO3JldHVybiB0PXR0KHQsdGhpcyksLTE9PT14KGUsdCkmJihlLnB1c2godCksdC5yZXF1aXJlRmFpbHVyZSh0aGlzKSksdGhpc30sZHJvcFJlcXVpcmVGYWlsdXJlOmZ1bmN0aW9uKHQpe2lmKGQodCxcImRyb3BSZXF1aXJlRmFpbHVyZVwiLHRoaXMpKXJldHVybiB0aGlzO3Q9dHQodCx0aGlzKTt2YXIgZT14KHRoaXMucmVxdWlyZUZhaWwsdCk7cmV0dXJuIGU+LTEmJnRoaXMucmVxdWlyZUZhaWwuc3BsaWNlKGUsMSksdGhpc30saGFzUmVxdWlyZUZhaWx1cmVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVxdWlyZUZhaWwubGVuZ3RoPjB9LGNhblJlY29nbml6ZVdpdGg6ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLnNpbXVsdGFuZW91c1t0LmlkXX0sZW1pdDpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe2kubWFuYWdlci5lbWl0KGkub3B0aW9ucy5ldmVudCsoZT9RKG8pOlwiXCIpLHQpfXZhciBpPXRoaXMsbz10aGlzLnN0YXRlO3VlPm8mJmUoITApLGUoKSxvPj11ZSYmZSghMCl9LHRyeUVtaXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2FuRW1pdCgpP3RoaXMuZW1pdCh0KTp2b2lkKHRoaXMuc3RhdGU9ZmUpfSxjYW5FbWl0OmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLnJlcXVpcmVGYWlsLmxlbmd0aDspe2lmKCEodGhpcy5yZXF1aXJlRmFpbFt0XS5zdGF0ZSYoZmV8aGUpKSlyZXR1cm4hMTt0Kyt9cmV0dXJuITB9LHJlY29nbml6ZTpmdW5jdGlvbih0KXt2YXIgZT11KHt9LHQpO3JldHVybiBtKHRoaXMub3B0aW9ucy5lbmFibGUsW3RoaXMsZV0pPyh0aGlzLnN0YXRlJihjZXxwZXxmZSkmJih0aGlzLnN0YXRlPWhlKSx0aGlzLnN0YXRlPXRoaXMucHJvY2VzcyhlKSx2b2lkKHRoaXMuc3RhdGUmKGRlfGxlfHVlfHBlKSYmdGhpcy50cnlFbWl0KGUpKSk6KHRoaXMucmVzZXQoKSx2b2lkKHRoaXMuc3RhdGU9ZmUpKX0scHJvY2VzczpmdW5jdGlvbih0KXt9LGdldFRvdWNoQWN0aW9uOmZ1bmN0aW9uKCl7fSxyZXNldDpmdW5jdGlvbigpe319LHAoZXQsSix7ZGVmYXVsdHM6e3BvaW50ZXJzOjF9LGF0dHJUZXN0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucy5wb2ludGVycztyZXR1cm4gMD09PWV8fHQucG9pbnRlcnMubGVuZ3RoPT09ZX0scHJvY2VzczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0YXRlLGk9dC5ldmVudFR5cGUsbz1lJihkZXxsZSksbj10aGlzLmF0dHJUZXN0KHQpO3JldHVybiBvJiYoaSZQdHx8IW4pP2V8cGU6b3x8bj9pJkV0P2V8dWU6ZSZkZT9lfGxlOmRlOmZlfX0pLHAoaXQsZXQse2RlZmF1bHRzOntldmVudDpcInBhblwiLHRocmVzaG9sZDoxMCxwb2ludGVyczoxLGRpcmVjdGlvbjpSdH0sZ2V0VG91Y2hBY3Rpb246ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMuZGlyZWN0aW9uLGU9W107cmV0dXJuIHQmQnQmJmUucHVzaChhZSksdCZGdCYmZS5wdXNoKHJlKSxlfSxkaXJlY3Rpb25UZXN0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucyxpPSEwLG89dC5kaXN0YW5jZSxuPXQuZGlyZWN0aW9uLHM9dC5kZWx0YVgscj10LmRlbHRhWTtyZXR1cm4gbiZlLmRpcmVjdGlvbnx8KGUuZGlyZWN0aW9uJkJ0PyhuPTA9PT1zP0l0OjA+cz9OdDp6dCxpPXMhPXRoaXMucFgsbz1NYXRoLmFicyh0LmRlbHRhWCkpOihuPTA9PT1yP0l0OjA+cj9MdDpBdCxpPXIhPXRoaXMucFksbz1NYXRoLmFicyh0LmRlbHRhWSkpKSx0LmRpcmVjdGlvbj1uLGkmJm8+ZS50aHJlc2hvbGQmJm4mZS5kaXJlY3Rpb259LGF0dHJUZXN0OmZ1bmN0aW9uKHQpe3JldHVybiBldC5wcm90b3R5cGUuYXR0clRlc3QuY2FsbCh0aGlzLHQpJiYodGhpcy5zdGF0ZSZkZXx8ISh0aGlzLnN0YXRlJmRlKSYmdGhpcy5kaXJlY3Rpb25UZXN0KHQpKX0sZW1pdDpmdW5jdGlvbih0KXt0aGlzLnBYPXQuZGVsdGFYLHRoaXMucFk9dC5kZWx0YVk7dmFyIGU9JCh0LmRpcmVjdGlvbik7ZSYmdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50K2UsdCksdGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsdCl9fSkscChvdCxldCx7ZGVmYXVsdHM6e2V2ZW50OlwicGluY2hcIix0aHJlc2hvbGQ6MCxwb2ludGVyczoyfSxnZXRUb3VjaEFjdGlvbjpmdW5jdGlvbigpe3JldHVybltzZV19LGF0dHJUZXN0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsdCkmJihNYXRoLmFicyh0LnNjYWxlLTEpPnRoaXMub3B0aW9ucy50aHJlc2hvbGR8fHRoaXMuc3RhdGUmZGUpfSxlbWl0OmZ1bmN0aW9uKHQpe2lmKHRoaXMuX3N1cGVyLmVtaXQuY2FsbCh0aGlzLHQpLDEhPT10LnNjYWxlKXt2YXIgZT10LnNjYWxlPDE/XCJpblwiOlwib3V0XCI7dGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50K2UsdCl9fX0pLHAobnQsSix7ZGVmYXVsdHM6e2V2ZW50OlwicHJlc3NcIixwb2ludGVyczoxLHRpbWU6NTAwLHRocmVzaG9sZDo1fSxnZXRUb3VjaEFjdGlvbjpmdW5jdGlvbigpe3JldHVybltvZV19LHByb2Nlc3M6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLGk9dC5wb2ludGVycy5sZW5ndGg9PT1lLnBvaW50ZXJzLG89dC5kaXN0YW5jZTxlLnRocmVzaG9sZCxuPXQuZGVsdGFUaW1lPmUudGltZTtpZih0aGlzLl9pbnB1dD10LCFvfHwhaXx8dC5ldmVudFR5cGUmKEV0fFB0KSYmIW4pdGhpcy5yZXNldCgpO2Vsc2UgaWYodC5ldmVudFR5cGUmVHQpdGhpcy5yZXNldCgpLHRoaXMuX3RpbWVyPWgoZnVuY3Rpb24oKXt0aGlzLnN0YXRlPWNlLHRoaXMudHJ5RW1pdCgpfSxlLnRpbWUsdGhpcyk7ZWxzZSBpZih0LmV2ZW50VHlwZSZFdClyZXR1cm4gY2U7cmV0dXJuIGZlfSxyZXNldDpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl90aW1lcil9LGVtaXQ6ZnVuY3Rpb24odCl7dGhpcy5zdGF0ZT09PWNlJiYodCYmdC5ldmVudFR5cGUmRXQ/dGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50K1widXBcIix0KToodGhpcy5faW5wdXQudGltZVN0YW1wPWd0KCksdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LHRoaXMuX2lucHV0KSkpfX0pLHAoc3QsZXQse2RlZmF1bHRzOntldmVudDpcInJvdGF0ZVwiLHRocmVzaG9sZDowLHBvaW50ZXJzOjJ9LGdldFRvdWNoQWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuW3NlXX0sYXR0clRlc3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcyx0KSYmKE1hdGguYWJzKHQucm90YXRpb24pPnRoaXMub3B0aW9ucy50aHJlc2hvbGR8fHRoaXMuc3RhdGUmZGUpfX0pLHAocnQsZXQse2RlZmF1bHRzOntldmVudDpcInN3aXBlXCIsdGhyZXNob2xkOjEwLHZlbG9jaXR5Oi42NSxkaXJlY3Rpb246QnR8RnQscG9pbnRlcnM6MX0sZ2V0VG91Y2hBY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gaXQucHJvdG90eXBlLmdldFRvdWNoQWN0aW9uLmNhbGwodGhpcyl9LGF0dHJUZXN0OmZ1bmN0aW9uKHQpe3ZhciBlLGk9dGhpcy5vcHRpb25zLmRpcmVjdGlvbjtyZXR1cm4gaSYoQnR8RnQpP2U9dC52ZWxvY2l0eTppJkJ0P2U9dC52ZWxvY2l0eVg6aSZGdCYmKGU9dC52ZWxvY2l0eVkpLHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcyx0KSYmaSZ0LmRpcmVjdGlvbiYmdC5kaXN0YW5jZT50aGlzLm9wdGlvbnMudGhyZXNob2xkJiZ2dChlKT50aGlzLm9wdGlvbnMudmVsb2NpdHkmJnQuZXZlbnRUeXBlJkV0fSxlbWl0OmZ1bmN0aW9uKHQpe3ZhciBlPSQodC5kaXJlY3Rpb24pO2UmJnRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCtlLHQpLHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCx0KX19KSxwKGF0LEose2RlZmF1bHRzOntldmVudDpcInRhcFwiLHBvaW50ZXJzOjEsdGFwczoxLGludGVydmFsOjMwMCx0aW1lOjI1MCx0aHJlc2hvbGQ6Mixwb3NUaHJlc2hvbGQ6MTB9LGdldFRvdWNoQWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuW25lXX0scHJvY2VzczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMsaT10LnBvaW50ZXJzLmxlbmd0aD09PWUucG9pbnRlcnMsbz10LmRpc3RhbmNlPGUudGhyZXNob2xkLG49dC5kZWx0YVRpbWU8ZS50aW1lO2lmKHRoaXMucmVzZXQoKSx0LmV2ZW50VHlwZSZUdCYmMD09PXRoaXMuY291bnQpcmV0dXJuIHRoaXMuZmFpbFRpbWVvdXQoKTtpZihvJiZuJiZpKXtpZih0LmV2ZW50VHlwZSE9RXQpcmV0dXJuIHRoaXMuZmFpbFRpbWVvdXQoKTt2YXIgcz10aGlzLnBUaW1lP3QudGltZVN0YW1wLXRoaXMucFRpbWU8ZS5pbnRlcnZhbDohMCxyPSF0aGlzLnBDZW50ZXJ8fEYodGhpcy5wQ2VudGVyLHQuY2VudGVyKTxlLnBvc1RocmVzaG9sZDt0aGlzLnBUaW1lPXQudGltZVN0YW1wLHRoaXMucENlbnRlcj10LmNlbnRlcixyJiZzP3RoaXMuY291bnQrPTE6dGhpcy5jb3VudD0xLHRoaXMuX2lucHV0PXQ7dmFyIGE9dGhpcy5jb3VudCVlLnRhcHM7aWYoMD09PWEpcmV0dXJuIHRoaXMuaGFzUmVxdWlyZUZhaWx1cmVzKCk/KHRoaXMuX3RpbWVyPWgoZnVuY3Rpb24oKXt0aGlzLnN0YXRlPWNlLHRoaXMudHJ5RW1pdCgpfSxlLmludGVydmFsLHRoaXMpLGRlKTpjZX1yZXR1cm4gZmV9LGZhaWxUaW1lb3V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpbWVyPWgoZnVuY3Rpb24oKXt0aGlzLnN0YXRlPWZlfSx0aGlzLm9wdGlvbnMuaW50ZXJ2YWwsdGhpcyksZmV9LHJlc2V0OmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKX0sZW1pdDpmdW5jdGlvbigpe3RoaXMuc3RhdGU9PWNlJiYodGhpcy5faW5wdXQudGFwQ291bnQ9dGhpcy5jb3VudCx0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsdGhpcy5faW5wdXQpKX19KSxodC5WRVJTSU9OPVwiMi4wLjRcIixodC5kZWZhdWx0cz17ZG9tRXZlbnRzOiExLHRvdWNoQWN0aW9uOmllLGVuYWJsZTohMCxpbnB1dFRhcmdldDpudWxsLGlucHV0Q2xhc3M6bnVsbCxwcmVzZXQ6W1tzdCx7ZW5hYmxlOiExfV0sW290LHtlbmFibGU6ITF9LFtcInJvdGF0ZVwiXV0sW3J0LHtkaXJlY3Rpb246QnR9XSxbaXQse2RpcmVjdGlvbjpCdH0sW1wic3dpcGVcIl1dLFthdF0sW2F0LHtldmVudDpcImRvdWJsZXRhcFwiLHRhcHM6Mn0sW1widGFwXCJdXSxbbnRdXSxjc3NQcm9wczp7dXNlclNlbGVjdDpcIm5vbmVcIix0b3VjaFNlbGVjdDpcIm5vbmVcIix0b3VjaENhbGxvdXQ6XCJub25lXCIsY29udGVudFpvb21pbmc6XCJub25lXCIsdXNlckRyYWc6XCJub25lXCIsdGFwSGlnaGxpZ2h0Q29sb3I6XCJyZ2JhKDAsMCwwLDApXCJ9fTt2YXIgbWU9MSx2ZT0yO2R0LnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKHQpe3JldHVybiB1KHRoaXMub3B0aW9ucyx0KSx0LnRvdWNoQWN0aW9uJiZ0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpLHQuaW5wdXRUYXJnZXQmJih0aGlzLmlucHV0LmRlc3Ryb3koKSx0aGlzLmlucHV0LnRhcmdldD10LmlucHV0VGFyZ2V0LHRoaXMuaW5wdXQuaW5pdCgpKSx0aGlzfSxzdG9wOmZ1bmN0aW9uKHQpe3RoaXMuc2Vzc2lvbi5zdG9wcGVkPXQ/dmU6bWV9LHJlY29nbml6ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnNlc3Npb247aWYoIWUuc3RvcHBlZCl7dGhpcy50b3VjaEFjdGlvbi5wcmV2ZW50RGVmYXVsdHModCk7dmFyIGksbz10aGlzLnJlY29nbml6ZXJzLG49ZS5jdXJSZWNvZ25pemVyOyghbnx8biYmbi5zdGF0ZSZjZSkmJihuPWUuY3VyUmVjb2duaXplcj1udWxsKTtmb3IodmFyIHM9MDtzPG8ubGVuZ3RoOylpPW9bc10sZS5zdG9wcGVkPT09dmV8fG4mJmkhPW4mJiFpLmNhblJlY29nbml6ZVdpdGgobik/aS5yZXNldCgpOmkucmVjb2duaXplKHQpLCFuJiZpLnN0YXRlJihkZXxsZXx1ZSkmJihuPWUuY3VyUmVjb2duaXplcj1pKSxzKyt9fSxnZXQ6ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIEopcmV0dXJuIHQ7Zm9yKHZhciBlPXRoaXMucmVjb2duaXplcnMsaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKGVbaV0ub3B0aW9ucy5ldmVudD09dClyZXR1cm4gZVtpXTtyZXR1cm4gbnVsbH0sYWRkOmZ1bmN0aW9uKHQpe2lmKGQodCxcImFkZFwiLHRoaXMpKXJldHVybiB0aGlzO3ZhciBlPXRoaXMuZ2V0KHQub3B0aW9ucy5ldmVudCk7cmV0dXJuIGUmJnRoaXMucmVtb3ZlKGUpLHRoaXMucmVjb2duaXplcnMucHVzaCh0KSx0Lm1hbmFnZXI9dGhpcyx0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpLHR9LHJlbW92ZTpmdW5jdGlvbih0KXtpZihkKHQsXCJyZW1vdmVcIix0aGlzKSlyZXR1cm4gdGhpczt2YXIgZT10aGlzLnJlY29nbml6ZXJzO3JldHVybiB0PXRoaXMuZ2V0KHQpLGUuc3BsaWNlKHgoZSx0KSwxKSx0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpLHRoaXN9LG9uOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5oYW5kbGVycztyZXR1cm4gbChfKHQpLGZ1bmN0aW9uKHQpe2lbdF09aVt0XXx8W10saVt0XS5wdXNoKGUpfSksdGhpc30sb2ZmOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5oYW5kbGVycztyZXR1cm4gbChfKHQpLGZ1bmN0aW9uKHQpe2U/aVt0XS5zcGxpY2UoeChpW3RdLGUpLDEpOmRlbGV0ZSBpW3RdfSksdGhpc30sZW1pdDpmdW5jdGlvbih0LGUpe3RoaXMub3B0aW9ucy5kb21FdmVudHMmJnV0KHQsZSk7dmFyIGk9dGhpcy5oYW5kbGVyc1t0XSYmdGhpcy5oYW5kbGVyc1t0XS5zbGljZSgpO2lmKGkmJmkubGVuZ3RoKXtlLnR5cGU9dCxlLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7ZS5zcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpfTtmb3IodmFyIG89MDtvPGkubGVuZ3RoOylpW29dKGUpLG8rK319LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQmJmx0KHRoaXMsITEpLHRoaXMuaGFuZGxlcnM9e30sdGhpcy5zZXNzaW9uPXt9LHRoaXMuaW5wdXQuZGVzdHJveSgpLHRoaXMuZWxlbWVudD1udWxsfX0sdShodCx7SU5QVVRfU1RBUlQ6VHQsSU5QVVRfTU9WRTpTdCxJTlBVVF9FTkQ6RXQsSU5QVVRfQ0FOQ0VMOlB0LFNUQVRFX1BPU1NJQkxFOmhlLFNUQVRFX0JFR0FOOmRlLFNUQVRFX0NIQU5HRUQ6bGUsU1RBVEVfRU5ERUQ6dWUsU1RBVEVfUkVDT0dOSVpFRDpjZSxTVEFURV9DQU5DRUxMRUQ6cGUsU1RBVEVfRkFJTEVEOmZlLERJUkVDVElPTl9OT05FOkl0LERJUkVDVElPTl9MRUZUOk50LERJUkVDVElPTl9SSUdIVDp6dCxESVJFQ1RJT05fVVA6THQsRElSRUNUSU9OX0RPV046QXQsRElSRUNUSU9OX0hPUklaT05UQUw6QnQsRElSRUNUSU9OX1ZFUlRJQ0FMOkZ0LERJUkVDVElPTl9BTEw6UnQsTWFuYWdlcjpkdCxJbnB1dDpULFRvdWNoQWN0aW9uOlosVG91Y2hJbnB1dDpWLE1vdXNlSW5wdXQ6VyxQb2ludGVyRXZlbnRJbnB1dDpZLFRvdWNoTW91c2VJbnB1dDpYLFNpbmdsZVRvdWNoSW5wdXQ6RyxSZWNvZ25pemVyOkosQXR0clJlY29nbml6ZXI6ZXQsVGFwOmF0LFBhbjppdCxTd2lwZTpydCxQaW5jaDpvdCxSb3RhdGU6c3QsUHJlc3M6bnQsb246ZyxvZmY6eSxlYWNoOmwsbWVyZ2U6YyxleHRlbmQ6dSxpbmhlcml0OnAsYmluZEZuOmYscHJlZml4ZWQ6TX0pLFwiZnVuY3Rpb25cIj09ZnQmJmkoMjMpPyhvPWZ1bmN0aW9uKCl7cmV0dXJuIGh0fS5jYWxsKGUsaSxlLHQpLCEobyE9PWEmJih0LmV4cG9ydHM9bykpKTpcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmdC5leHBvcnRzP3QuZXhwb3J0cz1odDpuW3JdPWh0fSh3aW5kb3csZG9jdW1lbnQsXCJIYW1tZXJcIil9LGZ1bmN0aW9uKHQsZSl7KGZ1bmN0aW9uKGUpe3QuZXhwb3J0cz1lfSkuY2FsbChlLHt9KX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCxlKXt2YXIgaT1hKCkuaG91cnMoMCkubWludXRlcygwKS5zZWNvbmRzKDApLm1pbGxpc2Vjb25kcygwKTt0aGlzLnN0YXJ0PWkuY2xvbmUoKS5hZGQoLTMsXCJkYXlzXCIpLnZhbHVlT2YoKSx0aGlzLmVuZD1pLmNsb25lKCkuYWRkKDQsXCJkYXlzXCIpLnZhbHVlT2YoKSx0aGlzLmJvZHk9dCx0aGlzLmRlbHRhRGlmZmVyZW5jZT0wLHRoaXMuc2NhbGVPZmZzZXQ9MCx0aGlzLnN0YXJ0VG9Gcm9udD0hMSx0aGlzLmVuZFRvRnJvbnQ9ITAsdGhpcy5kZWZhdWx0T3B0aW9ucz17c3RhcnQ6bnVsbCxlbmQ6bnVsbCxtb21lbnQ6YSxkaXJlY3Rpb246XCJob3Jpem9udGFsXCIsbW92ZWFibGU6ITAsem9vbWFibGU6ITAsbWluOm51bGwsbWF4Om51bGwsem9vbU1pbjoxMCx6b29tTWF4OjMxNTM2ZTEwfSx0aGlzLm9wdGlvbnM9ci5leHRlbmQoe30sdGhpcy5kZWZhdWx0T3B0aW9ucyksdGhpcy5wcm9wcz17dG91Y2g6e319LHRoaXMuYW5pbWF0aW9uVGltZXI9bnVsbCx0aGlzLmJvZHkuZW1pdHRlci5vbihcInBhbnN0YXJ0XCIsdGhpcy5fb25EcmFnU3RhcnQuYmluZCh0aGlzKSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJwYW5tb3ZlXCIsdGhpcy5fb25EcmFnLmJpbmQodGhpcykpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwicGFuZW5kXCIsdGhpcy5fb25EcmFnRW5kLmJpbmQodGhpcykpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwibW91c2V3aGVlbFwiLHRoaXMuX29uTW91c2VXaGVlbC5iaW5kKHRoaXMpKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcInRvdWNoXCIsdGhpcy5fb25Ub3VjaC5iaW5kKHRoaXMpKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcInBpbmNoXCIsdGhpcy5fb25QaW5jaC5iaW5kKHRoaXMpKSx0aGlzLnNldE9wdGlvbnMoZSl9ZnVuY3Rpb24gbih0KXtpZihcImhvcml6b250YWxcIiE9dCYmXCJ2ZXJ0aWNhbFwiIT10KXRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZGlyZWN0aW9uIFwiJyt0KydcIi4gQ2hvb3NlIFwiaG9yaXpvbnRhbFwiIG9yIFwidmVydGljYWxcIi4nKX1mdW5jdGlvbiBzKHQsZSl7cmV0dXJue3g6dC54LXIuZ2V0QWJzb2x1dGVMZWZ0KGUpLHk6dC55LXIuZ2V0QWJzb2x1dGVUb3AoZSl9fXZhciByPWkoMSksYT0oaSgyNSksaSgyKSksaD1pKDI2KSxkPWkoMjcpO28ucHJvdG90eXBlPW5ldyBoLG8ucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24odCl7aWYodCl7dmFyIGU9W1wiZGlyZWN0aW9uXCIsXCJtaW5cIixcIm1heFwiLFwiem9vbU1pblwiLFwiem9vbU1heFwiLFwibW92ZWFibGVcIixcInpvb21hYmxlXCIsXCJtb21lbnRcIixcImFjdGl2YXRlXCIsXCJoaWRkZW5EYXRlc1wiLFwiem9vbUtleVwiXTtyLnNlbGVjdGl2ZUV4dGVuZChlLHRoaXMub3B0aW9ucyx0KSwoXCJzdGFydFwiaW4gdHx8XCJlbmRcImluIHQpJiZ0aGlzLnNldFJhbmdlKHQuc3RhcnQsdC5lbmQpfX0sby5wcm90b3R5cGUuc2V0UmFuZ2U9ZnVuY3Rpb24odCxlLGksbyl7byE9PSEwJiYobz0hMSk7dmFyIG49dm9pZCAwIT10P3IuY29udmVydCh0LFwiRGF0ZVwiKS52YWx1ZU9mKCk6bnVsbCxzPXZvaWQgMCE9ZT9yLmNvbnZlcnQoZSxcIkRhdGVcIikudmFsdWVPZigpOm51bGw7aWYodGhpcy5fY2FuY2VsQW5pbWF0aW9uKCksaSl7dmFyIGE9dGhpcyxoPXRoaXMuc3RhcnQsbD10aGlzLmVuZCx1PVwib2JqZWN0XCI9PXR5cGVvZiBpJiZcImR1cmF0aW9uXCJpbiBpP2kuZHVyYXRpb246NTAwLGM9XCJvYmplY3RcIj09dHlwZW9mIGkmJlwiZWFzaW5nRnVuY3Rpb25cImluIGk/aS5lYXNpbmdGdW5jdGlvbjpcImVhc2VJbk91dFF1YWRcIixwPXIuZWFzaW5nRnVuY3Rpb25zW2NdO2lmKCFwKXRocm93IG5ldyBFcnJvcihcIlVua25vd24gZWFzaW5nIGZ1bmN0aW9uIFwiK0pTT04uc3RyaW5naWZ5KGMpK1wiLiBDaG9vc2UgZnJvbTogXCIrT2JqZWN0LmtleXMoci5lYXNpbmdGdW5jdGlvbnMpLmpvaW4oXCIsIFwiKSk7dmFyIGY9KG5ldyBEYXRlKS52YWx1ZU9mKCksbT0hMSx2PWZ1bmN0aW9uIGIoKXtpZighYS5wcm9wcy50b3VjaC5kcmFnZ2luZyl7dmFyIHQ9KG5ldyBEYXRlKS52YWx1ZU9mKCksZT10LWYsaT1wKGUvdSkscj1lPnUsYz1yfHxudWxsPT09bj9uOmgrKG4taCkqaSx2PXJ8fG51bGw9PT1zP3M6bCsocy1sKSppO2c9YS5fYXBwbHlSYW5nZShjLHYpLGQudXBkYXRlSGlkZGVuRGF0ZXMoYS5vcHRpb25zLm1vbWVudCxhLmJvZHksYS5vcHRpb25zLmhpZGRlbkRhdGVzKSxtPW18fGcsZyYmYS5ib2R5LmVtaXR0ZXIuZW1pdChcInJhbmdlY2hhbmdlXCIse3N0YXJ0Om5ldyBEYXRlKGEuc3RhcnQpLGVuZDpuZXcgRGF0ZShhLmVuZCksYnlVc2VyOm99KSxyP20mJmEuYm9keS5lbWl0dGVyLmVtaXQoXCJyYW5nZWNoYW5nZWRcIix7c3RhcnQ6bmV3IERhdGUoYS5zdGFydCksZW5kOm5ldyBEYXRlKGEuZW5kKSxieVVzZXI6b30pOmEuYW5pbWF0aW9uVGltZXI9c2V0VGltZW91dChiLDIwKX19O3JldHVybiB2KCl9dmFyIGc9dGhpcy5fYXBwbHlSYW5nZShuLHMpO2lmKGQudXBkYXRlSGlkZGVuRGF0ZXModGhpcy5vcHRpb25zLm1vbWVudCx0aGlzLmJvZHksdGhpcy5vcHRpb25zLmhpZGRlbkRhdGVzKSxnKXt2YXIgeT17c3RhcnQ6bmV3IERhdGUodGhpcy5zdGFydCksZW5kOm5ldyBEYXRlKHRoaXMuZW5kKSxieVVzZXI6b307dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcInJhbmdlY2hhbmdlXCIseSksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcInJhbmdlY2hhbmdlZFwiLHkpfX0sby5wcm90b3R5cGUuX2NhbmNlbEFuaW1hdGlvbj1mdW5jdGlvbigpe3RoaXMuYW5pbWF0aW9uVGltZXImJihjbGVhclRpbWVvdXQodGhpcy5hbmltYXRpb25UaW1lciksdGhpcy5hbmltYXRpb25UaW1lcj1udWxsKX0sby5wcm90b3R5cGUuX2FwcGx5UmFuZ2U9ZnVuY3Rpb24odCxlKXt2YXIgaSxvPW51bGwhPXQ/ci5jb252ZXJ0KHQsXCJEYXRlXCIpLnZhbHVlT2YoKTp0aGlzLnN0YXJ0LG49bnVsbCE9ZT9yLmNvbnZlcnQoZSxcIkRhdGVcIikudmFsdWVPZigpOnRoaXMuZW5kLHM9bnVsbCE9dGhpcy5vcHRpb25zLm1heD9yLmNvbnZlcnQodGhpcy5vcHRpb25zLm1heCxcIkRhdGVcIikudmFsdWVPZigpOm51bGwsYT1udWxsIT10aGlzLm9wdGlvbnMubWluP3IuY29udmVydCh0aGlzLm9wdGlvbnMubWluLFwiRGF0ZVwiKS52YWx1ZU9mKCk6bnVsbDtpZihpc05hTihvKXx8bnVsbD09PW8pdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN0YXJ0IFwiJyt0KydcIicpO2lmKGlzTmFOKG4pfHxudWxsPT09bil0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZW5kIFwiJytlKydcIicpO2lmKG8+biYmKG49byksbnVsbCE9PWEmJmE+byYmKGk9YS1vLG8rPWksbis9aSxudWxsIT1zJiZuPnMmJihuPXMpKSxudWxsIT09cyYmbj5zJiYoaT1uLXMsby09aSxuLT1pLG51bGwhPWEmJmE+byYmKG89YSkpLG51bGwhPT10aGlzLm9wdGlvbnMuem9vbU1pbil7dmFyIGg9cGFyc2VGbG9hdCh0aGlzLm9wdGlvbnMuem9vbU1pbik7MD5oJiYoaD0wKSxoPm4tbyYmKHRoaXMuZW5kLXRoaXMuc3RhcnQ9PT1oJiZvPnRoaXMuc3RhcnQmJm48dGhpcy5lbmQ/KG89dGhpcy5zdGFydCxuPXRoaXMuZW5kKTooaT1oLShuLW8pLG8tPWkvMixuKz1pLzIpKX1pZihudWxsIT09dGhpcy5vcHRpb25zLnpvb21NYXgpe3ZhciBkPXBhcnNlRmxvYXQodGhpcy5vcHRpb25zLnpvb21NYXgpOzA+ZCYmKGQ9MCksbi1vPmQmJih0aGlzLmVuZC10aGlzLnN0YXJ0PT09ZCYmbzx0aGlzLnN0YXJ0JiZuPnRoaXMuZW5kPyhvPXRoaXMuc3RhcnQsbj10aGlzLmVuZCk6KGk9bi1vLWQsbys9aS8yLG4tPWkvMikpfXZhciBsPXRoaXMuc3RhcnQhPW98fHRoaXMuZW5kIT1uO3JldHVybiBvPj10aGlzLnN0YXJ0JiZvPD10aGlzLmVuZHx8bj49dGhpcy5zdGFydCYmbjw9dGhpcy5lbmR8fHRoaXMuc3RhcnQ+PW8mJnRoaXMuc3RhcnQ8PW58fHRoaXMuZW5kPj1vJiZ0aGlzLmVuZDw9bnx8dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcImNoZWNrUmFuZ2VkSXRlbXNcIiksdGhpcy5zdGFydD1vLHRoaXMuZW5kPW4sbH0sby5wcm90b3R5cGUuZ2V0UmFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm57c3RhcnQ6dGhpcy5zdGFydCxlbmQ6dGhpcy5lbmR9fSxvLnByb3RvdHlwZS5jb252ZXJzaW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG8uY29udmVyc2lvbih0aGlzLnN0YXJ0LHRoaXMuZW5kLHQsZSl9LG8uY29udmVyc2lvbj1mdW5jdGlvbih0LGUsaSxvKXtyZXR1cm4gdm9pZCAwPT09byYmKG89MCksMCE9aSYmZS10IT0wP3tvZmZzZXQ6dCxzY2FsZTppLyhlLXQtbyl9OntvZmZzZXQ6MCxzY2FsZToxfX0sby5wcm90b3R5cGUuX29uRHJhZ1N0YXJ0PWZ1bmN0aW9uKHQpe3RoaXMuZGVsdGFEaWZmZXJlbmNlPTAsdGhpcy5wcmV2aW91c0RlbHRhPTAsdGhpcy5vcHRpb25zLm1vdmVhYmxlJiZ0aGlzLl9pc0luc2lkZVJhbmdlKHQpJiZ0aGlzLnByb3BzLnRvdWNoLmFsbG93RHJhZ2dpbmcmJih0aGlzLnByb3BzLnRvdWNoLnN0YXJ0PXRoaXMuc3RhcnQsdGhpcy5wcm9wcy50b3VjaC5lbmQ9dGhpcy5lbmQsdGhpcy5wcm9wcy50b3VjaC5kcmFnZ2luZz0hMCx0aGlzLmJvZHkuZG9tLnJvb3QmJih0aGlzLmJvZHkuZG9tLnJvb3Quc3R5bGUuY3Vyc29yPVwibW92ZVwiKSl9LG8ucHJvdG90eXBlLl9vbkRyYWc9ZnVuY3Rpb24odCl7aWYodGhpcy5wcm9wcy50b3VjaC5kcmFnZ2luZyYmdGhpcy5vcHRpb25zLm1vdmVhYmxlJiZ0aGlzLnByb3BzLnRvdWNoLmFsbG93RHJhZ2dpbmcpe3ZhciBlPXRoaXMub3B0aW9ucy5kaXJlY3Rpb247bihlKTt2YXIgaT1cImhvcml6b250YWxcIj09ZT90LmRlbHRhWDp0LmRlbHRhWTtpLT10aGlzLmRlbHRhRGlmZmVyZW5jZTt2YXIgbz10aGlzLnByb3BzLnRvdWNoLmVuZC10aGlzLnByb3BzLnRvdWNoLnN0YXJ0LHM9ZC5nZXRIaWRkZW5EdXJhdGlvbkJldHdlZW4odGhpcy5ib2R5LmhpZGRlbkRhdGVzLHRoaXMuc3RhcnQsdGhpcy5lbmQpO28tPXM7dmFyIHI9XCJob3Jpem9udGFsXCI9PWU/dGhpcy5ib2R5LmRvbVByb3BzLmNlbnRlci53aWR0aDp0aGlzLmJvZHkuZG9tUHJvcHMuY2VudGVyLmhlaWdodCxhPS1pL3IqbyxoPXRoaXMucHJvcHMudG91Y2guc3RhcnQrYSxsPXRoaXMucHJvcHMudG91Y2guZW5kK2EsdT1kLnNuYXBBd2F5RnJvbUhpZGRlbih0aGlzLmJvZHkuaGlkZGVuRGF0ZXMsaCx0aGlzLnByZXZpb3VzRGVsdGEtaSwhMCksYz1kLnNuYXBBd2F5RnJvbUhpZGRlbih0aGlzLmJvZHkuaGlkZGVuRGF0ZXMsbCx0aGlzLnByZXZpb3VzRGVsdGEtaSwhMCk7aWYodSE9aHx8YyE9bClyZXR1cm4gdGhpcy5kZWx0YURpZmZlcmVuY2UrPWksdGhpcy5wcm9wcy50b3VjaC5zdGFydD11LHRoaXMucHJvcHMudG91Y2guZW5kPWMsdm9pZCB0aGlzLl9vbkRyYWcodCk7dGhpcy5wcmV2aW91c0RlbHRhPWksdGhpcy5fYXBwbHlSYW5nZShoLGwpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJyYW5nZWNoYW5nZVwiLHtzdGFydDpuZXcgRGF0ZSh0aGlzLnN0YXJ0KSxlbmQ6bmV3IERhdGUodGhpcy5lbmQpLGJ5VXNlcjohMH0pfX0sby5wcm90b3R5cGUuX29uRHJhZ0VuZD1mdW5jdGlvbih0KXt0aGlzLnByb3BzLnRvdWNoLmRyYWdnaW5nJiZ0aGlzLm9wdGlvbnMubW92ZWFibGUmJnRoaXMucHJvcHMudG91Y2guYWxsb3dEcmFnZ2luZyYmKHRoaXMucHJvcHMudG91Y2guZHJhZ2dpbmc9ITEsdGhpcy5ib2R5LmRvbS5yb290JiYodGhpcy5ib2R5LmRvbS5yb290LnN0eWxlLmN1cnNvcj1cImF1dG9cIiksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcInJhbmdlY2hhbmdlZFwiLHtzdGFydDpuZXcgRGF0ZSh0aGlzLnN0YXJ0KSxlbmQ6bmV3IERhdGUodGhpcy5lbmQpLGJ5VXNlcjohMH0pKX0sby5wcm90b3R5cGUuX29uTW91c2VXaGVlbD1mdW5jdGlvbih0KXtpZih0aGlzLm9wdGlvbnMuem9vbWFibGUmJnRoaXMub3B0aW9ucy5tb3ZlYWJsZSYmdGhpcy5faXNJbnNpZGVSYW5nZSh0KSYmKCF0aGlzLm9wdGlvbnMuem9vbUtleXx8dFt0aGlzLm9wdGlvbnMuem9vbUtleV0pKXt2YXIgZT0wO2lmKHQud2hlZWxEZWx0YT9lPXQud2hlZWxEZWx0YS8xMjA6dC5kZXRhaWwmJihlPS10LmRldGFpbC8zKSxlKXt2YXIgaTtpPTA+ZT8xLWUvNToxLygxK2UvNSk7dmFyIG89cyh7eDp0LmNsaWVudFgseTp0LmNsaWVudFl9LHRoaXMuYm9keS5kb20uY2VudGVyKSxuPXRoaXMuX3BvaW50ZXJUb0RhdGUobyk7dGhpcy56b29tKGksbixlKX10LnByZXZlbnREZWZhdWx0KCl9fSxvLnByb3RvdHlwZS5fb25Ub3VjaD1mdW5jdGlvbih0KXt0aGlzLnByb3BzLnRvdWNoLnN0YXJ0PXRoaXMuc3RhcnQsdGhpcy5wcm9wcy50b3VjaC5lbmQ9dGhpcy5lbmQsdGhpcy5wcm9wcy50b3VjaC5hbGxvd0RyYWdnaW5nPSEwLHRoaXMucHJvcHMudG91Y2guY2VudGVyPW51bGwsdGhpcy5zY2FsZU9mZnNldD0wLHRoaXMuZGVsdGFEaWZmZXJlbmNlPTB9LG8ucHJvdG90eXBlLl9vblBpbmNoPWZ1bmN0aW9uKHQpe2lmKHRoaXMub3B0aW9ucy56b29tYWJsZSYmdGhpcy5vcHRpb25zLm1vdmVhYmxlKXt0aGlzLnByb3BzLnRvdWNoLmFsbG93RHJhZ2dpbmc9ITEsdGhpcy5wcm9wcy50b3VjaC5jZW50ZXJ8fCh0aGlzLnByb3BzLnRvdWNoLmNlbnRlcj1zKHQuY2VudGVyLHRoaXMuYm9keS5kb20uY2VudGVyKSk7dmFyIGU9MS8odC5zY2FsZSt0aGlzLnNjYWxlT2Zmc2V0KSxpPXRoaXMuX3BvaW50ZXJUb0RhdGUodGhpcy5wcm9wcy50b3VjaC5jZW50ZXIpLG89ZC5nZXRIaWRkZW5EdXJhdGlvbkJldHdlZW4odGhpcy5ib2R5LmhpZGRlbkRhdGVzLHRoaXMuc3RhcnQsdGhpcy5lbmQpLG49ZC5nZXRIaWRkZW5EdXJhdGlvbkJlZm9yZSh0aGlzLm9wdGlvbnMubW9tZW50LHRoaXMuYm9keS5oaWRkZW5EYXRlcyx0aGlzLGkpLHI9by1uLGE9aS1uKyh0aGlzLnByb3BzLnRvdWNoLnN0YXJ0LShpLW4pKSplLGg9aStyKyh0aGlzLnByb3BzLnRvdWNoLmVuZC0oaStyKSkqZTt0aGlzLnN0YXJ0VG9Gcm9udD0wPj0xLWUsdGhpcy5lbmRUb0Zyb250PTA+PWUtMTt2YXIgbD1kLnNuYXBBd2F5RnJvbUhpZGRlbih0aGlzLmJvZHkuaGlkZGVuRGF0ZXMsYSwxLWUsITApLHU9ZC5zbmFwQXdheUZyb21IaWRkZW4odGhpcy5ib2R5LmhpZGRlbkRhdGVzLGgsZS0xLCEwKTsobCE9YXx8dSE9aCkmJih0aGlzLnByb3BzLnRvdWNoLnN0YXJ0PWwsdGhpcy5wcm9wcy50b3VjaC5lbmQ9dSx0aGlzLnNjYWxlT2Zmc2V0PTEtdC5zY2FsZSxhPWwsaD11KSx0aGlzLnNldFJhbmdlKGEsaCwhMSwhMCksdGhpcy5zdGFydFRvRnJvbnQ9ITEsdGhpcy5lbmRUb0Zyb250PSEwfX0sby5wcm90b3R5cGUuX2lzSW5zaWRlUmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGU9dC5jZW50ZXI/dC5jZW50ZXIueDp0LmNsaWVudFgsaT1lLXIuZ2V0QWJzb2x1dGVMZWZ0KHRoaXMuYm9keS5kb20uY2VudGVyQ29udGFpbmVyKSxvPXRoaXMuYm9keS51dGlsLnRvVGltZShpKTtyZXR1cm4gbz49dGhpcy5zdGFydCYmbzw9dGhpcy5lbmR9LG8ucHJvdG90eXBlLl9wb2ludGVyVG9EYXRlPWZ1bmN0aW9uKHQpe3ZhciBlLGk9dGhpcy5vcHRpb25zLmRpcmVjdGlvbjtpZihuKGkpLFwiaG9yaXpvbnRhbFwiPT1pKXJldHVybiB0aGlzLmJvZHkudXRpbC50b1RpbWUodC54KS52YWx1ZU9mKCk7dmFyIG89dGhpcy5ib2R5LmRvbVByb3BzLmNlbnRlci5oZWlnaHQ7cmV0dXJuIGU9dGhpcy5jb252ZXJzaW9uKG8pLHQueS9lLnNjYWxlK2Uub2Zmc2V0fSxvLnByb3RvdHlwZS56b29tPWZ1bmN0aW9uKHQsZSxpKXtudWxsPT1lJiYoZT0odGhpcy5zdGFydCt0aGlzLmVuZCkvMik7dmFyIG89ZC5nZXRIaWRkZW5EdXJhdGlvbkJldHdlZW4odGhpcy5ib2R5LmhpZGRlbkRhdGVzLHRoaXMuc3RhcnQsdGhpcy5lbmQpLG49ZC5nZXRIaWRkZW5EdXJhdGlvbkJlZm9yZSh0aGlzLm9wdGlvbnMubW9tZW50LHRoaXMuYm9keS5oaWRkZW5EYXRlcyx0aGlzLGUpLHM9by1uLHI9ZS1uKyh0aGlzLnN0YXJ0LShlLW4pKSp0LGE9ZStzKyh0aGlzLmVuZC0oZStzKSkqdDt0aGlzLnN0YXJ0VG9Gcm9udD1pPjA/ITE6ITAsdGhpcy5lbmRUb0Zyb250PS1pPjA/ITE6ITA7dmFyIGg9ZC5zbmFwQXdheUZyb21IaWRkZW4odGhpcy5ib2R5LmhpZGRlbkRhdGVzLHIsaSwhMCksbD1kLnNuYXBBd2F5RnJvbUhpZGRlbih0aGlzLmJvZHkuaGlkZGVuRGF0ZXMsYSwtaSwhMCk7KGghPXJ8fGwhPWEpJiYocj1oLGE9bCksdGhpcy5zZXRSYW5nZShyLGEsITEsITApLHRoaXMuc3RhcnRUb0Zyb250PSExLHRoaXMuZW5kVG9Gcm9udD0hMH0sby5wcm90b3R5cGUubW92ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmVuZC10aGlzLnN0YXJ0LGk9dGhpcy5zdGFydCtlKnQsbz10aGlzLmVuZCtlKnQ7dGhpcy5zdGFydD1pLHRoaXMuZW5kPW99LG8ucHJvdG90eXBlLm1vdmVUbz1mdW5jdGlvbih0KXt2YXIgZT0odGhpcy5zdGFydCt0aGlzLmVuZCkvMixpPWUtdCxvPXRoaXMuc3RhcnQtaSxuPXRoaXMuZW5kLWk7dGhpcy5zZXRSYW5nZShvLG4pfSx0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlLGkpe2koMjApO2Uub25Ub3VjaD1mdW5jdGlvbih0LGUpe2UuaW5wdXRIYW5kbGVyPWZ1bmN0aW9uKHQpe3QuaXNGaXJzdCYmIW8mJihlKHQpLG89ITAsc2V0VGltZW91dChmdW5jdGlvbigpe289ITF9LDApKX0sdC5vbihcImhhbW1lci5pbnB1dFwiLGUuaW5wdXRIYW5kbGVyKX07dmFyIG89ITE7ZS5vblJlbGVhc2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5pbnB1dEhhbmRsZXI9ZnVuY3Rpb24odCl7dC5pc0ZpbmFsJiYhbiYmKGUodCksbj0hMCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bj0hMX0sMCkpfSx0Lm9uKFwiaGFtbWVyLmlucHV0XCIsZS5pbnB1dEhhbmRsZXIpfTt2YXIgbj0hMTtlLm9mZlRvdWNoPWZ1bmN0aW9uKHQsZSl7dC5vZmYoXCJoYW1tZXIuaW5wdXRcIixlLmlucHV0SGFuZGxlcil9LGUub2ZmUmVsZWFzZT1lLm9mZlRvdWNofSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkodCxlKXt0aGlzLm9wdGlvbnM9bnVsbCx0aGlzLnByb3BzPW51bGx9aS5wcm90b3R5cGUuc2V0T3B0aW9ucz1mdW5jdGlvbih0KXt0JiZ1dGlsLmV4dGVuZCh0aGlzLm9wdGlvbnMsdCl9LGkucHJvdG90eXBlLnJlZHJhdz1mdW5jdGlvbigpe3JldHVybiExfSxpLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7fSxpLnByb3RvdHlwZS5faXNSZXNpemVkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wcm9wcy5fcHJldmlvdXNXaWR0aCE9PXRoaXMucHJvcHMud2lkdGh8fHRoaXMucHJvcHMuX3ByZXZpb3VzSGVpZ2h0IT09dGhpcy5wcm9wcy5oZWlnaHQ7cmV0dXJuIHRoaXMucHJvcHMuX3ByZXZpb3VzV2lkdGg9dGhpcy5wcm9wcy53aWR0aCx0aGlzLnByb3BzLl9wcmV2aW91c0hlaWdodD10aGlzLnByb3BzLmhlaWdodCx0fSx0LmV4cG9ydHM9aX0sZnVuY3Rpb24odCxlKXtlLmNvbnZlcnRIaWRkZW5PcHRpb25zPWZ1bmN0aW9uKHQsaSxvKXtpZihvJiYhQXJyYXkuaXNBcnJheShvKSlyZXR1cm4gZS5jb252ZXJ0SGlkZGVuT3B0aW9ucyh0LGksW29dKTtpZihpLmhpZGRlbkRhdGVzPVtdLG8mJjE9PUFycmF5LmlzQXJyYXkobykpe2Zvcih2YXIgbj0wO248by5sZW5ndGg7bisrKWlmKHZvaWQgMD09PW9bbl0ucmVwZWF0KXt2YXIgcz17fTtzLnN0YXJ0PXQob1tuXS5zdGFydCkudG9EYXRlKCkudmFsdWVPZigpLHMuZW5kPXQob1tuXS5lbmQpLnRvRGF0ZSgpLnZhbHVlT2YoKSxpLmhpZGRlbkRhdGVzLnB1c2gocyl9aS5oaWRkZW5EYXRlcy5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc3RhcnQtZS5zdGFydH0pfX0sZS51cGRhdGVIaWRkZW5EYXRlcz1mdW5jdGlvbih0LGksbyl7aWYobyYmIUFycmF5LmlzQXJyYXkobykpcmV0dXJuIGUudXBkYXRlSGlkZGVuRGF0ZXModCxpLFtvXSk7aWYobyYmdm9pZCAwIT09aS5kb21Qcm9wcy5jZW50ZXJDb250YWluZXIud2lkdGgpe2UuY29udmVydEhpZGRlbk9wdGlvbnModCxpLG8pO2Zvcih2YXIgbj10KGkucmFuZ2Uuc3RhcnQpLHM9dChpLnJhbmdlLmVuZCkscj1pLnJhbmdlLmVuZC1pLnJhbmdlLnN0YXJ0LGE9ci9pLmRvbVByb3BzLmNlbnRlckNvbnRhaW5lci53aWR0aCxoPTA7aDxvLmxlbmd0aDtoKyspaWYodm9pZCAwIT09b1toXS5yZXBlYXQpe3ZhciBkPXQob1toXS5zdGFydCksbD10KG9baF0uZW5kKTtpZihcIkludmFsaWQgRGF0ZVwiPT1kLl9kKXRocm93IG5ldyBFcnJvcihcIlN1cHBsaWVkIHN0YXJ0IGRhdGUgaXMgbm90IHZhbGlkOiBcIitvW2hdLnN0YXJ0KTtpZihcIkludmFsaWQgRGF0ZVwiPT1sLl9kKXRocm93IG5ldyBFcnJvcihcIlN1cHBsaWVkIGVuZCBkYXRlIGlzIG5vdCB2YWxpZDogXCIrb1toXS5lbmQpO3ZhciB1PWwtZDtpZih1Pj00KmEpe3ZhciBjPTAscD1zLmNsb25lKCk7c3dpdGNoKG9baF0ucmVwZWF0KXtjYXNlXCJkYWlseVwiOmQuZGF5KCkhPWwuZGF5KCkmJihjPTEpLGQuZGF5T2ZZZWFyKG4uZGF5T2ZZZWFyKCkpLGQueWVhcihuLnllYXIoKSksZC5zdWJ0cmFjdCg3LFwiZGF5c1wiKSxsLmRheU9mWWVhcihuLmRheU9mWWVhcigpKSxsLnllYXIobi55ZWFyKCkpLGwuc3VidHJhY3QoNy1jLFwiZGF5c1wiKSxwLmFkZCgxLFwid2Vla3NcIik7YnJlYWs7Y2FzZVwid2Vla2x5XCI6dmFyIGY9bC5kaWZmKGQsXCJkYXlzXCIpLG09ZC5kYXkoKTtkLmRhdGUobi5kYXRlKCkpLGQubW9udGgobi5tb250aCgpKSxkLnllYXIobi55ZWFyKCkpLGw9ZC5jbG9uZSgpLGQuZGF5KG0pLGwuZGF5KG0pLGwuYWRkKGYsXCJkYXlzXCIpLGQuc3VidHJhY3QoMSxcIndlZWtzXCIpLGwuc3VidHJhY3QoMSxcIndlZWtzXCIpLHAuYWRkKDEsXCJ3ZWVrc1wiKTticmVhaztjYXNlXCJtb250aGx5XCI6ZC5tb250aCgpIT1sLm1vbnRoKCkmJihjPTEpLGQubW9udGgobi5tb250aCgpKSxkLnllYXIobi55ZWFyKCkpLGQuc3VidHJhY3QoMSxcIm1vbnRoc1wiKSxsLm1vbnRoKG4ubW9udGgoKSksbC55ZWFyKG4ueWVhcigpKSxsLnN1YnRyYWN0KDEsXCJtb250aHNcIiksbC5hZGQoYyxcIm1vbnRoc1wiKSxwLmFkZCgxLFwibW9udGhzXCIpO2JyZWFrO2Nhc2VcInllYXJseVwiOmQueWVhcigpIT1sLnllYXIoKSYmKGM9MSksZC55ZWFyKG4ueWVhcigpKSxkLnN1YnRyYWN0KDEsXCJ5ZWFyc1wiKSxsLnllYXIobi55ZWFyKCkpLGwuc3VidHJhY3QoMSxcInllYXJzXCIpLGwuYWRkKGMsXCJ5ZWFyc1wiKSxwLmFkZCgxLFwieWVhcnNcIik7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gdm9pZCBjb25zb2xlLmxvZyhcIldyb25nIHJlcGVhdCBmb3JtYXQsIGFsbG93ZWQgYXJlOiBkYWlseSwgd2Vla2x5LCBtb250aGx5LCB5ZWFybHkuIEdpdmVuOlwiLG9baF0ucmVwZWF0KX1mb3IoO3A+ZDspc3dpdGNoKGkuaGlkZGVuRGF0ZXMucHVzaCh7c3RhcnQ6ZC52YWx1ZU9mKCksZW5kOmwudmFsdWVPZigpfSksb1toXS5yZXBlYXQpe2Nhc2VcImRhaWx5XCI6ZC5hZGQoMSxcImRheXNcIiksbC5hZGQoMSxcImRheXNcIik7YnJlYWs7Y2FzZVwid2Vla2x5XCI6ZC5hZGQoMSxcIndlZWtzXCIpLGwuYWRkKDEsXCJ3ZWVrc1wiKTticmVhaztjYXNlXCJtb250aGx5XCI6ZC5hZGQoMSxcIm1vbnRoc1wiKSxsLmFkZCgxLFwibW9udGhzXCIpO2JyZWFrO2Nhc2VcInllYXJseVwiOmQuYWRkKDEsXCJ5XCIpLGwuYWRkKDEsXCJ5XCIpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIHZvaWQgY29uc29sZS5sb2coXCJXcm9uZyByZXBlYXQgZm9ybWF0LCBhbGxvd2VkIGFyZTogZGFpbHksIHdlZWtseSwgbW9udGhseSwgeWVhcmx5LiBHaXZlbjpcIixvW2hdLnJlcGVhdCl9aS5oaWRkZW5EYXRlcy5wdXNoKHtzdGFydDpkLnZhbHVlT2YoKSxlbmQ6bC52YWx1ZU9mKCl9KX19ZS5yZW1vdmVEdXBsaWNhdGVzKGkpO3ZhciB2PWUuaXNIaWRkZW4oaS5yYW5nZS5zdGFydCxpLmhpZGRlbkRhdGVzKSxnPWUuaXNIaWRkZW4oaS5yYW5nZS5lbmQsaS5oaWRkZW5EYXRlcykseT1pLnJhbmdlLnN0YXJ0LGI9aS5yYW5nZS5lbmQ7MT09di5oaWRkZW4mJih5PTE9PWkucmFuZ2Uuc3RhcnRUb0Zyb250P3Yuc3RhcnREYXRlLTE6di5lbmREYXRlKzEpLDE9PWcuaGlkZGVuJiYoYj0xPT1pLnJhbmdlLmVuZFRvRnJvbnQ/Zy5zdGFydERhdGUtMTpnLmVuZERhdGUrMSksKDE9PXYuaGlkZGVufHwxPT1nLmhpZGRlbikmJmkucmFuZ2UuX2FwcGx5UmFuZ2UoeSxiKX19LGUucmVtb3ZlRHVwbGljYXRlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5oaWRkZW5EYXRlcyxpPVtdLG89MDtvPGUubGVuZ3RoO28rKylmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylvIT1uJiYxIT1lW25dLnJlbW92ZSYmMSE9ZVtvXS5yZW1vdmUmJihlW25dLnN0YXJ0Pj1lW29dLnN0YXJ0JiZlW25dLmVuZDw9ZVtvXS5lbmQ/ZVtuXS5yZW1vdmU9ITA6ZVtuXS5zdGFydD49ZVtvXS5zdGFydCYmZVtuXS5zdGFydDw9ZVtvXS5lbmQ/KGVbb10uZW5kPWVbbl0uZW5kLGVbbl0ucmVtb3ZlPSEwKTplW25dLmVuZD49ZVtvXS5zdGFydCYmZVtuXS5lbmQ8PWVbb10uZW5kJiYoZVtvXS5zdGFydD1lW25dLnN0YXJ0LGVbbl0ucmVtb3ZlPSEwKSk7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspZVtvXS5yZW1vdmUhPT0hMCYmaS5wdXNoKGVbb10pO3QuaGlkZGVuRGF0ZXM9aSx0LmhpZGRlbkRhdGVzLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zdGFydC1lLnN0YXJ0fSl9LGUucHJpbnREYXRlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyljb25zb2xlLmxvZyhlLG5ldyBEYXRlKHRbZV0uc3RhcnQpLG5ldyBEYXRlKHRbZV0uZW5kKSx0W2VdLnN0YXJ0LHRbZV0uZW5kLHRbZV0ucmVtb3ZlKX0sZS5zdGVwT3ZlckhpZGRlbkRhdGVzPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG89ITEsbj1lLmN1cnJlbnQudmFsdWVPZigpLHM9MDtzPGUuaGlkZGVuRGF0ZXMubGVuZ3RoO3MrKyl7dmFyIHI9ZS5oaWRkZW5EYXRlc1tzXS5zdGFydCxhPWUuaGlkZGVuRGF0ZXNbc10uZW5kO2lmKG4+PXImJmE+bil7bz0hMDticmVha319aWYoMT09byYmbjxlLl9lbmQudmFsdWVPZigpJiZuIT1pKXt2YXIgaD10KGkpLGQ9dChhKTtoLnllYXIoKSE9ZC55ZWFyKCk/ZS5zd2l0Y2hlZFllYXI9ITA6aC5tb250aCgpIT1kLm1vbnRoKCk/ZS5zd2l0Y2hlZE1vbnRoPSEwOmguZGF5T2ZZZWFyKCkhPWQuZGF5T2ZZZWFyKCkmJihlLnN3aXRjaGVkRGF5PSEwKSxlLmN1cnJlbnQ9ZH19LGUudG9TY3JlZW49ZnVuY3Rpb24odCxpLG8pe2lmKDA9PXQuYm9keS5oaWRkZW5EYXRlcy5sZW5ndGgpe3ZhciBuPXQucmFuZ2UuY29udmVyc2lvbihvKTtyZXR1cm4oaS52YWx1ZU9mKCktbi5vZmZzZXQpKm4uc2NhbGV9dmFyIHM9ZS5pc0hpZGRlbihpLHQuYm9keS5oaWRkZW5EYXRlcyk7MT09cy5oaWRkZW4mJihpPXMuc3RhcnREYXRlKTt2YXIgcj1lLmdldEhpZGRlbkR1cmF0aW9uQmV0d2Vlbih0LmJvZHkuaGlkZGVuRGF0ZXMsdC5yYW5nZS5zdGFydCx0LnJhbmdlLmVuZCk7aT1lLmNvcnJlY3RUaW1lRm9ySGlkZGVuKHQub3B0aW9ucy5tb21lbnQsdC5ib2R5LmhpZGRlbkRhdGVzLHQucmFuZ2UsaSk7dmFyIG49dC5yYW5nZS5jb252ZXJzaW9uKG8scik7cmV0dXJuKGkudmFsdWVPZigpLW4ub2Zmc2V0KSpuLnNjYWxlfSxlLnRvVGltZT1mdW5jdGlvbih0LGksbyl7aWYoMD09dC5ib2R5LmhpZGRlbkRhdGVzLmxlbmd0aCl7dmFyIG49dC5yYW5nZS5jb252ZXJzaW9uKG8pO3JldHVybiBuZXcgRGF0ZShpL24uc2NhbGUrbi5vZmZzZXQpfXZhciBzPWUuZ2V0SGlkZGVuRHVyYXRpb25CZXR3ZWVuKHQuYm9keS5oaWRkZW5EYXRlcyx0LnJhbmdlLnN0YXJ0LHQucmFuZ2UuZW5kKSxyPXQucmFuZ2UuZW5kLXQucmFuZ2Uuc3RhcnQtcyxhPXIqaS9vLGg9ZS5nZXRBY2N1bXVsYXRlZEhpZGRlbkR1cmF0aW9uKHQuYm9keS5oaWRkZW5EYXRlcyx0LnJhbmdlLGEpLGQ9bmV3IERhdGUoaCthK3QucmFuZ2Uuc3RhcnQpO3JldHVybiBkfSxlLmdldEhpZGRlbkR1cmF0aW9uQmV0d2Vlbj1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBvPTAsbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcz10W25dLnN0YXJ0LHI9dFtuXS5lbmQ7cz49ZSYmaT5yJiYobys9ci1zKX1yZXR1cm4gb30sZS5jb3JyZWN0VGltZUZvckhpZGRlbj1mdW5jdGlvbih0LGksbyxuKXtyZXR1cm4gbj10KG4pLnRvRGF0ZSgpLnZhbHVlT2YoKSxuLT1lLmdldEhpZGRlbkR1cmF0aW9uQmVmb3JlKHQsaSxvLG4pfSxlLmdldEhpZGRlbkR1cmF0aW9uQmVmb3JlPWZ1bmN0aW9uKHQsZSxpLG8pe3ZhciBuPTA7bz10KG8pLnRvRGF0ZSgpLnZhbHVlT2YoKTtmb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrKyl7dmFyIHI9ZVtzXS5zdGFydCxhPWVbc10uZW5kO3I+PWkuc3RhcnQmJmE8aS5lbmQmJm8+PWEmJihuKz1hLXIpfXJldHVybiBufSxlLmdldEFjY3VtdWxhdGVkSGlkZGVuRHVyYXRpb249ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbz0wLG49MCxzPWUuc3RhcnQscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgYT10W3JdLnN0YXJ0LGg9dFtyXS5lbmQ7aWYoYT49ZS5zdGFydCYmaDxlLmVuZCl7aWYobis9YS1zLHM9aCxuPj1pKWJyZWFrO28rPWgtYX19cmV0dXJuIG99LGUuc25hcEF3YXlGcm9tSGlkZGVuPWZ1bmN0aW9uKHQsaSxvLG4pe3ZhciBzPWUuaXNIaWRkZW4oaSx0KTtyZXR1cm4gMT09cy5oaWRkZW4/MD5vPzE9PW4/cy5zdGFydERhdGUtKHMuZW5kRGF0ZS1pKS0xOnMuc3RhcnREYXRlLTE6MT09bj9zLmVuZERhdGUrKGktcy5zdGFydERhdGUpKzE6cy5lbmREYXRlKzE6aX0sZS5pc0hpZGRlbj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1lW2ldLnN0YXJ0LG49ZVtpXS5lbmQ7aWYodD49byYmbj50KXJldHVybntoaWRkZW46ITAsc3RhcnREYXRlOm8sZW5kRGF0ZTpufX1yZXR1cm57aGlkZGVuOiExLHN0YXJ0RGF0ZTpvLGVuZERhdGU6bn19fSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbygpe312YXIgbj1pKDEyKSxzPWkoMjApLHI9aSgyNSksYT1pKDEpLGg9KGkoOCksaSgxMCksaSgyNCksaSgyOSksaSgzOSkpLGQ9aSg0MCksbD1pKDI3KSx1PWkoNDIpO24oby5wcm90b3R5cGUpLG8ucHJvdG90eXBlLl9jcmVhdGU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtpLmlzQWN0aXZlKCkmJmkuZW1pdChcIm1vdXNld2hlZWxcIix0KX10aGlzLmRvbT17fSx0aGlzLmRvbS5jb250YWluZXI9dCx0aGlzLmRvbS5yb290PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5kb20uYmFja2dyb3VuZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZG9tLmJhY2tncm91bmRWZXJ0aWNhbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZG9tLmJhY2tncm91bmRIb3Jpem9udGFsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5kb20uY2VudGVyQ29udGFpbmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5kb20ubGVmdENvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZG9tLnJpZ2h0Q29udGFpbmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5kb20uY2VudGVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5kb20ubGVmdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZG9tLnJpZ2h0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5kb20udG9wPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5kb20uYm90dG9tPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5kb20uc2hhZG93VG9wPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5kb20uc2hhZG93Qm90dG9tPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5kb20uc2hhZG93VG9wTGVmdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZG9tLnNoYWRvd0JvdHRvbUxlZnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmRvbS5zaGFkb3dUb3BSaWdodD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZG9tLnNoYWRvd0JvdHRvbVJpZ2h0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5kb20ucm9vdC5jbGFzc05hbWU9XCJ2aXMtdGltZWxpbmVcIix0aGlzLmRvbS5iYWNrZ3JvdW5kLmNsYXNzTmFtZT1cInZpcy1wYW5lbCB2aXMtYmFja2dyb3VuZFwiLHRoaXMuZG9tLmJhY2tncm91bmRWZXJ0aWNhbC5jbGFzc05hbWU9XCJ2aXMtcGFuZWwgdmlzLWJhY2tncm91bmQgdmlzLXZlcnRpY2FsXCIsdGhpcy5kb20uYmFja2dyb3VuZEhvcml6b250YWwuY2xhc3NOYW1lPVwidmlzLXBhbmVsIHZpcy1iYWNrZ3JvdW5kIHZpcy1ob3Jpem9udGFsXCIsdGhpcy5kb20uY2VudGVyQ29udGFpbmVyLmNsYXNzTmFtZT1cInZpcy1wYW5lbCB2aXMtY2VudGVyXCIsdGhpcy5kb20ubGVmdENvbnRhaW5lci5jbGFzc05hbWU9XCJ2aXMtcGFuZWwgdmlzLWxlZnRcIix0aGlzLmRvbS5yaWdodENvbnRhaW5lci5jbGFzc05hbWU9XCJ2aXMtcGFuZWwgdmlzLXJpZ2h0XCIsdGhpcy5kb20udG9wLmNsYXNzTmFtZT1cInZpcy1wYW5lbCB2aXMtdG9wXCIsdGhpcy5kb20uYm90dG9tLmNsYXNzTmFtZT1cInZpcy1wYW5lbCB2aXMtYm90dG9tXCIsdGhpcy5kb20ubGVmdC5jbGFzc05hbWU9XCJ2aXMtY29udGVudFwiLHRoaXMuZG9tLmNlbnRlci5jbGFzc05hbWU9XCJ2aXMtY29udGVudFwiLHRoaXMuZG9tLnJpZ2h0LmNsYXNzTmFtZT1cInZpcy1jb250ZW50XCIsdGhpcy5kb20uc2hhZG93VG9wLmNsYXNzTmFtZT1cInZpcy1zaGFkb3cgdmlzLXRvcFwiLHRoaXMuZG9tLnNoYWRvd0JvdHRvbS5jbGFzc05hbWU9XCJ2aXMtc2hhZG93IHZpcy1ib3R0b21cIix0aGlzLmRvbS5zaGFkb3dUb3BMZWZ0LmNsYXNzTmFtZT1cInZpcy1zaGFkb3cgdmlzLXRvcFwiLHRoaXMuZG9tLnNoYWRvd0JvdHRvbUxlZnQuY2xhc3NOYW1lPVwidmlzLXNoYWRvdyB2aXMtYm90dG9tXCIsdGhpcy5kb20uc2hhZG93VG9wUmlnaHQuY2xhc3NOYW1lPVwidmlzLXNoYWRvdyB2aXMtdG9wXCIsdGhpcy5kb20uc2hhZG93Qm90dG9tUmlnaHQuY2xhc3NOYW1lPVwidmlzLXNoYWRvdyB2aXMtYm90dG9tXCIsdGhpcy5kb20ucm9vdC5hcHBlbmRDaGlsZCh0aGlzLmRvbS5iYWNrZ3JvdW5kKSx0aGlzLmRvbS5yb290LmFwcGVuZENoaWxkKHRoaXMuZG9tLmJhY2tncm91bmRWZXJ0aWNhbCksdGhpcy5kb20ucm9vdC5hcHBlbmRDaGlsZCh0aGlzLmRvbS5iYWNrZ3JvdW5kSG9yaXpvbnRhbCksdGhpcy5kb20ucm9vdC5hcHBlbmRDaGlsZCh0aGlzLmRvbS5jZW50ZXJDb250YWluZXIpLHRoaXMuZG9tLnJvb3QuYXBwZW5kQ2hpbGQodGhpcy5kb20ubGVmdENvbnRhaW5lciksdGhpcy5kb20ucm9vdC5hcHBlbmRDaGlsZCh0aGlzLmRvbS5yaWdodENvbnRhaW5lciksdGhpcy5kb20ucm9vdC5hcHBlbmRDaGlsZCh0aGlzLmRvbS50b3ApLHRoaXMuZG9tLnJvb3QuYXBwZW5kQ2hpbGQodGhpcy5kb20uYm90dG9tKSx0aGlzLmRvbS5jZW50ZXJDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5kb20uY2VudGVyKSx0aGlzLmRvbS5sZWZ0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZG9tLmxlZnQpLHRoaXMuZG9tLnJpZ2h0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZG9tLnJpZ2h0KSx0aGlzLmRvbS5jZW50ZXJDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5kb20uc2hhZG93VG9wKSx0aGlzLmRvbS5jZW50ZXJDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5kb20uc2hhZG93Qm90dG9tKSx0aGlzLmRvbS5sZWZ0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZG9tLnNoYWRvd1RvcExlZnQpLHRoaXMuZG9tLmxlZnRDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5kb20uc2hhZG93Qm90dG9tTGVmdCksdGhpcy5kb20ucmlnaHRDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5kb20uc2hhZG93VG9wUmlnaHQpLHRoaXMuZG9tLnJpZ2h0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZG9tLnNoYWRvd0JvdHRvbVJpZ2h0KSx0aGlzLm9uKFwicmFuZ2VjaGFuZ2VcIixmdW5jdGlvbigpe3RoaXMuX3JlZHJhdygpfS5iaW5kKHRoaXMpKSx0aGlzLm9uKFwidG91Y2hcIix0aGlzLl9vblRvdWNoLmJpbmQodGhpcykpLHRoaXMub24oXCJwYW5cIix0aGlzLl9vbkRyYWcuYmluZCh0aGlzKSk7dmFyIGk9dGhpczt0aGlzLm9uKFwiY2hhbmdlXCIsZnVuY3Rpb24odCl7dCYmMT09dC5xdWV1ZT9pLl9yZWRyYXdUaW1lcnx8KGkuX3JlZHJhd1RpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLl9yZWRyYXdUaW1lcj1udWxsLGkuX3JlZHJhdygpfSwwKSk6aS5fcmVkcmF3KCl9KSx0aGlzLmhhbW1lcj1uZXcgcyh0aGlzLmRvbS5yb290KSx0aGlzLmhhbW1lci5nZXQoXCJwaW5jaFwiKS5zZXQoe2VuYWJsZTohMH0pLHRoaXMuaGFtbWVyLmdldChcInBhblwiKS5zZXQoe3RocmVzaG9sZDo1LGRpcmVjdGlvbjozMH0pLHRoaXMubGlzdGVuZXJzPXt9O3ZhciBvPVtcInRhcFwiLFwiZG91YmxldGFwXCIsXCJwcmVzc1wiLFwicGluY2hcIixcInBhblwiLFwicGFuc3RhcnRcIixcInBhbm1vdmVcIixcInBhbmVuZFwiXTtpZihvLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oZSl7aS5pc0FjdGl2ZSgpJiZpLmVtaXQodCxlKX07aS5oYW1tZXIub24odCxlKSxpLmxpc3RlbmVyc1t0XT1lfSksci5vblRvdWNoKHRoaXMuaGFtbWVyLGZ1bmN0aW9uKHQpe2kuZW1pdChcInRvdWNoXCIsdCl9LmJpbmQodGhpcykpLHIub25SZWxlYXNlKHRoaXMuaGFtbWVyLGZ1bmN0aW9uKHQpe2kuZW1pdChcInJlbGVhc2VcIix0KX0uYmluZCh0aGlzKSksdGhpcy5kb20ucm9vdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V3aGVlbFwiLGUpLHRoaXMuZG9tLnJvb3QuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTU1vdXNlU2Nyb2xsXCIsZSksdGhpcy5wcm9wcz17cm9vdDp7fSxiYWNrZ3JvdW5kOnt9LGNlbnRlckNvbnRhaW5lcjp7fSxsZWZ0Q29udGFpbmVyOnt9LHJpZ2h0Q29udGFpbmVyOnt9LGNlbnRlcjp7fSxsZWZ0Ont9LHJpZ2h0Ont9LHRvcDp7fSxib3R0b206e30sYm9yZGVyOnt9LHNjcm9sbFRvcDowLHNjcm9sbFRvcE1pbjowfSx0aGlzLmN1c3RvbVRpbWVzPVtdLHRoaXMudG91Y2g9e30sdGhpcy5yZWRyYXdDb3VudD0wLCF0KXRocm93IG5ldyBFcnJvcihcIk5vIGNvbnRhaW5lciBwcm92aWRlZFwiKTt0LmFwcGVuZENoaWxkKHRoaXMuZG9tLnJvb3QpfSxvLnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlPVtcIndpZHRoXCIsXCJoZWlnaHRcIixcIm1pbkhlaWdodFwiLFwibWF4SGVpZ2h0XCIsXCJhdXRvUmVzaXplXCIsXCJzdGFydFwiLFwiZW5kXCIsXCJjbGlja1RvVXNlXCIsXCJkYXRhQXR0cmlidXRlc1wiLFwiaGlkZGVuRGF0ZXNcIixcImxvY2FsZVwiLFwibG9jYWxlc1wiLFwibW9tZW50XCIsXCJ0aHJvdHRsZVJlZHJhd1wiXTtpZihhLnNlbGVjdGl2ZUV4dGVuZChlLHRoaXMub3B0aW9ucyx0KSxcIm9yaWVudGF0aW9uXCJpbiB0JiYoXCJzdHJpbmdcIj09dHlwZW9mIHQub3JpZW50YXRpb24/dGhpcy5vcHRpb25zLm9yaWVudGF0aW9uPXtpdGVtOnQub3JpZW50YXRpb24sYXhpczp0Lm9yaWVudGF0aW9ufTpcIm9iamVjdFwiPT10eXBlb2YgdC5vcmllbnRhdGlvbiYmKFwiaXRlbVwiaW4gdC5vcmllbnRhdGlvbiYmKHRoaXMub3B0aW9ucy5vcmllbnRhdGlvbi5pdGVtPXQub3JpZW50YXRpb24uaXRlbSksXCJheGlzXCJpbiB0Lm9yaWVudGF0aW9uJiYodGhpcy5vcHRpb25zLm9yaWVudGF0aW9uLmF4aXM9dC5vcmllbnRhdGlvbi5heGlzKSkpLFwiYm90aFwiPT09dGhpcy5vcHRpb25zLm9yaWVudGF0aW9uLmF4aXMpe2lmKCF0aGlzLnRpbWVBeGlzMil7dmFyIGk9dGhpcy50aW1lQXhpczI9bmV3IGgodGhpcy5ib2R5KTtpLnNldE9wdGlvbnM9ZnVuY3Rpb24odCl7dmFyIGU9dD9hLmV4dGVuZCh7fSx0KTp7fTtlLm9yaWVudGF0aW9uPVwidG9wXCIsaC5wcm90b3R5cGUuc2V0T3B0aW9ucy5jYWxsKGksZSl9LHRoaXMuY29tcG9uZW50cy5wdXNoKGkpfX1lbHNlIGlmKHRoaXMudGltZUF4aXMyKXt2YXIgbz10aGlzLmNvbXBvbmVudHMuaW5kZXhPZih0aGlzLnRpbWVBeGlzMik7LTEhPT1vJiZ0aGlzLmNvbXBvbmVudHMuc3BsaWNlKG8sMSksdGhpcy50aW1lQXhpczIuZGVzdHJveSgpLHRoaXMudGltZUF4aXMyPW51bGx9aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdC5kcmF3UG9pbnRzJiYodC5kcmF3UG9pbnRzPXtvblJlbmRlcjp0LmRyYXdQb2ludHN9KSxcImhpZGRlbkRhdGVzXCJpbiB0aGlzLm9wdGlvbnMmJmwuY29udmVydEhpZGRlbk9wdGlvbnModGhpcy5vcHRpb25zLm1vbWVudCx0aGlzLmJvZHksdGhpcy5vcHRpb25zLmhpZGRlbkRhdGVzKSxcImNsaWNrVG9Vc2VcImluIHQmJih0LmNsaWNrVG9Vc2U/dGhpcy5hY3RpdmF0b3J8fCh0aGlzLmFjdGl2YXRvcj1uZXcgZCh0aGlzLmRvbS5yb290KSk6dGhpcy5hY3RpdmF0b3ImJih0aGlzLmFjdGl2YXRvci5kZXN0cm95KCksZGVsZXRlIHRoaXMuYWN0aXZhdG9yKSksXCJzaG93Q3VzdG9tVGltZVwiaW4gdCl0aHJvdyBuZXcgRXJyb3IoXCJPcHRpb24gYHNob3dDdXN0b21UaW1lYCBpcyBkZXByZWNhdGVkLiBDcmVhdGUgYSBjdXN0b20gdGltZSBiYXIgdmlhIHRpbWVsaW5lLmFkZEN1c3RvbVRpbWUodGltZSBbLCBpZF0pXCIpO3RoaXMuX2luaXRBdXRvUmVzaXplKCl9aWYodGhpcy5jb21wb25lbnRzLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2V0T3B0aW9ucyh0KX0pLFwiY29uZmlndXJlXCJpbiB0KXt0aGlzLmNvbmZpZ3VyYXRvcnx8KHRoaXMuY29uZmlndXJhdG9yPXRoaXMuX2NyZWF0ZUNvbmZpZ3VyYXRvcigpKSx0aGlzLmNvbmZpZ3VyYXRvci5zZXRPcHRpb25zKHQuY29uZmlndXJlKTt2YXIgbj1hLmRlZXBFeHRlbmQoe30sdGhpcy5vcHRpb25zKTt0aGlzLmNvbXBvbmVudHMuZm9yRWFjaChmdW5jdGlvbih0KXthLmRlZXBFeHRlbmQobix0Lm9wdGlvbnMpfSksdGhpcy5jb25maWd1cmF0b3Iuc2V0TW9kdWxlT3B0aW9ucyh7Z2xvYmFsOm59KX10aGlzLl9vcmlnUmVkcmF3fHwodGhpcy5fb3JpZ1JlZHJhdz10aGlzLl9yZWRyYXcuYmluZCh0aGlzKSksdGhpcy5fcmVkcmF3PWEudGhyb3R0bGUodGhpcy5fb3JpZ1JlZHJhdyx0aGlzLm9wdGlvbnMudGhyb3R0bGVSZWRyYXcpLHRoaXMuX3JlZHJhdygpfSxvLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiF0aGlzLmFjdGl2YXRvcnx8dGhpcy5hY3RpdmF0b3IuYWN0aXZlfSxvLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5zZXRJdGVtcyhudWxsKSx0aGlzLnNldEdyb3VwcyhudWxsKSx0aGlzLm9mZigpLHRoaXMuX3N0b3BBdXRvUmVzaXplKCksdGhpcy5kb20ucm9vdC5wYXJlbnROb2RlJiZ0aGlzLmRvbS5yb290LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kb20ucm9vdCksdGhpcy5kb209bnVsbCx0aGlzLmFjdGl2YXRvciYmKHRoaXMuYWN0aXZhdG9yLmRlc3Ryb3koKSxkZWxldGUgdGhpcy5hY3RpdmF0b3IpO2Zvcih2YXIgdCBpbiB0aGlzLmxpc3RlbmVycyl0aGlzLmxpc3RlbmVycy5oYXNPd25Qcm9wZXJ0eSh0KSYmZGVsZXRlIHRoaXMubGlzdGVuZXJzW3RdO3RoaXMubGlzdGVuZXJzPW51bGwsdGhpcy5oYW1tZXI9bnVsbCx0aGlzLmNvbXBvbmVudHMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdC5kZXN0cm95KCl9KSx0aGlzLmJvZHk9bnVsbH0sby5wcm90b3R5cGUuc2V0Q3VzdG9tVGltZT1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuY3VzdG9tVGltZXMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBlPT09dC5vcHRpb25zLmlkfSk7aWYoMD09PWkubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIk5vIGN1c3RvbSB0aW1lIGJhciBmb3VuZCB3aXRoIGlkIFwiK0pTT04uc3RyaW5naWZ5KGUpKTtpLmxlbmd0aD4wJiZpWzBdLnNldEN1c3RvbVRpbWUodCl9LG8ucHJvdG90eXBlLmdldEN1c3RvbVRpbWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jdXN0b21UaW1lcy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUub3B0aW9ucy5pZD09PXR9KTtpZigwPT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiTm8gY3VzdG9tIHRpbWUgYmFyIGZvdW5kIHdpdGggaWQgXCIrSlNPTi5zdHJpbmdpZnkodCkpO3JldHVybiBlWzBdLmdldEN1c3RvbVRpbWUoKX0sby5wcm90b3R5cGUuc2V0Q3VzdG9tVGltZVRpdGxlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5jdXN0b21UaW1lcy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQub3B0aW9ucy5pZD09PWV9KTtpZigwPT09aS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiTm8gY3VzdG9tIHRpbWUgYmFyIGZvdW5kIHdpdGggaWQgXCIrSlNPTi5zdHJpbmdpZnkoZSkpO3JldHVybiBpLmxlbmd0aD4wP2lbMF0uc2V0Q3VzdG9tVGl0bGUodCk6dm9pZCAwfSxvLnByb3RvdHlwZS5nZXRFdmVudFByb3BlcnRpZXM9ZnVuY3Rpb24odCl7XG5yZXR1cm57ZXZlbnQ6dH19LG8ucHJvdG90eXBlLmFkZEN1c3RvbVRpbWU9ZnVuY3Rpb24odCxlKXt2YXIgaT12b2lkIDAhPT10P2EuY29udmVydCh0LFwiRGF0ZVwiKS52YWx1ZU9mKCk6bmV3IERhdGUsbz10aGlzLmN1c3RvbVRpbWVzLnNvbWUoZnVuY3Rpb24odCl7cmV0dXJuIHQub3B0aW9ucy5pZD09PWV9KTtpZihvKXRocm93IG5ldyBFcnJvcihcIkEgY3VzdG9tIHRpbWUgd2l0aCBpZCBcIitKU09OLnN0cmluZ2lmeShlKStcIiBhbHJlYWR5IGV4aXN0c1wiKTt2YXIgbj1uZXcgdSh0aGlzLmJvZHksYS5leHRlbmQoe30sdGhpcy5vcHRpb25zLHt0aW1lOmksaWQ6ZX0pKTtyZXR1cm4gdGhpcy5jdXN0b21UaW1lcy5wdXNoKG4pLHRoaXMuY29tcG9uZW50cy5wdXNoKG4pLHRoaXMuX3JlZHJhdygpLGV9LG8ucHJvdG90eXBlLnJlbW92ZUN1c3RvbVRpbWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jdXN0b21UaW1lcy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUub3B0aW9ucy5pZD09PXR9KTtpZigwPT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiTm8gY3VzdG9tIHRpbWUgYmFyIGZvdW5kIHdpdGggaWQgXCIrSlNPTi5zdHJpbmdpZnkodCkpO2UuZm9yRWFjaChmdW5jdGlvbih0KXt0aGlzLmN1c3RvbVRpbWVzLnNwbGljZSh0aGlzLmN1c3RvbVRpbWVzLmluZGV4T2YodCksMSksdGhpcy5jb21wb25lbnRzLnNwbGljZSh0aGlzLmNvbXBvbmVudHMuaW5kZXhPZih0KSwxKSx0LmRlc3Ryb3koKX0uYmluZCh0aGlzKSl9LG8ucHJvdG90eXBlLmdldFZpc2libGVJdGVtcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZW1TZXQmJnRoaXMuaXRlbVNldC5nZXRWaXNpYmxlSXRlbXMoKXx8W119LG8ucHJvdG90eXBlLmZpdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldERhdGFSYW5nZSgpO2lmKG51bGwhPT1lLm1pbnx8bnVsbCE9PWUubWF4KXt2YXIgaT1lLm1heC1lLm1pbixvPW5ldyBEYXRlKGUubWluLnZhbHVlT2YoKS0uMDEqaSksbj1uZXcgRGF0ZShlLm1heC52YWx1ZU9mKCkrLjAxKmkpLHM9dCYmdm9pZCAwIT09dC5hbmltYXRpb24/dC5hbmltYXRpb246ITA7dGhpcy5yYW5nZS5zZXRSYW5nZShvLG4scyl9fSxvLnByb3RvdHlwZS5nZXREYXRhUmFuZ2U9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgaW52b2tlIGFic3RyYWN0IG1ldGhvZCBnZXREYXRhUmFuZ2VcIil9LG8ucHJvdG90eXBlLnNldFdpbmRvdz1mdW5jdGlvbih0LGUsaSl7dmFyIG87aWYoMT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIG49YXJndW1lbnRzWzBdO289dm9pZCAwIT09bi5hbmltYXRpb24/bi5hbmltYXRpb246ITAsdGhpcy5yYW5nZS5zZXRSYW5nZShuLnN0YXJ0LG4uZW5kLG8pfWVsc2Ugbz1pJiZ2b2lkIDAhPT1pLmFuaW1hdGlvbj9pLmFuaW1hdGlvbjohMCx0aGlzLnJhbmdlLnNldFJhbmdlKHQsZSxvKX0sby5wcm90b3R5cGUubW92ZVRvPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5yYW5nZS5lbmQtdGhpcy5yYW5nZS5zdGFydCxvPWEuY29udmVydCh0LFwiRGF0ZVwiKS52YWx1ZU9mKCksbj1vLWkvMixzPW8raS8yLHI9ZSYmdm9pZCAwIT09ZS5hbmltYXRpb24/ZS5hbmltYXRpb246ITA7dGhpcy5yYW5nZS5zZXRSYW5nZShuLHMscil9LG8ucHJvdG90eXBlLmdldFdpbmRvdz1mdW5jdGlvbigpe3ZhciB0PXRoaXMucmFuZ2UuZ2V0UmFuZ2UoKTtyZXR1cm57c3RhcnQ6bmV3IERhdGUodC5zdGFydCksZW5kOm5ldyBEYXRlKHQuZW5kKX19LG8ucHJvdG90eXBlLnJlZHJhdz1mdW5jdGlvbigpe3RoaXMuX3JlZHJhdygpfSxvLnByb3RvdHlwZS5fcmVkcmF3PWZ1bmN0aW9uKCl7dmFyIHQ9ITEsZT10aGlzLm9wdGlvbnMsaT10aGlzLnByb3BzLG89dGhpcy5kb207aWYobyl7bC51cGRhdGVIaWRkZW5EYXRlcyh0aGlzLm9wdGlvbnMubW9tZW50LHRoaXMuYm9keSx0aGlzLm9wdGlvbnMuaGlkZGVuRGF0ZXMpLFwidG9wXCI9PWUub3JpZW50YXRpb24/KGEuYWRkQ2xhc3NOYW1lKG8ucm9vdCxcInZpcy10b3BcIiksYS5yZW1vdmVDbGFzc05hbWUoby5yb290LFwidmlzLWJvdHRvbVwiKSk6KGEucmVtb3ZlQ2xhc3NOYW1lKG8ucm9vdCxcInZpcy10b3BcIiksYS5hZGRDbGFzc05hbWUoby5yb290LFwidmlzLWJvdHRvbVwiKSksby5yb290LnN0eWxlLm1heEhlaWdodD1hLm9wdGlvbi5hc1NpemUoZS5tYXhIZWlnaHQsXCJcIiksby5yb290LnN0eWxlLm1pbkhlaWdodD1hLm9wdGlvbi5hc1NpemUoZS5taW5IZWlnaHQsXCJcIiksby5yb290LnN0eWxlLndpZHRoPWEub3B0aW9uLmFzU2l6ZShlLndpZHRoLFwiXCIpLGkuYm9yZGVyLmxlZnQ9KG8uY2VudGVyQ29udGFpbmVyLm9mZnNldFdpZHRoLW8uY2VudGVyQ29udGFpbmVyLmNsaWVudFdpZHRoKS8yLGkuYm9yZGVyLnJpZ2h0PWkuYm9yZGVyLmxlZnQsaS5ib3JkZXIudG9wPShvLmNlbnRlckNvbnRhaW5lci5vZmZzZXRIZWlnaHQtby5jZW50ZXJDb250YWluZXIuY2xpZW50SGVpZ2h0KS8yLGkuYm9yZGVyLmJvdHRvbT1pLmJvcmRlci50b3A7dmFyIG49by5yb290Lm9mZnNldEhlaWdodC1vLnJvb3QuY2xpZW50SGVpZ2h0LHM9by5yb290Lm9mZnNldFdpZHRoLW8ucm9vdC5jbGllbnRXaWR0aDswPT09by5jZW50ZXJDb250YWluZXIuY2xpZW50SGVpZ2h0JiYoaS5ib3JkZXIubGVmdD1pLmJvcmRlci50b3AsaS5ib3JkZXIucmlnaHQ9aS5ib3JkZXIubGVmdCksMD09PW8ucm9vdC5jbGllbnRIZWlnaHQmJihzPW4pLGkuY2VudGVyLmhlaWdodD1vLmNlbnRlci5vZmZzZXRIZWlnaHQsaS5sZWZ0LmhlaWdodD1vLmxlZnQub2Zmc2V0SGVpZ2h0LGkucmlnaHQuaGVpZ2h0PW8ucmlnaHQub2Zmc2V0SGVpZ2h0LGkudG9wLmhlaWdodD1vLnRvcC5jbGllbnRIZWlnaHR8fC1pLmJvcmRlci50b3AsaS5ib3R0b20uaGVpZ2h0PW8uYm90dG9tLmNsaWVudEhlaWdodHx8LWkuYm9yZGVyLmJvdHRvbTt2YXIgcj1NYXRoLm1heChpLmxlZnQuaGVpZ2h0LGkuY2VudGVyLmhlaWdodCxpLnJpZ2h0LmhlaWdodCksaD1pLnRvcC5oZWlnaHQrcitpLmJvdHRvbS5oZWlnaHQrbitpLmJvcmRlci50b3AraS5ib3JkZXIuYm90dG9tO28ucm9vdC5zdHlsZS5oZWlnaHQ9YS5vcHRpb24uYXNTaXplKGUuaGVpZ2h0LGgrXCJweFwiKSxpLnJvb3QuaGVpZ2h0PW8ucm9vdC5vZmZzZXRIZWlnaHQsaS5iYWNrZ3JvdW5kLmhlaWdodD1pLnJvb3QuaGVpZ2h0LW47dmFyIGQ9aS5yb290LmhlaWdodC1pLnRvcC5oZWlnaHQtaS5ib3R0b20uaGVpZ2h0LW47aS5jZW50ZXJDb250YWluZXIuaGVpZ2h0PWQsaS5sZWZ0Q29udGFpbmVyLmhlaWdodD1kLGkucmlnaHRDb250YWluZXIuaGVpZ2h0PWkubGVmdENvbnRhaW5lci5oZWlnaHQsaS5yb290LndpZHRoPW8ucm9vdC5vZmZzZXRXaWR0aCxpLmJhY2tncm91bmQud2lkdGg9aS5yb290LndpZHRoLXMsaS5sZWZ0LndpZHRoPW8ubGVmdENvbnRhaW5lci5jbGllbnRXaWR0aHx8LWkuYm9yZGVyLmxlZnQsaS5sZWZ0Q29udGFpbmVyLndpZHRoPWkubGVmdC53aWR0aCxpLnJpZ2h0LndpZHRoPW8ucmlnaHRDb250YWluZXIuY2xpZW50V2lkdGh8fC1pLmJvcmRlci5yaWdodCxpLnJpZ2h0Q29udGFpbmVyLndpZHRoPWkucmlnaHQud2lkdGg7dmFyIHU9aS5yb290LndpZHRoLWkubGVmdC53aWR0aC1pLnJpZ2h0LndpZHRoLXM7aS5jZW50ZXIud2lkdGg9dSxpLmNlbnRlckNvbnRhaW5lci53aWR0aD11LGkudG9wLndpZHRoPXUsaS5ib3R0b20ud2lkdGg9dSxvLmJhY2tncm91bmQuc3R5bGUuaGVpZ2h0PWkuYmFja2dyb3VuZC5oZWlnaHQrXCJweFwiLG8uYmFja2dyb3VuZFZlcnRpY2FsLnN0eWxlLmhlaWdodD1pLmJhY2tncm91bmQuaGVpZ2h0K1wicHhcIixvLmJhY2tncm91bmRIb3Jpem9udGFsLnN0eWxlLmhlaWdodD1pLmNlbnRlckNvbnRhaW5lci5oZWlnaHQrXCJweFwiLG8uY2VudGVyQ29udGFpbmVyLnN0eWxlLmhlaWdodD1pLmNlbnRlckNvbnRhaW5lci5oZWlnaHQrXCJweFwiLG8ubGVmdENvbnRhaW5lci5zdHlsZS5oZWlnaHQ9aS5sZWZ0Q29udGFpbmVyLmhlaWdodCtcInB4XCIsby5yaWdodENvbnRhaW5lci5zdHlsZS5oZWlnaHQ9aS5yaWdodENvbnRhaW5lci5oZWlnaHQrXCJweFwiLG8uYmFja2dyb3VuZC5zdHlsZS53aWR0aD1pLmJhY2tncm91bmQud2lkdGgrXCJweFwiLG8uYmFja2dyb3VuZFZlcnRpY2FsLnN0eWxlLndpZHRoPWkuY2VudGVyQ29udGFpbmVyLndpZHRoK1wicHhcIixvLmJhY2tncm91bmRIb3Jpem9udGFsLnN0eWxlLndpZHRoPWkuYmFja2dyb3VuZC53aWR0aCtcInB4XCIsby5jZW50ZXJDb250YWluZXIuc3R5bGUud2lkdGg9aS5jZW50ZXIud2lkdGgrXCJweFwiLG8udG9wLnN0eWxlLndpZHRoPWkudG9wLndpZHRoK1wicHhcIixvLmJvdHRvbS5zdHlsZS53aWR0aD1pLmJvdHRvbS53aWR0aCtcInB4XCIsby5iYWNrZ3JvdW5kLnN0eWxlLmxlZnQ9XCIwXCIsby5iYWNrZ3JvdW5kLnN0eWxlLnRvcD1cIjBcIixvLmJhY2tncm91bmRWZXJ0aWNhbC5zdHlsZS5sZWZ0PWkubGVmdC53aWR0aCtpLmJvcmRlci5sZWZ0K1wicHhcIixvLmJhY2tncm91bmRWZXJ0aWNhbC5zdHlsZS50b3A9XCIwXCIsby5iYWNrZ3JvdW5kSG9yaXpvbnRhbC5zdHlsZS5sZWZ0PVwiMFwiLG8uYmFja2dyb3VuZEhvcml6b250YWwuc3R5bGUudG9wPWkudG9wLmhlaWdodCtcInB4XCIsby5jZW50ZXJDb250YWluZXIuc3R5bGUubGVmdD1pLmxlZnQud2lkdGgrXCJweFwiLG8uY2VudGVyQ29udGFpbmVyLnN0eWxlLnRvcD1pLnRvcC5oZWlnaHQrXCJweFwiLG8ubGVmdENvbnRhaW5lci5zdHlsZS5sZWZ0PVwiMFwiLG8ubGVmdENvbnRhaW5lci5zdHlsZS50b3A9aS50b3AuaGVpZ2h0K1wicHhcIixvLnJpZ2h0Q29udGFpbmVyLnN0eWxlLmxlZnQ9aS5sZWZ0LndpZHRoK2kuY2VudGVyLndpZHRoK1wicHhcIixvLnJpZ2h0Q29udGFpbmVyLnN0eWxlLnRvcD1pLnRvcC5oZWlnaHQrXCJweFwiLG8udG9wLnN0eWxlLmxlZnQ9aS5sZWZ0LndpZHRoK1wicHhcIixvLnRvcC5zdHlsZS50b3A9XCIwXCIsby5ib3R0b20uc3R5bGUubGVmdD1pLmxlZnQud2lkdGgrXCJweFwiLG8uYm90dG9tLnN0eWxlLnRvcD1pLnRvcC5oZWlnaHQraS5jZW50ZXJDb250YWluZXIuaGVpZ2h0K1wicHhcIix0aGlzLl91cGRhdGVTY3JvbGxUb3AoKTt2YXIgYz10aGlzLnByb3BzLnNjcm9sbFRvcDtcInRvcFwiIT1lLm9yaWVudGF0aW9uLml0ZW0mJihjKz1NYXRoLm1heCh0aGlzLnByb3BzLmNlbnRlckNvbnRhaW5lci5oZWlnaHQtdGhpcy5wcm9wcy5jZW50ZXIuaGVpZ2h0LXRoaXMucHJvcHMuYm9yZGVyLnRvcC10aGlzLnByb3BzLmJvcmRlci5ib3R0b20sMCkpLG8uY2VudGVyLnN0eWxlLmxlZnQ9XCIwXCIsby5jZW50ZXIuc3R5bGUudG9wPWMrXCJweFwiLG8ubGVmdC5zdHlsZS5sZWZ0PVwiMFwiLG8ubGVmdC5zdHlsZS50b3A9YytcInB4XCIsby5yaWdodC5zdHlsZS5sZWZ0PVwiMFwiLG8ucmlnaHQuc3R5bGUudG9wPWMrXCJweFwiO3ZhciBwPTA9PXRoaXMucHJvcHMuc2Nyb2xsVG9wP1wiaGlkZGVuXCI6XCJcIixmPXRoaXMucHJvcHMuc2Nyb2xsVG9wPT10aGlzLnByb3BzLnNjcm9sbFRvcE1pbj9cImhpZGRlblwiOlwiXCI7aWYoby5zaGFkb3dUb3Auc3R5bGUudmlzaWJpbGl0eT1wLG8uc2hhZG93Qm90dG9tLnN0eWxlLnZpc2liaWxpdHk9ZixvLnNoYWRvd1RvcExlZnQuc3R5bGUudmlzaWJpbGl0eT1wLG8uc2hhZG93Qm90dG9tTGVmdC5zdHlsZS52aXNpYmlsaXR5PWYsby5zaGFkb3dUb3BSaWdodC5zdHlsZS52aXNpYmlsaXR5PXAsby5zaGFkb3dCb3R0b21SaWdodC5zdHlsZS52aXNpYmlsaXR5PWYsdGhpcy5jb21wb25lbnRzLmZvckVhY2goZnVuY3Rpb24oZSl7dD1lLnJlZHJhdygpfHx0fSksdCl7dmFyIG09Mzt0aGlzLnJlZHJhd0NvdW50PG0/KHRoaXMucmVkcmF3Q291bnQrKyx0aGlzLl9yZWRyYXcoKSk6Y29uc29sZS5sb2coXCJXQVJOSU5HOiBpbmZpbml0ZSBsb29wIGluIHJlZHJhdz9cIiksdGhpcy5yZWRyYXdDb3VudD0wfX19LG8ucHJvdG90eXBlLnJlcGFpbnQ9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJGdW5jdGlvbiByZXBhaW50IGlzIGRlcHJlY2F0ZWQuIFVzZSByZWRyYXcgaW5zdGVhZC5cIil9LG8ucHJvdG90eXBlLnNldEN1cnJlbnRUaW1lPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmN1cnJlbnRUaW1lKXRocm93IG5ldyBFcnJvcihcIk9wdGlvbiBzaG93Q3VycmVudFRpbWUgbXVzdCBiZSB0cnVlXCIpO3RoaXMuY3VycmVudFRpbWUuc2V0Q3VycmVudFRpbWUodCl9LG8ucHJvdG90eXBlLmdldEN1cnJlbnRUaW1lPWZ1bmN0aW9uKCl7aWYoIXRoaXMuY3VycmVudFRpbWUpdGhyb3cgbmV3IEVycm9yKFwiT3B0aW9uIHNob3dDdXJyZW50VGltZSBtdXN0IGJlIHRydWVcIik7cmV0dXJuIHRoaXMuY3VycmVudFRpbWUuZ2V0Q3VycmVudFRpbWUoKX0sby5wcm90b3R5cGUuX3RvVGltZT1mdW5jdGlvbih0KXtyZXR1cm4gbC50b1RpbWUodGhpcyx0LHRoaXMucHJvcHMuY2VudGVyLndpZHRoKX0sby5wcm90b3R5cGUuX3RvR2xvYmFsVGltZT1mdW5jdGlvbih0KXtyZXR1cm4gbC50b1RpbWUodGhpcyx0LHRoaXMucHJvcHMucm9vdC53aWR0aCl9LG8ucHJvdG90eXBlLl90b1NjcmVlbj1mdW5jdGlvbih0KXtyZXR1cm4gbC50b1NjcmVlbih0aGlzLHQsdGhpcy5wcm9wcy5jZW50ZXIud2lkdGgpfSxvLnByb3RvdHlwZS5fdG9HbG9iYWxTY3JlZW49ZnVuY3Rpb24odCl7cmV0dXJuIGwudG9TY3JlZW4odGhpcyx0LHRoaXMucHJvcHMucm9vdC53aWR0aCl9LG8ucHJvdG90eXBlLl9pbml0QXV0b1Jlc2l6ZT1mdW5jdGlvbigpezE9PXRoaXMub3B0aW9ucy5hdXRvUmVzaXplP3RoaXMuX3N0YXJ0QXV0b1Jlc2l6ZSgpOnRoaXMuX3N0b3BBdXRvUmVzaXplKCl9LG8ucHJvdG90eXBlLl9zdGFydEF1dG9SZXNpemU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX3N0b3BBdXRvUmVzaXplKCksdGhpcy5fb25SZXNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gMSE9dC5vcHRpb25zLmF1dG9SZXNpemU/dm9pZCB0Ll9zdG9wQXV0b1Jlc2l6ZSgpOnZvaWQodC5kb20ucm9vdCYmKHQuZG9tLnJvb3Qub2Zmc2V0V2lkdGghPXQucHJvcHMubGFzdFdpZHRofHx0LmRvbS5yb290Lm9mZnNldEhlaWdodCE9dC5wcm9wcy5sYXN0SGVpZ2h0KSYmKHQucHJvcHMubGFzdFdpZHRoPXQuZG9tLnJvb3Qub2Zmc2V0V2lkdGgsdC5wcm9wcy5sYXN0SGVpZ2h0PXQuZG9tLnJvb3Qub2Zmc2V0SGVpZ2h0LHQuZW1pdChcImNoYW5nZVwiKSkpfSxhLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LFwicmVzaXplXCIsdGhpcy5fb25SZXNpemUpLHRoaXMud2F0Y2hUaW1lcj1zZXRJbnRlcnZhbCh0aGlzLl9vblJlc2l6ZSwxZTMpfSxvLnByb3RvdHlwZS5fc3RvcEF1dG9SZXNpemU9ZnVuY3Rpb24oKXt0aGlzLndhdGNoVGltZXImJihjbGVhckludGVydmFsKHRoaXMud2F0Y2hUaW1lciksdGhpcy53YXRjaFRpbWVyPXZvaWQgMCksdGhpcy5fb25SZXNpemUmJihhLnJlbW92ZUV2ZW50TGlzdGVuZXIod2luZG93LFwicmVzaXplXCIsdGhpcy5fb25SZXNpemUpLHRoaXMuX29uUmVzaXplPW51bGwpfSxvLnByb3RvdHlwZS5fb25Ub3VjaD1mdW5jdGlvbih0KXt0aGlzLnRvdWNoLmFsbG93RHJhZ2dpbmc9ITAsdGhpcy50b3VjaC5pbml0aWFsU2Nyb2xsVG9wPXRoaXMucHJvcHMuc2Nyb2xsVG9wfSxvLnByb3RvdHlwZS5fb25QaW5jaD1mdW5jdGlvbih0KXt0aGlzLnRvdWNoLmFsbG93RHJhZ2dpbmc9ITF9LG8ucHJvdG90eXBlLl9vbkRyYWc9ZnVuY3Rpb24odCl7aWYodGhpcy50b3VjaC5hbGxvd0RyYWdnaW5nKXt2YXIgZT10LmRlbHRhWSxpPXRoaXMuX2dldFNjcm9sbFRvcCgpLG89dGhpcy5fc2V0U2Nyb2xsVG9wKHRoaXMudG91Y2guaW5pdGlhbFNjcm9sbFRvcCtlKTtvIT1pJiYodGhpcy5fcmVkcmF3KCksdGhpcy5lbWl0KFwidmVydGljYWxEcmFnXCIpKX19LG8ucHJvdG90eXBlLl9zZXRTY3JvbGxUb3A9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucHJvcHMuc2Nyb2xsVG9wPXQsdGhpcy5fdXBkYXRlU2Nyb2xsVG9wKCksdGhpcy5wcm9wcy5zY3JvbGxUb3B9LG8ucHJvdG90eXBlLl91cGRhdGVTY3JvbGxUb3A9ZnVuY3Rpb24oKXt2YXIgdD1NYXRoLm1pbih0aGlzLnByb3BzLmNlbnRlckNvbnRhaW5lci5oZWlnaHQtdGhpcy5wcm9wcy5jZW50ZXIuaGVpZ2h0LDApO3JldHVybiB0IT10aGlzLnByb3BzLnNjcm9sbFRvcE1pbiYmKFwidG9wXCIhPXRoaXMub3B0aW9ucy5vcmllbnRhdGlvbi5pdGVtJiYodGhpcy5wcm9wcy5zY3JvbGxUb3ArPXQtdGhpcy5wcm9wcy5zY3JvbGxUb3BNaW4pLHRoaXMucHJvcHMuc2Nyb2xsVG9wTWluPXQpLHRoaXMucHJvcHMuc2Nyb2xsVG9wPjAmJih0aGlzLnByb3BzLnNjcm9sbFRvcD0wKSx0aGlzLnByb3BzLnNjcm9sbFRvcDx0JiYodGhpcy5wcm9wcy5zY3JvbGxUb3A9dCksdGhpcy5wcm9wcy5zY3JvbGxUb3B9LG8ucHJvdG90eXBlLl9nZXRTY3JvbGxUb3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wcy5zY3JvbGxUb3B9LG8ucHJvdG90eXBlLl9jcmVhdGVDb25maWd1cmF0b3I9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgaW52b2tlIGFic3RyYWN0IG1ldGhvZCBfY3JlYXRlQ29uZmlndXJhdG9yXCIpfSx0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCxlKXt0aGlzLmJvZHk9dCx0aGlzLmRlZmF1bHRPcHRpb25zPXt0eXBlOm51bGwsb3JpZW50YXRpb246e2l0ZW06XCJib3R0b21cIn0sYWxpZ246XCJhdXRvXCIsc3RhY2s6ITAsZ3JvdXBPcmRlclN3YXA6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPWUub3JkZXI7ZS5vcmRlcj10Lm9yZGVyLHQub3JkZXI9b30sZ3JvdXBPcmRlcjpcIm9yZGVyXCIsc2VsZWN0YWJsZTohMCxtdWx0aXNlbGVjdDohMSxpdGVtc0Fsd2F5c0RyYWdnYWJsZTohMSxlZGl0YWJsZTp7dXBkYXRlVGltZTohMSx1cGRhdGVHcm91cDohMSxhZGQ6ITEscmVtb3ZlOiExfSxncm91cEVkaXRhYmxlOntvcmRlcjohMSxhZGQ6ITEscmVtb3ZlOiExfSxzbmFwOmguc25hcCxvbkFkZDpmdW5jdGlvbih0LGUpe2UodCl9LG9uVXBkYXRlOmZ1bmN0aW9uKHQsZSl7ZSh0KX0sb25Nb3ZlOmZ1bmN0aW9uKHQsZSl7ZSh0KX0sb25SZW1vdmU6ZnVuY3Rpb24odCxlKXtlKHQpfSxvbk1vdmluZzpmdW5jdGlvbih0LGUpe2UodCl9LG9uQWRkR3JvdXA6ZnVuY3Rpb24odCxlKXtlKHQpfSxvbk1vdmVHcm91cDpmdW5jdGlvbih0LGUpe2UodCl9LG9uUmVtb3ZlR3JvdXA6ZnVuY3Rpb24odCxlKXtlKHQpfSxtYXJnaW46e2l0ZW06e2hvcml6b250YWw6MTAsdmVydGljYWw6MTB9LGF4aXM6MjB9fSx0aGlzLm9wdGlvbnM9cy5leHRlbmQoe30sdGhpcy5kZWZhdWx0T3B0aW9ucyksdGhpcy5pdGVtT3B0aW9ucz17dHlwZTp7c3RhcnQ6XCJEYXRlXCIsZW5kOlwiRGF0ZVwifX0sdGhpcy5jb252ZXJzaW9uPXt0b1NjcmVlbjp0LnV0aWwudG9TY3JlZW4sdG9UaW1lOnQudXRpbC50b1RpbWV9LHRoaXMuZG9tPXt9LHRoaXMucHJvcHM9e30sdGhpcy5oYW1tZXI9bnVsbDt2YXIgaT10aGlzO3RoaXMuaXRlbXNEYXRhPW51bGwsdGhpcy5ncm91cHNEYXRhPW51bGwsdGhpcy5pdGVtTGlzdGVuZXJzPXthZGQ6ZnVuY3Rpb24odCxlLG8pe2kuX29uQWRkKGUuaXRlbXMpfSx1cGRhdGU6ZnVuY3Rpb24odCxlLG8pe2kuX29uVXBkYXRlKGUuaXRlbXMpfSxyZW1vdmU6ZnVuY3Rpb24odCxlLG8pe2kuX29uUmVtb3ZlKGUuaXRlbXMpfX0sdGhpcy5ncm91cExpc3RlbmVycz17YWRkOmZ1bmN0aW9uKHQsZSxvKXtpLl9vbkFkZEdyb3VwcyhlLml0ZW1zKX0sdXBkYXRlOmZ1bmN0aW9uKHQsZSxvKXtpLl9vblVwZGF0ZUdyb3VwcyhlLml0ZW1zKX0scmVtb3ZlOmZ1bmN0aW9uKHQsZSxvKXtpLl9vblJlbW92ZUdyb3VwcyhlLml0ZW1zKX19LHRoaXMuaXRlbXM9e30sdGhpcy5ncm91cHM9e30sdGhpcy5ncm91cElkcz1bXSx0aGlzLnNlbGVjdGlvbj1bXSx0aGlzLnN0YWNrRGlydHk9ITAsdGhpcy50b3VjaFBhcmFtcz17fSx0aGlzLmdyb3VwVG91Y2hQYXJhbXM9e30sdGhpcy5fY3JlYXRlKCksdGhpcy5zZXRPcHRpb25zKGUpfXZhciBuPWkoMjApLHM9aSgxKSxyPWkoOCksYT1pKDEwKSxoPWkoMzApLGQ9aSgyNiksbD1pKDMxKSx1PWkoMzUpLGM9aSgzNikscD1pKDM3KSxmPWkoMzMpLG09aSgzOCksdj1cIl9fdW5ncm91cGVkX19cIixnPVwiX19iYWNrZ3JvdW5kX19cIjtvLnByb3RvdHlwZT1uZXcgZCxvLnR5cGVzPXtiYWNrZ3JvdW5kOm0sYm94OmMscmFuZ2U6Zixwb2ludDpwfSxvLnByb3RvdHlwZS5fY3JlYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0LmNsYXNzTmFtZT1cInZpcy1pdGVtc2V0XCIsdFtcInRpbWVsaW5lLWl0ZW1zZXRcIl09dGhpcyx0aGlzLmRvbS5mcmFtZT10O3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5jbGFzc05hbWU9XCJ2aXMtYmFja2dyb3VuZFwiLHQuYXBwZW5kQ2hpbGQoZSksdGhpcy5kb20uYmFja2dyb3VuZD1lO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aS5jbGFzc05hbWU9XCJ2aXMtZm9yZWdyb3VuZFwiLHQuYXBwZW5kQ2hpbGQoaSksdGhpcy5kb20uZm9yZWdyb3VuZD1pO3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7by5jbGFzc05hbWU9XCJ2aXMtYXhpc1wiLHRoaXMuZG9tLmF4aXM9bzt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3MuY2xhc3NOYW1lPVwidmlzLWxhYmVsc2V0XCIsdGhpcy5kb20ubGFiZWxTZXQ9cyx0aGlzLl91cGRhdGVVbmdyb3VwZWQoKTt2YXIgcj1uZXcgdShnLG51bGwsdGhpcyk7ci5zaG93KCksdGhpcy5ncm91cHNbZ109cix0aGlzLmhhbW1lcj1uZXcgbih0aGlzLmJvZHkuZG9tLmNlbnRlckNvbnRhaW5lciksdGhpcy5oYW1tZXIub24oXCJoYW1tZXIuaW5wdXRcIixmdW5jdGlvbih0KXt0LmlzRmlyc3QmJnRoaXMuX29uVG91Y2godCl9LmJpbmQodGhpcykpLHRoaXMuaGFtbWVyLm9uKFwicGFuc3RhcnRcIix0aGlzLl9vbkRyYWdTdGFydC5iaW5kKHRoaXMpKSx0aGlzLmhhbW1lci5vbihcInBhbm1vdmVcIix0aGlzLl9vbkRyYWcuYmluZCh0aGlzKSksdGhpcy5oYW1tZXIub24oXCJwYW5lbmRcIix0aGlzLl9vbkRyYWdFbmQuYmluZCh0aGlzKSksdGhpcy5oYW1tZXIuZ2V0KFwicGFuXCIpLnNldCh7dGhyZXNob2xkOjUsZGlyZWN0aW9uOjMwfSksdGhpcy5oYW1tZXIub24oXCJ0YXBcIix0aGlzLl9vblNlbGVjdEl0ZW0uYmluZCh0aGlzKSksdGhpcy5oYW1tZXIub24oXCJwcmVzc1wiLHRoaXMuX29uTXVsdGlTZWxlY3RJdGVtLmJpbmQodGhpcykpLHRoaXMuaGFtbWVyLm9uKFwiZG91YmxldGFwXCIsdGhpcy5fb25BZGRJdGVtLmJpbmQodGhpcykpLHRoaXMuZ3JvdXBIYW1tZXI9bmV3IG4odGhpcy5ib2R5LmRvbS5sZWZ0Q29udGFpbmVyKSx0aGlzLmdyb3VwSGFtbWVyLm9uKFwicGFuc3RhcnRcIix0aGlzLl9vbkdyb3VwRHJhZ1N0YXJ0LmJpbmQodGhpcykpLHRoaXMuZ3JvdXBIYW1tZXIub24oXCJwYW5tb3ZlXCIsdGhpcy5fb25Hcm91cERyYWcuYmluZCh0aGlzKSksdGhpcy5ncm91cEhhbW1lci5vbihcInBhbmVuZFwiLHRoaXMuX29uR3JvdXBEcmFnRW5kLmJpbmQodGhpcykpLHRoaXMuZ3JvdXBIYW1tZXIuZ2V0KFwicGFuXCIpLnNldCh7dGhyZXNob2xkOjUsZGlyZWN0aW9uOjMwfSksdGhpcy5zaG93KCl9LG8ucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24odCl7aWYodCl7dmFyIGU9W1widHlwZVwiLFwiYWxpZ25cIixcIm9yZGVyXCIsXCJzdGFja1wiLFwic2VsZWN0YWJsZVwiLFwibXVsdGlzZWxlY3RcIixcIml0ZW1zQWx3YXlzRHJhZ2dhYmxlXCIsXCJtdWx0aXNlbGVjdFBlckdyb3VwXCIsXCJncm91cE9yZGVyXCIsXCJkYXRhQXR0cmlidXRlc1wiLFwidGVtcGxhdGVcIixcImdyb3VwVGVtcGxhdGVcIixcImhpZGVcIixcInNuYXBcIixcImdyb3VwT3JkZXJTd2FwXCJdO3Muc2VsZWN0aXZlRXh0ZW5kKGUsdGhpcy5vcHRpb25zLHQpLFwib3JpZW50YXRpb25cImluIHQmJihcInN0cmluZ1wiPT10eXBlb2YgdC5vcmllbnRhdGlvbj90aGlzLm9wdGlvbnMub3JpZW50YXRpb24uaXRlbT1cInRvcFwiPT09dC5vcmllbnRhdGlvbj9cInRvcFwiOlwiYm90dG9tXCI6XCJvYmplY3RcIj09dHlwZW9mIHQub3JpZW50YXRpb24mJlwiaXRlbVwiaW4gdC5vcmllbnRhdGlvbiYmKHRoaXMub3B0aW9ucy5vcmllbnRhdGlvbi5pdGVtPXQub3JpZW50YXRpb24uaXRlbSkpLFwibWFyZ2luXCJpbiB0JiYoXCJudW1iZXJcIj09dHlwZW9mIHQubWFyZ2luPyh0aGlzLm9wdGlvbnMubWFyZ2luLmF4aXM9dC5tYXJnaW4sdGhpcy5vcHRpb25zLm1hcmdpbi5pdGVtLmhvcml6b250YWw9dC5tYXJnaW4sdGhpcy5vcHRpb25zLm1hcmdpbi5pdGVtLnZlcnRpY2FsPXQubWFyZ2luKTpcIm9iamVjdFwiPT10eXBlb2YgdC5tYXJnaW4mJihzLnNlbGVjdGl2ZUV4dGVuZChbXCJheGlzXCJdLHRoaXMub3B0aW9ucy5tYXJnaW4sdC5tYXJnaW4pLFwiaXRlbVwiaW4gdC5tYXJnaW4mJihcIm51bWJlclwiPT10eXBlb2YgdC5tYXJnaW4uaXRlbT8odGhpcy5vcHRpb25zLm1hcmdpbi5pdGVtLmhvcml6b250YWw9dC5tYXJnaW4uaXRlbSx0aGlzLm9wdGlvbnMubWFyZ2luLml0ZW0udmVydGljYWw9dC5tYXJnaW4uaXRlbSk6XCJvYmplY3RcIj09dHlwZW9mIHQubWFyZ2luLml0ZW0mJnMuc2VsZWN0aXZlRXh0ZW5kKFtcImhvcml6b250YWxcIixcInZlcnRpY2FsXCJdLHRoaXMub3B0aW9ucy5tYXJnaW4uaXRlbSx0Lm1hcmdpbi5pdGVtKSkpKSxcImVkaXRhYmxlXCJpbiB0JiYoXCJib29sZWFuXCI9PXR5cGVvZiB0LmVkaXRhYmxlPyh0aGlzLm9wdGlvbnMuZWRpdGFibGUudXBkYXRlVGltZT10LmVkaXRhYmxlLHRoaXMub3B0aW9ucy5lZGl0YWJsZS51cGRhdGVHcm91cD10LmVkaXRhYmxlLHRoaXMub3B0aW9ucy5lZGl0YWJsZS5hZGQ9dC5lZGl0YWJsZSx0aGlzLm9wdGlvbnMuZWRpdGFibGUucmVtb3ZlPXQuZWRpdGFibGUpOlwib2JqZWN0XCI9PXR5cGVvZiB0LmVkaXRhYmxlJiZzLnNlbGVjdGl2ZUV4dGVuZChbXCJ1cGRhdGVUaW1lXCIsXCJ1cGRhdGVHcm91cFwiLFwiYWRkXCIsXCJyZW1vdmVcIl0sdGhpcy5vcHRpb25zLmVkaXRhYmxlLHQuZWRpdGFibGUpKSxcImdyb3VwRWRpdGFibGVcImluIHQmJihcImJvb2xlYW5cIj09dHlwZW9mIHQuZ3JvdXBFZGl0YWJsZT8odGhpcy5vcHRpb25zLmdyb3VwRWRpdGFibGUub3JkZXI9dC5ncm91cEVkaXRhYmxlLHRoaXMub3B0aW9ucy5ncm91cEVkaXRhYmxlLmFkZD10Lmdyb3VwRWRpdGFibGUsdGhpcy5vcHRpb25zLmdyb3VwRWRpdGFibGUucmVtb3ZlPXQuZ3JvdXBFZGl0YWJsZSk6XCJvYmplY3RcIj09dHlwZW9mIHQuZ3JvdXBFZGl0YWJsZSYmcy5zZWxlY3RpdmVFeHRlbmQoW1wib3JkZXJcIixcImFkZFwiLFwicmVtb3ZlXCJdLHRoaXMub3B0aW9ucy5ncm91cEVkaXRhYmxlLHQuZ3JvdXBFZGl0YWJsZSkpO3ZhciBpPWZ1bmN0aW9uKGUpe3ZhciBpPXRbZV07aWYoaSl7aWYoIShpIGluc3RhbmNlb2YgRnVuY3Rpb24pKXRocm93IG5ldyBFcnJvcihcIm9wdGlvbiBcIitlK1wiIG11c3QgYmUgYSBmdW5jdGlvbiBcIitlK1wiKGl0ZW0sIGNhbGxiYWNrKVwiKTt0aGlzLm9wdGlvbnNbZV09aX19LmJpbmQodGhpcyk7W1wib25BZGRcIixcIm9uVXBkYXRlXCIsXCJvblJlbW92ZVwiLFwib25Nb3ZlXCIsXCJvbk1vdmluZ1wiLFwib25BZGRHcm91cFwiLFwib25Nb3ZlR3JvdXBcIixcIm9uUmVtb3ZlR3JvdXBcIl0uZm9yRWFjaChpKSx0aGlzLm1hcmtEaXJ0eSgpfX0sby5wcm90b3R5cGUubWFya0RpcnR5PWZ1bmN0aW9uKHQpe3RoaXMuZ3JvdXBJZHM9W10sdGhpcy5zdGFja0RpcnR5PSEwLHQmJnQucmVmcmVzaEl0ZW1zJiZzLmZvckVhY2godGhpcy5pdGVtcyxmdW5jdGlvbih0KXt0LmRpcnR5PSEwLHQuZGlzcGxheWVkJiZ0LnJlZHJhdygpfSl9LG8ucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmhpZGUoKSx0aGlzLnNldEl0ZW1zKG51bGwpLHRoaXMuc2V0R3JvdXBzKG51bGwpLHRoaXMuaGFtbWVyPW51bGwsdGhpcy5ib2R5PW51bGwsdGhpcy5jb252ZXJzaW9uPW51bGx9LG8ucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLmRvbS5mcmFtZS5wYXJlbnROb2RlJiZ0aGlzLmRvbS5mcmFtZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZG9tLmZyYW1lKSx0aGlzLmRvbS5heGlzLnBhcmVudE5vZGUmJnRoaXMuZG9tLmF4aXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRvbS5heGlzKSx0aGlzLmRvbS5sYWJlbFNldC5wYXJlbnROb2RlJiZ0aGlzLmRvbS5sYWJlbFNldC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZG9tLmxhYmVsU2V0KX0sby5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3RoaXMuZG9tLmZyYW1lLnBhcmVudE5vZGV8fHRoaXMuYm9keS5kb20uY2VudGVyLmFwcGVuZENoaWxkKHRoaXMuZG9tLmZyYW1lKSx0aGlzLmRvbS5heGlzLnBhcmVudE5vZGV8fHRoaXMuYm9keS5kb20uYmFja2dyb3VuZFZlcnRpY2FsLmFwcGVuZENoaWxkKHRoaXMuZG9tLmF4aXMpLHRoaXMuZG9tLmxhYmVsU2V0LnBhcmVudE5vZGV8fHRoaXMuYm9keS5kb20ubGVmdC5hcHBlbmRDaGlsZCh0aGlzLmRvbS5sYWJlbFNldCl9LG8ucHJvdG90eXBlLnNldFNlbGVjdGlvbj1mdW5jdGlvbih0KXt2YXIgZSxpLG8sbjtmb3Iodm9pZCAwPT10JiYodD1bXSksQXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKSxlPTAsaT10aGlzLnNlbGVjdGlvbi5sZW5ndGg7aT5lO2UrKylvPXRoaXMuc2VsZWN0aW9uW2VdLG49dGhpcy5pdGVtc1tvXSxuJiZuLnVuc2VsZWN0KCk7Zm9yKHRoaXMuc2VsZWN0aW9uPVtdLGU9MCxpPXQubGVuZ3RoO2k+ZTtlKyspbz10W2VdLG49dGhpcy5pdGVtc1tvXSxuJiYodGhpcy5zZWxlY3Rpb24ucHVzaChvKSxuLnNlbGVjdCgpKX0sby5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uLmNvbmNhdChbXSl9LG8ucHJvdG90eXBlLmdldFZpc2libGVJdGVtcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYm9keS5yYW5nZS5nZXRSYW5nZSgpLGU9dGhpcy5ib2R5LnV0aWwudG9TY3JlZW4odC5zdGFydCksaT10aGlzLmJvZHkudXRpbC50b1NjcmVlbih0LmVuZCksbz1bXTtmb3IodmFyIG4gaW4gdGhpcy5ncm91cHMpaWYodGhpcy5ncm91cHMuaGFzT3duUHJvcGVydHkobikpZm9yKHZhciBzPXRoaXMuZ3JvdXBzW25dLHI9cy52aXNpYmxlSXRlbXMsYT0wO2E8ci5sZW5ndGg7YSsrKXt2YXIgaD1yW2FdO2gubGVmdDxpJiZoLmxlZnQraC53aWR0aD5lJiZvLnB1c2goaC5pZCl9cmV0dXJuIG99LG8ucHJvdG90eXBlLl9kZXNlbGVjdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5zZWxlY3Rpb24saT0wLG89ZS5sZW5ndGg7bz5pO2krKylpZihlW2ldPT10KXtlLnNwbGljZShpLDEpO2JyZWFrfX0sby5wcm90b3R5cGUucmVkcmF3PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLm1hcmdpbixlPXRoaXMuYm9keS5yYW5nZSxpPXMub3B0aW9uLmFzU2l6ZSxvPXRoaXMub3B0aW9ucyxuPW8ub3JpZW50YXRpb24uaXRlbSxyPSExLGE9dGhpcy5kb20uZnJhbWU7dGhpcy5wcm9wcy50b3A9dGhpcy5ib2R5LmRvbVByb3BzLnRvcC5oZWlnaHQrdGhpcy5ib2R5LmRvbVByb3BzLmJvcmRlci50b3AsdGhpcy5wcm9wcy5sZWZ0PXRoaXMuYm9keS5kb21Qcm9wcy5sZWZ0LndpZHRoK3RoaXMuYm9keS5kb21Qcm9wcy5ib3JkZXIubGVmdCxhLmNsYXNzTmFtZT1cInZpcy1pdGVtc2V0XCIscj10aGlzLl9vcmRlckdyb3VwcygpfHxyO3ZhciBoPWUuZW5kLWUuc3RhcnQsZD1oIT10aGlzLmxhc3RWaXNpYmxlSW50ZXJ2YWx8fHRoaXMucHJvcHMud2lkdGghPXRoaXMucHJvcHMubGFzdFdpZHRoO2QmJih0aGlzLnN0YWNrRGlydHk9ITApLHRoaXMubGFzdFZpc2libGVJbnRlcnZhbD1oLHRoaXMucHJvcHMubGFzdFdpZHRoPXRoaXMucHJvcHMud2lkdGg7dmFyIGw9dGhpcy5zdGFja0RpcnR5LHU9dGhpcy5fZmlyc3RHcm91cCgpLGM9e2l0ZW06dC5pdGVtLGF4aXM6dC5heGlzfSxwPXtpdGVtOnQuaXRlbSxheGlzOnQuaXRlbS52ZXJ0aWNhbC8yfSxmPTAsbT10LmF4aXMrdC5pdGVtLnZlcnRpY2FsO3JldHVybiB0aGlzLmdyb3Vwc1tnXS5yZWRyYXcoZSxwLGwpLHMuZm9yRWFjaCh0aGlzLmdyb3VwcyxmdW5jdGlvbih0KXt2YXIgaT10PT11P2M6cCxvPXQucmVkcmF3KGUsaSxsKTtyPW98fHIsZis9dC5oZWlnaHR9KSxmPU1hdGgubWF4KGYsbSksdGhpcy5zdGFja0RpcnR5PSExLGEuc3R5bGUuaGVpZ2h0PWkoZiksdGhpcy5wcm9wcy53aWR0aD1hLm9mZnNldFdpZHRoLHRoaXMucHJvcHMuaGVpZ2h0PWYsdGhpcy5kb20uYXhpcy5zdHlsZS50b3A9aShcInRvcFwiPT1uP3RoaXMuYm9keS5kb21Qcm9wcy50b3AuaGVpZ2h0K3RoaXMuYm9keS5kb21Qcm9wcy5ib3JkZXIudG9wOnRoaXMuYm9keS5kb21Qcm9wcy50b3AuaGVpZ2h0K3RoaXMuYm9keS5kb21Qcm9wcy5jZW50ZXJDb250YWluZXIuaGVpZ2h0KSx0aGlzLmRvbS5heGlzLnN0eWxlLmxlZnQ9XCIwXCIscj10aGlzLl9pc1Jlc2l6ZWQoKXx8cn0sby5wcm90b3R5cGUuX2ZpcnN0R3JvdXA9ZnVuY3Rpb24oKXt2YXIgdD1cInRvcFwiPT10aGlzLm9wdGlvbnMub3JpZW50YXRpb24uaXRlbT8wOnRoaXMuZ3JvdXBJZHMubGVuZ3RoLTEsZT10aGlzLmdyb3VwSWRzW3RdLGk9dGhpcy5ncm91cHNbZV18fHRoaXMuZ3JvdXBzW3ZdO3JldHVybiBpfHxudWxsfSxvLnByb3RvdHlwZS5fdXBkYXRlVW5ncm91cGVkPWZ1bmN0aW9uKCl7dmFyIHQsZSxpPXRoaXMuZ3JvdXBzW3ZdO3RoaXMuZ3JvdXBzW2ddO2lmKHRoaXMuZ3JvdXBzRGF0YSl7aWYoaSl7aS5oaWRlKCksZGVsZXRlIHRoaXMuZ3JvdXBzW3ZdO2ZvcihlIGluIHRoaXMuaXRlbXMpaWYodGhpcy5pdGVtcy5oYXNPd25Qcm9wZXJ0eShlKSl7dD10aGlzLml0ZW1zW2VdLHQucGFyZW50JiZ0LnBhcmVudC5yZW1vdmUodCk7dmFyIG89dGhpcy5fZ2V0R3JvdXBJZCh0LmRhdGEpLG49dGhpcy5ncm91cHNbb107biYmbi5hZGQodCl8fHQuaGlkZSgpfX19ZWxzZSBpZighaSl7dmFyIHM9bnVsbCxyPW51bGw7aT1uZXcgbChzLHIsdGhpcyksdGhpcy5ncm91cHNbdl09aTtmb3IoZSBpbiB0aGlzLml0ZW1zKXRoaXMuaXRlbXMuaGFzT3duUHJvcGVydHkoZSkmJih0PXRoaXMuaXRlbXNbZV0saS5hZGQodCkpO2kuc2hvdygpfX0sby5wcm90b3R5cGUuZ2V0TGFiZWxTZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb20ubGFiZWxTZXR9LG8ucHJvdG90eXBlLnNldEl0ZW1zPWZ1bmN0aW9uKHQpe3ZhciBlLGk9dGhpcyxvPXRoaXMuaXRlbXNEYXRhO2lmKHQpe2lmKCEodCBpbnN0YW5jZW9mIHJ8fHQgaW5zdGFuY2VvZiBhKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGF0YSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIERhdGFTZXQgb3IgRGF0YVZpZXdcIik7dGhpcy5pdGVtc0RhdGE9dH1lbHNlIHRoaXMuaXRlbXNEYXRhPW51bGw7aWYobyYmKHMuZm9yRWFjaCh0aGlzLml0ZW1MaXN0ZW5lcnMsZnVuY3Rpb24odCxlKXtvLm9mZihlLHQpfSksZT1vLmdldElkcygpLHRoaXMuX29uUmVtb3ZlKGUpKSx0aGlzLml0ZW1zRGF0YSl7dmFyIG49dGhpcy5pZDtzLmZvckVhY2godGhpcy5pdGVtTGlzdGVuZXJzLGZ1bmN0aW9uKHQsZSl7aS5pdGVtc0RhdGEub24oZSx0LG4pfSksZT10aGlzLml0ZW1zRGF0YS5nZXRJZHMoKSx0aGlzLl9vbkFkZChlKSx0aGlzLl91cGRhdGVVbmdyb3VwZWQoKX19LG8ucHJvdG90eXBlLmdldEl0ZW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlbXNEYXRhfSxvLnByb3RvdHlwZS5zZXRHcm91cHM9ZnVuY3Rpb24odCl7dmFyIGUsaT10aGlzO2lmKHRoaXMuZ3JvdXBzRGF0YSYmKHMuZm9yRWFjaCh0aGlzLmdyb3VwTGlzdGVuZXJzLGZ1bmN0aW9uKHQsZSl7aS5ncm91cHNEYXRhLm9mZihlLHQpfSksZT10aGlzLmdyb3Vwc0RhdGEuZ2V0SWRzKCksdGhpcy5ncm91cHNEYXRhPW51bGwsdGhpcy5fb25SZW1vdmVHcm91cHMoZSkpLHQpe2lmKCEodCBpbnN0YW5jZW9mIHJ8fHQgaW5zdGFuY2VvZiBhKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGF0YSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIERhdGFTZXQgb3IgRGF0YVZpZXdcIik7dGhpcy5ncm91cHNEYXRhPXR9ZWxzZSB0aGlzLmdyb3Vwc0RhdGE9bnVsbDtpZih0aGlzLmdyb3Vwc0RhdGEpe3ZhciBvPXRoaXMuaWQ7cy5mb3JFYWNoKHRoaXMuZ3JvdXBMaXN0ZW5lcnMsZnVuY3Rpb24odCxlKXtpLmdyb3Vwc0RhdGEub24oZSx0LG8pfSksZT10aGlzLmdyb3Vwc0RhdGEuZ2V0SWRzKCksdGhpcy5fb25BZGRHcm91cHMoZSl9dGhpcy5fdXBkYXRlVW5ncm91cGVkKCksdGhpcy5fb3JkZXIoKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiY2hhbmdlXCIse3F1ZXVlOiEwfSl9LG8ucHJvdG90eXBlLmdldEdyb3Vwcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdyb3Vwc0RhdGF9LG8ucHJvdG90eXBlLnJlbW92ZUl0ZW09ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pdGVtc0RhdGEuZ2V0KHQpLGk9dGhpcy5pdGVtc0RhdGEuZ2V0RGF0YVNldCgpO2UmJnRoaXMub3B0aW9ucy5vblJlbW92ZShlLGZ1bmN0aW9uKGUpe2UmJmkucmVtb3ZlKHQpfSl9LG8ucHJvdG90eXBlLl9nZXRUeXBlPWZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGV8fHRoaXMub3B0aW9ucy50eXBlfHwodC5lbmQ/XCJyYW5nZVwiOlwiYm94XCIpfSxvLnByb3RvdHlwZS5fZ2V0R3JvdXBJZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9nZXRUeXBlKHQpO3JldHVyblwiYmFja2dyb3VuZFwiPT1lJiZ2b2lkIDA9PXQuZ3JvdXA/Zzp0aGlzLmdyb3Vwc0RhdGE/dC5ncm91cDp2fSxvLnByb3RvdHlwZS5fb25VcGRhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0LmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGksbj1lLml0ZW1zRGF0YS5nZXQodCxlLml0ZW1PcHRpb25zKSxzPWUuaXRlbXNbdF0scj1lLl9nZXRUeXBlKG4pLGE9by50eXBlc1tyXTtpZihzJiYoYSYmcyBpbnN0YW5jZW9mIGE/ZS5fdXBkYXRlSXRlbShzLG4pOihpPXMuc2VsZWN0ZWQsZS5fcmVtb3ZlSXRlbShzKSxzPW51bGwpKSwhcyl7aWYoIWEpdGhyb3dcInJhbmdlb3ZlcmZsb3dcIj09cj9uZXcgVHlwZUVycm9yKCdJdGVtIHR5cGUgXCJyYW5nZW92ZXJmbG93XCIgaXMgZGVwcmVjYXRlZC4gVXNlIGNzcyBzdHlsaW5nIGluc3RlYWQ6IC52aXMtaXRlbS52aXMtcmFuZ2UgLnZpcy1pdGVtLWNvbnRlbnQge292ZXJmbG93OiB2aXNpYmxlO30nKTpuZXcgVHlwZUVycm9yKCdVbmtub3duIGl0ZW0gdHlwZSBcIicrcisnXCInKTtzPW5ldyBhKG4sZS5jb252ZXJzaW9uLGUub3B0aW9ucykscy5pZD10LGUuX2FkZEl0ZW0ocyksaSYmKHRoaXMuc2VsZWN0aW9uLnB1c2godCkscy5zZWxlY3QoKSl9fS5iaW5kKHRoaXMpKSx0aGlzLl9vcmRlcigpLHRoaXMuc3RhY2tEaXJ0eT0hMCx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiY2hhbmdlXCIse3F1ZXVlOiEwfSl9LG8ucHJvdG90eXBlLl9vbkFkZD1vLnByb3RvdHlwZS5fb25VcGRhdGUsby5wcm90b3R5cGUuX29uUmVtb3ZlPWZ1bmN0aW9uKHQpe3ZhciBlPTAsaT10aGlzO3QuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbz1pLml0ZW1zW3RdO28mJihlKyssaS5fcmVtb3ZlSXRlbShvKSl9KSxlJiYodGhpcy5fb3JkZXIoKSx0aGlzLnN0YWNrRGlydHk9ITAsdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcImNoYW5nZVwiLHtxdWV1ZTohMH0pKX0sby5wcm90b3R5cGUuX29yZGVyPWZ1bmN0aW9uKCl7cy5mb3JFYWNoKHRoaXMuZ3JvdXBzLGZ1bmN0aW9uKHQpe3Qub3JkZXIoKX0pfSxvLnByb3RvdHlwZS5fb25VcGRhdGVHcm91cHM9ZnVuY3Rpb24odCl7dGhpcy5fb25BZGRHcm91cHModCl9LG8ucHJvdG90eXBlLl9vbkFkZEdyb3Vwcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3QuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgaT1lLmdyb3Vwc0RhdGEuZ2V0KHQpLG89ZS5ncm91cHNbdF07aWYobylvLnNldERhdGEoaSk7ZWxzZXtpZih0PT12fHx0PT1nKXRocm93IG5ldyBFcnJvcihcIklsbGVnYWwgZ3JvdXAgaWQuIFwiK3QrXCIgaXMgYSByZXNlcnZlZCBpZC5cIik7dmFyIG49T2JqZWN0LmNyZWF0ZShlLm9wdGlvbnMpO3MuZXh0ZW5kKG4se2hlaWdodDpudWxsfSksbz1uZXcgbCh0LGksZSksZS5ncm91cHNbdF09bztmb3IodmFyIHIgaW4gZS5pdGVtcylpZihlLml0ZW1zLmhhc093blByb3BlcnR5KHIpKXt2YXIgYT1lLml0ZW1zW3JdO2EuZGF0YS5ncm91cD09dCYmby5hZGQoYSl9by5vcmRlcigpLG8uc2hvdygpfX0pLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJjaGFuZ2VcIix7cXVldWU6ITB9KX0sby5wcm90b3R5cGUuX29uUmVtb3ZlR3JvdXBzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ3JvdXBzO3QuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgaT1lW3RdO2kmJihpLmhpZGUoKSxkZWxldGUgZVt0XSl9KSx0aGlzLm1hcmtEaXJ0eSgpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJjaGFuZ2VcIix7cXVldWU6ITB9KX0sby5wcm90b3R5cGUuX29yZGVyR3JvdXBzPWZ1bmN0aW9uKCl7aWYodGhpcy5ncm91cHNEYXRhKXt2YXIgdD10aGlzLmdyb3Vwc0RhdGEuZ2V0SWRzKHtvcmRlcjp0aGlzLm9wdGlvbnMuZ3JvdXBPcmRlcn0pLGU9IXMuZXF1YWxBcnJheSh0LHRoaXMuZ3JvdXBJZHMpO2lmKGUpe3ZhciBpPXRoaXMuZ3JvdXBzO3QuZm9yRWFjaChmdW5jdGlvbih0KXtpW3RdLmhpZGUoKX0pLHQuZm9yRWFjaChmdW5jdGlvbih0KXtpW3RdLnNob3coKX0pLHRoaXMuZ3JvdXBJZHM9dH1yZXR1cm4gZX1yZXR1cm4hMX0sby5wcm90b3R5cGUuX2FkZEl0ZW09ZnVuY3Rpb24odCl7dGhpcy5pdGVtc1t0LmlkXT10O3ZhciBlPXRoaXMuX2dldEdyb3VwSWQodC5kYXRhKSxpPXRoaXMuZ3JvdXBzW2VdO2kmJmkuYWRkKHQpfSxvLnByb3RvdHlwZS5fdXBkYXRlSXRlbT1mdW5jdGlvbih0LGUpe3ZhciBpPXQuZGF0YS5ncm91cCxvPXQuZGF0YS5zdWJncm91cDtpZih0LnNldERhdGEoZSksaSE9dC5kYXRhLmdyb3VwfHxvIT10LmRhdGEuc3ViZ3JvdXApe3ZhciBuPXRoaXMuZ3JvdXBzW2ldO24mJm4ucmVtb3ZlKHQpO3ZhciBzPXRoaXMuX2dldEdyb3VwSWQodC5kYXRhKSxyPXRoaXMuZ3JvdXBzW3NdO3ImJnIuYWRkKHQpfX0sby5wcm90b3R5cGUuX3JlbW92ZUl0ZW09ZnVuY3Rpb24odCl7dC5oaWRlKCksZGVsZXRlIHRoaXMuaXRlbXNbdC5pZF07dmFyIGU9dGhpcy5zZWxlY3Rpb24uaW5kZXhPZih0LmlkKTstMSE9ZSYmdGhpcy5zZWxlY3Rpb24uc3BsaWNlKGUsMSksdC5wYXJlbnQmJnQucGFyZW50LnJlbW92ZSh0KX0sby5wcm90b3R5cGUuX2NvbnN0cnVjdEJ5RW5kQXJyYXk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLGk9MDtpPHQubGVuZ3RoO2krKyl0W2ldaW5zdGFuY2VvZiBmJiZlLnB1c2godFtpXSk7cmV0dXJuIGV9LG8ucHJvdG90eXBlLl9vblRvdWNoPWZ1bmN0aW9uKHQpe3RoaXMudG91Y2hQYXJhbXMuaXRlbT10aGlzLml0ZW1Gcm9tVGFyZ2V0KHQpLHRoaXMudG91Y2hQYXJhbXMuZHJhZ0xlZnRJdGVtPXQudGFyZ2V0LmRyYWdMZWZ0SXRlbXx8ITEsdGhpcy50b3VjaFBhcmFtcy5kcmFnUmlnaHRJdGVtPXQudGFyZ2V0LmRyYWdSaWdodEl0ZW18fCExLHRoaXMudG91Y2hQYXJhbXMuaXRlbVByb3BzPW51bGx9LG8ucHJvdG90eXBlLl9nZXRHcm91cEluZGV4PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5ncm91cElkcy5sZW5ndGg7ZSsrKWlmKHQ9PXRoaXMuZ3JvdXBJZHNbZV0pcmV0dXJuIGV9LG8ucHJvdG90eXBlLl9vbkRyYWdTdGFydD1mdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMudG91Y2hQYXJhbXMuaXRlbXx8bnVsbCxvPXRoaXM7aWYoaSYmKGkuc2VsZWN0ZWR8fHRoaXMub3B0aW9ucy5pdGVtc0Fsd2F5c0RyYWdnYWJsZSkpe2lmKCF0aGlzLm9wdGlvbnMuZWRpdGFibGUudXBkYXRlVGltZSYmIXRoaXMub3B0aW9ucy5lZGl0YWJsZS51cGRhdGVHcm91cCYmIWkuZWRpdGFibGUpcmV0dXJuO2lmKGkuZWRpdGFibGU9PT0hMSlyZXR1cm47dmFyIG49dGhpcy50b3VjaFBhcmFtcy5kcmFnTGVmdEl0ZW0scz10aGlzLnRvdWNoUGFyYW1zLmRyYWdSaWdodEl0ZW07aWYobillPXtpdGVtOm4saW5pdGlhbFg6dC5jZW50ZXIueCxkcmFnTGVmdDohMCxkYXRhOnRoaXMuX2Nsb25lSXRlbURhdGEoaS5kYXRhKX0sdGhpcy50b3VjaFBhcmFtcy5pdGVtUHJvcHM9W2VdO2Vsc2UgaWYocyllPXtpdGVtOnMsaW5pdGlhbFg6dC5jZW50ZXIueCxkcmFnUmlnaHQ6ITAsZGF0YTp0aGlzLl9jbG9uZUl0ZW1EYXRhKGkuZGF0YSl9LHRoaXMudG91Y2hQYXJhbXMuaXRlbVByb3BzPVtlXTtlbHNle3RoaXMudG91Y2hQYXJhbXMuc2VsZWN0ZWRJdGVtPWk7dmFyIHI9dGhpcy5fZ2V0R3JvdXBJbmRleChpLmRhdGEuZ3JvdXApLGE9dGhpcy5vcHRpb25zLml0ZW1zQWx3YXlzRHJhZ2dhYmxlJiYhaS5zZWxlY3RlZD9baS5pZF06dGhpcy5nZXRTZWxlY3Rpb24oKTt0aGlzLnRvdWNoUGFyYW1zLml0ZW1Qcm9wcz1hLm1hcChmdW5jdGlvbihlKXt2YXIgaT1vLml0ZW1zW2VdLG49by5fZ2V0R3JvdXBJbmRleChpLmRhdGEuZ3JvdXApO3JldHVybntpdGVtOmksaW5pdGlhbFg6dC5jZW50ZXIueCxncm91cE9mZnNldDpyLW4sZGF0YTp0aGlzLl9jbG9uZUl0ZW1EYXRhKGkuZGF0YSl9fS5iaW5kKHRoaXMpKX10LnN0b3BQcm9wYWdhdGlvbigpfWVsc2UgdGhpcy5vcHRpb25zLmVkaXRhYmxlLmFkZCYmKHQuc3JjRXZlbnQuY3RybEtleXx8dC5zcmNFdmVudC5tZXRhS2V5KSYmdGhpcy5fb25EcmFnU3RhcnRBZGRJdGVtKHQpfSxvLnByb3RvdHlwZS5fb25EcmFnU3RhcnRBZGRJdGVtPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucy5zbmFwfHxudWxsLGk9cy5nZXRBYnNvbHV0ZUxlZnQodGhpcy5kb20uZnJhbWUpLG89dC5jZW50ZXIueC1pLTEwLG49dGhpcy5ib2R5LnV0aWwudG9UaW1lKG8pLHI9dGhpcy5ib2R5LnV0aWwuZ2V0U2NhbGUoKSxhPXRoaXMuYm9keS51dGlsLmdldFN0ZXAoKSxoPWU/ZShuLHIsYSk6bixkPWgsbD17dHlwZTpcInJhbmdlXCIsc3RhcnQ6aCxlbmQ6ZCxjb250ZW50OlwibmV3IGl0ZW1cIn0sdT1zLnJhbmRvbVVVSUQoKTtsW3RoaXMuaXRlbXNEYXRhLl9maWVsZElkXT11O3ZhciBjPXRoaXMuZ3JvdXBGcm9tVGFyZ2V0KHQpO2MmJihsLmdyb3VwPWMuZ3JvdXBJZCk7dmFyIHA9bmV3IGYobCx0aGlzLmNvbnZlcnNpb24sdGhpcy5vcHRpb25zKTtwLmlkPXUscC5kYXRhPXRoaXMuX2Nsb25lSXRlbURhdGEobCksdGhpcy5fYWRkSXRlbShwKTt2YXIgbT17aXRlbTpwLGRyYWdSaWdodDohMCxpbml0aWFsWDp0LmNlbnRlci54LGRhdGE6cC5kYXRhfTt0aGlzLnRvdWNoUGFyYW1zLml0ZW1Qcm9wcz1bbV0sdC5zdG9wUHJvcGFnYXRpb24oKX0sby5wcm90b3R5cGUuX29uRHJhZz1mdW5jdGlvbih0KXtpZih0aGlzLnRvdWNoUGFyYW1zLml0ZW1Qcm9wcyl7dC5zdG9wUHJvcGFnYXRpb24oKTt2YXIgZT10aGlzLGk9dGhpcy5vcHRpb25zLnNuYXB8fG51bGwsbz10aGlzLmJvZHkuZG9tLnJvb3Qub2Zmc2V0TGVmdCt0aGlzLmJvZHkuZG9tUHJvcHMubGVmdC53aWR0aCxuPXRoaXMuYm9keS51dGlsLmdldFNjYWxlKCkscj10aGlzLmJvZHkudXRpbC5nZXRTdGVwKCksYT10aGlzLnRvdWNoUGFyYW1zLnNlbGVjdGVkSXRlbSxoPWUub3B0aW9ucy5lZGl0YWJsZS51cGRhdGVHcm91cCxkPW51bGw7aWYoaCYmYSYmdm9pZCAwIT1hLmRhdGEuZ3JvdXApe3ZhciBsPWUuZ3JvdXBGcm9tVGFyZ2V0KHQpO2wmJihkPXRoaXMuX2dldEdyb3VwSW5kZXgobC5ncm91cElkKSl9dGhpcy50b3VjaFBhcmFtcy5pdGVtUHJvcHMuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgaD1lLmJvZHkudXRpbC50b1RpbWUodC5jZW50ZXIueC1vKSxsPWUuYm9keS51dGlsLnRvVGltZShhLmluaXRpYWxYLW8pLHU9aC1sLGM9dGhpcy5fY2xvbmVJdGVtRGF0YShhLml0ZW0uZGF0YSk7aWYoYS5pdGVtLmVkaXRhYmxlIT09ITEpe3ZhciBwPWUub3B0aW9ucy5lZGl0YWJsZS51cGRhdGVUaW1lfHxhLml0ZW0uZWRpdGFibGU9PT0hMDtpZihwKWlmKGEuZHJhZ0xlZnQpe2lmKHZvaWQgMCE9Yy5zdGFydCl7dmFyIGY9cy5jb252ZXJ0KGEuZGF0YS5zdGFydCxcIkRhdGVcIiksbT1uZXcgRGF0ZShmLnZhbHVlT2YoKSt1KTtjLnN0YXJ0PWk/aShtLG4scik6bX19ZWxzZSBpZihhLmRyYWdSaWdodCl7aWYodm9pZCAwIT1jLmVuZCl7dmFyIHY9cy5jb252ZXJ0KGEuZGF0YS5lbmQsXCJEYXRlXCIpLGc9bmV3IERhdGUodi52YWx1ZU9mKCkrdSk7Yy5lbmQ9aT9pKGcsbixyKTpnfX1lbHNlIGlmKHZvaWQgMCE9Yy5zdGFydCl7dmFyIGY9cy5jb252ZXJ0KGEuZGF0YS5zdGFydCxcIkRhdGVcIikudmFsdWVPZigpLG09bmV3IERhdGUoZit1KTtpZih2b2lkIDAhPWMuZW5kKXt2YXIgdj1zLmNvbnZlcnQoYS5kYXRhLmVuZCxcIkRhdGVcIikseT12LnZhbHVlT2YoKS1mLnZhbHVlT2YoKTtjLnN0YXJ0PWk/aShtLG4scik6bSxjLmVuZD1uZXcgRGF0ZShjLnN0YXJ0LnZhbHVlT2YoKSt5KX1lbHNlIGMuc3RhcnQ9aT9pKG0sbixyKTptfXZhciBiPWUub3B0aW9ucy5lZGl0YWJsZS51cGRhdGVHcm91cHx8YS5pdGVtLmVkaXRhYmxlPT09ITA7aWYoYiYmIWEuZHJhZ0xlZnQmJiFhLmRyYWdSaWdodCYmbnVsbCE9ZCYmdm9pZCAwIT1jLmdyb3VwKXt2YXIgdz1kLWEuZ3JvdXBPZmZzZXQ7dz1NYXRoLm1heCgwLHcpLHc9TWF0aC5taW4oZS5ncm91cElkcy5sZW5ndGgtMSx3KSxjLmdyb3VwPWUuZ3JvdXBJZHNbd119Yz10aGlzLl9jbG9uZUl0ZW1EYXRhKGMpLGUub3B0aW9ucy5vbk1vdmluZyhjLGZ1bmN0aW9uKHQpe3QmJmEuaXRlbS5zZXREYXRhKHRoaXMuX2Nsb25lSXRlbURhdGEodCxcIkRhdGVcIikpfS5iaW5kKHRoaXMpKX19LmJpbmQodGhpcykpLHRoaXMuc3RhY2tEaXJ0eT0hMCx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiY2hhbmdlXCIpfX0sby5wcm90b3R5cGUuX21vdmVUb0dyb3VwPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5ncm91cHNbZV07aWYoaSYmaS5ncm91cElkIT10LmRhdGEuZ3JvdXApe3ZhciBvPXQucGFyZW50O28ucmVtb3ZlKHQpLG8ub3JkZXIoKSxpLmFkZCh0KSxpLm9yZGVyKCksdC5kYXRhLmdyb3VwPWkuZ3JvdXBJZH19LG8ucHJvdG90eXBlLl9vbkRyYWdFbmQ9ZnVuY3Rpb24odCl7aWYodGhpcy50b3VjaFBhcmFtcy5pdGVtUHJvcHMpe3Quc3RvcFByb3BhZ2F0aW9uKCk7dmFyIGU9dGhpcyxpPXRoaXMuaXRlbXNEYXRhLmdldERhdGFTZXQoKSxvPXRoaXMudG91Y2hQYXJhbXMuaXRlbVByb3BzO3RoaXMudG91Y2hQYXJhbXMuaXRlbVByb3BzPW51bGwsby5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBvPXQuaXRlbS5pZCxuPW51bGwhPWUuaXRlbXNEYXRhLmdldChvLGUuaXRlbU9wdGlvbnMpO2lmKG4pe3ZhciBzPXRoaXMuX2Nsb25lSXRlbURhdGEodC5pdGVtLmRhdGEpO2Uub3B0aW9ucy5vbk1vdmUocyxmdW5jdGlvbihuKXtuPyhuW2kuX2ZpZWxkSWRdPW8saS51cGRhdGUobikpOih0Lml0ZW0uc2V0RGF0YSh0LmRhdGEpLGUuc3RhY2tEaXJ0eT0hMCxlLmJvZHkuZW1pdHRlci5lbWl0KFwiY2hhbmdlXCIpKX0pfWVsc2UgZS5vcHRpb25zLm9uQWRkKHQuaXRlbS5kYXRhLGZ1bmN0aW9uKGkpe2UuX3JlbW92ZUl0ZW0odC5pdGVtKSxpJiZlLml0ZW1zRGF0YS5nZXREYXRhU2V0KCkuYWRkKGkpLGUuc3RhY2tEaXJ0eT0hMCxlLmJvZHkuZW1pdHRlci5lbWl0KFwiY2hhbmdlXCIpfSl9LmJpbmQodGhpcykpfX0sby5wcm90b3R5cGUuX29uR3JvdXBEcmFnU3RhcnQ9ZnVuY3Rpb24odCl7dGhpcy5vcHRpb25zLmdyb3VwRWRpdGFibGUub3JkZXImJih0aGlzLmdyb3VwVG91Y2hQYXJhbXMuZ3JvdXA9dGhpcy5ncm91cEZyb21UYXJnZXQodCksdGhpcy5ncm91cFRvdWNoUGFyYW1zLmdyb3VwJiYodC5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLmdyb3VwVG91Y2hQYXJhbXMub3JpZ2luYWxPcmRlcj10aGlzLmdyb3Vwc0RhdGEuZ2V0SWRzKHtvcmRlcjp0aGlzLm9wdGlvbnMuZ3JvdXBPcmRlcn0pKSl9LG8ucHJvdG90eXBlLl9vbkdyb3VwRHJhZz1mdW5jdGlvbih0KXtpZih0aGlzLm9wdGlvbnMuZ3JvdXBFZGl0YWJsZS5vcmRlciYmdGhpcy5ncm91cFRvdWNoUGFyYW1zLmdyb3VwKXt0LnN0b3BQcm9wYWdhdGlvbigpO3ZhciBlPXRoaXMuZ3JvdXBGcm9tVGFyZ2V0KHQpO2lmKGUmJmUuaGVpZ2h0IT10aGlzLmdyb3VwVG91Y2hQYXJhbXMuZ3JvdXAuaGVpZ2h0KXt2YXIgaT1lLnRvcDx0aGlzLmdyb3VwVG91Y2hQYXJhbXMuZ3JvdXAudG9wLG89dC5jZW50ZXI/dC5jZW50ZXIueTp0LmNsaWVudFksbj1zLmdldEFic29sdXRlVG9wKGUuZG9tLmZvcmVncm91bmQpLHI9dGhpcy5ncm91cFRvdWNoUGFyYW1zLmdyb3VwLmhlaWdodDtpZihpKXtpZihvPm4rcilyZXR1cm59ZWxzZXt2YXIgYT1lLmhlaWdodDtpZihuK2Etcj5vKXJldHVybn19aWYoZSYmZSE9dGhpcy5ncm91cFRvdWNoUGFyYW1zLmdyb3VwKXt2YXIgaD10aGlzLmdyb3Vwc0RhdGEsZD1oLmdldChlLmdyb3VwSWQpLGw9aC5nZXQodGhpcy5ncm91cFRvdWNoUGFyYW1zLmdyb3VwLmdyb3VwSWQpO2wmJmQmJih0aGlzLm9wdGlvbnMuZ3JvdXBPcmRlclN3YXAobCxkLHRoaXMuZ3JvdXBzRGF0YSksdGhpcy5ncm91cHNEYXRhLnVwZGF0ZShsKSx0aGlzLmdyb3Vwc0RhdGEudXBkYXRlKGQpKTt2YXIgdT10aGlzLmdyb3Vwc0RhdGEuZ2V0SWRzKHtvcmRlcjp0aGlzLm9wdGlvbnMuZ3JvdXBPcmRlcn0pO2lmKCFzLmVxdWFsQXJyYXkodSx0aGlzLmdyb3VwVG91Y2hQYXJhbXMub3JpZ2luYWxPcmRlcikpZm9yKHZhciBoPXRoaXMuZ3JvdXBzRGF0YSxjPXRoaXMuZ3JvdXBUb3VjaFBhcmFtcy5vcmlnaW5hbE9yZGVyLHA9dGhpcy5ncm91cFRvdWNoUGFyYW1zLmdyb3VwLmdyb3VwSWQsZj1NYXRoLm1pbihjLmxlbmd0aCx1Lmxlbmd0aCksbT0wLHY9MCxnPTA7Zj5tOyl7Zm9yKDtmPm0rdiYmZj5tK2cmJnVbbSt2XT09Y1ttK2ddOyltKys7aWYobSt2Pj1mKWJyZWFrO2lmKHVbbSt2XSE9cClpZihjW20rZ10hPXApe3ZhciB5PXUuaW5kZXhPZihjW20rZ10pLGI9aC5nZXQodVttK3ZdKSx3PWguZ2V0KGNbbStnXSk7dGhpcy5vcHRpb25zLmdyb3VwT3JkZXJTd2FwKGIsdyxoKSxoLnVwZGF0ZShiKSxoLnVwZGF0ZSh3KTt2YXIgXz11W20rdl07dVttK3ZdPWNbbStnXSx1W3ldPV8sbSsrfWVsc2UgZz0xO2Vsc2Ugdj0xfX19fSxvLnByb3RvdHlwZS5fb25Hcm91cERyYWdFbmQ9ZnVuY3Rpb24odCl7aWYodGhpcy5vcHRpb25zLmdyb3VwRWRpdGFibGUub3JkZXImJnRoaXMuZ3JvdXBUb3VjaFBhcmFtcy5ncm91cCl7dC5zdG9wUHJvcGFnYXRpb24oKTt2YXIgZT10aGlzLGk9ZS5ncm91cFRvdWNoUGFyYW1zLmdyb3VwLmdyb3VwSWQsbz1lLmdyb3Vwc0RhdGEuZ2V0RGF0YVNldCgpLG49cy5leHRlbmQoe30sby5nZXQoaSkpO2Uub3B0aW9ucy5vbk1vdmVHcm91cChuLGZ1bmN0aW9uKHQpe2lmKHQpdFtvLl9maWVsZElkXT1pLG8udXBkYXRlKHQpO2Vsc2V7dmFyIG49by5nZXRJZHMoe29yZGVyOmUub3B0aW9ucy5ncm91cE9yZGVyfSk7aWYoIXMuZXF1YWxBcnJheShuLGUuZ3JvdXBUb3VjaFBhcmFtcy5vcmlnaW5hbE9yZGVyKSlmb3IodmFyIHI9ZS5ncm91cFRvdWNoUGFyYW1zLm9yaWdpbmFsT3JkZXIsYT1NYXRoLm1pbihyLmxlbmd0aCxuLmxlbmd0aCksaD0wO2E+aDspe2Zvcig7YT5oJiZuW2hdPT1yW2hdOyloKys7aWYoaD49YSlicmVhazt2YXIgZD1uLmluZGV4T2YocltoXSksbD1vLmdldChuW2hdKSx1PW8uZ2V0KHJbaF0pO2Uub3B0aW9ucy5ncm91cE9yZGVyU3dhcChsLHUsbyksZ3JvdXBzRGF0YS51cGRhdGUobCksZ3JvdXBzRGF0YS51cGRhdGUodSk7dmFyIGM9bltoXTtuW2hdPXJbaF0sbltkXT1jLGgrK319fSksZS5ib2R5LmVtaXR0ZXIuZW1pdChcImdyb3VwRHJhZ2dlZFwiLHtncm91cElkOml9KX19LG8ucHJvdG90eXBlLl9vblNlbGVjdEl0ZW09ZnVuY3Rpb24odCl7aWYodGhpcy5vcHRpb25zLnNlbGVjdGFibGUpe3ZhciBlPXQuc3JjRXZlbnQmJih0LnNyY0V2ZW50LmN0cmxLZXl8fHQuc3JjRXZlbnQubWV0YUtleSksaT10LnNyY0V2ZW50JiZ0LnNyY0V2ZW50LnNoaWZ0S2V5O2lmKGV8fGkpcmV0dXJuIHZvaWQgdGhpcy5fb25NdWx0aVNlbGVjdEl0ZW0odCk7dmFyIG89dGhpcy5nZXRTZWxlY3Rpb24oKSxuPXRoaXMuaXRlbUZyb21UYXJnZXQodCkscz1uP1tuLmlkXTpbXTt0aGlzLnNldFNlbGVjdGlvbihzKTt2YXIgcj10aGlzLmdldFNlbGVjdGlvbigpOyhyLmxlbmd0aD4wfHxvLmxlbmd0aD4wKSYmdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcInNlbGVjdFwiLHtpdGVtczpyLGV2ZW50OnR9KX19LG8ucHJvdG90eXBlLl9vbkFkZEl0ZW09ZnVuY3Rpb24odCl7aWYodGhpcy5vcHRpb25zLnNlbGVjdGFibGUmJnRoaXMub3B0aW9ucy5lZGl0YWJsZS5hZGQpe3ZhciBlPXRoaXMsaT10aGlzLm9wdGlvbnMuc25hcHx8bnVsbCxvPXRoaXMuaXRlbUZyb21UYXJnZXQodCk7aWYodC5zdG9wUHJvcGFnYXRpb24oKSxvKXt2YXIgbj1lLml0ZW1zRGF0YS5nZXQoby5pZCk7dGhpcy5vcHRpb25zLm9uVXBkYXRlKG4sZnVuY3Rpb24odCl7dCYmZS5pdGVtc0RhdGEuZ2V0RGF0YVNldCgpLnVwZGF0ZSh0KX0pfWVsc2V7dmFyIHI9cy5nZXRBYnNvbHV0ZUxlZnQodGhpcy5kb20uZnJhbWUpLGE9dC5jZW50ZXIueC1yLGg9dGhpcy5ib2R5LnV0aWwudG9UaW1lKGEpLGQ9dGhpcy5ib2R5LnV0aWwuZ2V0U2NhbGUoKSxsPXRoaXMuYm9keS51dGlsLmdldFN0ZXAoKSx1PXtzdGFydDppP2koaCxkLGwpOmgsY29udGVudDpcIm5ldyBpdGVtXCJ9O2lmKFwicmFuZ2VcIj09PXRoaXMub3B0aW9ucy50eXBlKXt2YXIgYz10aGlzLmJvZHkudXRpbC50b1RpbWUoYSt0aGlzLnByb3BzLndpZHRoLzUpO3UuZW5kPWk/aShjLGQsbCk6Y311W3RoaXMuaXRlbXNEYXRhLl9maWVsZElkXT1zLnJhbmRvbVVVSUQoKTt2YXIgcD10aGlzLmdyb3VwRnJvbVRhcmdldCh0KTtwJiYodS5ncm91cD1wLmdyb3VwSWQpLHU9dGhpcy5fY2xvbmVJdGVtRGF0YSh1KSx0aGlzLm9wdGlvbnMub25BZGQodSxmdW5jdGlvbih0KXt0JiZlLml0ZW1zRGF0YS5nZXREYXRhU2V0KCkuYWRkKHQpfSl9fX0sby5wcm90b3R5cGUuX29uTXVsdGlTZWxlY3RJdGVtPWZ1bmN0aW9uKHQpe2lmKHRoaXMub3B0aW9ucy5zZWxlY3RhYmxlKXt2YXIgZT10aGlzLml0ZW1Gcm9tVGFyZ2V0KHQpO2lmKGUpe3ZhciBpPXRoaXMub3B0aW9ucy5tdWx0aXNlbGVjdD90aGlzLmdldFNlbGVjdGlvbigpOltdLG49dC5zcmNFdmVudCYmdC5zcmNFdmVudC5zaGlmdEtleXx8ITE7aWYobiYmdGhpcy5vcHRpb25zLm11bHRpc2VsZWN0KXt2YXIgcz10aGlzLml0ZW1zRGF0YS5nZXQoZS5pZCkuZ3JvdXAscj12b2lkIDA7dGhpcy5vcHRpb25zLm11bHRpc2VsZWN0UGVyR3JvdXAmJmkubGVuZ3RoPjAmJihyPXRoaXMuaXRlbXNEYXRhLmdldChpWzBdKS5ncm91cCksdGhpcy5vcHRpb25zLm11bHRpc2VsZWN0UGVyR3JvdXAmJnZvaWQgMCE9ciYmciE9c3x8aS5wdXNoKGUuaWQpO3ZhciBhPW8uX2dldEl0ZW1SYW5nZSh0aGlzLml0ZW1zRGF0YS5nZXQoaSx0aGlzLml0ZW1PcHRpb25zKSk7aWYoIXRoaXMub3B0aW9ucy5tdWx0aXNlbGVjdFBlckdyb3VwfHxyPT1zKXtpPVtdO2Zvcih2YXIgaCBpbiB0aGlzLml0ZW1zKWlmKHRoaXMuaXRlbXMuaGFzT3duUHJvcGVydHkoaCkpe3ZhciBkPXRoaXMuaXRlbXNbaF0sbD1kLmRhdGEuc3RhcnQsdT12b2lkIDAhPT1kLmRhdGEuZW5kP2QuZGF0YS5lbmQ6bDshKGw+PWEubWluJiZ1PD1hLm1heCl8fHRoaXMub3B0aW9ucy5tdWx0aXNlbGVjdFBlckdyb3VwJiZyIT10aGlzLml0ZW1zRGF0YS5nZXQoZC5pZCkuZ3JvdXB8fGQgaW5zdGFuY2VvZiBtfHxpLnB1c2goZC5pZCl9fX1lbHNle3ZhciBjPWkuaW5kZXhPZihlLmlkKTstMT09Yz9pLnB1c2goZS5pZCk6aS5zcGxpY2UoYywxKX10aGlzLnNldFNlbGVjdGlvbihpKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwic2VsZWN0XCIse2l0ZW1zOnRoaXMuZ2V0U2VsZWN0aW9uKCksZXZlbnQ6dH0pfX19LG8uX2dldEl0ZW1SYW5nZT1mdW5jdGlvbih0KXt2YXIgZT1udWxsLGk9bnVsbDtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQpeyhudWxsPT1pfHx0LnN0YXJ0PGkpJiYoaT10LnN0YXJ0KSx2b2lkIDAhPXQuZW5kPyhudWxsPT1lfHx0LmVuZD5lKSYmKGU9dC5lbmQpOihudWxsPT1lfHx0LnN0YXJ0PmUpJiYoZT10LnN0YXJ0KX0pLHttaW46aSxtYXg6ZX19LG8ucHJvdG90eXBlLml0ZW1Gcm9tVGFyZ2V0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnRhcmdldDtlOyl7aWYoZS5oYXNPd25Qcm9wZXJ0eShcInRpbWVsaW5lLWl0ZW1cIikpcmV0dXJuIGVbXCJ0aW1lbGluZS1pdGVtXCJdO2U9ZS5wYXJlbnROb2RlfXJldHVybiBudWxsfSxvLnByb3RvdHlwZS5ncm91cEZyb21UYXJnZXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuY2VudGVyP3QuY2VudGVyLnk6dC5jbGllbnRZLGk9MDtpPHRoaXMuZ3JvdXBJZHMubGVuZ3RoO2krKyl7dmFyIG89dGhpcy5ncm91cElkc1tpXSxuPXRoaXMuZ3JvdXBzW29dLHI9bi5kb20uZm9yZWdyb3VuZCxhPXMuZ2V0QWJzb2x1dGVUb3Aocik7aWYoZT5hJiZlPGErci5vZmZzZXRIZWlnaHQpcmV0dXJuIG47aWYoXCJ0b3BcIj09PXRoaXMub3B0aW9ucy5vcmllbnRhdGlvbi5pdGVtKXtpZihpPT09dGhpcy5ncm91cElkcy5sZW5ndGgtMSYmZT5hKXJldHVybiBufWVsc2UgaWYoMD09PWkmJmU8YStyLm9mZnNldClyZXR1cm4gbn1yZXR1cm4gbnVsbH0sby5pdGVtU2V0RnJvbVRhcmdldD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC50YXJnZXQ7ZTspe2lmKGUuaGFzT3duUHJvcGVydHkoXCJ0aW1lbGluZS1pdGVtc2V0XCIpKXJldHVybiBlW1widGltZWxpbmUtaXRlbXNldFwiXTtlPWUucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH0sby5wcm90b3R5cGUuX2Nsb25lSXRlbURhdGE9ZnVuY3Rpb24odCxlKXt2YXIgaT1zLmV4dGVuZCh7fSx0KTtyZXR1cm4gZXx8KGU9dGhpcy5pdGVtc0RhdGEuZ2V0RGF0YVNldCgpLl9vcHRpb25zLnR5cGUpLHZvaWQgMCE9aS5zdGFydCYmKGkuc3RhcnQ9cy5jb252ZXJ0KGkuc3RhcnQsZSYmZS5zdGFydHx8XCJEYXRlXCIpKSx2b2lkIDAhPWkuZW5kJiYoaS5lbmQ9cy5jb252ZXJ0KGkuZW5kLGUmJmUuZW5kfHxcIkRhdGVcIikpLGl9LHQuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbyh0LGUsaSxzKXt0aGlzLm1vbWVudD1uLHRoaXMuY3VycmVudD10aGlzLm1vbWVudCgpLHRoaXMuX3N0YXJ0PXRoaXMubW9tZW50KCksdGhpcy5fZW5kPXRoaXMubW9tZW50KCksdGhpcy5hdXRvU2NhbGU9ITAsdGhpcy5zY2FsZT1cImRheVwiLHRoaXMuc3RlcD0xLHRoaXMuc2V0UmFuZ2UodCxlLGkpLHRoaXMuc3dpdGNoZWREYXk9ITEsdGhpcy5zd2l0Y2hlZE1vbnRoPSExLHRoaXMuc3dpdGNoZWRZZWFyPSExLEFycmF5LmlzQXJyYXkocyk/dGhpcy5oaWRkZW5EYXRlcz1zOnZvaWQgMCE9cz90aGlzLmhpZGRlbkRhdGVzPVtzXTp0aGlzLmhpZGRlbkRhdGVzPVtdLHRoaXMuZm9ybWF0PW8uRk9STUFUfXZhciBuPWkoMikscz1pKDI3KSxyPWkoMSk7by5GT1JNQVQ9e21pbm9yTGFiZWxzOnttaWxsaXNlY29uZDpcIlNTU1wiLHNlY29uZDpcInNcIixtaW51dGU6XCJISDptbVwiLGhvdXI6XCJISDptbVwiLHdlZWtkYXk6XCJkZGQgRFwiLGRheTpcIkRcIixtb250aDpcIk1NTVwiLHllYXI6XCJZWVlZXCJ9LG1ham9yTGFiZWxzOnttaWxsaXNlY29uZDpcIkhIOm1tOnNzXCIsc2Vjb25kOlwiRCBNTU1NIEhIOm1tXCIsbWludXRlOlwiZGRkIEQgTU1NTVwiLGhvdXI6XCJkZGQgRCBNTU1NXCIsd2Vla2RheTpcIk1NTU0gWVlZWVwiLGRheTpcIk1NTU0gWVlZWVwiLG1vbnRoOlwiWVlZWVwiLHllYXI6XCJcIn19LG8ucHJvdG90eXBlLnNldE1vbWVudD1mdW5jdGlvbih0KXt0aGlzLm1vbWVudD10LHRoaXMuY3VycmVudD10aGlzLm1vbWVudCh0aGlzLmN1cnJlbnQpLHRoaXMuX3N0YXJ0PXRoaXMubW9tZW50KHRoaXMuX3N0YXJ0KSx0aGlzLl9lbmQ9dGhpcy5tb21lbnQodGhpcy5fZW5kKX0sby5wcm90b3R5cGUuc2V0Rm9ybWF0PWZ1bmN0aW9uKHQpe3ZhciBlPXIuZGVlcEV4dGVuZCh7fSxvLkZPUk1BVCk7dGhpcy5mb3JtYXQ9ci5kZWVwRXh0ZW5kKGUsdCl9LG8ucHJvdG90eXBlLnNldFJhbmdlPWZ1bmN0aW9uKHQsZSxpKXtpZighKHQgaW5zdGFuY2VvZiBEYXRlJiZlIGluc3RhbmNlb2YgRGF0ZSkpdGhyb3dcIk5vIGxlZ2FsIHN0YXJ0IG9yIGVuZCBkYXRlIGluIG1ldGhvZCBzZXRSYW5nZVwiO3RoaXMuX3N0YXJ0PXZvaWQgMCE9dD90aGlzLm1vbWVudCh0LnZhbHVlT2YoKSk6bmV3IERhdGUsdGhpcy5fZW5kPXZvaWQgMCE9ZT90aGlzLm1vbWVudChlLnZhbHVlT2YoKSk6bmV3IERhdGUsdGhpcy5hdXRvU2NhbGUmJnRoaXMuc2V0TWluaW11bVN0ZXAoaSl9LG8ucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50PXRoaXMuX3N0YXJ0LmNsb25lKCksdGhpcy5yb3VuZFRvTWlub3IoKX0sby5wcm90b3R5cGUucm91bmRUb01pbm9yPWZ1bmN0aW9uKCl7XG5zd2l0Y2godGhpcy5zY2FsZSl7Y2FzZVwieWVhclwiOnRoaXMuY3VycmVudC55ZWFyKHRoaXMuc3RlcCpNYXRoLmZsb29yKHRoaXMuY3VycmVudC55ZWFyKCkvdGhpcy5zdGVwKSksdGhpcy5jdXJyZW50Lm1vbnRoKDApO2Nhc2VcIm1vbnRoXCI6dGhpcy5jdXJyZW50LmRhdGUoMSk7Y2FzZVwiZGF5XCI6Y2FzZVwid2Vla2RheVwiOnRoaXMuY3VycmVudC5ob3VycygwKTtjYXNlXCJob3VyXCI6dGhpcy5jdXJyZW50Lm1pbnV0ZXMoMCk7Y2FzZVwibWludXRlXCI6dGhpcy5jdXJyZW50LnNlY29uZHMoMCk7Y2FzZVwic2Vjb25kXCI6dGhpcy5jdXJyZW50Lm1pbGxpc2Vjb25kcygwKX1pZigxIT10aGlzLnN0ZXApc3dpdGNoKHRoaXMuc2NhbGUpe2Nhc2VcIm1pbGxpc2Vjb25kXCI6dGhpcy5jdXJyZW50LnN1YnRyYWN0KHRoaXMuY3VycmVudC5taWxsaXNlY29uZHMoKSV0aGlzLnN0ZXAsXCJtaWxsaXNlY29uZHNcIik7YnJlYWs7Y2FzZVwic2Vjb25kXCI6dGhpcy5jdXJyZW50LnN1YnRyYWN0KHRoaXMuY3VycmVudC5zZWNvbmRzKCkldGhpcy5zdGVwLFwic2Vjb25kc1wiKTticmVhaztjYXNlXCJtaW51dGVcIjp0aGlzLmN1cnJlbnQuc3VidHJhY3QodGhpcy5jdXJyZW50Lm1pbnV0ZXMoKSV0aGlzLnN0ZXAsXCJtaW51dGVzXCIpO2JyZWFrO2Nhc2VcImhvdXJcIjp0aGlzLmN1cnJlbnQuc3VidHJhY3QodGhpcy5jdXJyZW50LmhvdXJzKCkldGhpcy5zdGVwLFwiaG91cnNcIik7YnJlYWs7Y2FzZVwid2Vla2RheVwiOmNhc2VcImRheVwiOnRoaXMuY3VycmVudC5zdWJ0cmFjdCgodGhpcy5jdXJyZW50LmRhdGUoKS0xKSV0aGlzLnN0ZXAsXCJkYXlcIik7YnJlYWs7Y2FzZVwibW9udGhcIjp0aGlzLmN1cnJlbnQuc3VidHJhY3QodGhpcy5jdXJyZW50Lm1vbnRoKCkldGhpcy5zdGVwLFwibW9udGhcIik7YnJlYWs7Y2FzZVwieWVhclwiOnRoaXMuY3VycmVudC5zdWJ0cmFjdCh0aGlzLmN1cnJlbnQueWVhcigpJXRoaXMuc3RlcCxcInllYXJcIil9fSxvLnByb3RvdHlwZS5oYXNOZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudC52YWx1ZU9mKCk8PXRoaXMuX2VuZC52YWx1ZU9mKCl9LG8ucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmN1cnJlbnQudmFsdWVPZigpO2lmKHRoaXMuY3VycmVudC5tb250aCgpPDYpc3dpdGNoKHRoaXMuc2NhbGUpe2Nhc2VcIm1pbGxpc2Vjb25kXCI6dGhpcy5jdXJyZW50LmFkZCh0aGlzLnN0ZXAsXCJtaWxsaXNlY29uZFwiKTticmVhaztjYXNlXCJzZWNvbmRcIjp0aGlzLmN1cnJlbnQuYWRkKHRoaXMuc3RlcCxcInNlY29uZFwiKTticmVhaztjYXNlXCJtaW51dGVcIjp0aGlzLmN1cnJlbnQuYWRkKHRoaXMuc3RlcCxcIm1pbnV0ZVwiKTticmVhaztjYXNlXCJob3VyXCI6dGhpcy5jdXJyZW50LmFkZCh0aGlzLnN0ZXAsXCJob3VyXCIpLHRoaXMuY3VycmVudC5zdWJ0cmFjdCh0aGlzLmN1cnJlbnQuaG91cnMoKSV0aGlzLnN0ZXAsXCJob3VyXCIpO2JyZWFrO2Nhc2VcIndlZWtkYXlcIjpjYXNlXCJkYXlcIjp0aGlzLmN1cnJlbnQuYWRkKHRoaXMuc3RlcCxcImRheVwiKTticmVhaztjYXNlXCJtb250aFwiOnRoaXMuY3VycmVudC5hZGQodGhpcy5zdGVwLFwibW9udGhcIik7YnJlYWs7Y2FzZVwieWVhclwiOnRoaXMuY3VycmVudC5hZGQodGhpcy5zdGVwLFwieWVhclwiKX1lbHNlIHN3aXRjaCh0aGlzLnNjYWxlKXtjYXNlXCJtaWxsaXNlY29uZFwiOnRoaXMuY3VycmVudC5hZGQodGhpcy5zdGVwLFwibWlsbGlzZWNvbmRcIik7YnJlYWs7Y2FzZVwic2Vjb25kXCI6dGhpcy5jdXJyZW50LmFkZCh0aGlzLnN0ZXAsXCJzZWNvbmRcIik7YnJlYWs7Y2FzZVwibWludXRlXCI6dGhpcy5jdXJyZW50LmFkZCh0aGlzLnN0ZXAsXCJtaW51dGVcIik7YnJlYWs7Y2FzZVwiaG91clwiOnRoaXMuY3VycmVudC5hZGQodGhpcy5zdGVwLFwiaG91clwiKTticmVhaztjYXNlXCJ3ZWVrZGF5XCI6Y2FzZVwiZGF5XCI6dGhpcy5jdXJyZW50LmFkZCh0aGlzLnN0ZXAsXCJkYXlcIik7YnJlYWs7Y2FzZVwibW9udGhcIjp0aGlzLmN1cnJlbnQuYWRkKHRoaXMuc3RlcCxcIm1vbnRoXCIpO2JyZWFrO2Nhc2VcInllYXJcIjp0aGlzLmN1cnJlbnQuYWRkKHRoaXMuc3RlcCxcInllYXJcIil9aWYoMSE9dGhpcy5zdGVwKXN3aXRjaCh0aGlzLnNjYWxlKXtjYXNlXCJtaWxsaXNlY29uZFwiOnRoaXMuY3VycmVudC5taWxsaXNlY29uZHMoKTx0aGlzLnN0ZXAmJnRoaXMuY3VycmVudC5taWxsaXNlY29uZHMoMCk7YnJlYWs7Y2FzZVwic2Vjb25kXCI6dGhpcy5jdXJyZW50LnNlY29uZHMoKTx0aGlzLnN0ZXAmJnRoaXMuY3VycmVudC5zZWNvbmRzKDApO2JyZWFrO2Nhc2VcIm1pbnV0ZVwiOnRoaXMuY3VycmVudC5taW51dGVzKCk8dGhpcy5zdGVwJiZ0aGlzLmN1cnJlbnQubWludXRlcygwKTticmVhaztjYXNlXCJob3VyXCI6dGhpcy5jdXJyZW50LmhvdXJzKCk8dGhpcy5zdGVwJiZ0aGlzLmN1cnJlbnQuaG91cnMoMCk7YnJlYWs7Y2FzZVwid2Vla2RheVwiOmNhc2VcImRheVwiOnRoaXMuY3VycmVudC5kYXRlKCk8dGhpcy5zdGVwKzEmJnRoaXMuY3VycmVudC5kYXRlKDEpO2JyZWFrO2Nhc2VcIm1vbnRoXCI6dGhpcy5jdXJyZW50Lm1vbnRoKCk8dGhpcy5zdGVwJiZ0aGlzLmN1cnJlbnQubW9udGgoMCk7YnJlYWs7Y2FzZVwieWVhclwiOn10aGlzLmN1cnJlbnQudmFsdWVPZigpPT10JiYodGhpcy5jdXJyZW50PXRoaXMuX2VuZC5jbG9uZSgpKSxzLnN0ZXBPdmVySGlkZGVuRGF0ZXModGhpcy5tb21lbnQsdGhpcyx0KX0sby5wcm90b3R5cGUuZ2V0Q3VycmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnR9LG8ucHJvdG90eXBlLnNldFNjYWxlPWZ1bmN0aW9uKHQpe3QmJlwic3RyaW5nXCI9PXR5cGVvZiB0LnNjYWxlJiYodGhpcy5zY2FsZT10LnNjYWxlLHRoaXMuc3RlcD10LnN0ZXA+MD90LnN0ZXA6MSx0aGlzLmF1dG9TY2FsZT0hMSl9LG8ucHJvdG90eXBlLnNldEF1dG9TY2FsZT1mdW5jdGlvbih0KXt0aGlzLmF1dG9TY2FsZT10fSxvLnByb3RvdHlwZS5zZXRNaW5pbXVtU3RlcD1mdW5jdGlvbih0KXtpZih2b2lkIDAhPXQpe3ZhciBlPTMxMTA0ZTYsaT0yNTkyZTYsbz04NjRlNSxuPTM2ZTUscz02ZTQscj0xZTMsYT0xOzFlMyplPnQmJih0aGlzLnNjYWxlPVwieWVhclwiLHRoaXMuc3RlcD0xZTMpLDUwMCplPnQmJih0aGlzLnNjYWxlPVwieWVhclwiLHRoaXMuc3RlcD01MDApLDEwMCplPnQmJih0aGlzLnNjYWxlPVwieWVhclwiLHRoaXMuc3RlcD0xMDApLDUwKmU+dCYmKHRoaXMuc2NhbGU9XCJ5ZWFyXCIsdGhpcy5zdGVwPTUwKSwxMCplPnQmJih0aGlzLnNjYWxlPVwieWVhclwiLHRoaXMuc3RlcD0xMCksNSplPnQmJih0aGlzLnNjYWxlPVwieWVhclwiLHRoaXMuc3RlcD01KSxlPnQmJih0aGlzLnNjYWxlPVwieWVhclwiLHRoaXMuc3RlcD0xKSwzKmk+dCYmKHRoaXMuc2NhbGU9XCJtb250aFwiLHRoaXMuc3RlcD0zKSxpPnQmJih0aGlzLnNjYWxlPVwibW9udGhcIix0aGlzLnN0ZXA9MSksNSpvPnQmJih0aGlzLnNjYWxlPVwiZGF5XCIsdGhpcy5zdGVwPTUpLDIqbz50JiYodGhpcy5zY2FsZT1cImRheVwiLHRoaXMuc3RlcD0yKSxvPnQmJih0aGlzLnNjYWxlPVwiZGF5XCIsdGhpcy5zdGVwPTEpLG8vMj50JiYodGhpcy5zY2FsZT1cIndlZWtkYXlcIix0aGlzLnN0ZXA9MSksNCpuPnQmJih0aGlzLnNjYWxlPVwiaG91clwiLHRoaXMuc3RlcD00KSxuPnQmJih0aGlzLnNjYWxlPVwiaG91clwiLHRoaXMuc3RlcD0xKSwxNSpzPnQmJih0aGlzLnNjYWxlPVwibWludXRlXCIsdGhpcy5zdGVwPTE1KSwxMCpzPnQmJih0aGlzLnNjYWxlPVwibWludXRlXCIsdGhpcy5zdGVwPTEwKSw1KnM+dCYmKHRoaXMuc2NhbGU9XCJtaW51dGVcIix0aGlzLnN0ZXA9NSkscz50JiYodGhpcy5zY2FsZT1cIm1pbnV0ZVwiLHRoaXMuc3RlcD0xKSwxNSpyPnQmJih0aGlzLnNjYWxlPVwic2Vjb25kXCIsdGhpcy5zdGVwPTE1KSwxMCpyPnQmJih0aGlzLnNjYWxlPVwic2Vjb25kXCIsdGhpcy5zdGVwPTEwKSw1KnI+dCYmKHRoaXMuc2NhbGU9XCJzZWNvbmRcIix0aGlzLnN0ZXA9NSkscj50JiYodGhpcy5zY2FsZT1cInNlY29uZFwiLHRoaXMuc3RlcD0xKSwyMDAqYT50JiYodGhpcy5zY2FsZT1cIm1pbGxpc2Vjb25kXCIsdGhpcy5zdGVwPTIwMCksMTAwKmE+dCYmKHRoaXMuc2NhbGU9XCJtaWxsaXNlY29uZFwiLHRoaXMuc3RlcD0xMDApLDUwKmE+dCYmKHRoaXMuc2NhbGU9XCJtaWxsaXNlY29uZFwiLHRoaXMuc3RlcD01MCksMTAqYT50JiYodGhpcy5zY2FsZT1cIm1pbGxpc2Vjb25kXCIsdGhpcy5zdGVwPTEwKSw1KmE+dCYmKHRoaXMuc2NhbGU9XCJtaWxsaXNlY29uZFwiLHRoaXMuc3RlcD01KSxhPnQmJih0aGlzLnNjYWxlPVwibWlsbGlzZWNvbmRcIix0aGlzLnN0ZXA9MSl9fSxvLnNuYXA9ZnVuY3Rpb24odCxlLGkpe3ZhciBvPW4odCk7aWYoXCJ5ZWFyXCI9PWUpe3ZhciBzPW8ueWVhcigpK01hdGgucm91bmQoby5tb250aCgpLzEyKTtvLnllYXIoTWF0aC5yb3VuZChzL2kpKmkpLG8ubW9udGgoMCksby5kYXRlKDApLG8uaG91cnMoMCksby5taW51dGVzKDApLG8uc2Vjb25kcygwKSxvLm1pbGxpc2Vjb25kcygwKX1lbHNlIGlmKFwibW9udGhcIj09ZSlvLmRhdGUoKT4xNT8oby5kYXRlKDEpLG8uYWRkKDEsXCJtb250aFwiKSk6by5kYXRlKDEpLG8uaG91cnMoMCksby5taW51dGVzKDApLG8uc2Vjb25kcygwKSxvLm1pbGxpc2Vjb25kcygwKTtlbHNlIGlmKFwiZGF5XCI9PWUpe3N3aXRjaChpKXtjYXNlIDU6Y2FzZSAyOm8uaG91cnMoMjQqTWF0aC5yb3VuZChvLmhvdXJzKCkvMjQpKTticmVhaztkZWZhdWx0Om8uaG91cnMoMTIqTWF0aC5yb3VuZChvLmhvdXJzKCkvMTIpKX1vLm1pbnV0ZXMoMCksby5zZWNvbmRzKDApLG8ubWlsbGlzZWNvbmRzKDApfWVsc2UgaWYoXCJ3ZWVrZGF5XCI9PWUpe3N3aXRjaChpKXtjYXNlIDU6Y2FzZSAyOm8uaG91cnMoMTIqTWF0aC5yb3VuZChvLmhvdXJzKCkvMTIpKTticmVhaztkZWZhdWx0Om8uaG91cnMoNipNYXRoLnJvdW5kKG8uaG91cnMoKS82KSl9by5taW51dGVzKDApLG8uc2Vjb25kcygwKSxvLm1pbGxpc2Vjb25kcygwKX1lbHNlIGlmKFwiaG91clwiPT1lKXtzd2l0Y2goaSl7Y2FzZSA0Om8ubWludXRlcyg2MCpNYXRoLnJvdW5kKG8ubWludXRlcygpLzYwKSk7YnJlYWs7ZGVmYXVsdDpvLm1pbnV0ZXMoMzAqTWF0aC5yb3VuZChvLm1pbnV0ZXMoKS8zMCkpfW8uc2Vjb25kcygwKSxvLm1pbGxpc2Vjb25kcygwKX1lbHNlIGlmKFwibWludXRlXCI9PWUpe3N3aXRjaChpKXtjYXNlIDE1OmNhc2UgMTA6by5taW51dGVzKDUqTWF0aC5yb3VuZChvLm1pbnV0ZXMoKS81KSksby5zZWNvbmRzKDApO2JyZWFrO2Nhc2UgNTpvLnNlY29uZHMoNjAqTWF0aC5yb3VuZChvLnNlY29uZHMoKS82MCkpO2JyZWFrO2RlZmF1bHQ6by5zZWNvbmRzKDMwKk1hdGgucm91bmQoby5zZWNvbmRzKCkvMzApKX1vLm1pbGxpc2Vjb25kcygwKX1lbHNlIGlmKFwic2Vjb25kXCI9PWUpc3dpdGNoKGkpe2Nhc2UgMTU6Y2FzZSAxMDpvLnNlY29uZHMoNSpNYXRoLnJvdW5kKG8uc2Vjb25kcygpLzUpKSxvLm1pbGxpc2Vjb25kcygwKTticmVhaztjYXNlIDU6by5taWxsaXNlY29uZHMoMWUzKk1hdGgucm91bmQoby5taWxsaXNlY29uZHMoKS8xZTMpKTticmVhaztkZWZhdWx0Om8ubWlsbGlzZWNvbmRzKDUwMCpNYXRoLnJvdW5kKG8ubWlsbGlzZWNvbmRzKCkvNTAwKSl9ZWxzZSBpZihcIm1pbGxpc2Vjb25kXCI9PWUpe3ZhciByPWk+NT9pLzI6MTtvLm1pbGxpc2Vjb25kcyhNYXRoLnJvdW5kKG8ubWlsbGlzZWNvbmRzKCkvcikqcil9cmV0dXJuIG99LG8ucHJvdG90eXBlLmlzTWFqb3I9ZnVuY3Rpb24oKXtpZigxPT10aGlzLnN3aXRjaGVkWWVhcilzd2l0Y2godGhpcy5zd2l0Y2hlZFllYXI9ITEsdGhpcy5zY2FsZSl7Y2FzZVwieWVhclwiOmNhc2VcIm1vbnRoXCI6Y2FzZVwid2Vla2RheVwiOmNhc2VcImRheVwiOmNhc2VcImhvdXJcIjpjYXNlXCJtaW51dGVcIjpjYXNlXCJzZWNvbmRcIjpjYXNlXCJtaWxsaXNlY29uZFwiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9ZWxzZSBpZigxPT10aGlzLnN3aXRjaGVkTW9udGgpc3dpdGNoKHRoaXMuc3dpdGNoZWRNb250aD0hMSx0aGlzLnNjYWxlKXtjYXNlXCJ3ZWVrZGF5XCI6Y2FzZVwiZGF5XCI6Y2FzZVwiaG91clwiOmNhc2VcIm1pbnV0ZVwiOmNhc2VcInNlY29uZFwiOmNhc2VcIm1pbGxpc2Vjb25kXCI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX1lbHNlIGlmKDE9PXRoaXMuc3dpdGNoZWREYXkpc3dpdGNoKHRoaXMuc3dpdGNoZWREYXk9ITEsdGhpcy5zY2FsZSl7Y2FzZVwibWlsbGlzZWNvbmRcIjpjYXNlXCJzZWNvbmRcIjpjYXNlXCJtaW51dGVcIjpjYXNlXCJob3VyXCI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX12YXIgdD10aGlzLm1vbWVudCh0aGlzLmN1cnJlbnQpO3N3aXRjaCh0aGlzLnNjYWxlKXtjYXNlXCJtaWxsaXNlY29uZFwiOnJldHVybiAwPT10Lm1pbGxpc2Vjb25kcygpO2Nhc2VcInNlY29uZFwiOnJldHVybiAwPT10LnNlY29uZHMoKTtjYXNlXCJtaW51dGVcIjpyZXR1cm4gMD09dC5ob3VycygpJiYwPT10Lm1pbnV0ZXMoKTtjYXNlXCJob3VyXCI6cmV0dXJuIDA9PXQuaG91cnMoKTtjYXNlXCJ3ZWVrZGF5XCI6Y2FzZVwiZGF5XCI6cmV0dXJuIDE9PXQuZGF0ZSgpO2Nhc2VcIm1vbnRoXCI6cmV0dXJuIDA9PXQubW9udGgoKTtjYXNlXCJ5ZWFyXCI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4hMX19LG8ucHJvdG90eXBlLmdldExhYmVsTWlub3I9ZnVuY3Rpb24odCl7dm9pZCAwPT10JiYodD10aGlzLmN1cnJlbnQpO3ZhciBlPXRoaXMuZm9ybWF0Lm1pbm9yTGFiZWxzW3RoaXMuc2NhbGVdO3JldHVybiBlJiZlLmxlbmd0aD4wP3RoaXMubW9tZW50KHQpLmZvcm1hdChlKTpcIlwifSxvLnByb3RvdHlwZS5nZXRMYWJlbE1ham9yPWZ1bmN0aW9uKHQpe3ZvaWQgMD09dCYmKHQ9dGhpcy5jdXJyZW50KTt2YXIgZT10aGlzLmZvcm1hdC5tYWpvckxhYmVsc1t0aGlzLnNjYWxlXTtyZXR1cm4gZSYmZS5sZW5ndGg+MD90aGlzLm1vbWVudCh0KS5mb3JtYXQoZSk6XCJcIn0sby5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gdC9oJTI9PTA/XCIgdmlzLWV2ZW5cIjpcIiB2aXMtb2RkXCJ9ZnVuY3Rpb24gZSh0KXtyZXR1cm4gdC5pc1NhbWUobmV3IERhdGUsXCJkYXlcIik/XCIgdmlzLXRvZGF5XCI6dC5pc1NhbWUocygpLmFkZCgxLFwiZGF5XCIpLFwiZGF5XCIpP1wiIHZpcy10b21vcnJvd1wiOnQuaXNTYW1lKHMoKS5hZGQoLTEsXCJkYXlcIiksXCJkYXlcIik/XCIgdmlzLXllc3RlcmRheVwiOlwiXCJ9ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdC5pc1NhbWUobmV3IERhdGUsXCJ3ZWVrXCIpP1wiIHZpcy1jdXJyZW50LXdlZWtcIjpcIlwifWZ1bmN0aW9uIG8odCl7cmV0dXJuIHQuaXNTYW1lKG5ldyBEYXRlLFwibW9udGhcIik/XCIgdmlzLWN1cnJlbnQtbW9udGhcIjpcIlwifWZ1bmN0aW9uIG4odCl7cmV0dXJuIHQuaXNTYW1lKG5ldyBEYXRlLFwieWVhclwiKT9cIiB2aXMtY3VycmVudC15ZWFyXCI6XCJcIn12YXIgcz10aGlzLm1vbWVudCxyPXRoaXMubW9tZW50KHRoaXMuY3VycmVudCksYT1yLmxvY2FsZT9yLmxvY2FsZShcImVuXCIpOnIubGFuZyhcImVuXCIpLGg9dGhpcy5zdGVwO3N3aXRjaCh0aGlzLnNjYWxlKXtjYXNlXCJtaWxsaXNlY29uZFwiOnJldHVybiB0KGEubWlsbGlzZWNvbmRzKCkpLnRyaW0oKTtjYXNlXCJzZWNvbmRcIjpyZXR1cm4gdChhLnNlY29uZHMoKSkudHJpbSgpO2Nhc2VcIm1pbnV0ZVwiOnJldHVybiB0KGEubWludXRlcygpKS50cmltKCk7Y2FzZVwiaG91clwiOnZhciBkPWEuaG91cnMoKTtyZXR1cm4gND09dGhpcy5zdGVwJiYoZD1kK1wiLWhcIisoZCs0KSksXCJ2aXMtaFwiK2QrZShhKSt0KGEuaG91cnMoKSk7Y2FzZVwid2Vla2RheVwiOnJldHVyblwidmlzLVwiK2EuZm9ybWF0KFwiZGRkZFwiKS50b0xvd2VyQ2FzZSgpK2UoYSkraShhKSt0KGEuZGF0ZSgpKTtjYXNlXCJkYXlcIjp2YXIgbD1hLmRhdGUoKSx1PWEuZm9ybWF0KFwiTU1NTVwiKS50b0xvd2VyQ2FzZSgpO3JldHVyblwidmlzLWRheVwiK2wrXCIgdmlzLVwiK3UrbyhhKSt0KGwtMSk7Y2FzZVwibW9udGhcIjpyZXR1cm5cInZpcy1cIithLmZvcm1hdChcIk1NTU1cIikudG9Mb3dlckNhc2UoKStvKGEpK3QoYS5tb250aCgpKTtjYXNlXCJ5ZWFyXCI6dmFyIGM9YS55ZWFyKCk7cmV0dXJuXCJ2aXMteWVhclwiK2MrbihhKSt0KGMpO2RlZmF1bHQ6cmV0dXJuXCJcIn19LHQuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbyh0LGUsaSl7dGhpcy5ncm91cElkPXQsdGhpcy5zdWJncm91cHM9e30sdGhpcy5zdWJncm91cEluZGV4PTAsdGhpcy5zdWJncm91cE9yZGVyZXI9ZSYmZS5zdWJncm91cE9yZGVyLHRoaXMuaXRlbVNldD1pLHRoaXMuZG9tPXt9LHRoaXMucHJvcHM9e2xhYmVsOnt3aWR0aDowLGhlaWdodDowfX0sdGhpcy5jbGFzc05hbWU9bnVsbCx0aGlzLml0ZW1zPXt9LHRoaXMudmlzaWJsZUl0ZW1zPVtdLHRoaXMub3JkZXJlZEl0ZW1zPXtieVN0YXJ0OltdLGJ5RW5kOltdfSx0aGlzLmNoZWNrUmFuZ2VkSXRlbXM9ITE7dmFyIG89dGhpczt0aGlzLml0ZW1TZXQuYm9keS5lbWl0dGVyLm9uKFwiY2hlY2tSYW5nZWRJdGVtc1wiLGZ1bmN0aW9uKCl7by5jaGVja1JhbmdlZEl0ZW1zPSEwfSksdGhpcy5fY3JlYXRlKCksdGhpcy5zZXREYXRhKGUpfXZhciBuPWkoMSkscz1pKDMyKTtpKDMzKTtvLnByb3RvdHlwZS5fY3JlYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0aGlzLml0ZW1TZXQub3B0aW9ucy5ncm91cEVkaXRhYmxlLm9yZGVyP3QuY2xhc3NOYW1lPVwidmlzLWxhYmVsIGRyYWdnYWJsZVwiOnQuY2xhc3NOYW1lPVwidmlzLWxhYmVsXCIsdGhpcy5kb20ubGFiZWw9dDt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2UuY2xhc3NOYW1lPVwidmlzLWlubmVyXCIsdC5hcHBlbmRDaGlsZChlKSx0aGlzLmRvbS5pbm5lcj1lO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aS5jbGFzc05hbWU9XCJ2aXMtZ3JvdXBcIixpW1widGltZWxpbmUtZ3JvdXBcIl09dGhpcyx0aGlzLmRvbS5mb3JlZ3JvdW5kPWksdGhpcy5kb20uYmFja2dyb3VuZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZG9tLmJhY2tncm91bmQuY2xhc3NOYW1lPVwidmlzLWdyb3VwXCIsdGhpcy5kb20uYXhpcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZG9tLmF4aXMuY2xhc3NOYW1lPVwidmlzLWdyb3VwXCIsdGhpcy5kb20ubWFya2VyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5kb20ubWFya2VyLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIix0aGlzLmRvbS5tYXJrZXIuaW5uZXJIVE1MPVwiP1wiLHRoaXMuZG9tLmJhY2tncm91bmQuYXBwZW5kQ2hpbGQodGhpcy5kb20ubWFya2VyKX0sby5wcm90b3R5cGUuc2V0RGF0YT1mdW5jdGlvbih0KXt2YXIgZTtpZihlPXRoaXMuaXRlbVNldC5vcHRpb25zJiZ0aGlzLml0ZW1TZXQub3B0aW9ucy5ncm91cFRlbXBsYXRlP3RoaXMuaXRlbVNldC5vcHRpb25zLmdyb3VwVGVtcGxhdGUodCk6dCYmdC5jb250ZW50LGUgaW5zdGFuY2VvZiBFbGVtZW50KXtmb3IodGhpcy5kb20uaW5uZXIuYXBwZW5kQ2hpbGQoZSk7dGhpcy5kb20uaW5uZXIuZmlyc3RDaGlsZDspdGhpcy5kb20uaW5uZXIucmVtb3ZlQ2hpbGQodGhpcy5kb20uaW5uZXIuZmlyc3RDaGlsZCk7dGhpcy5kb20uaW5uZXIuYXBwZW5kQ2hpbGQoZSl9ZWxzZSB2b2lkIDAhPT1lJiZudWxsIT09ZT90aGlzLmRvbS5pbm5lci5pbm5lckhUTUw9ZTp0aGlzLmRvbS5pbm5lci5pbm5lckhUTUw9dGhpcy5ncm91cElkfHxcIlwiO3RoaXMuZG9tLmxhYmVsLnRpdGxlPXQmJnQudGl0bGV8fFwiXCIsdGhpcy5kb20uaW5uZXIuZmlyc3RDaGlsZD9uLnJlbW92ZUNsYXNzTmFtZSh0aGlzLmRvbS5pbm5lcixcInZpcy1oaWRkZW5cIik6bi5hZGRDbGFzc05hbWUodGhpcy5kb20uaW5uZXIsXCJ2aXMtaGlkZGVuXCIpO3ZhciBpPXQmJnQuY2xhc3NOYW1lfHxudWxsO2khPXRoaXMuY2xhc3NOYW1lJiYodGhpcy5jbGFzc05hbWUmJihuLnJlbW92ZUNsYXNzTmFtZSh0aGlzLmRvbS5sYWJlbCx0aGlzLmNsYXNzTmFtZSksbi5yZW1vdmVDbGFzc05hbWUodGhpcy5kb20uZm9yZWdyb3VuZCx0aGlzLmNsYXNzTmFtZSksbi5yZW1vdmVDbGFzc05hbWUodGhpcy5kb20uYmFja2dyb3VuZCx0aGlzLmNsYXNzTmFtZSksbi5yZW1vdmVDbGFzc05hbWUodGhpcy5kb20uYXhpcyx0aGlzLmNsYXNzTmFtZSkpLG4uYWRkQ2xhc3NOYW1lKHRoaXMuZG9tLmxhYmVsLGkpLG4uYWRkQ2xhc3NOYW1lKHRoaXMuZG9tLmZvcmVncm91bmQsaSksbi5hZGRDbGFzc05hbWUodGhpcy5kb20uYmFja2dyb3VuZCxpKSxuLmFkZENsYXNzTmFtZSh0aGlzLmRvbS5heGlzLGkpLHRoaXMuY2xhc3NOYW1lPWkpLHRoaXMuc3R5bGUmJihuLnJlbW92ZUNzc1RleHQodGhpcy5kb20ubGFiZWwsdGhpcy5zdHlsZSksdGhpcy5zdHlsZT1udWxsKSx0JiZ0LnN0eWxlJiYobi5hZGRDc3NUZXh0KHRoaXMuZG9tLmxhYmVsLHQuc3R5bGUpLHRoaXMuc3R5bGU9dC5zdHlsZSl9LG8ucHJvdG90eXBlLmdldExhYmVsV2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wcy5sYWJlbC53aWR0aH0sby5wcm90b3R5cGUucmVkcmF3PWZ1bmN0aW9uKHQsZSxpKXt2YXIgbz0hMSxyPXRoaXMuZG9tLm1hcmtlci5jbGllbnRIZWlnaHQ7aWYociE9dGhpcy5sYXN0TWFya2VySGVpZ2h0JiYodGhpcy5sYXN0TWFya2VySGVpZ2h0PXIsbi5mb3JFYWNoKHRoaXMuaXRlbXMsZnVuY3Rpb24odCl7dC5kaXJ0eT0hMCx0LmRpc3BsYXllZCYmdC5yZWRyYXcoKX0pLGk9ITApLHRoaXMuX2NhbGN1bGF0ZVN1Ykdyb3VwSGVpZ2h0cygpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuaXRlbVNldC5vcHRpb25zLm9yZGVyKXtpZihpKXt2YXIgYT10aGlzLGg9ITE7bi5mb3JFYWNoKHRoaXMuaXRlbXMsZnVuY3Rpb24odCl7dC5kaXNwbGF5ZWR8fCh0LnJlZHJhdygpLGEudmlzaWJsZUl0ZW1zLnB1c2godCkpLHQucmVwb3NpdGlvblgoaCl9KTt2YXIgZD10aGlzLm9yZGVyZWRJdGVtcy5ieVN0YXJ0LnNsaWNlKCkuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiBhLml0ZW1TZXQub3B0aW9ucy5vcmRlcih0LmRhdGEsZS5kYXRhKX0pO3Muc3RhY2soZCxlLCEwKX10aGlzLnZpc2libGVJdGVtcz10aGlzLl91cGRhdGVWaXNpYmxlSXRlbXModGhpcy5vcmRlcmVkSXRlbXMsdGhpcy52aXNpYmxlSXRlbXMsdCl9ZWxzZSB0aGlzLnZpc2libGVJdGVtcz10aGlzLl91cGRhdGVWaXNpYmxlSXRlbXModGhpcy5vcmRlcmVkSXRlbXMsdGhpcy52aXNpYmxlSXRlbXMsdCksdGhpcy5pdGVtU2V0Lm9wdGlvbnMuc3RhY2s/cy5zdGFjayh0aGlzLnZpc2libGVJdGVtcyxlLGkpOnMubm9zdGFjayh0aGlzLnZpc2libGVJdGVtcyxlLHRoaXMuc3ViZ3JvdXBzKTt2YXIgbD10aGlzLl9jYWxjdWxhdGVIZWlnaHQoZSksdT10aGlzLmRvbS5mb3JlZ3JvdW5kO3RoaXMudG9wPXUub2Zmc2V0VG9wLHRoaXMubGVmdD11Lm9mZnNldExlZnQsdGhpcy53aWR0aD11Lm9mZnNldFdpZHRoLG89bi51cGRhdGVQcm9wZXJ0eSh0aGlzLFwiaGVpZ2h0XCIsbCl8fG8sbz1uLnVwZGF0ZVByb3BlcnR5KHRoaXMucHJvcHMubGFiZWwsXCJ3aWR0aFwiLHRoaXMuZG9tLmlubmVyLmNsaWVudFdpZHRoKXx8byxvPW4udXBkYXRlUHJvcGVydHkodGhpcy5wcm9wcy5sYWJlbCxcImhlaWdodFwiLHRoaXMuZG9tLmlubmVyLmNsaWVudEhlaWdodCl8fG8sdGhpcy5kb20uYmFja2dyb3VuZC5zdHlsZS5oZWlnaHQ9bCtcInB4XCIsdGhpcy5kb20uZm9yZWdyb3VuZC5zdHlsZS5oZWlnaHQ9bCtcInB4XCIsdGhpcy5kb20ubGFiZWwuc3R5bGUuaGVpZ2h0PWwrXCJweFwiO2Zvcih2YXIgYz0wLHA9dGhpcy52aXNpYmxlSXRlbXMubGVuZ3RoO3A+YztjKyspe3ZhciBmPXRoaXMudmlzaWJsZUl0ZW1zW2NdO2YucmVwb3NpdGlvblkoZSl9cmV0dXJuIG99LG8ucHJvdG90eXBlLl9jYWxjdWxhdGVTdWJHcm91cEhlaWdodHM9ZnVuY3Rpb24oKXtpZihPYmplY3Qua2V5cyh0aGlzLnN1Ymdyb3VwcykubGVuZ3RoPjApe3ZhciB0PXRoaXM7dGhpcy5yZXNldFN1Ymdyb3VwcygpLG4uZm9yRWFjaCh0aGlzLnZpc2libGVJdGVtcyxmdW5jdGlvbihlKXt2b2lkIDAhPT1lLmRhdGEuc3ViZ3JvdXAmJih0LnN1Ymdyb3Vwc1tlLmRhdGEuc3ViZ3JvdXBdLmhlaWdodD1NYXRoLm1heCh0LnN1Ymdyb3Vwc1tlLmRhdGEuc3ViZ3JvdXBdLmhlaWdodCxlLmhlaWdodCksdC5zdWJncm91cHNbZS5kYXRhLnN1Ymdyb3VwXS52aXNpYmxlPSEwKX0pfX0sby5wcm90b3R5cGUuX2NhbGN1bGF0ZUhlaWdodD1mdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMudmlzaWJsZUl0ZW1zO2lmKGkubGVuZ3RoPjApe3ZhciBvPWlbMF0udG9wLHM9aVswXS50b3AraVswXS5oZWlnaHQ7aWYobi5mb3JFYWNoKGksZnVuY3Rpb24odCl7bz1NYXRoLm1pbihvLHQudG9wKSxzPU1hdGgubWF4KHMsdC50b3ArdC5oZWlnaHQpfSksbz50LmF4aXMpe3ZhciByPW8tdC5heGlzO3MtPXIsbi5mb3JFYWNoKGksZnVuY3Rpb24odCl7dC50b3AtPXJ9KX1lPXMrdC5pdGVtLnZlcnRpY2FsLzJ9ZWxzZSBlPTA7cmV0dXJuIGU9TWF0aC5tYXgoZSx0aGlzLnByb3BzLmxhYmVsLmhlaWdodCl9LG8ucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt0aGlzLmRvbS5sYWJlbC5wYXJlbnROb2RlfHx0aGlzLml0ZW1TZXQuZG9tLmxhYmVsU2V0LmFwcGVuZENoaWxkKHRoaXMuZG9tLmxhYmVsKSx0aGlzLmRvbS5mb3JlZ3JvdW5kLnBhcmVudE5vZGV8fHRoaXMuaXRlbVNldC5kb20uZm9yZWdyb3VuZC5hcHBlbmRDaGlsZCh0aGlzLmRvbS5mb3JlZ3JvdW5kKSx0aGlzLmRvbS5iYWNrZ3JvdW5kLnBhcmVudE5vZGV8fHRoaXMuaXRlbVNldC5kb20uYmFja2dyb3VuZC5hcHBlbmRDaGlsZCh0aGlzLmRvbS5iYWNrZ3JvdW5kKSx0aGlzLmRvbS5heGlzLnBhcmVudE5vZGV8fHRoaXMuaXRlbVNldC5kb20uYXhpcy5hcHBlbmRDaGlsZCh0aGlzLmRvbS5heGlzKX0sby5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZG9tLmxhYmVsO3QucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpO3ZhciBlPXRoaXMuZG9tLmZvcmVncm91bmQ7ZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSk7dmFyIGk9dGhpcy5kb20uYmFja2dyb3VuZDtpLnBhcmVudE5vZGUmJmkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpKTt2YXIgbz10aGlzLmRvbS5heGlzO28ucGFyZW50Tm9kZSYmby5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG8pfSxvLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7aWYodGhpcy5pdGVtc1t0LmlkXT10LHQuc2V0UGFyZW50KHRoaXMpLHZvaWQgMCE9PXQuZGF0YS5zdWJncm91cCYmKHZvaWQgMD09PXRoaXMuc3ViZ3JvdXBzW3QuZGF0YS5zdWJncm91cF0mJih0aGlzLnN1Ymdyb3Vwc1t0LmRhdGEuc3ViZ3JvdXBdPXtoZWlnaHQ6MCx2aXNpYmxlOiExLGluZGV4OnRoaXMuc3ViZ3JvdXBJbmRleCxpdGVtczpbXX0sdGhpcy5zdWJncm91cEluZGV4KyspLHRoaXMuc3ViZ3JvdXBzW3QuZGF0YS5zdWJncm91cF0uaXRlbXMucHVzaCh0KSksdGhpcy5vcmRlclN1Ymdyb3VwcygpLC0xPT10aGlzLnZpc2libGVJdGVtcy5pbmRleE9mKHQpKXt2YXIgZT10aGlzLml0ZW1TZXQuYm9keS5yYW5nZTt0aGlzLl9jaGVja0lmVmlzaWJsZSh0LHRoaXMudmlzaWJsZUl0ZW1zLGUpfX0sby5wcm90b3R5cGUub3JkZXJTdWJncm91cHM9ZnVuY3Rpb24oKXtpZih2b2lkIDAhPT10aGlzLnN1Ymdyb3VwT3JkZXJlcil7dmFyIHQ9W107aWYoXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMuc3ViZ3JvdXBPcmRlcmVyKXtmb3IodmFyIGUgaW4gdGhpcy5zdWJncm91cHMpdC5wdXNoKHtzdWJncm91cDplLHNvcnRGaWVsZDp0aGlzLnN1Ymdyb3Vwc1tlXS5pdGVtc1swXS5kYXRhW3RoaXMuc3ViZ3JvdXBPcmRlcmVyXX0pO3Quc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0LnNvcnRGaWVsZC1lLnNvcnRGaWVsZH0pfWVsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5zdWJncm91cE9yZGVyZXIpe2Zvcih2YXIgZSBpbiB0aGlzLnN1Ymdyb3Vwcyl0LnB1c2godGhpcy5zdWJncm91cHNbZV0uaXRlbXNbMF0uZGF0YSk7dC5zb3J0KHRoaXMuc3ViZ3JvdXBPcmRlcmVyKX1pZih0Lmxlbmd0aD4wKWZvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXRoaXMuc3ViZ3JvdXBzW3RbaV0uc3ViZ3JvdXBdLmluZGV4PWl9fSxvLnByb3RvdHlwZS5yZXNldFN1Ymdyb3Vwcz1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLnN1Ymdyb3Vwcyl0aGlzLnN1Ymdyb3Vwcy5oYXNPd25Qcm9wZXJ0eSh0KSYmKHRoaXMuc3ViZ3JvdXBzW3RdLnZpc2libGU9ITEpfSxvLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7ZGVsZXRlIHRoaXMuaXRlbXNbdC5pZF0sdC5zZXRQYXJlbnQobnVsbCk7dmFyIGU9dGhpcy52aXNpYmxlSXRlbXMuaW5kZXhPZih0KTtpZigtMSE9ZSYmdGhpcy52aXNpYmxlSXRlbXMuc3BsaWNlKGUsMSksdm9pZCAwIT09dC5kYXRhLnN1Ymdyb3VwKXt2YXIgaT10aGlzLnN1Ymdyb3Vwc1t0LmRhdGEuc3ViZ3JvdXBdO2lmKGkpe3ZhciBvPWkuaXRlbXMuaW5kZXhPZih0KTtpLml0ZW1zLnNwbGljZShvLDEpLGkuaXRlbXMubGVuZ3RofHwoZGVsZXRlIHRoaXMuc3ViZ3JvdXBzW3QuZGF0YS5zdWJncm91cF0sdGhpcy5zdWJncm91cEluZGV4LS0pLHRoaXMub3JkZXJTdWJncm91cHMoKX19fSxvLnByb3RvdHlwZS5yZW1vdmVGcm9tRGF0YVNldD1mdW5jdGlvbih0KXt0aGlzLml0ZW1TZXQucmVtb3ZlSXRlbSh0LmlkKX0sby5wcm90b3R5cGUub3JkZXI9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9bi50b0FycmF5KHRoaXMuaXRlbXMpLGU9W10saT1bXSxvPTA7bzx0Lmxlbmd0aDtvKyspdm9pZCAwIT09dFtvXS5kYXRhLmVuZCYmaS5wdXNoKHRbb10pLGUucHVzaCh0W29dKTt0aGlzLm9yZGVyZWRJdGVtcz17YnlTdGFydDplLGJ5RW5kOml9LHMub3JkZXJCeVN0YXJ0KHRoaXMub3JkZXJlZEl0ZW1zLmJ5U3RhcnQpLHMub3JkZXJCeUVuZCh0aGlzLm9yZGVyZWRJdGVtcy5ieUVuZCl9LG8ucHJvdG90eXBlLl91cGRhdGVWaXNpYmxlSXRlbXM9ZnVuY3Rpb24odCxlLGkpe3ZhciBvLHMscj1bXSxhPXt9LGg9KGkuZW5kLWkuc3RhcnQpLzQsZD1pLnN0YXJ0LWgsbD1pLmVuZCtoLHU9ZnVuY3Rpb24odCl7cmV0dXJuIGQ+dD8tMTpsPj10PzA6MX07aWYoZS5sZW5ndGg+MClmb3Iocz0wO3M8ZS5sZW5ndGg7cysrKXRoaXMuX2NoZWNrSWZWaXNpYmxlV2l0aFJlZmVyZW5jZShlW3NdLHIsYSxpKTt2YXIgYz1uLmJpbmFyeVNlYXJjaEN1c3RvbSh0LmJ5U3RhcnQsdSxcImRhdGFcIixcInN0YXJ0XCIpO2lmKHRoaXMuX3RyYWNlVmlzaWJsZShjLHQuYnlTdGFydCxyLGEsZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YS5zdGFydDxkfHx0LmRhdGEuc3RhcnQ+bH0pLDE9PXRoaXMuY2hlY2tSYW5nZWRJdGVtcylmb3IodGhpcy5jaGVja1JhbmdlZEl0ZW1zPSExLHM9MDtzPHQuYnlFbmQubGVuZ3RoO3MrKyl0aGlzLl9jaGVja0lmVmlzaWJsZVdpdGhSZWZlcmVuY2UodC5ieUVuZFtzXSxyLGEsaSk7ZWxzZXt2YXIgcD1uLmJpbmFyeVNlYXJjaEN1c3RvbSh0LmJ5RW5kLHUsXCJkYXRhXCIsXCJlbmRcIik7dGhpcy5fdHJhY2VWaXNpYmxlKHAsdC5ieUVuZCxyLGEsZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YS5lbmQ8ZHx8dC5kYXRhLmVuZD5sfSl9Zm9yKHM9MDtzPHIubGVuZ3RoO3MrKylvPXJbc10sby5kaXNwbGF5ZWR8fG8uc2hvdygpLG8ucmVwb3NpdGlvblgoKTtyZXR1cm4gcn0sby5wcm90b3R5cGUuX3RyYWNlVmlzaWJsZT1mdW5jdGlvbih0LGUsaSxvLG4pe3ZhciBzLHI7aWYoLTEhPXQpe2ZvcihyPXQ7cj49MCYmKHM9ZVtyXSwhbihzKSk7ci0tKXZvaWQgMD09PW9bcy5pZF0mJihvW3MuaWRdPSEwLGkucHVzaChzKSk7Zm9yKHI9dCsxO3I8ZS5sZW5ndGgmJihzPWVbcl0sIW4ocykpO3IrKyl2b2lkIDA9PT1vW3MuaWRdJiYob1tzLmlkXT0hMCxpLnB1c2gocykpfX0sby5wcm90b3R5cGUuX2NoZWNrSWZWaXNpYmxlPWZ1bmN0aW9uKHQsZSxpKXt0LmlzVmlzaWJsZShpKT8odC5kaXNwbGF5ZWR8fHQuc2hvdygpLHQucmVwb3NpdGlvblgoKSxlLnB1c2godCkpOnQuZGlzcGxheWVkJiZ0LmhpZGUoKX0sby5wcm90b3R5cGUuX2NoZWNrSWZWaXNpYmxlV2l0aFJlZmVyZW5jZT1mdW5jdGlvbih0LGUsaSxvKXt0LmlzVmlzaWJsZShvKT92b2lkIDA9PT1pW3QuaWRdJiYoaVt0LmlkXT0hMCxlLnB1c2godCkpOnQuZGlzcGxheWVkJiZ0LmhpZGUoKX0sdC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSl7dmFyIGk9LjAwMTtlLm9yZGVyQnlTdGFydD1mdW5jdGlvbih0KXt0LnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5kYXRhLnN0YXJ0LWUuZGF0YS5zdGFydH0pfSxlLm9yZGVyQnlFbmQ9ZnVuY3Rpb24odCl7dC5zb3J0KGZ1bmN0aW9uKHQsZSl7dmFyIGk9XCJlbmRcImluIHQuZGF0YT90LmRhdGEuZW5kOnQuZGF0YS5zdGFydCxvPVwiZW5kXCJpbiBlLmRhdGE/ZS5kYXRhLmVuZDplLmRhdGEuc3RhcnQ7cmV0dXJuIGktb30pfSxlLnN0YWNrPWZ1bmN0aW9uKHQsaSxvKXt2YXIgbixzO2lmKG8pZm9yKG49MCxzPXQubGVuZ3RoO3M+bjtuKyspdFtuXS50b3A9bnVsbDtmb3Iobj0wLHM9dC5sZW5ndGg7cz5uO24rKyl7dmFyIHI9dFtuXTtpZihyLnN0YWNrJiZudWxsPT09ci50b3Ape3IudG9wPWkuYXhpcztkb3tmb3IodmFyIGE9bnVsbCxoPTAsZD10Lmxlbmd0aDtkPmg7aCsrKXt2YXIgbD10W2hdO2lmKG51bGwhPT1sLnRvcCYmbCE9PXImJmwuc3RhY2smJmUuY29sbGlzaW9uKHIsbCxpLml0ZW0pKXthPWw7YnJlYWt9fW51bGwhPWEmJihyLnRvcD1hLnRvcCthLmhlaWdodCtpLml0ZW0udmVydGljYWwpfXdoaWxlKGEpfX19LGUubm9zdGFjaz1mdW5jdGlvbih0LGUsaSl7dmFyIG8sbixzO2ZvcihvPTAsbj10Lmxlbmd0aDtuPm87bysrKWlmKHZvaWQgMCE9PXRbb10uZGF0YS5zdWJncm91cCl7cz1lLmF4aXM7Zm9yKHZhciByIGluIGkpaS5oYXNPd25Qcm9wZXJ0eShyKSYmMT09aVtyXS52aXNpYmxlJiZpW3JdLmluZGV4PGlbdFtvXS5kYXRhLnN1Ymdyb3VwXS5pbmRleCYmKHMrPWlbcl0uaGVpZ2h0K2UuaXRlbS52ZXJ0aWNhbCk7dFtvXS50b3A9c31lbHNlIHRbb10udG9wPWUuYXhpc30sZS5jb2xsaXNpb249ZnVuY3Rpb24odCxlLG8pe3JldHVybiB0LmxlZnQtby5ob3Jpem9udGFsK2k8ZS5sZWZ0K2Uud2lkdGgmJnQubGVmdCt0LndpZHRoK28uaG9yaXpvbnRhbC1pPmUubGVmdCYmdC50b3Atby52ZXJ0aWNhbCtpPGUudG9wK2UuaGVpZ2h0JiZ0LnRvcCt0LmhlaWdodCtvLnZlcnRpY2FsLWk+ZS50b3B9fSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbyh0LGUsaSl7aWYodGhpcy5wcm9wcz17Y29udGVudDp7d2lkdGg6MH19LHRoaXMub3ZlcmZsb3c9ITEsdCl7aWYodm9pZCAwPT10LnN0YXJ0KXRocm93IG5ldyBFcnJvcignUHJvcGVydHkgXCJzdGFydFwiIG1pc3NpbmcgaW4gaXRlbSAnK3QuaWQpO2lmKHZvaWQgMD09dC5lbmQpdGhyb3cgbmV3IEVycm9yKCdQcm9wZXJ0eSBcImVuZFwiIG1pc3NpbmcgaW4gaXRlbSAnK3QuaWQpfW4uY2FsbCh0aGlzLHQsZSxpKX12YXIgbj0oaSgyMCksaSgzNCkpO28ucHJvdG90eXBlPW5ldyBuKG51bGwsbnVsbCxudWxsKSxvLnByb3RvdHlwZS5iYXNlQ2xhc3NOYW1lPVwidmlzLWl0ZW0gdmlzLXJhbmdlXCIsby5wcm90b3R5cGUuaXNWaXNpYmxlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRhdGEuc3RhcnQ8dC5lbmQmJnRoaXMuZGF0YS5lbmQ+dC5zdGFydH0sby5wcm90b3R5cGUucmVkcmF3PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kb207aWYodHx8KHRoaXMuZG9tPXt9LHQ9dGhpcy5kb20sdC5ib3g9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0LmZyYW1lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdC5mcmFtZS5jbGFzc05hbWU9XCJ2aXMtaXRlbS1vdmVyZmxvd1wiLHQuYm94LmFwcGVuZENoaWxkKHQuZnJhbWUpLHQuY29udGVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHQuY29udGVudC5jbGFzc05hbWU9XCJ2aXMtaXRlbS1jb250ZW50XCIsdC5mcmFtZS5hcHBlbmRDaGlsZCh0LmNvbnRlbnQpLHQuYm94W1widGltZWxpbmUtaXRlbVwiXT10aGlzLHRoaXMuZGlydHk9ITApLCF0aGlzLnBhcmVudCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVkcmF3IGl0ZW06IG5vIHBhcmVudCBhdHRhY2hlZFwiKTtpZighdC5ib3gucGFyZW50Tm9kZSl7dmFyIGU9dGhpcy5wYXJlbnQuZG9tLmZvcmVncm91bmQ7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlZHJhdyBpdGVtOiBwYXJlbnQgaGFzIG5vIGZvcmVncm91bmQgY29udGFpbmVyIGVsZW1lbnRcIik7ZS5hcHBlbmRDaGlsZCh0LmJveCl9aWYodGhpcy5kaXNwbGF5ZWQ9ITAsdGhpcy5kaXJ0eSl7dGhpcy5fdXBkYXRlQ29udGVudHModGhpcy5kb20uY29udGVudCksdGhpcy5fdXBkYXRlVGl0bGUodGhpcy5kb20uYm94KSx0aGlzLl91cGRhdGVEYXRhQXR0cmlidXRlcyh0aGlzLmRvbS5ib3gpLHRoaXMuX3VwZGF0ZVN0eWxlKHRoaXMuZG9tLmJveCk7dmFyIGk9KHRoaXMub3B0aW9ucy5lZGl0YWJsZS51cGRhdGVUaW1lfHx0aGlzLm9wdGlvbnMuZWRpdGFibGUudXBkYXRlR3JvdXB8fHRoaXMuZWRpdGFibGU9PT0hMCkmJnRoaXMuZWRpdGFibGUhPT0hMSxvPSh0aGlzLmRhdGEuY2xhc3NOYW1lP1wiIFwiK3RoaXMuZGF0YS5jbGFzc05hbWU6XCJcIikrKHRoaXMuc2VsZWN0ZWQ/XCIgdmlzLXNlbGVjdGVkXCI6XCJcIikrKGk/XCIgdmlzLWVkaXRhYmxlXCI6XCIgdmlzLXJlYWRvbmx5XCIpO3QuYm94LmNsYXNzTmFtZT10aGlzLmJhc2VDbGFzc05hbWUrbyx0aGlzLm92ZXJmbG93PVwiaGlkZGVuXCIhPT13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0LmZyYW1lKS5vdmVyZmxvdyx0aGlzLmRvbS5jb250ZW50LnN0eWxlLm1heFdpZHRoPVwibm9uZVwiLHRoaXMucHJvcHMuY29udGVudC53aWR0aD10aGlzLmRvbS5jb250ZW50Lm9mZnNldFdpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuZG9tLmJveC5vZmZzZXRIZWlnaHQsdGhpcy5kb20uY29udGVudC5zdHlsZS5tYXhXaWR0aD1cIlwiLHRoaXMuZGlydHk9ITF9dGhpcy5fcmVwYWludERlbGV0ZUJ1dHRvbih0LmJveCksdGhpcy5fcmVwYWludERyYWdMZWZ0KCksdGhpcy5fcmVwYWludERyYWdSaWdodCgpfSxvLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dGhpcy5kaXNwbGF5ZWR8fHRoaXMucmVkcmF3KCl9LG8ucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXtpZih0aGlzLmRpc3BsYXllZCl7dmFyIHQ9dGhpcy5kb20uYm94O3QucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpLHRoaXMuZGlzcGxheWVkPSExfX0sby5wcm90b3R5cGUucmVwb3NpdGlvblg9ZnVuY3Rpb24odCl7dmFyIGUsaSxvPXRoaXMucGFyZW50LndpZHRoLG49dGhpcy5jb252ZXJzaW9uLnRvU2NyZWVuKHRoaXMuZGF0YS5zdGFydCkscz10aGlzLmNvbnZlcnNpb24udG9TY3JlZW4odGhpcy5kYXRhLmVuZCk7KHZvaWQgMD09PXR8fHQ9PT0hMCkmJigtbz5uJiYobj0tbykscz4yKm8mJihzPTIqbykpO3ZhciByPU1hdGgubWF4KHMtbiwxKTtzd2l0Y2godGhpcy5vdmVyZmxvdz8odGhpcy5sZWZ0PW4sdGhpcy53aWR0aD1yK3RoaXMucHJvcHMuY29udGVudC53aWR0aCxpPXRoaXMucHJvcHMuY29udGVudC53aWR0aCk6KHRoaXMubGVmdD1uLHRoaXMud2lkdGg9cixpPU1hdGgubWluKHMtbix0aGlzLnByb3BzLmNvbnRlbnQud2lkdGgpKSx0aGlzLmRvbS5ib3guc3R5bGUubGVmdD10aGlzLmxlZnQrXCJweFwiLHRoaXMuZG9tLmJveC5zdHlsZS53aWR0aD1yK1wicHhcIix0aGlzLm9wdGlvbnMuYWxpZ24pe2Nhc2VcImxlZnRcIjp0aGlzLmRvbS5jb250ZW50LnN0eWxlLmxlZnQ9XCIwXCI7YnJlYWs7Y2FzZVwicmlnaHRcIjp0aGlzLmRvbS5jb250ZW50LnN0eWxlLmxlZnQ9TWF0aC5tYXgoci1pLDApK1wicHhcIjticmVhaztjYXNlXCJjZW50ZXJcIjp0aGlzLmRvbS5jb250ZW50LnN0eWxlLmxlZnQ9TWF0aC5tYXgoKHItaSkvMiwwKStcInB4XCI7YnJlYWs7ZGVmYXVsdDplPXRoaXMub3ZlcmZsb3c/cz4wP01hdGgubWF4KC1uLDApOi1pOjA+bj8tbjowLHRoaXMuZG9tLmNvbnRlbnQuc3R5bGUubGVmdD1lK1wicHhcIn19LG8ucHJvdG90eXBlLnJlcG9zaXRpb25ZPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLm9yaWVudGF0aW9uLml0ZW0sZT10aGlzLmRvbS5ib3g7XCJ0b3BcIj09dD9lLnN0eWxlLnRvcD10aGlzLnRvcCtcInB4XCI6ZS5zdHlsZS50b3A9dGhpcy5wYXJlbnQuaGVpZ2h0LXRoaXMudG9wLXRoaXMuaGVpZ2h0K1wicHhcIn0sby5wcm90b3R5cGUuX3JlcGFpbnREcmFnTGVmdD1mdW5jdGlvbigpe2lmKHRoaXMuc2VsZWN0ZWQmJnRoaXMub3B0aW9ucy5lZGl0YWJsZS51cGRhdGVUaW1lJiYhdGhpcy5kb20uZHJhZ0xlZnQpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5jbGFzc05hbWU9XCJ2aXMtZHJhZy1sZWZ0XCIsdC5kcmFnTGVmdEl0ZW09dGhpcyx0aGlzLmRvbS5ib3guYXBwZW5kQ2hpbGQodCksdGhpcy5kb20uZHJhZ0xlZnQ9dH1lbHNlIXRoaXMuc2VsZWN0ZWQmJnRoaXMuZG9tLmRyYWdMZWZ0JiYodGhpcy5kb20uZHJhZ0xlZnQucGFyZW50Tm9kZSYmdGhpcy5kb20uZHJhZ0xlZnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRvbS5kcmFnTGVmdCksdGhpcy5kb20uZHJhZ0xlZnQ9bnVsbCl9LG8ucHJvdG90eXBlLl9yZXBhaW50RHJhZ1JpZ2h0PWZ1bmN0aW9uKCl7aWYodGhpcy5zZWxlY3RlZCYmdGhpcy5vcHRpb25zLmVkaXRhYmxlLnVwZGF0ZVRpbWUmJiF0aGlzLmRvbS5kcmFnUmlnaHQpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5jbGFzc05hbWU9XCJ2aXMtZHJhZy1yaWdodFwiLHQuZHJhZ1JpZ2h0SXRlbT10aGlzLHRoaXMuZG9tLmJveC5hcHBlbmRDaGlsZCh0KSx0aGlzLmRvbS5kcmFnUmlnaHQ9dH1lbHNlIXRoaXMuc2VsZWN0ZWQmJnRoaXMuZG9tLmRyYWdSaWdodCYmKHRoaXMuZG9tLmRyYWdSaWdodC5wYXJlbnROb2RlJiZ0aGlzLmRvbS5kcmFnUmlnaHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRvbS5kcmFnUmlnaHQpLHRoaXMuZG9tLmRyYWdSaWdodD1udWxsKX0sdC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQsZSxpKXt0aGlzLmlkPW51bGwsdGhpcy5wYXJlbnQ9bnVsbCx0aGlzLmRhdGE9dCx0aGlzLmRvbT1udWxsLHRoaXMuY29udmVyc2lvbj1lfHx7fSx0aGlzLm9wdGlvbnM9aXx8e30sdGhpcy5zZWxlY3RlZD0hMSx0aGlzLmRpc3BsYXllZD0hMSx0aGlzLmRpcnR5PSEwLHRoaXMudG9wPW51bGwsdGhpcy5sZWZ0PW51bGwsdGhpcy53aWR0aD1udWxsLHRoaXMuaGVpZ2h0PW51bGwsdGhpcy5lZGl0YWJsZT1udWxsLHRoaXMuZGF0YSYmdGhpcy5kYXRhLmhhc093blByb3BlcnR5KFwiZWRpdGFibGVcIikmJlwiYm9vbGVhblwiPT10eXBlb2YgdGhpcy5kYXRhLmVkaXRhYmxlJiYodGhpcy5lZGl0YWJsZT10LmVkaXRhYmxlKX12YXIgbj1pKDIwKSxzPWkoMSk7by5wcm90b3R5cGUuc3RhY2s9ITAsby5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZD0hMCx0aGlzLmRpcnR5PSEwLHRoaXMuZGlzcGxheWVkJiZ0aGlzLnJlZHJhdygpfSxvLnByb3RvdHlwZS51bnNlbGVjdD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWQ9ITEsdGhpcy5kaXJ0eT0hMCx0aGlzLmRpc3BsYXllZCYmdGhpcy5yZWRyYXcoKX0sby5wcm90b3R5cGUuc2V0RGF0YT1mdW5jdGlvbih0KXt2YXIgZT12b2lkIDAhPXQuZ3JvdXAmJnRoaXMuZGF0YS5ncm91cCE9dC5ncm91cDtlJiZ0aGlzLnBhcmVudC5pdGVtU2V0Ll9tb3ZlVG9Hcm91cCh0aGlzLHQuZ3JvdXApLHQuaGFzT3duUHJvcGVydHkoXCJlZGl0YWJsZVwiKSYmXCJib29sZWFuXCI9PXR5cGVvZiB0LmVkaXRhYmxlJiYodGhpcy5lZGl0YWJsZT10LmVkaXRhYmxlKSx0aGlzLmRhdGE9dCx0aGlzLmRpcnR5PSEwLHRoaXMuZGlzcGxheWVkJiZ0aGlzLnJlZHJhdygpfSxvLnByb3RvdHlwZS5zZXRQYXJlbnQ9ZnVuY3Rpb24odCl7dGhpcy5kaXNwbGF5ZWQ/KHRoaXMuaGlkZSgpLHRoaXMucGFyZW50PXQsdGhpcy5wYXJlbnQmJnRoaXMuc2hvdygpKTp0aGlzLnBhcmVudD10fSxvLnByb3RvdHlwZS5pc1Zpc2libGU9ZnVuY3Rpb24odCl7cmV0dXJuITF9LG8ucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sby5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3JldHVybiExfSxvLnByb3RvdHlwZS5yZWRyYXc9ZnVuY3Rpb24oKXt9LG8ucHJvdG90eXBlLnJlcG9zaXRpb25YPWZ1bmN0aW9uKCl7fSxvLnByb3RvdHlwZS5yZXBvc2l0aW9uWT1mdW5jdGlvbigpe30sby5wcm90b3R5cGUuX3JlcGFpbnREZWxldGVCdXR0b249ZnVuY3Rpb24odCl7dmFyIGU9KHRoaXMub3B0aW9ucy5lZGl0YWJsZS5yZW1vdmV8fHRoaXMuZGF0YS5lZGl0YWJsZT09PSEwKSYmdGhpcy5kYXRhLmVkaXRhYmxlIT09ITE7aWYodGhpcy5zZWxlY3RlZCYmZSYmIXRoaXMuZG9tLmRlbGV0ZUJ1dHRvbil7dmFyIGk9dGhpcyxvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7by5jbGFzc05hbWU9XCJ2aXMtZGVsZXRlXCIsby50aXRsZT1cIkRlbGV0ZSB0aGlzIGl0ZW1cIixuZXcgbihvKS5vbihcInRhcFwiLGZ1bmN0aW9uKHQpe3Quc3RvcFByb3BhZ2F0aW9uKCksaS5wYXJlbnQucmVtb3ZlRnJvbURhdGFTZXQoaSl9KSx0LmFwcGVuZENoaWxkKG8pLHRoaXMuZG9tLmRlbGV0ZUJ1dHRvbj1vfWVsc2UhdGhpcy5zZWxlY3RlZCYmdGhpcy5kb20uZGVsZXRlQnV0dG9uJiYodGhpcy5kb20uZGVsZXRlQnV0dG9uLnBhcmVudE5vZGUmJnRoaXMuZG9tLmRlbGV0ZUJ1dHRvbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZG9tLmRlbGV0ZUJ1dHRvbiksdGhpcy5kb20uZGVsZXRlQnV0dG9uPW51bGwpfSxvLnByb3RvdHlwZS5fdXBkYXRlQ29udGVudHM9ZnVuY3Rpb24odCl7dmFyIGU7aWYodGhpcy5vcHRpb25zLnRlbXBsYXRlKXt2YXIgaT10aGlzLnBhcmVudC5pdGVtU2V0Lml0ZW1zRGF0YS5nZXQodGhpcy5pZCk7ZT10aGlzLm9wdGlvbnMudGVtcGxhdGUoaSl9ZWxzZSBlPXRoaXMuZGF0YS5jb250ZW50O3ZhciBvPXRoaXMuX2NvbnRlbnRUb1N0cmluZyh0aGlzLmNvbnRlbnQpIT09dGhpcy5fY29udGVudFRvU3RyaW5nKGUpO2lmKG8pe2lmKGUgaW5zdGFuY2VvZiBFbGVtZW50KXQuaW5uZXJIVE1MPVwiXCIsdC5hcHBlbmRDaGlsZChlKTtlbHNlIGlmKHZvaWQgMCE9ZSl0LmlubmVySFRNTD1lO2Vsc2UgaWYoXCJiYWNrZ3JvdW5kXCIhPXRoaXMuZGF0YS50eXBlfHx2b2lkIDAhPT10aGlzLmRhdGEuY29udGVudCl0aHJvdyBuZXcgRXJyb3IoJ1Byb3BlcnR5IFwiY29udGVudFwiIG1pc3NpbmcgaW4gaXRlbSAnK3RoaXMuaWQpO3RoaXMuY29udGVudD1lfX0sby5wcm90b3R5cGUuX3VwZGF0ZVRpdGxlPWZ1bmN0aW9uKHQpe251bGwhPXRoaXMuZGF0YS50aXRsZT90LnRpdGxlPXRoaXMuZGF0YS50aXRsZXx8XCJcIjp0LnJlbW92ZUF0dHJpYnV0ZShcInZpcy10aXRsZVwiKX0sby5wcm90b3R5cGUuX3VwZGF0ZURhdGFBdHRyaWJ1dGVzPWZ1bmN0aW9uKHQpe2lmKHRoaXMub3B0aW9ucy5kYXRhQXR0cmlidXRlcyYmdGhpcy5vcHRpb25zLmRhdGFBdHRyaWJ1dGVzLmxlbmd0aD4wKXt2YXIgZT1bXTtpZihBcnJheS5pc0FycmF5KHRoaXMub3B0aW9ucy5kYXRhQXR0cmlidXRlcykpZT10aGlzLm9wdGlvbnMuZGF0YUF0dHJpYnV0ZXM7ZWxzZXtpZihcImFsbFwiIT10aGlzLm9wdGlvbnMuZGF0YUF0dHJpYnV0ZXMpcmV0dXJuO2U9T2JqZWN0LmtleXModGhpcy5kYXRhKX1mb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXSxuPXRoaXMuZGF0YVtvXTtudWxsIT1uP3Quc2V0QXR0cmlidXRlKFwiZGF0YS1cIitvLG4pOnQucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1cIitvKX19fSxvLnByb3RvdHlwZS5fdXBkYXRlU3R5bGU9ZnVuY3Rpb24odCl7dGhpcy5zdHlsZSYmKHMucmVtb3ZlQ3NzVGV4dCh0LHRoaXMuc3R5bGUpLHRoaXMuc3R5bGU9bnVsbCksdGhpcy5kYXRhLnN0eWxlJiYocy5hZGRDc3NUZXh0KHQsdGhpcy5kYXRhLnN0eWxlKSx0aGlzLnN0eWxlPXRoaXMuZGF0YS5zdHlsZSl9LG8ucHJvdG90eXBlLl9jb250ZW50VG9TdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/dDp0JiZcIm91dGVySFRNTFwiaW4gdD90Lm91dGVySFRNTDp0fSxvLnByb3RvdHlwZS5nZXRXaWR0aExlZnQ9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sby5wcm90b3R5cGUuZ2V0V2lkdGhSaWdodD1mdW5jdGlvbigpe3JldHVybiAwfSx0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCxlLGkpe24uY2FsbCh0aGlzLHQsZSxpKSx0aGlzLndpZHRoPTAsdGhpcy5oZWlnaHQ9MCx0aGlzLnRvcD0wLHRoaXMubGVmdD0wfXZhciBuPShpKDEpLGkoMzEpKTtvLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSxvLnByb3RvdHlwZS5yZWRyYXc9ZnVuY3Rpb24odCxlLGkpe3ZhciBvPSExO3RoaXMudmlzaWJsZUl0ZW1zPXRoaXMuX3VwZGF0ZVZpc2libGVJdGVtcyh0aGlzLm9yZGVyZWRJdGVtcyx0aGlzLnZpc2libGVJdGVtcyx0KSx0aGlzLndpZHRoPXRoaXMuZG9tLmJhY2tncm91bmQub2Zmc2V0V2lkdGgsdGhpcy5kb20uYmFja2dyb3VuZC5zdHlsZS5oZWlnaHQ9XCIwXCI7Zm9yKHZhciBuPTAscz10aGlzLnZpc2libGVJdGVtcy5sZW5ndGg7cz5uO24rKyl7dmFyIHI9dGhpcy52aXNpYmxlSXRlbXNbbl07ci5yZXBvc2l0aW9uWShlKX1yZXR1cm4gb30sby5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3RoaXMuZG9tLmJhY2tncm91bmQucGFyZW50Tm9kZXx8dGhpcy5pdGVtU2V0LmRvbS5iYWNrZ3JvdW5kLmFwcGVuZENoaWxkKHRoaXMuZG9tLmJhY2tncm91bmQpfSx0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCxlLGkpe2lmKHRoaXMucHJvcHM9e2RvdDp7d2lkdGg6MCxoZWlnaHQ6MH0sbGluZTp7d2lkdGg6MCxoZWlnaHQ6MH19LHQmJnZvaWQgMD09dC5zdGFydCl0aHJvdyBuZXcgRXJyb3IoJ1Byb3BlcnR5IFwic3RhcnRcIiBtaXNzaW5nIGluIGl0ZW0gJyt0KTtuLmNhbGwodGhpcyx0LGUsaSl9dmFyIG49aSgzNCk7aSgxKTtvLnByb3RvdHlwZT1uZXcgbihudWxsLG51bGwsbnVsbCksby5wcm90b3R5cGUuaXNWaXNpYmxlPWZ1bmN0aW9uKHQpe3ZhciBlPSh0LmVuZC10LnN0YXJ0KS80O3JldHVybiB0aGlzLmRhdGEuc3RhcnQ+dC5zdGFydC1lJiZ0aGlzLmRhdGEuc3RhcnQ8dC5lbmQrZX0sby5wcm90b3R5cGUucmVkcmF3PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kb207aWYodHx8KHRoaXMuZG9tPXt9LHQ9dGhpcy5kb20sdC5ib3g9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKSx0LmNvbnRlbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKSx0LmNvbnRlbnQuY2xhc3NOYW1lPVwidmlzLWl0ZW0tY29udGVudFwiLHQuYm94LmFwcGVuZENoaWxkKHQuY29udGVudCksdC5saW5lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIiksdC5saW5lLmNsYXNzTmFtZT1cInZpcy1saW5lXCIsdC5kb3Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKSx0LmRvdC5jbGFzc05hbWU9XCJ2aXMtZG90XCIsdC5ib3hbXCJ0aW1lbGluZS1pdGVtXCJdPXRoaXMsdGhpcy5kaXJ0eT0hMCksIXRoaXMucGFyZW50KXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZWRyYXcgaXRlbTogbm8gcGFyZW50IGF0dGFjaGVkXCIpO2lmKCF0LmJveC5wYXJlbnROb2RlKXt2YXIgZT10aGlzLnBhcmVudC5kb20uZm9yZWdyb3VuZDtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVkcmF3IGl0ZW06IHBhcmVudCBoYXMgbm8gZm9yZWdyb3VuZCBjb250YWluZXIgZWxlbWVudFwiKTtlLmFwcGVuZENoaWxkKHQuYm94KX1pZighdC5saW5lLnBhcmVudE5vZGUpe3ZhciBpPXRoaXMucGFyZW50LmRvbS5iYWNrZ3JvdW5kO2lmKCFpKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZWRyYXcgaXRlbTogcGFyZW50IGhhcyBubyBiYWNrZ3JvdW5kIGNvbnRhaW5lciBlbGVtZW50XCIpO2kuYXBwZW5kQ2hpbGQodC5saW5lKX1pZighdC5kb3QucGFyZW50Tm9kZSl7dmFyIG89dGhpcy5wYXJlbnQuZG9tLmF4aXM7aWYoIWkpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlZHJhdyBpdGVtOiBwYXJlbnQgaGFzIG5vIGF4aXMgY29udGFpbmVyIGVsZW1lbnRcIik7by5hcHBlbmRDaGlsZCh0LmRvdCl9aWYodGhpcy5kaXNwbGF5ZWQ9ITAsdGhpcy5kaXJ0eSl7dGhpcy5fdXBkYXRlQ29udGVudHModGhpcy5kb20uY29udGVudCksdGhpcy5fdXBkYXRlVGl0bGUodGhpcy5kb20uYm94KSx0aGlzLl91cGRhdGVEYXRhQXR0cmlidXRlcyh0aGlzLmRvbS5ib3gpLHRoaXMuX3VwZGF0ZVN0eWxlKHRoaXMuZG9tLmJveCk7dmFyIG49KHRoaXMub3B0aW9ucy5lZGl0YWJsZS51cGRhdGVUaW1lfHx0aGlzLm9wdGlvbnMuZWRpdGFibGUudXBkYXRlR3JvdXB8fHRoaXMuZWRpdGFibGU9PT0hMCkmJnRoaXMuZWRpdGFibGUhPT0hMSxzPSh0aGlzLmRhdGEuY2xhc3NOYW1lP1wiIFwiK3RoaXMuZGF0YS5jbGFzc05hbWU6XCJcIikrKHRoaXMuc2VsZWN0ZWQ/XCIgdmlzLXNlbGVjdGVkXCI6XCJcIikrKG4/XCIgdmlzLWVkaXRhYmxlXCI6XCIgdmlzLXJlYWRvbmx5XCIpO3QuYm94LmNsYXNzTmFtZT1cInZpcy1pdGVtIHZpcy1ib3hcIitzLHQubGluZS5jbGFzc05hbWU9XCJ2aXMtaXRlbSB2aXMtbGluZVwiK3MsdC5kb3QuY2xhc3NOYW1lPVwidmlzLWl0ZW0gdmlzLWRvdFwiK3MsdGhpcy5wcm9wcy5kb3QuaGVpZ2h0PXQuZG90Lm9mZnNldEhlaWdodCx0aGlzLnByb3BzLmRvdC53aWR0aD10LmRvdC5vZmZzZXRXaWR0aCx0aGlzLnByb3BzLmxpbmUud2lkdGg9dC5saW5lLm9mZnNldFdpZHRoLHRoaXMud2lkdGg9dC5ib3gub2Zmc2V0V2lkdGgsdGhpcy5oZWlnaHQ9dC5ib3gub2Zmc2V0SGVpZ2h0LHRoaXMuZGlydHk9ITF9dGhpcy5fcmVwYWludERlbGV0ZUJ1dHRvbih0LmJveCl9LG8ucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt0aGlzLmRpc3BsYXllZHx8dGhpcy5yZWRyYXcoKX0sby5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe2lmKHRoaXMuZGlzcGxheWVkKXt2YXIgdD10aGlzLmRvbTt0LmJveC5wYXJlbnROb2RlJiZ0LmJveC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQuYm94KSx0LmxpbmUucGFyZW50Tm9kZSYmdC5saW5lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodC5saW5lKSx0LmRvdC5wYXJlbnROb2RlJiZ0LmRvdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQuZG90KSx0aGlzLmRpc3BsYXllZD0hMX19LG8ucHJvdG90eXBlLnJlcG9zaXRpb25YPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb252ZXJzaW9uLnRvU2NyZWVuKHRoaXMuZGF0YS5zdGFydCksZT10aGlzLm9wdGlvbnMuYWxpZ247XCJyaWdodFwiPT1lP3RoaXMubGVmdD10LXRoaXMud2lkdGg6XCJsZWZ0XCI9PWU/dGhpcy5sZWZ0PXQ6dGhpcy5sZWZ0PXQtdGhpcy53aWR0aC8yLHRoaXMuZG9tLmJveC5zdHlsZS5sZWZ0PXRoaXMubGVmdCtcInB4XCIsdGhpcy5kb20ubGluZS5zdHlsZS5sZWZ0PXQtdGhpcy5wcm9wcy5saW5lLndpZHRoLzIrXCJweFwiLHRoaXMuZG9tLmRvdC5zdHlsZS5sZWZ0PXQtdGhpcy5wcm9wcy5kb3Qud2lkdGgvMitcInB4XCJ9LG8ucHJvdG90eXBlLnJlcG9zaXRpb25ZPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLm9yaWVudGF0aW9uLml0ZW0sZT10aGlzLmRvbS5ib3gsaT10aGlzLmRvbS5saW5lLG89dGhpcy5kb20uZG90O2lmKFwidG9wXCI9PXQpZS5zdHlsZS50b3A9KHRoaXMudG9wfHwwKStcInB4XCIsaS5zdHlsZS50b3A9XCIwXCIsaS5zdHlsZS5oZWlnaHQ9dGhpcy5wYXJlbnQudG9wK3RoaXMudG9wKzErXCJweFwiLGkuc3R5bGUuYm90dG9tPVwiXCI7ZWxzZXt2YXIgbj10aGlzLnBhcmVudC5pdGVtU2V0LnByb3BzLmhlaWdodCxzPW4tdGhpcy5wYXJlbnQudG9wLXRoaXMucGFyZW50LmhlaWdodCt0aGlzLnRvcDtlLnN0eWxlLnRvcD0odGhpcy5wYXJlbnQuaGVpZ2h0LXRoaXMudG9wLXRoaXMuaGVpZ2h0fHwwKStcInB4XCIsaS5zdHlsZS50b3A9bi1zK1wicHhcIixpLnN0eWxlLmJvdHRvbT1cIjBcIn1vLnN0eWxlLnRvcD0tdGhpcy5wcm9wcy5kb3QuaGVpZ2h0LzIrXCJweFwifSxvLnByb3RvdHlwZS5nZXRXaWR0aExlZnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53aWR0aC8yfSxvLnByb3RvdHlwZS5nZXRXaWR0aFJpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2lkdGgvMn0sdC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQsZSxpKXtpZih0aGlzLnByb3BzPXtkb3Q6e3RvcDowLHdpZHRoOjAsaGVpZ2h0OjB9LGNvbnRlbnQ6e2hlaWdodDowLG1hcmdpbkxlZnQ6MH19LHQmJnZvaWQgMD09dC5zdGFydCl0aHJvdyBuZXcgRXJyb3IoJ1Byb3BlcnR5IFwic3RhcnRcIiBtaXNzaW5nIGluIGl0ZW0gJyt0KTtuLmNhbGwodGhpcyx0LGUsaSl9dmFyIG49aSgzNCk7by5wcm90b3R5cGU9bmV3IG4obnVsbCxudWxsLG51bGwpLG8ucHJvdG90eXBlLmlzVmlzaWJsZT1mdW5jdGlvbih0KXt2YXIgZT0odC5lbmQtdC5zdGFydCkvNDtyZXR1cm4gdGhpcy5kYXRhLnN0YXJ0PnQuc3RhcnQtZSYmdGhpcy5kYXRhLnN0YXJ0PHQuZW5kK2V9LG8ucHJvdG90eXBlLnJlZHJhdz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZG9tO2lmKHR8fCh0aGlzLmRvbT17fSx0PXRoaXMuZG9tLHQucG9pbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0LmNvbnRlbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0LmNvbnRlbnQuY2xhc3NOYW1lPVwidmlzLWl0ZW0tY29udGVudFwiLHQucG9pbnQuYXBwZW5kQ2hpbGQodC5jb250ZW50KSx0LmRvdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHQucG9pbnQuYXBwZW5kQ2hpbGQodC5kb3QpLHQucG9pbnRbXCJ0aW1lbGluZS1pdGVtXCJdPXRoaXMsdGhpcy5kaXJ0eT0hMCksIXRoaXMucGFyZW50KXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZWRyYXcgaXRlbTogbm8gcGFyZW50IGF0dGFjaGVkXCIpO2lmKCF0LnBvaW50LnBhcmVudE5vZGUpe3ZhciBlPXRoaXMucGFyZW50LmRvbS5mb3JlZ3JvdW5kO2lmKCFlKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZWRyYXcgaXRlbTogcGFyZW50IGhhcyBubyBmb3JlZ3JvdW5kIGNvbnRhaW5lciBlbGVtZW50XCIpO2UuYXBwZW5kQ2hpbGQodC5wb2ludCl9aWYodGhpcy5kaXNwbGF5ZWQ9ITAsdGhpcy5kaXJ0eSl7dGhpcy5fdXBkYXRlQ29udGVudHModGhpcy5kb20uY29udGVudCksdGhpcy5fdXBkYXRlVGl0bGUodGhpcy5kb20ucG9pbnQpLHRoaXMuX3VwZGF0ZURhdGFBdHRyaWJ1dGVzKHRoaXMuZG9tLnBvaW50KSx0aGlzLl91cGRhdGVTdHlsZSh0aGlzLmRvbS5wb2ludCk7dmFyIGk9KHRoaXMub3B0aW9ucy5lZGl0YWJsZS51cGRhdGVUaW1lfHx0aGlzLm9wdGlvbnMuZWRpdGFibGUudXBkYXRlR3JvdXB8fHRoaXMuZWRpdGFibGU9PT0hMCkmJnRoaXMuZWRpdGFibGUhPT0hMSxvPSh0aGlzLmRhdGEuY2xhc3NOYW1lP1wiIFwiK3RoaXMuZGF0YS5jbGFzc05hbWU6XCJcIikrKHRoaXMuc2VsZWN0ZWQ/XCIgdmlzLXNlbGVjdGVkXCI6XCJcIikrKGk/XCIgdmlzLWVkaXRhYmxlXCI6XCIgdmlzLXJlYWRvbmx5XCIpO3QucG9pbnQuY2xhc3NOYW1lPVwidmlzLWl0ZW0gdmlzLXBvaW50XCIrbyx0LmRvdC5jbGFzc05hbWU9XCJ2aXMtaXRlbSB2aXMtZG90XCIrbyx0aGlzLnByb3BzLmRvdC53aWR0aD10LmRvdC5vZmZzZXRXaWR0aCx0aGlzLnByb3BzLmRvdC5oZWlnaHQ9dC5kb3Qub2Zmc2V0SGVpZ2h0LHRoaXMucHJvcHMuY29udGVudC5oZWlnaHQ9dC5jb250ZW50Lm9mZnNldEhlaWdodCx0LmNvbnRlbnQuc3R5bGUubWFyZ2luTGVmdD0yKnRoaXMucHJvcHMuZG90LndpZHRoK1wicHhcIix0aGlzLndpZHRoPXQucG9pbnQub2Zmc2V0V2lkdGgsdGhpcy5oZWlnaHQ9dC5wb2ludC5vZmZzZXRIZWlnaHQsdC5kb3Quc3R5bGUudG9wPSh0aGlzLmhlaWdodC10aGlzLnByb3BzLmRvdC5oZWlnaHQpLzIrXCJweFwiLHQuZG90LnN0eWxlLmxlZnQ9dGhpcy5wcm9wcy5kb3Qud2lkdGgvMitcInB4XCIsdGhpcy5kaXJ0eT0hMX10aGlzLl9yZXBhaW50RGVsZXRlQnV0dG9uKHQucG9pbnQpfSxvLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dGhpcy5kaXNwbGF5ZWR8fHRoaXMucmVkcmF3KCl9LG8ucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLmRpc3BsYXllZCYmKHRoaXMuZG9tLnBvaW50LnBhcmVudE5vZGUmJnRoaXMuZG9tLnBvaW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kb20ucG9pbnQpLHRoaXMuZGlzcGxheWVkPSExKX0sby5wcm90b3R5cGUucmVwb3NpdGlvblg9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnZlcnNpb24udG9TY3JlZW4odGhpcy5kYXRhLnN0YXJ0KTt0aGlzLmxlZnQ9dC10aGlzLnByb3BzLmRvdC53aWR0aCx0aGlzLmRvbS5wb2ludC5zdHlsZS5sZWZ0PXRoaXMubGVmdCtcInB4XCJ9LG8ucHJvdG90eXBlLnJlcG9zaXRpb25ZPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLm9yaWVudGF0aW9uLml0ZW0sZT10aGlzLmRvbS5wb2ludDtcInRvcFwiPT10P2Uuc3R5bGUudG9wPXRoaXMudG9wK1wicHhcIjplLnN0eWxlLnRvcD10aGlzLnBhcmVudC5oZWlnaHQtdGhpcy50b3AtdGhpcy5oZWlnaHQrXCJweFwifSxvLnByb3RvdHlwZS5nZXRXaWR0aExlZnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wcy5kb3Qud2lkdGh9LG8ucHJvdG90eXBlLmdldFdpZHRoUmlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53aWR0aC10aGlzLnByb3BzLmRvdC53aWR0aH0sdC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQsZSxpKXtpZih0aGlzLnByb3BzPXtjb250ZW50Ont3aWR0aDowfX0sdGhpcy5vdmVyZmxvdz0hMSx0KXtpZih2b2lkIDA9PXQuc3RhcnQpdGhyb3cgbmV3IEVycm9yKCdQcm9wZXJ0eSBcInN0YXJ0XCIgbWlzc2luZyBpbiBpdGVtICcrdC5pZCk7aWYodm9pZCAwPT10LmVuZCl0aHJvdyBuZXcgRXJyb3IoJ1Byb3BlcnR5IFwiZW5kXCIgbWlzc2luZyBpbiBpdGVtICcrdC5pZCl9bi5jYWxsKHRoaXMsdCxlLGkpfXZhciBuPShpKDIwKSxpKDM0KSkscz1pKDM1KSxyPWkoMzMpO28ucHJvdG90eXBlPW5ldyBuKG51bGwsbnVsbCxudWxsKSxvLnByb3RvdHlwZS5iYXNlQ2xhc3NOYW1lPVwidmlzLWl0ZW0gdmlzLWJhY2tncm91bmRcIixvLnByb3RvdHlwZS5zdGFjaz0hMSxvLnByb3RvdHlwZS5pc1Zpc2libGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGF0YS5zdGFydDx0LmVuZCYmdGhpcy5kYXRhLmVuZD50LnN0YXJ0fSxvLnByb3RvdHlwZS5yZWRyYXc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRvbTtpZih0fHwodGhpcy5kb209e30sdD10aGlzLmRvbSx0LmJveD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHQuZnJhbWU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0LmZyYW1lLmNsYXNzTmFtZT1cInZpcy1pdGVtLW92ZXJmbG93XCIsdC5ib3guYXBwZW5kQ2hpbGQodC5mcmFtZSksdC5jb250ZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdC5jb250ZW50LmNsYXNzTmFtZT1cInZpcy1pdGVtLWNvbnRlbnRcIix0LmZyYW1lLmFwcGVuZENoaWxkKHQuY29udGVudCksdGhpcy5kaXJ0eT0hMCksIXRoaXMucGFyZW50KXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZWRyYXcgaXRlbTogbm8gcGFyZW50IGF0dGFjaGVkXCIpO2lmKCF0LmJveC5wYXJlbnROb2RlKXt2YXIgZT10aGlzLnBhcmVudC5kb20uYmFja2dyb3VuZDtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVkcmF3IGl0ZW06IHBhcmVudCBoYXMgbm8gYmFja2dyb3VuZCBjb250YWluZXIgZWxlbWVudFwiKTtlLmFwcGVuZENoaWxkKHQuYm94KX1pZih0aGlzLmRpc3BsYXllZD0hMCx0aGlzLmRpcnR5KXt0aGlzLl91cGRhdGVDb250ZW50cyh0aGlzLmRvbS5jb250ZW50KSx0aGlzLl91cGRhdGVUaXRsZSh0aGlzLmRvbS5jb250ZW50KSx0aGlzLl91cGRhdGVEYXRhQXR0cmlidXRlcyh0aGlzLmRvbS5jb250ZW50KSx0aGlzLl91cGRhdGVTdHlsZSh0aGlzLmRvbS5ib3gpO3ZhciBpPSh0aGlzLmRhdGEuY2xhc3NOYW1lP1wiIFwiK3RoaXMuZGF0YS5jbGFzc05hbWU6XCJcIikrKHRoaXMuc2VsZWN0ZWQ/XCIgdmlzLXNlbGVjdGVkXCI6XCJcIik7dC5ib3guY2xhc3NOYW1lPXRoaXMuYmFzZUNsYXNzTmFtZStpLHRoaXMub3ZlcmZsb3c9XCJoaWRkZW5cIiE9PXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHQuY29udGVudCkub3ZlcmZsb3csdGhpcy5wcm9wcy5jb250ZW50LndpZHRoPXRoaXMuZG9tLmNvbnRlbnQub2Zmc2V0V2lkdGgsdGhpcy5oZWlnaHQ9MCx0aGlzLmRpcnR5PSExfX0sby5wcm90b3R5cGUuc2hvdz1yLnByb3RvdHlwZS5zaG93LG8ucHJvdG90eXBlLmhpZGU9ci5wcm90b3R5cGUuaGlkZSxvLnByb3RvdHlwZS5yZXBvc2l0aW9uWD1yLnByb3RvdHlwZS5yZXBvc2l0aW9uWCxcbm8ucHJvdG90eXBlLnJlcG9zaXRpb25ZPWZ1bmN0aW9uKHQpe3ZhciBlPVwidG9wXCI9PT10aGlzLm9wdGlvbnMub3JpZW50YXRpb24uaXRlbTt0aGlzLmRvbS5jb250ZW50LnN0eWxlLnRvcD1lP1wiXCI6XCIwXCIsdGhpcy5kb20uY29udGVudC5zdHlsZS5ib3R0b209ZT9cIjBcIjpcIlwiO3ZhciBpO2lmKHZvaWQgMCE9PXRoaXMuZGF0YS5zdWJncm91cCl7dmFyIG89dGhpcy5kYXRhLnN1Ymdyb3VwLG49dGhpcy5wYXJlbnQuc3ViZ3JvdXBzLHI9bltvXS5pbmRleDtpZigxPT1lKXtpPXRoaXMucGFyZW50LnN1Ymdyb3Vwc1tvXS5oZWlnaHQrdC5pdGVtLnZlcnRpY2FsLGkrPTA9PXI/dC5heGlzLS41KnQuaXRlbS52ZXJ0aWNhbDowO3ZhciBhPXRoaXMucGFyZW50LnRvcDtmb3IodmFyIGggaW4gbiluLmhhc093blByb3BlcnR5KGgpJiYxPT1uW2hdLnZpc2libGUmJm5baF0uaW5kZXg8ciYmKGErPW5baF0uaGVpZ2h0K3QuaXRlbS52ZXJ0aWNhbCk7YSs9MCE9cj90LmF4aXMtLjUqdC5pdGVtLnZlcnRpY2FsOjAsdGhpcy5kb20uYm94LnN0eWxlLnRvcD1hK1wicHhcIix0aGlzLmRvbS5ib3guc3R5bGUuYm90dG9tPVwiXCJ9ZWxzZXt2YXIgYT10aGlzLnBhcmVudC50b3AsZD0wO2Zvcih2YXIgaCBpbiBuKWlmKG4uaGFzT3duUHJvcGVydHkoaCkmJjE9PW5baF0udmlzaWJsZSl7dmFyIGw9bltoXS5oZWlnaHQrdC5pdGVtLnZlcnRpY2FsO2QrPWwsbltoXS5pbmRleD5yJiYoYSs9bCl9aT10aGlzLnBhcmVudC5zdWJncm91cHNbb10uaGVpZ2h0K3QuaXRlbS52ZXJ0aWNhbCx0aGlzLmRvbS5ib3guc3R5bGUudG9wPXRoaXMucGFyZW50LmhlaWdodC1kK2ErXCJweFwiLHRoaXMuZG9tLmJveC5zdHlsZS5ib3R0b209XCJcIn19ZWxzZSB0aGlzLnBhcmVudCBpbnN0YW5jZW9mIHM/KGk9TWF0aC5tYXgodGhpcy5wYXJlbnQuaGVpZ2h0LHRoaXMucGFyZW50Lml0ZW1TZXQuYm9keS5kb21Qcm9wcy5jZW50ZXIuaGVpZ2h0LHRoaXMucGFyZW50Lml0ZW1TZXQuYm9keS5kb21Qcm9wcy5jZW50ZXJDb250YWluZXIuaGVpZ2h0KSx0aGlzLmRvbS5ib3guc3R5bGUudG9wPWU/XCIwXCI6XCJcIix0aGlzLmRvbS5ib3guc3R5bGUuYm90dG9tPWU/XCJcIjpcIjBcIik6KGk9dGhpcy5wYXJlbnQuaGVpZ2h0LHRoaXMuZG9tLmJveC5zdHlsZS50b3A9dGhpcy5wYXJlbnQudG9wK1wicHhcIix0aGlzLmRvbS5ib3guc3R5bGUuYm90dG9tPVwiXCIpO3RoaXMuZG9tLmJveC5zdHlsZS5oZWlnaHQ9aStcInB4XCJ9LHQuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbyh0LGUpe3RoaXMuZG9tPXtmb3JlZ3JvdW5kOm51bGwsbGluZXM6W10sbWFqb3JUZXh0czpbXSxtaW5vclRleHRzOltdLHJlZHVuZGFudDp7bGluZXM6W10sbWFqb3JUZXh0czpbXSxtaW5vclRleHRzOltdfX0sdGhpcy5wcm9wcz17cmFuZ2U6e3N0YXJ0OjAsZW5kOjAsbWluaW11bVN0ZXA6MH0sbGluZVRvcDowfSx0aGlzLmRlZmF1bHRPcHRpb25zPXtvcmllbnRhdGlvbjp7YXhpczpcImJvdHRvbVwifSxzaG93TWlub3JMYWJlbHM6ITAsc2hvd01ham9yTGFiZWxzOiEwLG1heE1pbm9yQ2hhcnM6Nyxmb3JtYXQ6ci5GT1JNQVQsbW9tZW50OmgsdGltZUF4aXM6bnVsbH0sdGhpcy5vcHRpb25zPW4uZXh0ZW5kKHt9LHRoaXMuZGVmYXVsdE9wdGlvbnMpLHRoaXMuYm9keT10LHRoaXMuX2NyZWF0ZSgpLHRoaXMuc2V0T3B0aW9ucyhlKX12YXIgbj1pKDEpLHM9aSgyNikscj1pKDMwKSxhPWkoMjcpLGg9aSgyKTtvLnByb3RvdHlwZT1uZXcgcyxvLnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKHQpe3QmJihuLnNlbGVjdGl2ZUV4dGVuZChbXCJzaG93TWlub3JMYWJlbHNcIixcInNob3dNYWpvckxhYmVsc1wiLFwibWF4TWlub3JDaGFyc1wiLFwiaGlkZGVuRGF0ZXNcIixcInRpbWVBeGlzXCIsXCJtb21lbnRcIl0sdGhpcy5vcHRpb25zLHQpLG4uc2VsZWN0aXZlRGVlcEV4dGVuZChbXCJmb3JtYXRcIl0sdGhpcy5vcHRpb25zLHQpLFwib3JpZW50YXRpb25cImluIHQmJihcInN0cmluZ1wiPT10eXBlb2YgdC5vcmllbnRhdGlvbj90aGlzLm9wdGlvbnMub3JpZW50YXRpb24uYXhpcz10Lm9yaWVudGF0aW9uOlwib2JqZWN0XCI9PXR5cGVvZiB0Lm9yaWVudGF0aW9uJiZcImF4aXNcImluIHQub3JpZW50YXRpb24mJih0aGlzLm9wdGlvbnMub3JpZW50YXRpb24uYXhpcz10Lm9yaWVudGF0aW9uLmF4aXMpKSxcImxvY2FsZVwiaW4gdCYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGgubG9jYWxlP2gubG9jYWxlKHQubG9jYWxlKTpoLmxhbmcodC5sb2NhbGUpKSl9LG8ucHJvdG90eXBlLl9jcmVhdGU9ZnVuY3Rpb24oKXt0aGlzLmRvbS5mb3JlZ3JvdW5kPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5kb20uYmFja2dyb3VuZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZG9tLmZvcmVncm91bmQuY2xhc3NOYW1lPVwidmlzLXRpbWUtYXhpcyB2aXMtZm9yZWdyb3VuZFwiLHRoaXMuZG9tLmJhY2tncm91bmQuY2xhc3NOYW1lPVwidmlzLXRpbWUtYXhpcyB2aXMtYmFja2dyb3VuZFwifSxvLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5kb20uZm9yZWdyb3VuZC5wYXJlbnROb2RlJiZ0aGlzLmRvbS5mb3JlZ3JvdW5kLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kb20uZm9yZWdyb3VuZCksdGhpcy5kb20uYmFja2dyb3VuZC5wYXJlbnROb2RlJiZ0aGlzLmRvbS5iYWNrZ3JvdW5kLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kb20uYmFja2dyb3VuZCksdGhpcy5ib2R5PW51bGx9LG8ucHJvdG90eXBlLnJlZHJhdz1mdW5jdGlvbigpe3ZhciB0PXRoaXMucHJvcHMsZT10aGlzLmRvbS5mb3JlZ3JvdW5kLGk9dGhpcy5kb20uYmFja2dyb3VuZCxvPVwidG9wXCI9PXRoaXMub3B0aW9ucy5vcmllbnRhdGlvbi5heGlzP3RoaXMuYm9keS5kb20udG9wOnRoaXMuYm9keS5kb20uYm90dG9tLG49ZS5wYXJlbnROb2RlIT09bzt0aGlzLl9jYWxjdWxhdGVDaGFyU2l6ZSgpO3ZhciBzPXRoaXMub3B0aW9ucy5zaG93TWlub3JMYWJlbHMmJlwibm9uZVwiIT09dGhpcy5vcHRpb25zLm9yaWVudGF0aW9uLmF4aXMscj10aGlzLm9wdGlvbnMuc2hvd01ham9yTGFiZWxzJiZcIm5vbmVcIiE9PXRoaXMub3B0aW9ucy5vcmllbnRhdGlvbi5heGlzO3QubWlub3JMYWJlbEhlaWdodD1zP3QubWlub3JDaGFySGVpZ2h0OjAsdC5tYWpvckxhYmVsSGVpZ2h0PXI/dC5tYWpvckNoYXJIZWlnaHQ6MCx0LmhlaWdodD10Lm1pbm9yTGFiZWxIZWlnaHQrdC5tYWpvckxhYmVsSGVpZ2h0LHQud2lkdGg9ZS5vZmZzZXRXaWR0aCx0Lm1pbm9yTGluZUhlaWdodD10aGlzLmJvZHkuZG9tUHJvcHMucm9vdC5oZWlnaHQtdC5tYWpvckxhYmVsSGVpZ2h0LShcInRvcFwiPT10aGlzLm9wdGlvbnMub3JpZW50YXRpb24uYXhpcz90aGlzLmJvZHkuZG9tUHJvcHMuYm90dG9tLmhlaWdodDp0aGlzLmJvZHkuZG9tUHJvcHMudG9wLmhlaWdodCksdC5taW5vckxpbmVXaWR0aD0xLHQubWFqb3JMaW5lSGVpZ2h0PXQubWlub3JMaW5lSGVpZ2h0K3QubWFqb3JMYWJlbEhlaWdodCx0Lm1ham9yTGluZVdpZHRoPTE7dmFyIGE9ZS5uZXh0U2libGluZyxoPWkubmV4dFNpYmxpbmc7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLGkucGFyZW50Tm9kZSYmaS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGkpLGUuc3R5bGUuaGVpZ2h0PXRoaXMucHJvcHMuaGVpZ2h0K1wicHhcIix0aGlzLl9yZXBhaW50TGFiZWxzKCksYT9vLmluc2VydEJlZm9yZShlLGEpOm8uYXBwZW5kQ2hpbGQoZSksaD90aGlzLmJvZHkuZG9tLmJhY2tncm91bmRWZXJ0aWNhbC5pbnNlcnRCZWZvcmUoaSxoKTp0aGlzLmJvZHkuZG9tLmJhY2tncm91bmRWZXJ0aWNhbC5hcHBlbmRDaGlsZChpKSx0aGlzLl9pc1Jlc2l6ZWQoKXx8bn0sby5wcm90b3R5cGUuX3JlcGFpbnRMYWJlbHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMub3JpZW50YXRpb24uYXhpcyxlPW4uY29udmVydCh0aGlzLmJvZHkucmFuZ2Uuc3RhcnQsXCJOdW1iZXJcIiksaT1uLmNvbnZlcnQodGhpcy5ib2R5LnJhbmdlLmVuZCxcIk51bWJlclwiKSxvPXRoaXMuYm9keS51dGlsLnRvVGltZSgodGhpcy5wcm9wcy5taW5vckNoYXJXaWR0aHx8MTApKnRoaXMub3B0aW9ucy5tYXhNaW5vckNoYXJzKS52YWx1ZU9mKCkscz1vLWEuZ2V0SGlkZGVuRHVyYXRpb25CZWZvcmUodGhpcy5vcHRpb25zLm1vbWVudCx0aGlzLmJvZHkuaGlkZGVuRGF0ZXMsdGhpcy5ib2R5LnJhbmdlLG8pO3MtPXRoaXMuYm9keS51dGlsLnRvVGltZSgwKS52YWx1ZU9mKCk7dmFyIGg9bmV3IHIobmV3IERhdGUoZSksbmV3IERhdGUoaSkscyx0aGlzLmJvZHkuaGlkZGVuRGF0ZXMpO2guc2V0TW9tZW50KHRoaXMub3B0aW9ucy5tb21lbnQpLHRoaXMub3B0aW9ucy5mb3JtYXQmJmguc2V0Rm9ybWF0KHRoaXMub3B0aW9ucy5mb3JtYXQpLHRoaXMub3B0aW9ucy50aW1lQXhpcyYmaC5zZXRTY2FsZSh0aGlzLm9wdGlvbnMudGltZUF4aXMpLHRoaXMuc3RlcD1oO3ZhciBsPXRoaXMuZG9tO2wucmVkdW5kYW50LmxpbmVzPWwubGluZXMsbC5yZWR1bmRhbnQubWFqb3JUZXh0cz1sLm1ham9yVGV4dHMsbC5yZWR1bmRhbnQubWlub3JUZXh0cz1sLm1pbm9yVGV4dHMsbC5saW5lcz1bXSxsLm1ham9yVGV4dHM9W10sbC5taW5vclRleHRzPVtdO3ZhciB1LGMscCxmLG0sdixnLHksYix3LF89MCx4PXZvaWQgMCxrPTAsTz0xZTM7Zm9yKGguc3RhcnQoKSxjPWguZ2V0Q3VycmVudCgpLGY9dGhpcy5ib2R5LnV0aWwudG9TY3JlZW4oYyk7aC5oYXNOZXh0KCkmJk8+azspe2srKyxtPWguaXNNYWpvcigpLHc9aC5nZXRDbGFzc05hbWUoKSxiPWguZ2V0TGFiZWxNaW5vcigpLHU9YyxwPWYsaC5uZXh0KCksYz1oLmdldEN1cnJlbnQoKSx2PWguaXNNYWpvcigpLGY9dGhpcy5ib2R5LnV0aWwudG9TY3JlZW4oYyksZz1fLF89Zi1wO3ZhciBNPV8+PS40Kmc7aWYodGhpcy5vcHRpb25zLnNob3dNaW5vckxhYmVscyYmTSl7dmFyIEQ9dGhpcy5fcmVwYWludE1pbm9yVGV4dChwLGIsdCx3KTtELnN0eWxlLndpZHRoPV8rXCJweFwifW0mJnRoaXMub3B0aW9ucy5zaG93TWFqb3JMYWJlbHM/KHA+MCYmKHZvaWQgMD09eCYmKHg9cCksRD10aGlzLl9yZXBhaW50TWFqb3JUZXh0KHAsaC5nZXRMYWJlbE1ham9yKCksdCx3KSkseT10aGlzLl9yZXBhaW50TWFqb3JMaW5lKHAsXyx0LHcpKTpNP3k9dGhpcy5fcmVwYWludE1pbm9yTGluZShwLF8sdCx3KTp5JiYoeS5zdHlsZS53aWR0aD1wYXJzZUludCh5LnN0eWxlLndpZHRoKStfK1wicHhcIil9aWYoayE9PU98fGR8fChjb25zb2xlLndhcm4oXCJTb21ldGhpbmcgaXMgd3Jvbmcgd2l0aCB0aGUgVGltZWxpbmUgc2NhbGUuIExpbWl0ZWQgZHJhd2luZyBvZiBncmlkIGxpbmVzIHRvIFwiK08rXCIgbGluZXMuXCIpLGQ9ITApLHRoaXMub3B0aW9ucy5zaG93TWFqb3JMYWJlbHMpe3ZhciBDPXRoaXMuYm9keS51dGlsLnRvVGltZSgwKSxUPWguZ2V0TGFiZWxNYWpvcihDKSxTPVQubGVuZ3RoKih0aGlzLnByb3BzLm1ham9yQ2hhcldpZHRofHwxMCkrMTA7KHZvaWQgMD09eHx8eD5TKSYmdGhpcy5fcmVwYWludE1ham9yVGV4dCgwLFQsdCx3KX1uLmZvckVhY2godGhpcy5kb20ucmVkdW5kYW50LGZ1bmN0aW9uKHQpe2Zvcig7dC5sZW5ndGg7KXt2YXIgZT10LnBvcCgpO2UmJmUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpfX0pfSxvLnByb3RvdHlwZS5fcmVwYWludE1pbm9yVGV4dD1mdW5jdGlvbih0LGUsaSxvKXt2YXIgbj10aGlzLmRvbS5yZWR1bmRhbnQubWlub3JUZXh0cy5zaGlmdCgpO2lmKCFuKXt2YXIgcz1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTtuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksbi5hcHBlbmRDaGlsZChzKSx0aGlzLmRvbS5mb3JlZ3JvdW5kLmFwcGVuZENoaWxkKG4pfXJldHVybiB0aGlzLmRvbS5taW5vclRleHRzLnB1c2gobiksbi5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZT1lLG4uc3R5bGUudG9wPVwidG9wXCI9PWk/dGhpcy5wcm9wcy5tYWpvckxhYmVsSGVpZ2h0K1wicHhcIjpcIjBcIixuLnN0eWxlLmxlZnQ9dCtcInB4XCIsbi5jbGFzc05hbWU9XCJ2aXMtdGV4dCB2aXMtbWlub3IgXCIrbyxufSxvLnByb3RvdHlwZS5fcmVwYWludE1ham9yVGV4dD1mdW5jdGlvbih0LGUsaSxvKXt2YXIgbj10aGlzLmRvbS5yZWR1bmRhbnQubWFqb3JUZXh0cy5zaGlmdCgpO2lmKCFuKXt2YXIgcz1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKTtuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksbi5hcHBlbmRDaGlsZChzKSx0aGlzLmRvbS5mb3JlZ3JvdW5kLmFwcGVuZENoaWxkKG4pfXJldHVybiB0aGlzLmRvbS5tYWpvclRleHRzLnB1c2gobiksbi5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZT1lLG4uY2xhc3NOYW1lPVwidmlzLXRleHQgdmlzLW1ham9yIFwiK28sbi5zdHlsZS50b3A9XCJ0b3BcIj09aT9cIjBcIjp0aGlzLnByb3BzLm1pbm9yTGFiZWxIZWlnaHQrXCJweFwiLG4uc3R5bGUubGVmdD10K1wicHhcIixufSxvLnByb3RvdHlwZS5fcmVwYWludE1pbm9yTGluZT1mdW5jdGlvbih0LGUsaSxvKXt2YXIgbj10aGlzLmRvbS5yZWR1bmRhbnQubGluZXMuc2hpZnQoKTtufHwobj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZG9tLmJhY2tncm91bmQuYXBwZW5kQ2hpbGQobikpLHRoaXMuZG9tLmxpbmVzLnB1c2gobik7dmFyIHM9dGhpcy5wcm9wcztyZXR1cm5cInRvcFwiPT1pP24uc3R5bGUudG9wPXMubWFqb3JMYWJlbEhlaWdodCtcInB4XCI6bi5zdHlsZS50b3A9dGhpcy5ib2R5LmRvbVByb3BzLnRvcC5oZWlnaHQrXCJweFwiLG4uc3R5bGUuaGVpZ2h0PXMubWlub3JMaW5lSGVpZ2h0K1wicHhcIixuLnN0eWxlLmxlZnQ9dC1zLm1pbm9yTGluZVdpZHRoLzIrXCJweFwiLG4uc3R5bGUud2lkdGg9ZStcInB4XCIsbi5jbGFzc05hbWU9XCJ2aXMtZ3JpZCB2aXMtdmVydGljYWwgdmlzLW1pbm9yIFwiK28sbn0sby5wcm90b3R5cGUuX3JlcGFpbnRNYWpvckxpbmU9ZnVuY3Rpb24odCxlLGksbyl7dmFyIG49dGhpcy5kb20ucmVkdW5kYW50LmxpbmVzLnNoaWZ0KCk7bnx8KG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmRvbS5iYWNrZ3JvdW5kLmFwcGVuZENoaWxkKG4pKSx0aGlzLmRvbS5saW5lcy5wdXNoKG4pO3ZhciBzPXRoaXMucHJvcHM7cmV0dXJuXCJ0b3BcIj09aT9uLnN0eWxlLnRvcD1cIjBcIjpuLnN0eWxlLnRvcD10aGlzLmJvZHkuZG9tUHJvcHMudG9wLmhlaWdodCtcInB4XCIsbi5zdHlsZS5sZWZ0PXQtcy5tYWpvckxpbmVXaWR0aC8yK1wicHhcIixuLnN0eWxlLmhlaWdodD1zLm1ham9yTGluZUhlaWdodCtcInB4XCIsbi5zdHlsZS53aWR0aD1lK1wicHhcIixuLmNsYXNzTmFtZT1cInZpcy1ncmlkIHZpcy12ZXJ0aWNhbCB2aXMtbWFqb3IgXCIrbyxufSxvLnByb3RvdHlwZS5fY2FsY3VsYXRlQ2hhclNpemU9ZnVuY3Rpb24oKXt0aGlzLmRvbS5tZWFzdXJlQ2hhck1pbm9yfHwodGhpcy5kb20ubWVhc3VyZUNoYXJNaW5vcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpLHRoaXMuZG9tLm1lYXN1cmVDaGFyTWlub3IuY2xhc3NOYW1lPVwidmlzLXRleHQgdmlzLW1pbm9yIHZpcy1tZWFzdXJlXCIsdGhpcy5kb20ubWVhc3VyZUNoYXJNaW5vci5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy5kb20ubWVhc3VyZUNoYXJNaW5vci5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIjBcIikpLHRoaXMuZG9tLmZvcmVncm91bmQuYXBwZW5kQ2hpbGQodGhpcy5kb20ubWVhc3VyZUNoYXJNaW5vcikpLHRoaXMucHJvcHMubWlub3JDaGFySGVpZ2h0PXRoaXMuZG9tLm1lYXN1cmVDaGFyTWlub3IuY2xpZW50SGVpZ2h0LHRoaXMucHJvcHMubWlub3JDaGFyV2lkdGg9dGhpcy5kb20ubWVhc3VyZUNoYXJNaW5vci5jbGllbnRXaWR0aCx0aGlzLmRvbS5tZWFzdXJlQ2hhck1ham9yfHwodGhpcy5kb20ubWVhc3VyZUNoYXJNYWpvcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpLHRoaXMuZG9tLm1lYXN1cmVDaGFyTWFqb3IuY2xhc3NOYW1lPVwidmlzLXRleHQgdmlzLW1ham9yIHZpcy1tZWFzdXJlXCIsdGhpcy5kb20ubWVhc3VyZUNoYXJNYWpvci5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy5kb20ubWVhc3VyZUNoYXJNYWpvci5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIjBcIikpLHRoaXMuZG9tLmZvcmVncm91bmQuYXBwZW5kQ2hpbGQodGhpcy5kb20ubWVhc3VyZUNoYXJNYWpvcikpLHRoaXMucHJvcHMubWFqb3JDaGFySGVpZ2h0PXRoaXMuZG9tLm1lYXN1cmVDaGFyTWFqb3IuY2xpZW50SGVpZ2h0LHRoaXMucHJvcHMubWFqb3JDaGFyV2lkdGg9dGhpcy5kb20ubWVhc3VyZUNoYXJNYWpvci5jbGllbnRXaWR0aH07dmFyIGQ9ITE7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQpe3RoaXMuYWN0aXZlPSExLHRoaXMuZG9tPXtjb250YWluZXI6dH0sdGhpcy5kb20ub3ZlcmxheT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZG9tLm92ZXJsYXkuY2xhc3NOYW1lPVwidmlzLW92ZXJsYXlcIix0aGlzLmRvbS5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5kb20ub3ZlcmxheSksdGhpcy5oYW1tZXI9YSh0aGlzLmRvbS5vdmVybGF5KSx0aGlzLmhhbW1lci5vbihcInRhcFwiLHRoaXMuX29uVGFwT3ZlcmxheS5iaW5kKHRoaXMpKTt2YXIgZT10aGlzLGk9W1widGFwXCIsXCJkb3VibGV0YXBcIixcInByZXNzXCIsXCJwaW5jaFwiLFwicGFuXCIsXCJwYW5zdGFydFwiLFwicGFubW92ZVwiLFwicGFuZW5kXCJdO2kuZm9yRWFjaChmdW5jdGlvbih0KXtlLmhhbW1lci5vbih0LGZ1bmN0aW9uKHQpe3Quc3RvcFByb3BhZ2F0aW9uKCl9KX0pLGRvY3VtZW50JiZkb2N1bWVudC5ib2R5JiYodGhpcy5vbkNsaWNrPWZ1bmN0aW9uKGkpe24oaS50YXJnZXQsdCl8fGUuZGVhY3RpdmF0ZSgpfSxkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMub25DbGljaykpLHZvaWQgMCE9PXRoaXMua2V5Y2hhcm0mJnRoaXMua2V5Y2hhcm0uZGVzdHJveSgpLHRoaXMua2V5Y2hhcm09cygpLHRoaXMuZXNjTGlzdGVuZXI9dGhpcy5kZWFjdGl2YXRlLmJpbmQodGhpcyl9ZnVuY3Rpb24gbih0LGUpe2Zvcig7dDspe2lmKHQ9PT1lKXJldHVybiEwO3Q9dC5wYXJlbnROb2RlfXJldHVybiExfXZhciBzPWkoNDEpLHI9aSgxMiksYT1pKDIwKSxoPWkoMSk7cihvLnByb3RvdHlwZSksby5jdXJyZW50PW51bGwsby5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZGVhY3RpdmF0ZSgpLHRoaXMuZG9tLm92ZXJsYXkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRvbS5vdmVybGF5KSx0aGlzLm9uQ2xpY2smJmRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5vbkNsaWNrKSx0aGlzLmhhbW1lci5kZXN0cm95KCksdGhpcy5oYW1tZXI9bnVsbH0sby5wcm90b3R5cGUuYWN0aXZhdGU9ZnVuY3Rpb24oKXtvLmN1cnJlbnQmJm8uY3VycmVudC5kZWFjdGl2YXRlKCksby5jdXJyZW50PXRoaXMsdGhpcy5hY3RpdmU9ITAsdGhpcy5kb20ub3ZlcmxheS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGguYWRkQ2xhc3NOYW1lKHRoaXMuZG9tLmNvbnRhaW5lcixcInZpcy1hY3RpdmVcIiksdGhpcy5lbWl0KFwiY2hhbmdlXCIpLHRoaXMuZW1pdChcImFjdGl2YXRlXCIpLHRoaXMua2V5Y2hhcm0uYmluZChcImVzY1wiLHRoaXMuZXNjTGlzdGVuZXIpfSxvLnByb3RvdHlwZS5kZWFjdGl2YXRlPWZ1bmN0aW9uKCl7dGhpcy5hY3RpdmU9ITEsdGhpcy5kb20ub3ZlcmxheS5zdHlsZS5kaXNwbGF5PVwiXCIsaC5yZW1vdmVDbGFzc05hbWUodGhpcy5kb20uY29udGFpbmVyLFwidmlzLWFjdGl2ZVwiKSx0aGlzLmtleWNoYXJtLnVuYmluZChcImVzY1wiLHRoaXMuZXNjTGlzdGVuZXIpLHRoaXMuZW1pdChcImNoYW5nZVwiKSx0aGlzLmVtaXQoXCJkZWFjdGl2YXRlXCIpfSxvLnByb3RvdHlwZS5fb25UYXBPdmVybGF5PWZ1bmN0aW9uKHQpe3RoaXMuYWN0aXZhdGUoKSx0LnN0b3BQcm9wYWdhdGlvbigpfSx0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlLGkpe3ZhciBvLG4sczshZnVuY3Rpb24oaSxyKXtuPVtdLG89cixzPVwiZnVuY3Rpb25cIj09dHlwZW9mIG8/by5hcHBseShlLG4pOm8sISh2b2lkIDAhPT1zJiYodC5leHBvcnRzPXMpKX0odGhpcyxmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIGUsaT10JiZ0LnByZXZlbnREZWZhdWx0fHwhMSxvPXQmJnQuY29udGFpbmVyfHx3aW5kb3csbj17fSxzPXtrZXlkb3duOnt9LGtleXVwOnt9fSxyPXt9O2ZvcihlPTk3OzEyMj49ZTtlKyspcltTdHJpbmcuZnJvbUNoYXJDb2RlKGUpXT17Y29kZTo2NSsoZS05Nyksc2hpZnQ6ITF9O2ZvcihlPTY1OzkwPj1lO2UrKylyW1N0cmluZy5mcm9tQ2hhckNvZGUoZSldPXtjb2RlOmUsc2hpZnQ6ITB9O2ZvcihlPTA7OT49ZTtlKyspcltcIlwiK2VdPXtjb2RlOjQ4K2Usc2hpZnQ6ITF9O2ZvcihlPTE7MTI+PWU7ZSsrKXJbXCJGXCIrZV09e2NvZGU6MTExK2Usc2hpZnQ6ITF9O2ZvcihlPTA7OT49ZTtlKyspcltcIm51bVwiK2VdPXtjb2RlOjk2K2Usc2hpZnQ6ITF9O3JbXCJudW0qXCJdPXtjb2RlOjEwNixzaGlmdDohMX0scltcIm51bStcIl09e2NvZGU6MTA3LHNoaWZ0OiExfSxyW1wibnVtLVwiXT17Y29kZToxMDksc2hpZnQ6ITF9LHJbXCJudW0vXCJdPXtjb2RlOjExMSxzaGlmdDohMX0scltcIm51bS5cIl09e2NvZGU6MTEwLHNoaWZ0OiExfSxyLmxlZnQ9e2NvZGU6Mzcsc2hpZnQ6ITF9LHIudXA9e2NvZGU6Mzgsc2hpZnQ6ITF9LHIucmlnaHQ9e2NvZGU6Mzksc2hpZnQ6ITF9LHIuZG93bj17Y29kZTo0MCxzaGlmdDohMX0sci5zcGFjZT17Y29kZTozMixzaGlmdDohMX0sci5lbnRlcj17Y29kZToxMyxzaGlmdDohMX0sci5zaGlmdD17Y29kZToxNixzaGlmdDp2b2lkIDB9LHIuZXNjPXtjb2RlOjI3LHNoaWZ0OiExfSxyLmJhY2tzcGFjZT17Y29kZTo4LHNoaWZ0OiExfSxyLnRhYj17Y29kZTo5LHNoaWZ0OiExfSxyLmN0cmw9e2NvZGU6MTcsc2hpZnQ6ITF9LHIuYWx0PXtjb2RlOjE4LHNoaWZ0OiExfSxyW1wiZGVsZXRlXCJdPXtjb2RlOjQ2LHNoaWZ0OiExfSxyLnBhZ2V1cD17Y29kZTozMyxzaGlmdDohMX0sci5wYWdlZG93bj17Y29kZTozNCxzaGlmdDohMX0scltcIj1cIl09e2NvZGU6MTg3LHNoaWZ0OiExfSxyW1wiLVwiXT17Y29kZToxODksc2hpZnQ6ITF9LHJbXCJdXCJdPXtjb2RlOjIyMSxzaGlmdDohMX0scltcIltcIl09e2NvZGU6MjE5LHNoaWZ0OiExfTt2YXIgYT1mdW5jdGlvbih0KXtkKHQsXCJrZXlkb3duXCIpfSxoPWZ1bmN0aW9uKHQpe2QodCxcImtleXVwXCIpfSxkPWZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwIT09c1tlXVt0LmtleUNvZGVdKXtmb3IodmFyIG89c1tlXVt0LmtleUNvZGVdLG49MDtuPG8ubGVuZ3RoO24rKyl2b2lkIDA9PT1vW25dLnNoaWZ0P29bbl0uZm4odCk6MT09b1tuXS5zaGlmdCYmMT09dC5zaGlmdEtleT9vW25dLmZuKHQpOjA9PW9bbl0uc2hpZnQmJjA9PXQuc2hpZnRLZXkmJm9bbl0uZm4odCk7MT09aSYmdC5wcmV2ZW50RGVmYXVsdCgpfX07cmV0dXJuIG4uYmluZD1mdW5jdGlvbih0LGUsaSl7aWYodm9pZCAwPT09aSYmKGk9XCJrZXlkb3duXCIpLHZvaWQgMD09PXJbdF0pdGhyb3cgbmV3IEVycm9yKFwidW5zdXBwb3J0ZWQga2V5OiBcIit0KTt2b2lkIDA9PT1zW2ldW3JbdF0uY29kZV0mJihzW2ldW3JbdF0uY29kZV09W10pLHNbaV1bclt0XS5jb2RlXS5wdXNoKHtmbjplLHNoaWZ0OnJbdF0uc2hpZnR9KX0sbi5iaW5kQWxsPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9XCJrZXlkb3duXCIpO2Zvcih2YXIgaSBpbiByKXIuaGFzT3duUHJvcGVydHkoaSkmJm4uYmluZChpLHQsZSl9LG4uZ2V0S2V5PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiByKWlmKHIuaGFzT3duUHJvcGVydHkoZSkpe2lmKDE9PXQuc2hpZnRLZXkmJjE9PXJbZV0uc2hpZnQmJnQua2V5Q29kZT09cltlXS5jb2RlKXJldHVybiBlO2lmKDA9PXQuc2hpZnRLZXkmJjA9PXJbZV0uc2hpZnQmJnQua2V5Q29kZT09cltlXS5jb2RlKXJldHVybiBlO2lmKHQua2V5Q29kZT09cltlXS5jb2RlJiZcInNoaWZ0XCI9PWUpcmV0dXJuIGV9cmV0dXJuXCJ1bmtub3duIGtleSwgY3VycmVudGx5IG5vdCBzdXBwb3J0ZWRcIn0sbi51bmJpbmQ9ZnVuY3Rpb24odCxlLGkpe2lmKHZvaWQgMD09PWkmJihpPVwia2V5ZG93blwiKSx2b2lkIDA9PT1yW3RdKXRocm93IG5ldyBFcnJvcihcInVuc3VwcG9ydGVkIGtleTogXCIrdCk7aWYodm9pZCAwIT09ZSl7dmFyIG89W10sbj1zW2ldW3JbdF0uY29kZV07aWYodm9pZCAwIT09bilmb3IodmFyIGE9MDthPG4ubGVuZ3RoO2ErKykoblthXS5mbiE9ZXx8blthXS5zaGlmdCE9clt0XS5zaGlmdCkmJm8ucHVzaChzW2ldW3JbdF0uY29kZV1bYV0pO3NbaV1bclt0XS5jb2RlXT1vfWVsc2Ugc1tpXVtyW3RdLmNvZGVdPVtdfSxuLnJlc2V0PWZ1bmN0aW9uKCl7cz17a2V5ZG93bjp7fSxrZXl1cDp7fX19LG4uZGVzdHJveT1mdW5jdGlvbigpe3M9e2tleWRvd246e30sa2V5dXA6e319LG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixhLCEwKSxvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLGgsITApfSxvLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsYSwhMCksby5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIixoLCEwKSxufXJldHVybiB0fSl9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQsZSl7dGhpcy5ib2R5PXQsdGhpcy5kZWZhdWx0T3B0aW9ucz17bW9tZW50OmEsbG9jYWxlczpoLGxvY2FsZTpcImVuXCIsaWQ6dm9pZCAwLHRpdGxlOnZvaWQgMH0sdGhpcy5vcHRpb25zPXMuZXh0ZW5kKHt9LHRoaXMuZGVmYXVsdE9wdGlvbnMpLGUmJmUudGltZT90aGlzLmN1c3RvbVRpbWU9ZS50aW1lOnRoaXMuY3VzdG9tVGltZT1uZXcgRGF0ZSx0aGlzLmV2ZW50UGFyYW1zPXt9LHRoaXMuc2V0T3B0aW9ucyhlKSx0aGlzLl9jcmVhdGUoKX12YXIgbj1pKDIwKSxzPWkoMSkscj1pKDI2KSxhPWkoMiksaD1pKDQzKTtvLnByb3RvdHlwZT1uZXcgcixvLnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKHQpe3QmJnMuc2VsZWN0aXZlRXh0ZW5kKFtcIm1vbWVudFwiLFwibG9jYWxlXCIsXCJsb2NhbGVzXCIsXCJpZFwiXSx0aGlzLm9wdGlvbnMsdCl9LG8ucHJvdG90eXBlLl9jcmVhdGU9ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3RbXCJjdXN0b20tdGltZVwiXT10aGlzLHQuY2xhc3NOYW1lPVwidmlzLWN1c3RvbS10aW1lIFwiKyh0aGlzLm9wdGlvbnMuaWR8fFwiXCIpLHQuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHQuc3R5bGUudG9wPVwiMHB4XCIsdC5zdHlsZS5oZWlnaHQ9XCIxMDAlXCIsdGhpcy5iYXI9dDt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Uuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLGUuc3R5bGUudG9wPVwiMHB4XCIsZS5zdHlsZS5sZWZ0PVwiLTEwcHhcIixlLnN0eWxlLmhlaWdodD1cIjEwMCVcIixlLnN0eWxlLndpZHRoPVwiMjBweFwiLHQuYXBwZW5kQ2hpbGQoZSksdGhpcy5oYW1tZXI9bmV3IG4oZSksdGhpcy5oYW1tZXIub24oXCJwYW5zdGFydFwiLHRoaXMuX29uRHJhZ1N0YXJ0LmJpbmQodGhpcykpLHRoaXMuaGFtbWVyLm9uKFwicGFubW92ZVwiLHRoaXMuX29uRHJhZy5iaW5kKHRoaXMpKSx0aGlzLmhhbW1lci5vbihcInBhbmVuZFwiLHRoaXMuX29uRHJhZ0VuZC5iaW5kKHRoaXMpKSx0aGlzLmhhbW1lci5nZXQoXCJwYW5cIikuc2V0KHt0aHJlc2hvbGQ6NSxkaXJlY3Rpb246MzB9KX0sby5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaGlkZSgpLHRoaXMuaGFtbWVyLmRlc3Ryb3koKSx0aGlzLmhhbW1lcj1udWxsLHRoaXMuYm9keT1udWxsfSxvLnByb3RvdHlwZS5yZWRyYXc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJvZHkuZG9tLmJhY2tncm91bmRWZXJ0aWNhbDt0aGlzLmJhci5wYXJlbnROb2RlIT10JiYodGhpcy5iYXIucGFyZW50Tm9kZSYmdGhpcy5iYXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmJhciksdC5hcHBlbmRDaGlsZCh0aGlzLmJhcikpO3ZhciBlPXRoaXMuYm9keS51dGlsLnRvU2NyZWVuKHRoaXMuY3VzdG9tVGltZSksaT10aGlzLm9wdGlvbnMubG9jYWxlc1t0aGlzLm9wdGlvbnMubG9jYWxlXTtpfHwodGhpcy53YXJuZWR8fChjb25zb2xlLmxvZyhcIldBUk5JTkc6IG9wdGlvbnMubG9jYWxlc1snXCIrdGhpcy5vcHRpb25zLmxvY2FsZStcIiddIG5vdCBmb3VuZC4gU2VlIGh0dHA6Ly92aXNqcy5vcmcvZG9jcy90aW1lbGluZS5odG1sI0xvY2FsaXphdGlvblwiKSx0aGlzLndhcm5lZD0hMCksaT10aGlzLm9wdGlvbnMubG9jYWxlcy5lbik7dmFyIG89dGhpcy5vcHRpb25zLnRpdGxlO3JldHVybiB2b2lkIDA9PT1vJiYobz1pLnRpbWUrXCI6IFwiK3RoaXMub3B0aW9ucy5tb21lbnQodGhpcy5jdXN0b21UaW1lKS5mb3JtYXQoXCJkZGRkLCBNTU1NIERvIFlZWVksIEg6bW06c3NcIiksbz1vLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK28uc3Vic3RyaW5nKDEpKSx0aGlzLmJhci5zdHlsZS5sZWZ0PWUrXCJweFwiLHRoaXMuYmFyLnRpdGxlPW8sITF9LG8ucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLmJhci5wYXJlbnROb2RlJiZ0aGlzLmJhci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuYmFyKX0sby5wcm90b3R5cGUuc2V0Q3VzdG9tVGltZT1mdW5jdGlvbih0KXt0aGlzLmN1c3RvbVRpbWU9cy5jb252ZXJ0KHQsXCJEYXRlXCIpLHRoaXMucmVkcmF3KCl9LG8ucHJvdG90eXBlLmdldEN1c3RvbVRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERhdGUodGhpcy5jdXN0b21UaW1lLnZhbHVlT2YoKSl9LG8ucHJvdG90eXBlLnNldEN1c3RvbVRpdGxlPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucy50aXRsZT10fSxvLnByb3RvdHlwZS5fb25EcmFnU3RhcnQ9ZnVuY3Rpb24odCl7dGhpcy5ldmVudFBhcmFtcy5kcmFnZ2luZz0hMCx0aGlzLmV2ZW50UGFyYW1zLmN1c3RvbVRpbWU9dGhpcy5jdXN0b21UaW1lLHQuc3RvcFByb3BhZ2F0aW9uKCl9LG8ucHJvdG90eXBlLl9vbkRyYWc9ZnVuY3Rpb24odCl7aWYodGhpcy5ldmVudFBhcmFtcy5kcmFnZ2luZyl7dmFyIGU9dGhpcy5ib2R5LnV0aWwudG9TY3JlZW4odGhpcy5ldmVudFBhcmFtcy5jdXN0b21UaW1lKSt0LmRlbHRhWCxpPXRoaXMuYm9keS51dGlsLnRvVGltZShlKTt0aGlzLnNldEN1c3RvbVRpbWUoaSksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcInRpbWVjaGFuZ2VcIix7aWQ6dGhpcy5vcHRpb25zLmlkLHRpbWU6bmV3IERhdGUodGhpcy5jdXN0b21UaW1lLnZhbHVlT2YoKSl9KSx0LnN0b3BQcm9wYWdhdGlvbigpfX0sby5wcm90b3R5cGUuX29uRHJhZ0VuZD1mdW5jdGlvbih0KXt0aGlzLmV2ZW50UGFyYW1zLmRyYWdnaW5nJiYodGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcInRpbWVjaGFuZ2VkXCIse2lkOnRoaXMub3B0aW9ucy5pZCx0aW1lOm5ldyBEYXRlKHRoaXMuY3VzdG9tVGltZS52YWx1ZU9mKCkpfSksdC5zdG9wUHJvcGFnYXRpb24oKSl9LG8uY3VzdG9tVGltZUZyb21UYXJnZXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQudGFyZ2V0O2U7KXtpZihlLmhhc093blByb3BlcnR5KFwiY3VzdG9tLXRpbWVcIikpcmV0dXJuIGVbXCJjdXN0b20tdGltZVwiXTtlPWUucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH0sdC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSl7ZS5lbj17Y3VycmVudDpcImN1cnJlbnRcIix0aW1lOlwidGltZVwifSxlLmVuX0VOPWUuZW4sZS5lbl9VUz1lLmVuLGUubmw9e2N1cnJlbnQ6XCJodWlkaWdlXCIsdGltZTpcInRpamRcIn0sZS5ubF9OTD1lLm5sLGUubmxfQkU9ZS5ubH0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCxlKXt0aGlzLmJvZHk9dCx0aGlzLmRlZmF1bHRPcHRpb25zPXtzaG93Q3VycmVudFRpbWU6ITAsbW9tZW50OnIsbG9jYWxlczphLGxvY2FsZTpcImVuXCJ9LHRoaXMub3B0aW9ucz1uLmV4dGVuZCh7fSx0aGlzLmRlZmF1bHRPcHRpb25zKSx0aGlzLm9mZnNldD0wLHRoaXMuX2NyZWF0ZSgpLHRoaXMuc2V0T3B0aW9ucyhlKX12YXIgbj1pKDEpLHM9aSgyNikscj1pKDIpLGE9aSg0Myk7by5wcm90b3R5cGU9bmV3IHMsby5wcm90b3R5cGUuX2NyZWF0ZT1mdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5jbGFzc05hbWU9XCJ2aXMtY3VycmVudC10aW1lXCIsdC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdC5zdHlsZS50b3A9XCIwcHhcIix0LnN0eWxlLmhlaWdodD1cIjEwMCVcIix0aGlzLmJhcj10fSxvLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnNob3dDdXJyZW50VGltZT0hMSx0aGlzLnJlZHJhdygpLHRoaXMuYm9keT1udWxsfSxvLnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKHQpe3QmJm4uc2VsZWN0aXZlRXh0ZW5kKFtcInNob3dDdXJyZW50VGltZVwiLFwibW9tZW50XCIsXCJsb2NhbGVcIixcImxvY2FsZXNcIl0sdGhpcy5vcHRpb25zLHQpfSxvLnByb3RvdHlwZS5yZWRyYXc9ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMuc2hvd0N1cnJlbnRUaW1lKXt2YXIgdD10aGlzLmJvZHkuZG9tLmJhY2tncm91bmRWZXJ0aWNhbDt0aGlzLmJhci5wYXJlbnROb2RlIT10JiYodGhpcy5iYXIucGFyZW50Tm9kZSYmdGhpcy5iYXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmJhciksdC5hcHBlbmRDaGlsZCh0aGlzLmJhciksdGhpcy5zdGFydCgpKTt2YXIgZT10aGlzLm9wdGlvbnMubW9tZW50KChuZXcgRGF0ZSkudmFsdWVPZigpK3RoaXMub2Zmc2V0KSxpPXRoaXMuYm9keS51dGlsLnRvU2NyZWVuKGUpLG89dGhpcy5vcHRpb25zLmxvY2FsZXNbdGhpcy5vcHRpb25zLmxvY2FsZV07b3x8KHRoaXMud2FybmVkfHwoY29uc29sZS5sb2coXCJXQVJOSU5HOiBvcHRpb25zLmxvY2FsZXNbJ1wiK3RoaXMub3B0aW9ucy5sb2NhbGUrXCInXSBub3QgZm91bmQuIFNlZSBodHRwOi8vdmlzanMub3JnL2RvY3MvdGltZWxpbmUvI0xvY2FsaXphdGlvblwiKSx0aGlzLndhcm5lZD0hMCksbz10aGlzLm9wdGlvbnMubG9jYWxlcy5lbik7dmFyIG49by5jdXJyZW50K1wiIFwiK28udGltZStcIjogXCIrZS5mb3JtYXQoXCJkZGRkLCBNTU1NIERvIFlZWVksIEg6bW06c3NcIik7bj1uLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK24uc3Vic3RyaW5nKDEpLHRoaXMuYmFyLnN0eWxlLmxlZnQ9aStcInB4XCIsdGhpcy5iYXIudGl0bGU9bn1lbHNlIHRoaXMuYmFyLnBhcmVudE5vZGUmJnRoaXMuYmFyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5iYXIpLHRoaXMuc3RvcCgpO3JldHVybiExfSxvLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtlLnN0b3AoKTt2YXIgaT1lLmJvZHkucmFuZ2UuY29udmVyc2lvbihlLmJvZHkuZG9tUHJvcHMuY2VudGVyLndpZHRoKS5zY2FsZSxvPTEvaS8xMDszMD5vJiYobz0zMCksbz4xZTMmJihvPTFlMyksZS5yZWRyYXcoKSxlLmN1cnJlbnRUaW1lVGltZXI9c2V0VGltZW91dCh0LG8pfXZhciBlPXRoaXM7dCgpfSxvLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dm9pZCAwIT09dGhpcy5jdXJyZW50VGltZVRpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMuY3VycmVudFRpbWVUaW1lciksZGVsZXRlIHRoaXMuY3VycmVudFRpbWVUaW1lcil9LG8ucHJvdG90eXBlLnNldEN1cnJlbnRUaW1lPWZ1bmN0aW9uKHQpe3ZhciBlPW4uY29udmVydCh0LFwiRGF0ZVwiKS52YWx1ZU9mKCksaT0obmV3IERhdGUpLnZhbHVlT2YoKTt0aGlzLm9mZnNldD1lLWksdGhpcy5yZWRyYXcoKX0sby5wcm90b3R5cGUuZ2V0Q3VycmVudFRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERhdGUoKG5ldyBEYXRlKS52YWx1ZU9mKCkrdGhpcy5vZmZzZXQpfSx0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLHI9aSg0NiksYT1vKHIpLGg9aSgxKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLGksbyl7dmFyIHM9YXJndW1lbnRzLmxlbmd0aDw9M3x8dm9pZCAwPT09YXJndW1lbnRzWzNdPzE6YXJndW1lbnRzWzNdO24odGhpcyx0KSx0aGlzLnBhcmVudD1lLHRoaXMuY2hhbmdlZE9wdGlvbnM9W10sdGhpcy5jb250YWluZXI9aSx0aGlzLmFsbG93Q3JlYXRpb249ITEsdGhpcy5vcHRpb25zPXt9LHRoaXMuaW5pdGlhbGl6ZWQ9ITEsdGhpcy5wb3B1cENvdW50ZXI9MCx0aGlzLmRlZmF1bHRPcHRpb25zPXtlbmFibGVkOiExLGZpbHRlcjohMCxjb250YWluZXI6dm9pZCAwLHNob3dCdXR0b246ITB9LGguZXh0ZW5kKHRoaXMub3B0aW9ucyx0aGlzLmRlZmF1bHRPcHRpb25zKSx0aGlzLmNvbmZpZ3VyZU9wdGlvbnM9byx0aGlzLm1vZHVsZU9wdGlvbnM9e30sdGhpcy5kb21FbGVtZW50cz1bXSx0aGlzLnBvcHVwRGl2PXt9LHRoaXMucG9wdXBMaW1pdD01LHRoaXMucG9wdXBIaXN0b3J5PXt9LHRoaXMuY29sb3JQaWNrZXI9bmV3IGFbXCJkZWZhdWx0XCJdKHMpLHRoaXMud3JhcHBlcj12b2lkIDB9cmV0dXJuIHModCxbe2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih2b2lkIDAhPT10KXt0aGlzLnBvcHVwSGlzdG9yeT17fSx0aGlzLl9yZW1vdmVQb3B1cCgpO3ZhciBlPSEwO1wic3RyaW5nXCI9PXR5cGVvZiB0P3RoaXMub3B0aW9ucy5maWx0ZXI9dDp0IGluc3RhbmNlb2YgQXJyYXk/dGhpcy5vcHRpb25zLmZpbHRlcj10LmpvaW4oKTpcIm9iamVjdFwiPT10eXBlb2YgdD8odm9pZCAwIT09dC5jb250YWluZXImJih0aGlzLm9wdGlvbnMuY29udGFpbmVyPXQuY29udGFpbmVyKSx2b2lkIDAhPT10LmZpbHRlciYmKHRoaXMub3B0aW9ucy5maWx0ZXI9dC5maWx0ZXIpLHZvaWQgMCE9PXQuc2hvd0J1dHRvbiYmKHRoaXMub3B0aW9ucy5zaG93QnV0dG9uPXQuc2hvd0J1dHRvbiksdm9pZCAwIT09dC5lbmFibGVkJiYoZT10LmVuYWJsZWQpKTpcImJvb2xlYW5cIj09dHlwZW9mIHQ/KHRoaXMub3B0aW9ucy5maWx0ZXI9ITAsZT10KTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYodGhpcy5vcHRpb25zLmZpbHRlcj10LGU9ITApLHRoaXMub3B0aW9ucy5maWx0ZXI9PT0hMSYmKGU9ITEpLHRoaXMub3B0aW9ucy5lbmFibGVkPWV9dGhpcy5fY2xlYW4oKX19LHtrZXk6XCJzZXRNb2R1bGVPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5tb2R1bGVPcHRpb25zPXQsdGhpcy5vcHRpb25zLmVuYWJsZWQ9PT0hMCYmKHRoaXMuX2NsZWFuKCksdm9pZCAwIT09dGhpcy5vcHRpb25zLmNvbnRhaW5lciYmKHRoaXMuY29udGFpbmVyPXRoaXMub3B0aW9ucy5jb250YWluZXIpLHRoaXMuX2NyZWF0ZSgpKX19LHtrZXk6XCJfY3JlYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX2NsZWFuKCksdGhpcy5jaGFuZ2VkT3B0aW9ucz1bXTt2YXIgZT10aGlzLm9wdGlvbnMuZmlsdGVyLGk9MCxvPSExO2Zvcih2YXIgbiBpbiB0aGlzLmNvbmZpZ3VyZU9wdGlvbnMpdGhpcy5jb25maWd1cmVPcHRpb25zLmhhc093blByb3BlcnR5KG4pJiYodGhpcy5hbGxvd0NyZWF0aW9uPSExLG89ITEsXCJmdW5jdGlvblwiPT10eXBlb2YgZT8obz1lKG4sW10pLG89b3x8dGhpcy5faGFuZGxlT2JqZWN0KHRoaXMuY29uZmlndXJlT3B0aW9uc1tuXSxbbl0sITApKTooZT09PSEwfHwtMSE9PWUuaW5kZXhPZihuKSkmJihvPSEwKSxvIT09ITEmJih0aGlzLmFsbG93Q3JlYXRpb249ITAsaT4wJiZ0aGlzLl9tYWtlSXRlbShbXSksdGhpcy5fbWFrZUhlYWRlcihuKSx0aGlzLl9oYW5kbGVPYmplY3QodGhpcy5jb25maWd1cmVPcHRpb25zW25dLFtuXSkpLGkrKyk7dGhpcy5vcHRpb25zLnNob3dCdXR0b249PT0hMCYmIWZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtlLmNsYXNzTmFtZT1cInZpcy1jb25maWd1cmF0aW9uIHZpcy1jb25maWctYnV0dG9uXCIsZS5pbm5lckhUTUw9XCJnZW5lcmF0ZSBvcHRpb25zXCIsZS5vbmNsaWNrPWZ1bmN0aW9uKCl7dC5fcHJpbnRPcHRpb25zKCl9LGUub25tb3VzZW92ZXI9ZnVuY3Rpb24oKXtlLmNsYXNzTmFtZT1cInZpcy1jb25maWd1cmF0aW9uIHZpcy1jb25maWctYnV0dG9uIGhvdmVyXCJ9LGUub25tb3VzZW91dD1mdW5jdGlvbigpe2UuY2xhc3NOYW1lPVwidmlzLWNvbmZpZ3VyYXRpb24gdmlzLWNvbmZpZy1idXR0b25cIn0sdC5vcHRpb25zQ29udGFpbmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdC5vcHRpb25zQ29udGFpbmVyLmNsYXNzTmFtZT1cInZpcy1jb25maWd1cmF0aW9uIHZpcy1jb25maWctb3B0aW9uLWNvbnRhaW5lclwiLHQuZG9tRWxlbWVudHMucHVzaCh0Lm9wdGlvbnNDb250YWluZXIpLHQuZG9tRWxlbWVudHMucHVzaChlKX0oKSx0aGlzLl9wdXNoKCksdGhpcy5jb2xvclBpY2tlci5pbnNlcnRUbyh0aGlzLmNvbnRhaW5lcil9fSx7a2V5OlwiX3B1c2hcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMud3JhcHBlcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMud3JhcHBlci5jbGFzc05hbWU9XCJ2aXMtY29uZmlndXJhdGlvbi13cmFwcGVyXCIsdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy53cmFwcGVyKTtmb3IodmFyIHQ9MDt0PHRoaXMuZG9tRWxlbWVudHMubGVuZ3RoO3QrKyl0aGlzLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5kb21FbGVtZW50c1t0XSk7dGhpcy5fc2hvd1BvcHVwSWZOZWVkZWQoKX19LHtrZXk6XCJfY2xlYW5cIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5kb21FbGVtZW50cy5sZW5ndGg7dCsrKXRoaXMud3JhcHBlci5yZW1vdmVDaGlsZCh0aGlzLmRvbUVsZW1lbnRzW3RdKTt2b2lkIDAhPT10aGlzLndyYXBwZXImJih0aGlzLmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLndyYXBwZXIpLHRoaXMud3JhcHBlcj12b2lkIDApLHRoaXMuZG9tRWxlbWVudHM9W10sdGhpcy5fcmVtb3ZlUG9wdXAoKX19LHtrZXk6XCJfZ2V0VmFsdWVcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5tb2R1bGVPcHRpb25zLGk9MDtpPHQubGVuZ3RoO2krKyl7aWYodm9pZCAwPT09ZVt0W2ldXSl7ZT12b2lkIDA7YnJlYWt9ZT1lW3RbaV1dfXJldHVybiBlfX0se2tleTpcIl9tYWtlSXRlbVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cyxpPXRoaXM7aWYodGhpcy5hbGxvd0NyZWF0aW9uPT09ITApe3ZhciBvLG4scyxyPWZ1bmN0aW9uKCl7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtmb3Ioci5jbGFzc05hbWU9XCJ2aXMtY29uZmlndXJhdGlvbiB2aXMtY29uZmlnLWl0ZW0gdmlzLWNvbmZpZy1zXCIrdC5sZW5ndGgsbz1lLmxlbmd0aCxuPUFycmF5KG8+MT9vLTE6MCkscz0xO28+cztzKyspbltzLTFdPWVbc107cmV0dXJuIG4uZm9yRWFjaChmdW5jdGlvbih0KXtyLmFwcGVuZENoaWxkKHQpfSksaS5kb21FbGVtZW50cy5wdXNoKHIpLHt2OmkuZG9tRWxlbWVudHMubGVuZ3RofX0oKTtpZihcIm9iamVjdFwiPT10eXBlb2YgcilyZXR1cm4gci52fXJldHVybiAwfX0se2tleTpcIl9tYWtlSGVhZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtlLmNsYXNzTmFtZT1cInZpcy1jb25maWd1cmF0aW9uIHZpcy1jb25maWctaGVhZGVyXCIsZS5pbm5lckhUTUw9dCx0aGlzLl9tYWtlSXRlbShbXSxlKX19LHtrZXk6XCJfbWFrZUxhYmVsXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPD0yfHx2b2lkIDA9PT1hcmd1bWVudHNbMl0/ITE6YXJndW1lbnRzWzJdLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gby5jbGFzc05hbWU9XCJ2aXMtY29uZmlndXJhdGlvbiB2aXMtY29uZmlnLWxhYmVsIHZpcy1jb25maWctc1wiK2UubGVuZ3RoLGk9PT0hMD9vLmlubmVySFRNTD1cIjxpPjxiPlwiK3QrXCI6PC9iPjwvaT5cIjpvLmlubmVySFRNTD10K1wiOlwiLG99fSx7a2V5OlwiX21ha2VEcm9wZG93blwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO28uY2xhc3NOYW1lPVwidmlzLWNvbmZpZ3VyYXRpb24gdmlzLWNvbmZpZy1zZWxlY3RcIjt2YXIgbj0wO3ZvaWQgMCE9PWUmJi0xIT09dC5pbmRleE9mKGUpJiYobj10LmluZGV4T2YoZSkpO2Zvcih2YXIgcz0wO3M8dC5sZW5ndGg7cysrKXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO3IudmFsdWU9dFtzXSxzPT09biYmKHIuc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiKSxyLmlubmVySFRNTD10W3NdLG8uYXBwZW5kQ2hpbGQocil9dmFyIGE9dGhpcztvLm9uY2hhbmdlPWZ1bmN0aW9uKCl7YS5fdXBkYXRlKHRoaXMudmFsdWUsaSl9O3ZhciBoPXRoaXMuX21ha2VMYWJlbChpW2kubGVuZ3RoLTFdLGkpO3RoaXMuX21ha2VJdGVtKGksaCxvKX19LHtrZXk6XCJfbWFrZVJhbmdlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXRbMF0sbj10WzFdLHM9dFsyXSxyPXRbM10sYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7YS5jbGFzc05hbWU9XCJ2aXMtY29uZmlndXJhdGlvbiB2aXMtY29uZmlnLXJhbmdlXCI7dHJ5e2EudHlwZT1cInJhbmdlXCIsYS5taW49bixhLm1heD1zfWNhdGNoKGgpe31hLnN0ZXA9cjt2YXIgZD1cIlwiLGw9MDtpZih2b2lkIDAhPT1lKXt2YXIgdT0xLjI7MD5lJiZuPmUqdT8oYS5taW49TWF0aC5jZWlsKGUqdSksbD1hLm1pbixkPVwicmFuZ2UgaW5jcmVhc2VkXCIpOm4+ZS91JiYoYS5taW49TWF0aC5jZWlsKGUvdSksbD1hLm1pbixkPVwicmFuZ2UgaW5jcmVhc2VkXCIpLGUqdT5zJiYxIT09cyYmKGEubWF4PU1hdGguY2VpbChlKnUpLGw9YS5tYXgsZD1cInJhbmdlIGluY3JlYXNlZFwiKSxhLnZhbHVlPWV9ZWxzZSBhLnZhbHVlPW87dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO2MuY2xhc3NOYW1lPVwidmlzLWNvbmZpZ3VyYXRpb24gdmlzLWNvbmZpZy1yYW5nZWlucHV0XCIsYy52YWx1ZT1hLnZhbHVlO3ZhciBwPXRoaXM7YS5vbmNoYW5nZT1mdW5jdGlvbigpe2MudmFsdWU9dGhpcy52YWx1ZSxwLl91cGRhdGUoTnVtYmVyKHRoaXMudmFsdWUpLGkpfSxhLm9uaW5wdXQ9ZnVuY3Rpb24oKXtjLnZhbHVlPXRoaXMudmFsdWV9O3ZhciBmPXRoaXMuX21ha2VMYWJlbChpW2kubGVuZ3RoLTFdLGkpLG09dGhpcy5fbWFrZUl0ZW0oaSxmLGEsYyk7XCJcIiE9PWQmJnRoaXMucG9wdXBIaXN0b3J5W21dIT09bCYmKHRoaXMucG9wdXBIaXN0b3J5W21dPWwsdGhpcy5fc2V0dXBQb3B1cChkLG0pKX19LHtrZXk6XCJfc2V0dXBQb3B1cFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcztpZih0aGlzLmluaXRpYWxpemVkPT09ITAmJnRoaXMuYWxsb3dDcmVhdGlvbj09PSEwJiZ0aGlzLnBvcHVwQ291bnRlcjx0aGlzLnBvcHVwTGltaXQpe3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7by5pZD1cInZpcy1jb25maWd1cmF0aW9uLXBvcHVwXCIsby5jbGFzc05hbWU9XCJ2aXMtY29uZmlndXJhdGlvbi1wb3B1cFwiLG8uaW5uZXJIVE1MPXQsby5vbmNsaWNrPWZ1bmN0aW9uKCl7aS5fcmVtb3ZlUG9wdXAoKX0sdGhpcy5wb3B1cENvdW50ZXIrPTEsdGhpcy5wb3B1cERpdj17aHRtbDpvLGluZGV4OmV9fX19LHtrZXk6XCJfcmVtb3ZlUG9wdXBcIix2YWx1ZTpmdW5jdGlvbigpe3ZvaWQgMCE9PXRoaXMucG9wdXBEaXYuaHRtbCYmKHRoaXMucG9wdXBEaXYuaHRtbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucG9wdXBEaXYuaHRtbCksY2xlYXJUaW1lb3V0KHRoaXMucG9wdXBEaXYuaGlkZVRpbWVvdXQpLGNsZWFyVGltZW91dCh0aGlzLnBvcHVwRGl2LmRlbGV0ZVRpbWVvdXQpLHRoaXMucG9wdXBEaXY9e30pfX0se2tleTpcIl9zaG93UG9wdXBJZk5lZWRlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih2b2lkIDAhPT10aGlzLnBvcHVwRGl2Lmh0bWwpe3ZhciBlPXRoaXMuZG9tRWxlbWVudHNbdGhpcy5wb3B1cERpdi5pbmRleF0saT1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3RoaXMucG9wdXBEaXYuaHRtbC5zdHlsZS5sZWZ0PWkubGVmdCtcInB4XCIsdGhpcy5wb3B1cERpdi5odG1sLnN0eWxlLnRvcD1pLnRvcC0zMCtcInB4XCIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnBvcHVwRGl2Lmh0bWwpLHRoaXMucG9wdXBEaXYuaGlkZVRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3QucG9wdXBEaXYuaHRtbC5zdHlsZS5vcGFjaXR5PTB9LDE1MDApLHRoaXMucG9wdXBEaXYuZGVsZXRlVGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fcmVtb3ZlUG9wdXAoKX0sMTgwMCl9fX0se2tleTpcIl9tYWtlQ2hlY2tib3hcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO28udHlwZT1cImNoZWNrYm94XCIsby5jbGFzc05hbWU9XCJ2aXMtY29uZmlndXJhdGlvbiB2aXMtY29uZmlnLWNoZWNrYm94XCIsby5jaGVja2VkPXQsdm9pZCAwIT09ZSYmKG8uY2hlY2tlZD1lLGUhPT10JiYoXCJvYmplY3RcIj09dHlwZW9mIHQ/ZSE9PXQuZW5hYmxlZCYmdGhpcy5jaGFuZ2VkT3B0aW9ucy5wdXNoKHtwYXRoOmksdmFsdWU6ZX0pOnRoaXMuY2hhbmdlZE9wdGlvbnMucHVzaCh7cGF0aDppLHZhbHVlOmV9KSkpO3ZhciBuPXRoaXM7by5vbmNoYW5nZT1mdW5jdGlvbigpe24uX3VwZGF0ZSh0aGlzLmNoZWNrZWQsaSl9O3ZhciBzPXRoaXMuX21ha2VMYWJlbChpW2kubGVuZ3RoLTFdLGkpO3RoaXMuX21ha2VJdGVtKGkscyxvKX19LHtrZXk6XCJfbWFrZVRleHRJbnB1dFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7by50eXBlPVwidGV4dFwiLG8uY2xhc3NOYW1lPVwidmlzLWNvbmZpZ3VyYXRpb24gdmlzLWNvbmZpZy10ZXh0XCIsby52YWx1ZT1lLGUhPT10JiZ0aGlzLmNoYW5nZWRPcHRpb25zLnB1c2goe3BhdGg6aSx2YWx1ZTplfSk7dmFyIG49dGhpcztvLm9uY2hhbmdlPWZ1bmN0aW9uKCl7bi5fdXBkYXRlKHRoaXMudmFsdWUsaSl9O3ZhciBzPXRoaXMuX21ha2VMYWJlbChpW2kubGVuZ3RoLTFdLGkpO3RoaXMuX21ha2VJdGVtKGkscyxvKX19LHtrZXk6XCJfbWFrZUNvbG9yRmllbGRcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dmFyIG89dGhpcyxuPXRbMV0scz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2U9dm9pZCAwPT09ZT9uOmUsXCJub25lXCIhPT1lPyhzLmNsYXNzTmFtZT1cInZpcy1jb25maWd1cmF0aW9uIHZpcy1jb25maWctY29sb3JCbG9ja1wiLHMuc3R5bGUuYmFja2dyb3VuZENvbG9yPWUpOnMuY2xhc3NOYW1lPVwidmlzLWNvbmZpZ3VyYXRpb24gdmlzLWNvbmZpZy1jb2xvckJsb2NrIG5vbmVcIixlPXZvaWQgMD09PWU/bjplLHMub25jbGljaz1mdW5jdGlvbigpe28uX3Nob3dDb2xvclBpY2tlcihlLHMsaSl9O3ZhciByPXRoaXMuX21ha2VMYWJlbChpW2kubGVuZ3RoLTFdLGkpO3RoaXMuX21ha2VJdGVtKGkscixzKX19LHtrZXk6XCJfc2hvd0NvbG9yUGlja2VyXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXRoaXMsbj1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHM9ZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxyPW4ubGVmdCtuLndpZHRoKzUsYT1uLnRvcC1zLnRvcCtuLmhlaWdodCsyO3RoaXMuY29sb3JQaWNrZXIuc2hvdyhyLGEpLHRoaXMuY29sb3JQaWNrZXIuc2V0Q29sb3IodCksdGhpcy5jb2xvclBpY2tlci5zZXRDYWxsYmFjayhmdW5jdGlvbih0KXt2YXIgbj1cInJnYmEoXCIrdC5yK1wiLFwiK3QuZytcIixcIit0LmIrXCIsXCIrdC5hK1wiKVwiO2Uuc3R5bGUuYmFja2dyb3VuZENvbG9yPW4sby5fdXBkYXRlKG4saSl9KX19LHtrZXk6XCJfaGFuZGxlT2JqZWN0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MXx8dm9pZCAwPT09YXJndW1lbnRzWzFdP1tdOmFyZ3VtZW50c1sxXSxpPWFyZ3VtZW50cy5sZW5ndGg8PTJ8fHZvaWQgMD09PWFyZ3VtZW50c1syXT8hMTphcmd1bWVudHNbMl0sbz0hMSxuPXRoaXMub3B0aW9ucy5maWx0ZXIscz0hMTtmb3IodmFyIHIgaW4gdClpZih0Lmhhc093blByb3BlcnR5KHIpKXtvPSEwO3ZhciBhPXRbcl0sZD1oLmNvcHlBbmRFeHRlbmRBcnJheShlLHIpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihvPW4ocixlKSxvPT09ITEmJiEoYSBpbnN0YW5jZW9mIEFycmF5KSYmXCJzdHJpbmdcIiE9dHlwZW9mIGEmJlwiYm9vbGVhblwiIT10eXBlb2YgYSYmYSBpbnN0YW5jZW9mIE9iamVjdCYmKHRoaXMuYWxsb3dDcmVhdGlvbj0hMSxvPXRoaXMuX2hhbmRsZU9iamVjdChhLGQsITApLHRoaXMuYWxsb3dDcmVhdGlvbj1pPT09ITEpKSxvIT09ITEpe3M9ITA7dmFyIGw9dGhpcy5fZ2V0VmFsdWUoZCk7aWYoYSBpbnN0YW5jZW9mIEFycmF5KXRoaXMuX2hhbmRsZUFycmF5KGEsbCxkKTtlbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiBhKXRoaXMuX21ha2VUZXh0SW5wdXQoYSxsLGQpO2Vsc2UgaWYoXCJib29sZWFuXCI9PXR5cGVvZiBhKXRoaXMuX21ha2VDaGVja2JveChhLGwsZCk7ZWxzZSBpZihhIGluc3RhbmNlb2YgT2JqZWN0KXt2YXIgdT0hMDtpZigtMSE9PWUuaW5kZXhPZihcInBoeXNpY3NcIikmJnRoaXMubW9kdWxlT3B0aW9ucy5waHlzaWNzLnNvbHZlciE9PXImJih1PSExKSx1PT09ITApaWYodm9pZCAwIT09YS5lbmFibGVkKXt2YXIgYz1oLmNvcHlBbmRFeHRlbmRBcnJheShkLFwiZW5hYmxlZFwiKSxwPXRoaXMuX2dldFZhbHVlKGMpO2lmKHA9PT0hMCl7dmFyIGY9dGhpcy5fbWFrZUxhYmVsKHIsZCwhMCk7dGhpcy5fbWFrZUl0ZW0oZCxmKSxzPXRoaXMuX2hhbmRsZU9iamVjdChhLGQpfHxzfWVsc2UgdGhpcy5fbWFrZUNoZWNrYm94KGEscCxkKX1lbHNle3ZhciBmPXRoaXMuX21ha2VMYWJlbChyLGQsITApO3RoaXMuX21ha2VJdGVtKGQsZikscz10aGlzLl9oYW5kbGVPYmplY3QoYSxkKXx8c319ZWxzZSBjb25zb2xlLmVycm9yKFwiZG9udCBrbm93IGhvdyB0byBoYW5kbGVcIixhLHIsZCl9fXJldHVybiBzfX0se2tleTpcIl9oYW5kbGVBcnJheVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXtcInN0cmluZ1wiPT10eXBlb2YgdFswXSYmXCJjb2xvclwiPT09dFswXT8odGhpcy5fbWFrZUNvbG9yRmllbGQodCxlLGkpLHRbMV0hPT1lJiZ0aGlzLmNoYW5nZWRPcHRpb25zLnB1c2goe3BhdGg6aSx2YWx1ZTplfSkpOlwic3RyaW5nXCI9PXR5cGVvZiB0WzBdPyh0aGlzLl9tYWtlRHJvcGRvd24odCxlLGkpLHRbMF0hPT1lJiZ0aGlzLmNoYW5nZWRPcHRpb25zLnB1c2goe3BhdGg6aSx2YWx1ZTplfSkpOlwibnVtYmVyXCI9PXR5cGVvZiB0WzBdJiYodGhpcy5fbWFrZVJhbmdlKHQsZSxpKSx0WzBdIT09ZSYmdGhpcy5jaGFuZ2VkT3B0aW9ucy5wdXNoKHtwYXRoOmksdmFsdWU6TnVtYmVyKGUpfSkpfX0se2tleTpcIl91cGRhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2NvbnN0cnVjdE9wdGlvbnModCxlKTt0aGlzLnBhcmVudC5ib2R5JiZ0aGlzLnBhcmVudC5ib2R5LmVtaXR0ZXImJnRoaXMucGFyZW50LmJvZHkuZW1pdHRlci5lbWl0JiZ0aGlzLnBhcmVudC5ib2R5LmVtaXR0ZXIuZW1pdChcImNvbmZpZ0NoYW5nZVwiLGkpLHRoaXMuaW5pdGlhbGl6ZWQ9ITAsdGhpcy5wYXJlbnQuc2V0T3B0aW9ucyhpKX19LHtrZXk6XCJfY29uc3RydWN0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aDw9Mnx8dm9pZCAwPT09YXJndW1lbnRzWzJdP3t9OmFyZ3VtZW50c1syXSxvPWk7dD1cInRydWVcIj09PXQ/ITA6dCx0PVwiZmFsc2VcIj09PXQ/ITE6dDtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylcImdsb2JhbFwiIT09ZVtuXSYmKHZvaWQgMD09PW9bZVtuXV0mJihvW2Vbbl1dPXt9KSxuIT09ZS5sZW5ndGgtMT9vPW9bZVtuXV06b1tlW25dXT10KTtyZXR1cm4gaX19LHtrZXk6XCJfcHJpbnRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldE9wdGlvbnMoKTt0aGlzLm9wdGlvbnNDb250YWluZXIuaW5uZXJIVE1MPVwiPHByZT52YXIgb3B0aW9ucyA9IFwiK0pTT04uc3RyaW5naWZ5KHQsbnVsbCwyKStcIjwvcHJlPlwifX0se2tleTpcImdldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD17fSxlPTA7ZTx0aGlzLmNoYW5nZWRPcHRpb25zLmxlbmd0aDtlKyspdGhpcy5fY29uc3RydWN0T3B0aW9ucyh0aGlzLmNoYW5nZWRPcHRpb25zW2VdLnZhbHVlLHRoaXMuY2hhbmdlZE9wdGlvbnNbZV0ucGF0aCx0KTtyZXR1cm4gdH19XSksdH0oKTtlW1wiZGVmYXVsdFwiXT1kLHQuZXhwb3J0cz1lW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1lW2ldO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4gaSYmdChlLnByb3RvdHlwZSxpKSxvJiZ0KGUsbyksZX19KCkscz1pKDIwKSxyPWkoMjUpLGE9aSgxKSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT8xOmFyZ3VtZW50c1swXTtvKHRoaXMsdCksdGhpcy5waXhlbFJhdGlvPWUsdGhpcy5nZW5lcmF0ZWQ9ITEsdGhpcy5jZW50ZXJDb29yZGluYXRlcz17eDoxNDQuNSx5OjE0NC41fSx0aGlzLnI9Mjg5Ki40OSx0aGlzLmNvbG9yPXtyOjI1NSxnOjI1NSxiOjI1NSxhOjF9LHRoaXMuaHVlQ2lyY2xlPXZvaWQgMCx0aGlzLmluaXRpYWxDb2xvcj17cjoyNTUsZzoyNTUsYjoyNTUsYToxfSx0aGlzLnByZXZpb3VzQ29sb3I9dm9pZCAwLHRoaXMuYXBwbGllZD0hMSx0aGlzLnVwZGF0ZUNhbGxiYWNrPWZ1bmN0aW9uKCl7fSx0aGlzLl9jcmVhdGUoKX1yZXR1cm4gbih0LFt7a2V5OlwiaW5zZXJ0VG9cIix2YWx1ZTpmdW5jdGlvbih0KXt2b2lkIDAhPT10aGlzLmhhbW1lciYmKHRoaXMuaGFtbWVyLmRlc3Ryb3koKSx0aGlzLmhhbW1lcj12b2lkIDApLHRoaXMuY29udGFpbmVyPXQsdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5mcmFtZSksdGhpcy5fYmluZEhhbW1lcigpLHRoaXMuX3NldFNpemUoKX19LHtrZXk6XCJzZXRDYWxsYmFja1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKFwiRnVuY3Rpb24gYXR0ZW1wdGVkIHRvIHNldCBhcyBjb2xvclBpY2tlciBjYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvbi5cIik7dGhpcy51cGRhdGVDYWxsYmFjaz10fX0se2tleTpcIl9pc0NvbG9yU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9e2JsYWNrOlwiIzAwMDAwMFwiLG5hdnk6XCIjMDAwMDgwXCIsZGFya2JsdWU6XCIjMDAwMDhCXCIsbWVkaXVtYmx1ZTpcIiMwMDAwQ0RcIixibHVlOlwiIzAwMDBGRlwiLGRhcmtncmVlbjpcIiMwMDY0MDBcIixncmVlbjpcIiMwMDgwMDBcIix0ZWFsOlwiIzAwODA4MFwiLGRhcmtjeWFuOlwiIzAwOEI4QlwiLGRlZXBza3libHVlOlwiIzAwQkZGRlwiLGRhcmt0dXJxdW9pc2U6XCIjMDBDRUQxXCIsbWVkaXVtc3ByaW5nZ3JlZW46XCIjMDBGQTlBXCIsbGltZTpcIiMwMEZGMDBcIixzcHJpbmdncmVlbjpcIiMwMEZGN0ZcIixhcXVhOlwiIzAwRkZGRlwiLGN5YW46XCIjMDBGRkZGXCIsbWlkbmlnaHRibHVlOlwiIzE5MTk3MFwiLGRvZGdlcmJsdWU6XCIjMUU5MEZGXCIsbGlnaHRzZWFncmVlbjpcIiMyMEIyQUFcIixmb3Jlc3RncmVlbjpcIiMyMjhCMjJcIixzZWFncmVlbjpcIiMyRThCNTdcIixkYXJrc2xhdGVncmF5OlwiIzJGNEY0RlwiLGxpbWVncmVlbjpcIiMzMkNEMzJcIixtZWRpdW1zZWFncmVlbjpcIiMzQ0IzNzFcIix0dXJxdW9pc2U6XCIjNDBFMEQwXCIscm95YWxibHVlOlwiIzQxNjlFMVwiLHN0ZWVsYmx1ZTpcIiM0NjgyQjRcIixkYXJrc2xhdGVibHVlOlwiIzQ4M0Q4QlwiLG1lZGl1bXR1cnF1b2lzZTpcIiM0OEQxQ0NcIixpbmRpZ286XCIjNEIwMDgyXCIsZGFya29saXZlZ3JlZW46XCIjNTU2QjJGXCIsY2FkZXRibHVlOlwiIzVGOUVBMFwiLGNvcm5mbG93ZXJibHVlOlwiIzY0OTVFRFwiLG1lZGl1bWFxdWFtYXJpbmU6XCIjNjZDREFBXCIsZGltZ3JheTpcIiM2OTY5NjlcIixzbGF0ZWJsdWU6XCIjNkE1QUNEXCIsb2xpdmVkcmFiOlwiIzZCOEUyM1wiLHNsYXRlZ3JheTpcIiM3MDgwOTBcIixsaWdodHNsYXRlZ3JheTpcIiM3Nzg4OTlcIixtZWRpdW1zbGF0ZWJsdWU6XCIjN0I2OEVFXCIsbGF3bmdyZWVuOlwiIzdDRkMwMFwiLGNoYXJ0cmV1c2U6XCIjN0ZGRjAwXCIsYXF1YW1hcmluZTpcIiM3RkZGRDRcIixtYXJvb246XCIjODAwMDAwXCIscHVycGxlOlwiIzgwMDA4MFwiLG9saXZlOlwiIzgwODAwMFwiLGdyYXk6XCIjODA4MDgwXCIsc2t5Ymx1ZTpcIiM4N0NFRUJcIixsaWdodHNreWJsdWU6XCIjODdDRUZBXCIsYmx1ZXZpb2xldDpcIiM4QTJCRTJcIixkYXJrcmVkOlwiIzhCMDAwMFwiLGRhcmttYWdlbnRhOlwiIzhCMDA4QlwiLHNhZGRsZWJyb3duOlwiIzhCNDUxM1wiLGRhcmtzZWFncmVlbjpcIiM4RkJDOEZcIixsaWdodGdyZWVuOlwiIzkwRUU5MFwiLG1lZGl1bXB1cnBsZTpcIiM5MzcwRDhcIixkYXJrdmlvbGV0OlwiIzk0MDBEM1wiLHBhbGVncmVlbjpcIiM5OEZCOThcIixkYXJrb3JjaGlkOlwiIzk5MzJDQ1wiLHllbGxvd2dyZWVuOlwiIzlBQ0QzMlwiLHNpZW5uYTpcIiNBMDUyMkRcIixicm93bjpcIiNBNTJBMkFcIixkYXJrZ3JheTpcIiNBOUE5QTlcIixsaWdodGJsdWU6XCIjQUREOEU2XCIsZ3JlZW55ZWxsb3c6XCIjQURGRjJGXCIscGFsZXR1cnF1b2lzZTpcIiNBRkVFRUVcIixsaWdodHN0ZWVsYmx1ZTpcIiNCMEM0REVcIixwb3dkZXJibHVlOlwiI0IwRTBFNlwiLGZpcmVicmljazpcIiNCMjIyMjJcIixkYXJrZ29sZGVucm9kOlwiI0I4ODYwQlwiLG1lZGl1bW9yY2hpZDpcIiNCQTU1RDNcIixyb3N5YnJvd246XCIjQkM4RjhGXCIsZGFya2toYWtpOlwiI0JEQjc2QlwiLHNpbHZlcjpcIiNDMEMwQzBcIixtZWRpdW12aW9sZXRyZWQ6XCIjQzcxNTg1XCIsaW5kaWFucmVkOlwiI0NENUM1Q1wiLHBlcnU6XCIjQ0Q4NTNGXCIsY2hvY29sYXRlOlwiI0QyNjkxRVwiLHRhbjpcIiNEMkI0OENcIixsaWdodGdyZXk6XCIjRDNEM0QzXCIscGFsZXZpb2xldHJlZDpcIiNEODcwOTNcIix0aGlzdGxlOlwiI0Q4QkZEOFwiLG9yY2hpZDpcIiNEQTcwRDZcIixnb2xkZW5yb2Q6XCIjREFBNTIwXCIsY3JpbXNvbjpcIiNEQzE0M0NcIixnYWluc2Jvcm86XCIjRENEQ0RDXCIscGx1bTpcIiNEREEwRERcIixidXJseXdvb2Q6XCIjREVCODg3XCIsbGlnaHRjeWFuOlwiI0UwRkZGRlwiLGxhdmVuZGVyOlwiI0U2RTZGQVwiLGRhcmtzYWxtb246XCIjRTk5NjdBXCIsdmlvbGV0OlwiI0VFODJFRVwiLHBhbGVnb2xkZW5yb2Q6XCIjRUVFOEFBXCIsbGlnaHRjb3JhbDpcIiNGMDgwODBcIixraGFraTpcIiNGMEU2OENcIixhbGljZWJsdWU6XCIjRjBGOEZGXCIsaG9uZXlkZXc6XCIjRjBGRkYwXCIsYXp1cmU6XCIjRjBGRkZGXCIsc2FuZHlicm93bjpcIiNGNEE0NjBcIix3aGVhdDpcIiNGNURFQjNcIixiZWlnZTpcIiNGNUY1RENcIix3aGl0ZXNtb2tlOlwiI0Y1RjVGNVwiLG1pbnRjcmVhbTpcIiNGNUZGRkFcIixnaG9zdHdoaXRlOlwiI0Y4RjhGRlwiLHNhbG1vbjpcIiNGQTgwNzJcIixhbnRpcXVld2hpdGU6XCIjRkFFQkQ3XCIsbGluZW46XCIjRkFGMEU2XCIsbGlnaHRnb2xkZW5yb2R5ZWxsb3c6XCIjRkFGQUQyXCIsb2xkbGFjZTpcIiNGREY1RTZcIixyZWQ6XCIjRkYwMDAwXCIsZnVjaHNpYTpcIiNGRjAwRkZcIixtYWdlbnRhOlwiI0ZGMDBGRlwiLGRlZXBwaW5rOlwiI0ZGMTQ5M1wiLG9yYW5nZXJlZDpcIiNGRjQ1MDBcIix0b21hdG86XCIjRkY2MzQ3XCIsaG90cGluazpcIiNGRjY5QjRcIixjb3JhbDpcIiNGRjdGNTBcIixkYXJrb3JhbmdlOlwiI0ZGOEMwMFwiLGxpZ2h0c2FsbW9uOlwiI0ZGQTA3QVwiLG9yYW5nZTpcIiNGRkE1MDBcIixsaWdodHBpbms6XCIjRkZCNkMxXCIscGluazpcIiNGRkMwQ0JcIixnb2xkOlwiI0ZGRDcwMFwiLHBlYWNocHVmZjpcIiNGRkRBQjlcIixuYXZham93aGl0ZTpcIiNGRkRFQURcIixcbm1vY2Nhc2luOlwiI0ZGRTRCNVwiLGJpc3F1ZTpcIiNGRkU0QzRcIixtaXN0eXJvc2U6XCIjRkZFNEUxXCIsYmxhbmNoZWRhbG1vbmQ6XCIjRkZFQkNEXCIscGFwYXlhd2hpcDpcIiNGRkVGRDVcIixsYXZlbmRlcmJsdXNoOlwiI0ZGRjBGNVwiLHNlYXNoZWxsOlwiI0ZGRjVFRVwiLGNvcm5zaWxrOlwiI0ZGRjhEQ1wiLGxlbW9uY2hpZmZvbjpcIiNGRkZBQ0RcIixmbG9yYWx3aGl0ZTpcIiNGRkZBRjBcIixzbm93OlwiI0ZGRkFGQVwiLHllbGxvdzpcIiNGRkZGMDBcIixsaWdodHllbGxvdzpcIiNGRkZGRTBcIixpdm9yeTpcIiNGRkZGRjBcIix3aGl0ZTpcIiNGRkZGRkZcIn07cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/ZVt0XTp2b2lkIDB9fSx7a2V5Olwic2V0Q29sb3JcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPD0xfHx2b2lkIDA9PT1hcmd1bWVudHNbMV0/ITA6YXJndW1lbnRzWzFdO2lmKFwibm9uZVwiIT09dCl7dmFyIGk9dm9pZCAwLG89dGhpcy5faXNDb2xvclN0cmluZyh0KTtpZih2b2lkIDAhPT1vJiYodD1vKSxhLmlzU3RyaW5nKHQpPT09ITApe2lmKGEuaXNWYWxpZFJHQih0KT09PSEwKXt2YXIgbj10LnN1YnN0cig0KS5zdWJzdHIoMCx0Lmxlbmd0aC01KS5zcGxpdChcIixcIik7aT17cjpuWzBdLGc6blsxXSxiOm5bMl0sYToxfX1lbHNlIGlmKGEuaXNWYWxpZFJHQkEodCk9PT0hMCl7dmFyIG49dC5zdWJzdHIoNSkuc3Vic3RyKDAsdC5sZW5ndGgtNikuc3BsaXQoXCIsXCIpO2k9e3I6blswXSxnOm5bMV0sYjpuWzJdLGE6blszXX19ZWxzZSBpZihhLmlzVmFsaWRIZXgodCk9PT0hMCl7dmFyIHM9YS5oZXhUb1JHQih0KTtpPXtyOnMucixnOnMuZyxiOnMuYixhOjF9fX1lbHNlIGlmKHQgaW5zdGFuY2VvZiBPYmplY3QmJnZvaWQgMCE9PXQuciYmdm9pZCAwIT09dC5nJiZ2b2lkIDAhPT10LmIpe3ZhciByPXZvaWQgMCE9PXQuYT90LmE6XCIxLjBcIjtpPXtyOnQucixnOnQuZyxiOnQuYixhOnJ9fWlmKHZvaWQgMD09PWkpdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjb2xvciBwYXNzZWQgdG8gdGhlIGNvbG9yUGlja2VyLiBTdXBwb3J0ZWQgYXJlIHN0cmluZ3M6IHJnYiwgaGV4LCByZ2JhLiBPYmplY3Q6IHJnYiAoe3I6cixnOmcsYjpiLFthOmFdfSkuIFN1cHBsaWVkOiBcIitKU09OLnN0cmluZ2lmeSh0KSk7dGhpcy5fc2V0Q29sb3IoaSxlKX19fSx7a2V5Olwic2hvd1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5hcHBsaWVkPSExLHRoaXMuZnJhbWUuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdGhpcy5mcmFtZS5zdHlsZS50b3A9ZStcInB4XCIsdGhpcy5mcmFtZS5zdHlsZS5sZWZ0PXQrXCJweFwiLHRoaXMuX2dlbmVyYXRlSHVlQ2lyY2xlKCl9fSx7a2V5OlwiX2hpZGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT8hMDphcmd1bWVudHNbMF07dD09PSEwJiYodGhpcy5wcmV2aW91c0NvbG9yPWEuZXh0ZW5kKHt9LHRoaXMuY29sb3IpKSx0aGlzLmFwcGxpZWQ9PT0hMCYmdGhpcy51cGRhdGVDYWxsYmFjayh0aGlzLmluaXRpYWxDb2xvciksdGhpcy5mcmFtZS5zdHlsZS5kaXNwbGF5PVwibm9uZVwifX0se2tleTpcIl9zYXZlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZUNhbGxiYWNrKHRoaXMuY29sb3IpLHRoaXMuYXBwbGllZD0hMSx0aGlzLl9oaWRlKCl9fSx7a2V5OlwiX2FwcGx5XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmFwcGxpZWQ9ITAsdGhpcy51cGRhdGVDYWxsYmFjayh0aGlzLmNvbG9yKSx0aGlzLl91cGRhdGVQaWNrZXIodGhpcy5jb2xvcil9fSx7a2V5OlwiX2xvYWRMYXN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2b2lkIDAhPT10aGlzLnByZXZpb3VzQ29sb3I/dGhpcy5zZXRDb2xvcih0aGlzLnByZXZpb3VzQ29sb3IsITEpOmFsZXJ0KFwiVGhlcmUgaXMgbm8gbGFzdCBjb2xvciB0byBsb2FkLi4uXCIpfX0se2tleTpcIl9zZXRDb2xvclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT8hMDphcmd1bWVudHNbMV07ZT09PSEwJiYodGhpcy5pbml0aWFsQ29sb3I9YS5leHRlbmQoe30sdCkpLHRoaXMuY29sb3I9dDt2YXIgaT1hLlJHQlRvSFNWKHQucix0LmcsdC5iKSxvPTIqTWF0aC5QSSxuPXRoaXMucippLnMscz10aGlzLmNlbnRlckNvb3JkaW5hdGVzLngrbipNYXRoLnNpbihvKmkuaCkscj10aGlzLmNlbnRlckNvb3JkaW5hdGVzLnkrbipNYXRoLmNvcyhvKmkuaCk7dGhpcy5jb2xvclBpY2tlclNlbGVjdG9yLnN0eWxlLmxlZnQ9cy0uNSp0aGlzLmNvbG9yUGlja2VyU2VsZWN0b3IuY2xpZW50V2lkdGgrXCJweFwiLHRoaXMuY29sb3JQaWNrZXJTZWxlY3Rvci5zdHlsZS50b3A9ci0uNSp0aGlzLmNvbG9yUGlja2VyU2VsZWN0b3IuY2xpZW50SGVpZ2h0K1wicHhcIix0aGlzLl91cGRhdGVQaWNrZXIodCl9fSx7a2V5OlwiX3NldE9wYWNpdHlcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmNvbG9yLmE9dC8xMDAsdGhpcy5fdXBkYXRlUGlja2VyKHRoaXMuY29sb3IpfX0se2tleTpcIl9zZXRCcmlnaHRuZXNzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YS5SR0JUb0hTVih0aGlzLmNvbG9yLnIsdGhpcy5jb2xvci5nLHRoaXMuY29sb3IuYik7ZS52PXQvMTAwO3ZhciBpPWEuSFNWVG9SR0IoZS5oLGUucyxlLnYpO2kuYT10aGlzLmNvbG9yLmEsdGhpcy5jb2xvcj1pLHRoaXMuX3VwZGF0ZVBpY2tlcigpfX0se2tleTpcIl91cGRhdGVQaWNrZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT90aGlzLmNvbG9yOmFyZ3VtZW50c1swXSxlPWEuUkdCVG9IU1YodC5yLHQuZyx0LmIpLGk9dGhpcy5jb2xvclBpY2tlckNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7dm9pZCAwPT09dGhpcy5waXhlbFJhdGlvbiYmKHRoaXMucGl4ZWxSYXRpbz0od2luZG93LmRldmljZVBpeGVsUmF0aW98fDEpLyhpLndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW98fGkubW96QmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8aS5tc0JhY2tpbmdTdG9yZVBpeGVsUmF0aW98fGkub0JhY2tpbmdTdG9yZVBpeGVsUmF0aW98fGkuYmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8MSkpLGkuc2V0VHJhbnNmb3JtKHRoaXMucGl4ZWxSYXRpbywwLDAsdGhpcy5waXhlbFJhdGlvLDAsMCk7dmFyIG89dGhpcy5jb2xvclBpY2tlckNhbnZhcy5jbGllbnRXaWR0aCxuPXRoaXMuY29sb3JQaWNrZXJDYW52YXMuY2xpZW50SGVpZ2h0O2kuY2xlYXJSZWN0KDAsMCxvLG4pLGkucHV0SW1hZ2VEYXRhKHRoaXMuaHVlQ2lyY2xlLDAsMCksaS5maWxsU3R5bGU9XCJyZ2JhKDAsMCwwLFwiKygxLWUudikrXCIpXCIsaS5jaXJjbGUodGhpcy5jZW50ZXJDb29yZGluYXRlcy54LHRoaXMuY2VudGVyQ29vcmRpbmF0ZXMueSx0aGlzLnIpLGkuZmlsbCgpLHRoaXMuYnJpZ2h0bmVzc1JhbmdlLnZhbHVlPTEwMCplLnYsdGhpcy5vcGFjaXR5UmFuZ2UudmFsdWU9MTAwKnQuYSx0aGlzLmluaXRpYWxDb2xvckRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCJyZ2JhKFwiK3RoaXMuaW5pdGlhbENvbG9yLnIrXCIsXCIrdGhpcy5pbml0aWFsQ29sb3IuZytcIixcIit0aGlzLmluaXRpYWxDb2xvci5iK1wiLFwiK3RoaXMuaW5pdGlhbENvbG9yLmErXCIpXCIsdGhpcy5uZXdDb2xvckRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCJyZ2JhKFwiK3RoaXMuY29sb3IucitcIixcIit0aGlzLmNvbG9yLmcrXCIsXCIrdGhpcy5jb2xvci5iK1wiLFwiK3RoaXMuY29sb3IuYStcIilcIn19LHtrZXk6XCJfc2V0U2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jb2xvclBpY2tlckNhbnZhcy5zdHlsZS53aWR0aD1cIjEwMCVcIix0aGlzLmNvbG9yUGlja2VyQ2FudmFzLnN0eWxlLmhlaWdodD1cIjEwMCVcIix0aGlzLmNvbG9yUGlja2VyQ2FudmFzLndpZHRoPTI4OSp0aGlzLnBpeGVsUmF0aW8sdGhpcy5jb2xvclBpY2tlckNhbnZhcy5oZWlnaHQ9Mjg5KnRoaXMucGl4ZWxSYXRpb319LHtrZXk6XCJfY3JlYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmZyYW1lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5mcmFtZS5jbGFzc05hbWU9XCJ2aXMtY29sb3ItcGlja2VyXCIsdGhpcy5jb2xvclBpY2tlckRpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuY29sb3JQaWNrZXJTZWxlY3Rvcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuY29sb3JQaWNrZXJTZWxlY3Rvci5jbGFzc05hbWU9XCJ2aXMtc2VsZWN0b3JcIix0aGlzLmNvbG9yUGlja2VyRGl2LmFwcGVuZENoaWxkKHRoaXMuY29sb3JQaWNrZXJTZWxlY3RvciksdGhpcy5jb2xvclBpY2tlckNhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHRoaXMuY29sb3JQaWNrZXJEaXYuYXBwZW5kQ2hpbGQodGhpcy5jb2xvclBpY2tlckNhbnZhcyksdGhpcy5jb2xvclBpY2tlckNhbnZhcy5nZXRDb250ZXh0KXt2YXIgdD10aGlzLmNvbG9yUGlja2VyQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTt0aGlzLnBpeGVsUmF0aW89KHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxKS8odC53ZWJraXRCYWNraW5nU3RvcmVQaXhlbFJhdGlvfHx0Lm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW98fHQubXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvfHx0Lm9CYWNraW5nU3RvcmVQaXhlbFJhdGlvfHx0LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW98fDEpLHRoaXMuY29sb3JQaWNrZXJDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLnNldFRyYW5zZm9ybSh0aGlzLnBpeGVsUmF0aW8sMCwwLHRoaXMucGl4ZWxSYXRpbywwLDApfWVsc2V7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTtlLnN0eWxlLmNvbG9yPVwicmVkXCIsZS5zdHlsZS5mb250V2VpZ2h0PVwiYm9sZFwiLGUuc3R5bGUucGFkZGluZz1cIjEwcHhcIixlLmlubmVySFRNTD1cIkVycm9yOiB5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBIVE1MIGNhbnZhc1wiLHRoaXMuY29sb3JQaWNrZXJDYW52YXMuYXBwZW5kQ2hpbGQoZSl9dGhpcy5jb2xvclBpY2tlckRpdi5jbGFzc05hbWU9XCJ2aXMtY29sb3JcIix0aGlzLm9wYWNpdHlEaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLm9wYWNpdHlEaXYuY2xhc3NOYW1lPVwidmlzLW9wYWNpdHlcIix0aGlzLmJyaWdodG5lc3NEaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmJyaWdodG5lc3NEaXYuY2xhc3NOYW1lPVwidmlzLWJyaWdodG5lc3NcIix0aGlzLmFycm93RGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5hcnJvd0Rpdi5jbGFzc05hbWU9XCJ2aXMtYXJyb3dcIix0aGlzLm9wYWNpdHlSYW5nZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7dHJ5e3RoaXMub3BhY2l0eVJhbmdlLnR5cGU9XCJyYW5nZVwiLHRoaXMub3BhY2l0eVJhbmdlLm1pbj1cIjBcIix0aGlzLm9wYWNpdHlSYW5nZS5tYXg9XCIxMDBcIn1jYXRjaChpKXt9dGhpcy5vcGFjaXR5UmFuZ2UudmFsdWU9XCIxMDBcIix0aGlzLm9wYWNpdHlSYW5nZS5jbGFzc05hbWU9XCJ2aXMtcmFuZ2VcIix0aGlzLmJyaWdodG5lc3NSYW5nZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7dHJ5e3RoaXMuYnJpZ2h0bmVzc1JhbmdlLnR5cGU9XCJyYW5nZVwiLHRoaXMuYnJpZ2h0bmVzc1JhbmdlLm1pbj1cIjBcIix0aGlzLmJyaWdodG5lc3NSYW5nZS5tYXg9XCIxMDBcIn1jYXRjaChpKXt9dGhpcy5icmlnaHRuZXNzUmFuZ2UudmFsdWU9XCIxMDBcIix0aGlzLmJyaWdodG5lc3NSYW5nZS5jbGFzc05hbWU9XCJ2aXMtcmFuZ2VcIix0aGlzLm9wYWNpdHlEaXYuYXBwZW5kQ2hpbGQodGhpcy5vcGFjaXR5UmFuZ2UpLHRoaXMuYnJpZ2h0bmVzc0Rpdi5hcHBlbmRDaGlsZCh0aGlzLmJyaWdodG5lc3NSYW5nZSk7dmFyIG89dGhpczt0aGlzLm9wYWNpdHlSYW5nZS5vbmNoYW5nZT1mdW5jdGlvbigpe28uX3NldE9wYWNpdHkodGhpcy52YWx1ZSl9LHRoaXMub3BhY2l0eVJhbmdlLm9uaW5wdXQ9ZnVuY3Rpb24oKXtvLl9zZXRPcGFjaXR5KHRoaXMudmFsdWUpfSx0aGlzLmJyaWdodG5lc3NSYW5nZS5vbmNoYW5nZT1mdW5jdGlvbigpe28uX3NldEJyaWdodG5lc3ModGhpcy52YWx1ZSl9LHRoaXMuYnJpZ2h0bmVzc1JhbmdlLm9uaW5wdXQ9ZnVuY3Rpb24oKXtvLl9zZXRCcmlnaHRuZXNzKHRoaXMudmFsdWUpfSx0aGlzLmJyaWdodG5lc3NMYWJlbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuYnJpZ2h0bmVzc0xhYmVsLmNsYXNzTmFtZT1cInZpcy1sYWJlbCB2aXMtYnJpZ2h0bmVzc1wiLHRoaXMuYnJpZ2h0bmVzc0xhYmVsLmlubmVySFRNTD1cImJyaWdodG5lc3M6XCIsdGhpcy5vcGFjaXR5TGFiZWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLm9wYWNpdHlMYWJlbC5jbGFzc05hbWU9XCJ2aXMtbGFiZWwgdmlzLW9wYWNpdHlcIix0aGlzLm9wYWNpdHlMYWJlbC5pbm5lckhUTUw9XCJvcGFjaXR5OlwiLHRoaXMubmV3Q29sb3JEaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLm5ld0NvbG9yRGl2LmNsYXNzTmFtZT1cInZpcy1uZXctY29sb3JcIix0aGlzLm5ld0NvbG9yRGl2LmlubmVySFRNTD1cIm5ld1wiLHRoaXMuaW5pdGlhbENvbG9yRGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5pbml0aWFsQ29sb3JEaXYuY2xhc3NOYW1lPVwidmlzLWluaXRpYWwtY29sb3JcIix0aGlzLmluaXRpYWxDb2xvckRpdi5pbm5lckhUTUw9XCJpbml0aWFsXCIsdGhpcy5jYW5jZWxCdXR0b249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmNhbmNlbEJ1dHRvbi5jbGFzc05hbWU9XCJ2aXMtYnV0dG9uIHZpcy1jYW5jZWxcIix0aGlzLmNhbmNlbEJ1dHRvbi5pbm5lckhUTUw9XCJjYW5jZWxcIix0aGlzLmNhbmNlbEJ1dHRvbi5vbmNsaWNrPXRoaXMuX2hpZGUuYmluZCh0aGlzLCExKSx0aGlzLmFwcGx5QnV0dG9uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5hcHBseUJ1dHRvbi5jbGFzc05hbWU9XCJ2aXMtYnV0dG9uIHZpcy1hcHBseVwiLHRoaXMuYXBwbHlCdXR0b24uaW5uZXJIVE1MPVwiYXBwbHlcIix0aGlzLmFwcGx5QnV0dG9uLm9uY2xpY2s9dGhpcy5fYXBwbHkuYmluZCh0aGlzKSx0aGlzLnNhdmVCdXR0b249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLnNhdmVCdXR0b24uY2xhc3NOYW1lPVwidmlzLWJ1dHRvbiB2aXMtc2F2ZVwiLHRoaXMuc2F2ZUJ1dHRvbi5pbm5lckhUTUw9XCJzYXZlXCIsdGhpcy5zYXZlQnV0dG9uLm9uY2xpY2s9dGhpcy5fc2F2ZS5iaW5kKHRoaXMpLHRoaXMubG9hZEJ1dHRvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMubG9hZEJ1dHRvbi5jbGFzc05hbWU9XCJ2aXMtYnV0dG9uIHZpcy1sb2FkXCIsdGhpcy5sb2FkQnV0dG9uLmlubmVySFRNTD1cImxvYWQgbGFzdFwiLHRoaXMubG9hZEJ1dHRvbi5vbmNsaWNrPXRoaXMuX2xvYWRMYXN0LmJpbmQodGhpcyksdGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLmNvbG9yUGlja2VyRGl2KSx0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuYXJyb3dEaXYpLHRoaXMuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5icmlnaHRuZXNzTGFiZWwpLHRoaXMuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5icmlnaHRuZXNzRGl2KSx0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMub3BhY2l0eUxhYmVsKSx0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMub3BhY2l0eURpdiksdGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLm5ld0NvbG9yRGl2KSx0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuaW5pdGlhbENvbG9yRGl2KSx0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuY2FuY2VsQnV0dG9uKSx0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuYXBwbHlCdXR0b24pLHRoaXMuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5zYXZlQnV0dG9uKSx0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMubG9hZEJ1dHRvbil9fSx7a2V5OlwiX2JpbmRIYW1tZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5kcmFnPXt9LHRoaXMucGluY2g9e30sdGhpcy5oYW1tZXI9bmV3IHModGhpcy5jb2xvclBpY2tlckNhbnZhcyksdGhpcy5oYW1tZXIuZ2V0KFwicGluY2hcIikuc2V0KHtlbmFibGU6ITB9KSxyLm9uVG91Y2godGhpcy5oYW1tZXIsZnVuY3Rpb24oZSl7dC5fbW92ZVNlbGVjdG9yKGUpfSksdGhpcy5oYW1tZXIub24oXCJ0YXBcIixmdW5jdGlvbihlKXt0Ll9tb3ZlU2VsZWN0b3IoZSl9KSx0aGlzLmhhbW1lci5vbihcInBhbnN0YXJ0XCIsZnVuY3Rpb24oZSl7dC5fbW92ZVNlbGVjdG9yKGUpfSksdGhpcy5oYW1tZXIub24oXCJwYW5tb3ZlXCIsZnVuY3Rpb24oZSl7dC5fbW92ZVNlbGVjdG9yKGUpfSksdGhpcy5oYW1tZXIub24oXCJwYW5lbmRcIixmdW5jdGlvbihlKXt0Ll9tb3ZlU2VsZWN0b3IoZSl9KX19LHtrZXk6XCJfZ2VuZXJhdGVIdWVDaXJjbGVcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuZ2VuZXJhdGVkPT09ITEpe3ZhciB0PXRoaXMuY29sb3JQaWNrZXJDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO3ZvaWQgMD09PXRoaXMucGl4ZWxSYXRpb24mJih0aGlzLnBpeGVsUmF0aW89KHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxKS8odC53ZWJraXRCYWNraW5nU3RvcmVQaXhlbFJhdGlvfHx0Lm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW98fHQubXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvfHx0Lm9CYWNraW5nU3RvcmVQaXhlbFJhdGlvfHx0LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW98fDEpKSx0LnNldFRyYW5zZm9ybSh0aGlzLnBpeGVsUmF0aW8sMCwwLHRoaXMucGl4ZWxSYXRpbywwLDApO3ZhciBlPXRoaXMuY29sb3JQaWNrZXJDYW52YXMuY2xpZW50V2lkdGgsaT10aGlzLmNvbG9yUGlja2VyQ2FudmFzLmNsaWVudEhlaWdodDt0LmNsZWFyUmVjdCgwLDAsZSxpKTt2YXIgbz12b2lkIDAsbj12b2lkIDAscz12b2lkIDAscj12b2lkIDA7dGhpcy5jZW50ZXJDb29yZGluYXRlcz17eDouNSplLHk6LjUqaX0sdGhpcy5yPS40OSplO3ZhciBoPTIqTWF0aC5QSS8zNjAsZD0xLzM2MCxsPTEvdGhpcy5yLHU9dm9pZCAwO2ZvcihzPTA7MzYwPnM7cysrKWZvcihyPTA7cjx0aGlzLnI7cisrKW89dGhpcy5jZW50ZXJDb29yZGluYXRlcy54K3IqTWF0aC5zaW4oaCpzKSxuPXRoaXMuY2VudGVyQ29vcmRpbmF0ZXMueStyKk1hdGguY29zKGgqcyksdT1hLkhTVlRvUkdCKHMqZCxyKmwsMSksdC5maWxsU3R5bGU9XCJyZ2IoXCIrdS5yK1wiLFwiK3UuZytcIixcIit1LmIrXCIpXCIsdC5maWxsUmVjdChvLS41LG4tLjUsMiwyKTt0LnN0cm9rZVN0eWxlPVwicmdiYSgwLDAsMCwxKVwiLHQuY2lyY2xlKHRoaXMuY2VudGVyQ29vcmRpbmF0ZXMueCx0aGlzLmNlbnRlckNvb3JkaW5hdGVzLnksdGhpcy5yKSx0LnN0cm9rZSgpLHRoaXMuaHVlQ2lyY2xlPXQuZ2V0SW1hZ2VEYXRhKDAsMCxlLGkpfXRoaXMuZ2VuZXJhdGVkPSEwfX0se2tleTpcIl9tb3ZlU2VsZWN0b3JcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbG9yUGlja2VyRGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGk9dC5jZW50ZXIueC1lLmxlZnQsbz10LmNlbnRlci55LWUudG9wLG49LjUqdGhpcy5jb2xvclBpY2tlckRpdi5jbGllbnRIZWlnaHQscz0uNSp0aGlzLmNvbG9yUGlja2VyRGl2LmNsaWVudFdpZHRoLHI9aS1zLGg9by1uLGQ9TWF0aC5hdGFuMihyLGgpLGw9Ljk4Kk1hdGgubWluKE1hdGguc3FydChyKnIraCpoKSxzKSx1PU1hdGguY29zKGQpKmwrbixjPU1hdGguc2luKGQpKmwrczt0aGlzLmNvbG9yUGlja2VyU2VsZWN0b3Iuc3R5bGUudG9wPXUtLjUqdGhpcy5jb2xvclBpY2tlclNlbGVjdG9yLmNsaWVudEhlaWdodCtcInB4XCIsdGhpcy5jb2xvclBpY2tlclNlbGVjdG9yLnN0eWxlLmxlZnQ9Yy0uNSp0aGlzLmNvbG9yUGlja2VyU2VsZWN0b3IuY2xpZW50V2lkdGgrXCJweFwiO3ZhciBwPWQvKDIqTWF0aC5QSSk7cD0wPnA/cCsxOnA7dmFyIGY9bC90aGlzLnIsbT1hLlJHQlRvSFNWKHRoaXMuY29sb3Iucix0aGlzLmNvbG9yLmcsdGhpcy5jb2xvci5iKTttLmg9cCxtLnM9Zjt2YXIgdj1hLkhTVlRvUkdCKG0uaCxtLnMsbS52KTt2LmE9dGhpcy5jb2xvci5hLHRoaXMuY29sb3I9dix0aGlzLmluaXRpYWxDb2xvckRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCJyZ2JhKFwiK3RoaXMuaW5pdGlhbENvbG9yLnIrXCIsXCIrdGhpcy5pbml0aWFsQ29sb3IuZytcIixcIit0aGlzLmluaXRpYWxDb2xvci5iK1wiLFwiK3RoaXMuaW5pdGlhbENvbG9yLmErXCIpXCIsdGhpcy5uZXdDb2xvckRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCJyZ2JhKFwiK3RoaXMuY29sb3IucitcIixcIit0aGlzLmNvbG9yLmcrXCIsXCIrdGhpcy5jb2xvci5iK1wiLFwiK3RoaXMuY29sb3IuYStcIilcIn19XSksdH0oKTtlW1wiZGVmYXVsdFwiXT1oLHQuZXhwb3J0cz1lW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1lW2ldO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4gaSYmdChlLnByb3RvdHlwZSxpKSxvJiZ0KGUsbyksZX19KCkscz1pKDEpLHI9ITEsYT12b2lkIDAsaD1cImJhY2tncm91bmQ6ICNGRmVlZWU7IGNvbG9yOiAjZGQwMDAwXCIsZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtvKHRoaXMsdCl9cmV0dXJuIG4odCxudWxsLFt7a2V5OlwidmFsaWRhdGVcIix2YWx1ZTpmdW5jdGlvbihlLGksbyl7cj0hMSxhPWk7dmFyIG49aTtyZXR1cm4gdm9pZCAwIT09byYmKG49aVtvXSksdC5wYXJzZShlLG4sW10pLHJ9fSx7a2V5OlwicGFyc2VcIix2YWx1ZTpmdW5jdGlvbihlLGksbyl7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmdC5jaGVjayhuLGUsaSxvKX19LHtrZXk6XCJjaGVja1wiLHZhbHVlOmZ1bmN0aW9uKGUsaSxvLG4pe3ZvaWQgMD09PW9bZV0mJnZvaWQgMD09PW8uX19hbnlfXz90LmdldFN1Z2dlc3Rpb24oZSxvLG4pOnZvaWQgMD09PW9bZV0mJnZvaWQgMCE9PW8uX19hbnlfXz9cIm9iamVjdFwiPT09dC5nZXRUeXBlKGlbZV0pJiZ2b2lkIDAhPT1vLl9fYW55X18uX190eXBlX18/dC5jaGVja0ZpZWxkcyhlLGksbyxcIl9fYW55X19cIixvLl9fYW55X18uX190eXBlX18sbik6dC5jaGVja0ZpZWxkcyhlLGksbyxcIl9fYW55X19cIixvLl9fYW55X18sbik6dm9pZCAwIT09b1tlXS5fX3R5cGVfXz90LmNoZWNrRmllbGRzKGUsaSxvLGUsb1tlXS5fX3R5cGVfXyxuKTp0LmNoZWNrRmllbGRzKGUsaSxvLGUsb1tlXSxuKX19LHtrZXk6XCJjaGVja0ZpZWxkc1wiLHZhbHVlOmZ1bmN0aW9uKGUsaSxvLG4sYSxkKXt2YXIgbD10LmdldFR5cGUoaVtlXSksdT1hW2xdO3ZvaWQgMCE9PXU/XCJhcnJheVwiPT09dC5nZXRUeXBlKHUpJiYtMT09PXUuaW5kZXhPZihpW2VdKT8oY29uc29sZS5sb2coJyVjSW52YWxpZCBvcHRpb24gZGV0ZWN0ZWQgaW4gXCInK2UrJ1wiLiBBbGxvd2VkIHZhbHVlcyBhcmU6Jyt0LnByaW50KHUpKycgbm90IFwiJytpW2VdKydcIi4gJyt0LnByaW50TG9jYXRpb24oZCxlKSxoKSxyPSEwKTpcIm9iamVjdFwiPT09bCYmXCJfX2FueV9fXCIhPT1uJiYoZD1zLmNvcHlBbmRFeHRlbmRBcnJheShkLGUpLHQucGFyc2UoaVtlXSxvW25dLGQpKTp2b2lkIDA9PT1hLmFueSYmKGNvbnNvbGUubG9nKCclY0ludmFsaWQgdHlwZSByZWNlaXZlZCBmb3IgXCInK2UrJ1wiLiBFeHBlY3RlZDogJyt0LnByaW50KE9iamVjdC5rZXlzKGEpKStcIi4gUmVjZWl2ZWQgW1wiK2wrJ10gXCInK2lbZV0rJ1wiJyt0LnByaW50TG9jYXRpb24oZCxlKSxoKSxyPSEwKX19LHtrZXk6XCJnZXRUeXBlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuXCJvYmplY3RcIj09PWU/bnVsbD09PXQ/XCJudWxsXCI6dCBpbnN0YW5jZW9mIEJvb2xlYW4/XCJib29sZWFuXCI6dCBpbnN0YW5jZW9mIE51bWJlcj9cIm51bWJlclwiOnQgaW5zdGFuY2VvZiBTdHJpbmc/XCJzdHJpbmdcIjpBcnJheS5pc0FycmF5KHQpP1wiYXJyYXlcIjp0IGluc3RhbmNlb2YgRGF0ZT9cImRhdGVcIjp2b2lkIDAhPT10Lm5vZGVUeXBlP1wiZG9tXCI6dC5faXNBTW9tZW50T2JqZWN0PT09ITA/XCJtb21lbnRcIjpcIm9iamVjdFwiOlwibnVtYmVyXCI9PT1lP1wibnVtYmVyXCI6XCJib29sZWFuXCI9PT1lP1wiYm9vbGVhblwiOlwic3RyaW5nXCI9PT1lP1wic3RyaW5nXCI6dm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOmV9fSx7a2V5OlwiZ2V0U3VnZ2VzdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUsaSxvKXt2YXIgbj10LmZpbmRJbk9wdGlvbnMoZSxpLG8sITEpLHM9dC5maW5kSW5PcHRpb25zKGUsYSxbXSwhMCksZD04LGw9NDt2b2lkIDAhPT1uLmluZGV4TWF0Y2g/Y29uc29sZS5sb2coJyVjVW5rbm93biBvcHRpb24gZGV0ZWN0ZWQ6IFwiJytlKydcIiBpbiAnK3QucHJpbnRMb2NhdGlvbihuLnBhdGgsZSxcIlwiKSsnUGVyaGFwcyBpdCB3YXMgaW5jb21wbGV0ZT8gRGlkIHlvdSBtZWFuOiBcIicrbi5pbmRleE1hdGNoKydcIj9cXG5cXG4nLGgpOnMuZGlzdGFuY2U8PWwmJm4uZGlzdGFuY2U+cy5kaXN0YW5jZT9jb25zb2xlLmxvZygnJWNVbmtub3duIG9wdGlvbiBkZXRlY3RlZDogXCInK2UrJ1wiIGluICcrdC5wcmludExvY2F0aW9uKG4ucGF0aCxlLFwiXCIpK1wiUGVyaGFwcyBpdCB3YXMgbWlzcGxhY2VkPyBNYXRjaGluZyBvcHRpb24gZm91bmQgYXQ6IFwiK3QucHJpbnRMb2NhdGlvbihzLnBhdGgscy5jbG9zZXN0TWF0Y2gsXCJcIiksaCk6bi5kaXN0YW5jZTw9ZD9jb25zb2xlLmxvZygnJWNVbmtub3duIG9wdGlvbiBkZXRlY3RlZDogXCInK2UrJ1wiLiBEaWQgeW91IG1lYW4gXCInK24uY2xvc2VzdE1hdGNoKydcIj8nK3QucHJpbnRMb2NhdGlvbihuLnBhdGgsZSksaCk6Y29uc29sZS5sb2coJyVjVW5rbm93biBvcHRpb24gZGV0ZWN0ZWQ6IFwiJytlKydcIi4gRGlkIHlvdSBtZWFuIG9uZSBvZiB0aGVzZTogJyt0LnByaW50KE9iamVjdC5rZXlzKGkpKSt0LnByaW50TG9jYXRpb24obyxlKSxoKSxyPSEwfX0se2tleTpcImZpbmRJbk9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbihlLGksbyl7dmFyIG49YXJndW1lbnRzLmxlbmd0aDw9M3x8dm9pZCAwPT09YXJndW1lbnRzWzNdPyExOmFyZ3VtZW50c1szXSxyPTFlOSxhPVwiXCIsaD1bXSxkPWUudG9Mb3dlckNhc2UoKSxsPXZvaWQgMDtmb3IodmFyIHUgaW4gaSl7dmFyIGM9dm9pZCAwO2lmKHZvaWQgMCE9PWlbdV0uX190eXBlX18mJm49PT0hMCl7dmFyIHA9dC5maW5kSW5PcHRpb25zKGUsaVt1XSxzLmNvcHlBbmRFeHRlbmRBcnJheShvLHUpKTtyPnAuZGlzdGFuY2UmJihhPXAuY2xvc2VzdE1hdGNoLGg9cC5wYXRoLHI9cC5kaXN0YW5jZSxsPXAuaW5kZXhNYXRjaCl9ZWxzZS0xIT09dS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoZCkmJihsPXUpLGM9dC5sZXZlbnNodGVpbkRpc3RhbmNlKGUsdSkscj5jJiYoYT11LGg9cy5jb3B5QXJyYXkobykscj1jKX1yZXR1cm57Y2xvc2VzdE1hdGNoOmEscGF0aDpoLGRpc3RhbmNlOnIsaW5kZXhNYXRjaDpsfX19LHtrZXk6XCJwcmludExvY2F0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aDw9Mnx8dm9pZCAwPT09YXJndW1lbnRzWzJdP1wiUHJvYmxlbSB2YWx1ZSBmb3VuZCBhdDogXFxuXCI6YXJndW1lbnRzWzJdLG89XCJcXG5cXG5cIitpK1wib3B0aW9ucyA9IHtcXG5cIixuPTA7bjx0Lmxlbmd0aDtuKyspe2Zvcih2YXIgcz0wO24rMT5zO3MrKylvKz1cIiAgXCI7bys9dFtuXStcIjoge1xcblwifWZvcih2YXIgcz0wO3M8dC5sZW5ndGgrMTtzKyspbys9XCIgIFwiO28rPWUrXCJcXG5cIjtmb3IodmFyIG49MDtuPHQubGVuZ3RoKzE7bisrKXtmb3IodmFyIHM9MDtzPHQubGVuZ3RoLW47cysrKW8rPVwiICBcIjtvKz1cIn1cXG5cIn1yZXR1cm4gbytcIlxcblxcblwifX0se2tleTpcInByaW50XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHQpLnJlcGxhY2UoLyhcXFwiKXwoXFxbKXwoXFxdKXwoLFwiX190eXBlX19cIikvZyxcIlwiKS5yZXBsYWNlKC8oXFwsKS9nLFwiLCBcIil9fSx7a2V5OlwibGV2ZW5zaHRlaW5EaXN0YW5jZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoMD09PXQubGVuZ3RoKXJldHVybiBlLmxlbmd0aDtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIHQubGVuZ3RoO3ZhciBpLG89W107Zm9yKGk9MDtpPD1lLmxlbmd0aDtpKyspb1tpXT1baV07dmFyIG47Zm9yKG49MDtuPD10Lmxlbmd0aDtuKyspb1swXVtuXT1uO2ZvcihpPTE7aTw9ZS5sZW5ndGg7aSsrKWZvcihuPTE7bjw9dC5sZW5ndGg7bisrKWUuY2hhckF0KGktMSk9PXQuY2hhckF0KG4tMSk/b1tpXVtuXT1vW2ktMV1bbi0xXTpvW2ldW25dPU1hdGgubWluKG9baS0xXVtuLTFdKzEsTWF0aC5taW4ob1tpXVtuLTFdKzEsb1tpLTFdW25dKzEpKTtyZXR1cm4gb1tlLmxlbmd0aF1bdC5sZW5ndGhdfX1dKSx0fSgpO2VbXCJkZWZhdWx0XCJdPWQsZS5wcmludFN0eWxlPWh9LGZ1bmN0aW9uKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9XCJzdHJpbmdcIixvPVwiYm9vbGVhblwiLG49XCJudW1iZXJcIixzPVwiYXJyYXlcIixyPVwiZGF0ZVwiLGE9XCJvYmplY3RcIixoPVwiZG9tXCIsZD1cIm1vbWVudFwiLGw9XCJhbnlcIix1PXtjb25maWd1cmU6e2VuYWJsZWQ6e1wiYm9vbGVhblwiOm99LGZpbHRlcjp7XCJib29sZWFuXCI6byxcImZ1bmN0aW9uXCI6XCJmdW5jdGlvblwifSxjb250YWluZXI6e2RvbTpofSxfX3R5cGVfXzp7b2JqZWN0OmEsXCJib29sZWFuXCI6byxcImZ1bmN0aW9uXCI6XCJmdW5jdGlvblwifX0sYWxpZ246e3N0cmluZzppfSxhdXRvUmVzaXplOntcImJvb2xlYW5cIjpvfSx0aHJvdHRsZVJlZHJhdzp7bnVtYmVyOm59LGNsaWNrVG9Vc2U6e1wiYm9vbGVhblwiOm99LGRhdGFBdHRyaWJ1dGVzOntzdHJpbmc6aSxhcnJheTpzfSxlZGl0YWJsZTp7YWRkOntcImJvb2xlYW5cIjpvLHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSxyZW1vdmU6e1wiYm9vbGVhblwiOm8sdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LHVwZGF0ZUdyb3VwOntcImJvb2xlYW5cIjpvLHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSx1cGRhdGVUaW1lOntcImJvb2xlYW5cIjpvLHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSxfX3R5cGVfXzp7XCJib29sZWFuXCI6byxvYmplY3Q6YX19LGVuZDp7bnVtYmVyOm4sZGF0ZTpyLHN0cmluZzppLG1vbWVudDpkfSxmb3JtYXQ6e21pbm9yTGFiZWxzOnttaWxsaXNlY29uZDp7c3RyaW5nOmksdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LHNlY29uZDp7c3RyaW5nOmksdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LG1pbnV0ZTp7c3RyaW5nOmksdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LGhvdXI6e3N0cmluZzppLHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSx3ZWVrZGF5OntzdHJpbmc6aSx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sZGF5OntzdHJpbmc6aSx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sbW9udGg6e3N0cmluZzppLHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSx5ZWFyOntzdHJpbmc6aSx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sX190eXBlX186e29iamVjdDphfX0sbWFqb3JMYWJlbHM6e21pbGxpc2Vjb25kOntzdHJpbmc6aSx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sc2Vjb25kOntzdHJpbmc6aSx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sbWludXRlOntzdHJpbmc6aSx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0saG91cjp7c3RyaW5nOmksdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LHdlZWtkYXk6e3N0cmluZzppLHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSxkYXk6e3N0cmluZzppLHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSxtb250aDp7c3RyaW5nOmksdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LHllYXI6e3N0cmluZzppLHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSxfX3R5cGVfXzp7b2JqZWN0OmF9fSxfX3R5cGVfXzp7b2JqZWN0OmF9fSxtb21lbnQ6e1wiZnVuY3Rpb25cIjpcImZ1bmN0aW9uXCJ9LGdyb3VwT3JkZXI6e3N0cmluZzppLFwiZnVuY3Rpb25cIjpcImZ1bmN0aW9uXCJ9LGdyb3VwRWRpdGFibGU6e2FkZDp7XCJib29sZWFuXCI6byx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0scmVtb3ZlOntcImJvb2xlYW5cIjpvLHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSxvcmRlcjp7XCJib29sZWFuXCI6byx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sX190eXBlX186e1wiYm9vbGVhblwiOm8sb2JqZWN0OmF9fSxncm91cE9yZGVyU3dhcDp7XCJmdW5jdGlvblwiOlwiZnVuY3Rpb25cIn0saGVpZ2h0OntzdHJpbmc6aSxudW1iZXI6bn0saGlkZGVuRGF0ZXM6e3N0YXJ0OntkYXRlOnIsbnVtYmVyOm4sc3RyaW5nOmksbW9tZW50OmR9LGVuZDp7ZGF0ZTpyLG51bWJlcjpuLHN0cmluZzppLG1vbWVudDpkfSxyZXBlYXQ6e3N0cmluZzppfSxfX3R5cGVfXzp7b2JqZWN0OmEsYXJyYXk6c319LGl0ZW1zQWx3YXlzRHJhZ2dhYmxlOntcImJvb2xlYW5cIjpvfSxsb2NhbGU6e3N0cmluZzppfSxsb2NhbGVzOntfX2FueV9fOnthbnk6bH0sX190eXBlX186e29iamVjdDphfX0sbWFyZ2luOntheGlzOntudW1iZXI6bn0saXRlbTp7aG9yaXpvbnRhbDp7bnVtYmVyOm4sdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LHZlcnRpY2FsOntudW1iZXI6bix1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sX190eXBlX186e29iamVjdDphLG51bWJlcjpufX0sX190eXBlX186e29iamVjdDphLG51bWJlcjpufX0sbWF4OntkYXRlOnIsbnVtYmVyOm4sc3RyaW5nOmksbW9tZW50OmR9LG1heEhlaWdodDp7bnVtYmVyOm4sc3RyaW5nOml9LG1heE1pbm9yQ2hhcnM6e251bWJlcjpufSxtaW46e2RhdGU6cixudW1iZXI6bixzdHJpbmc6aSxtb21lbnQ6ZH0sbWluSGVpZ2h0OntudW1iZXI6bixzdHJpbmc6aX0sbW92ZWFibGU6e1wiYm9vbGVhblwiOm99LG11bHRpc2VsZWN0OntcImJvb2xlYW5cIjpvfSxtdWx0aXNlbGVjdFBlckdyb3VwOntcImJvb2xlYW5cIjpvfSxvbkFkZDp7XCJmdW5jdGlvblwiOlwiZnVuY3Rpb25cIn0sb25VcGRhdGU6e1wiZnVuY3Rpb25cIjpcImZ1bmN0aW9uXCJ9LG9uTW92ZTp7XCJmdW5jdGlvblwiOlwiZnVuY3Rpb25cIn0sb25Nb3Zpbmc6e1wiZnVuY3Rpb25cIjpcImZ1bmN0aW9uXCJ9LG9uUmVtb3ZlOntcImZ1bmN0aW9uXCI6XCJmdW5jdGlvblwifSxvbkFkZEdyb3VwOntcImZ1bmN0aW9uXCI6XCJmdW5jdGlvblwifSxvbk1vdmVHcm91cDp7XCJmdW5jdGlvblwiOlwiZnVuY3Rpb25cIn0sb25SZW1vdmVHcm91cDp7XCJmdW5jdGlvblwiOlwiZnVuY3Rpb25cIn0sb3JkZXI6e1wiZnVuY3Rpb25cIjpcImZ1bmN0aW9uXCJ9LG9yaWVudGF0aW9uOntheGlzOntzdHJpbmc6aSx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0saXRlbTp7c3RyaW5nOmksdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LF9fdHlwZV9fOntzdHJpbmc6aSxvYmplY3Q6YX19LHNlbGVjdGFibGU6e1wiYm9vbGVhblwiOm99LHNob3dDdXJyZW50VGltZTp7XCJib29sZWFuXCI6b30sc2hvd01ham9yTGFiZWxzOntcImJvb2xlYW5cIjpvfSxzaG93TWlub3JMYWJlbHM6e1wiYm9vbGVhblwiOm99LHN0YWNrOntcImJvb2xlYW5cIjpvfSxzbmFwOntcImZ1bmN0aW9uXCI6XCJmdW5jdGlvblwiLFwibnVsbFwiOlwibnVsbFwifSxzdGFydDp7ZGF0ZTpyLG51bWJlcjpuLHN0cmluZzppLG1vbWVudDpkfSx0ZW1wbGF0ZTp7XCJmdW5jdGlvblwiOlwiZnVuY3Rpb25cIn0sZ3JvdXBUZW1wbGF0ZTp7XCJmdW5jdGlvblwiOlwiZnVuY3Rpb25cIn0sdGltZUF4aXM6e3NjYWxlOntzdHJpbmc6aSx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sc3RlcDp7bnVtYmVyOm4sdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LF9fdHlwZV9fOntvYmplY3Q6YX19LHR5cGU6e3N0cmluZzppfSx3aWR0aDp7c3RyaW5nOmksbnVtYmVyOm59LHpvb21hYmxlOntcImJvb2xlYW5cIjpvfSx6b29tS2V5OntzdHJpbmc6W1wiY3RybEtleVwiLFwiYWx0S2V5XCIsXCJtZXRhS2V5XCIsXCJcIl19LHpvb21NYXg6e251bWJlcjpufSx6b29tTWluOntudW1iZXI6bn0sX190eXBlX186e29iamVjdDphfX0sYz17Z2xvYmFsOnthbGlnbjpbXCJjZW50ZXJcIixcImxlZnRcIixcInJpZ2h0XCJdLGF1dG9SZXNpemU6ITAsdGhyb3R0bGVSZWRyYXc6WzEwLDAsMWUzLDEwXSxjbGlja1RvVXNlOiExLGVkaXRhYmxlOnthZGQ6ITEscmVtb3ZlOiExLHVwZGF0ZUdyb3VwOiExLHVwZGF0ZVRpbWU6ITF9LGVuZDpcIlwiLGZvcm1hdDp7bWlub3JMYWJlbHM6e21pbGxpc2Vjb25kOlwiU1NTXCIsc2Vjb25kOlwic1wiLG1pbnV0ZTpcIkhIOm1tXCIsaG91cjpcIkhIOm1tXCIsd2Vla2RheTpcImRkZCBEXCIsZGF5OlwiRFwiLG1vbnRoOlwiTU1NXCIseWVhcjpcIllZWVlcIn0sbWFqb3JMYWJlbHM6e21pbGxpc2Vjb25kOlwiSEg6bW06c3NcIixzZWNvbmQ6XCJEIE1NTU0gSEg6bW1cIixtaW51dGU6XCJkZGQgRCBNTU1NXCIsaG91cjpcImRkZCBEIE1NTU1cIix3ZWVrZGF5OlwiTU1NTSBZWVlZXCIsZGF5OlwiTU1NTSBZWVlZXCIsbW9udGg6XCJZWVlZXCIseWVhcjpcIlwifX0sZ3JvdXBzRHJhZ2dhYmxlOiExLGhlaWdodDpcIlwiLGxvY2FsZTpcIlwiLG1hcmdpbjp7YXhpczpbMjAsMCwxMDAsMV0saXRlbTp7aG9yaXpvbnRhbDpbMTAsMCwxMDAsMV0sdmVydGljYWw6WzEwLDAsMTAwLDFdfX0sbWF4OlwiXCIsbWF4SGVpZ2h0OlwiXCIsbWF4TWlub3JDaGFyczpbNywwLDIwLDFdLG1pbjpcIlwiLG1pbkhlaWdodDpcIlwiLG1vdmVhYmxlOiExLG11bHRpc2VsZWN0OiExLG11bHRpc2VsZWN0UGVyR3JvdXA6ITEsb3JpZW50YXRpb246e2F4aXM6W1wiYm90aFwiLFwiYm90dG9tXCIsXCJ0b3BcIl0saXRlbTpbXCJib3R0b21cIixcInRvcFwiXX0sc2VsZWN0YWJsZTohMCxzaG93Q3VycmVudFRpbWU6ITEsc2hvd01ham9yTGFiZWxzOiEwLHNob3dNaW5vckxhYmVsczohMCxzdGFjazohMCxzdGFydDpcIlwiLHR5cGU6W1wiYm94XCIsXCJwb2ludFwiLFwicmFuZ2VcIixcImJhY2tncm91bmRcIl0sd2lkdGg6XCIxMDAlXCIsem9vbWFibGU6ITAsem9vbUtleTpbXCJjdHJsS2V5XCIsXCJhbHRLZXlcIixcIm1ldGFLZXlcIixcIlwiXSx6b29tTWF4OlszMTUzNmUxMCwxMCwzMTUzNmUxMCwxXSx6b29tTWluOlsxMCwxMCwzMTUzNmUxMCwxXX19O2UuYWxsT3B0aW9ucz11LGUuY29uZmlndXJlT3B0aW9ucz1jfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbyh0LGUsaSxvKXtpZighKEFycmF5LmlzQXJyYXkoaSl8fGkgaW5zdGFuY2VvZiByfHxpIGluc3RhbmNlb2YgYSkmJmkgaW5zdGFuY2VvZiBPYmplY3Qpe3ZhciBkPW87bz1pLGk9ZH12YXIgYz10aGlzO3RoaXMuZGVmYXVsdE9wdGlvbnM9e3N0YXJ0Om51bGwsZW5kOm51bGwsYXV0b1Jlc2l6ZTohMCxvcmllbnRhdGlvbjp7YXhpczpcImJvdHRvbVwiLGl0ZW06XCJib3R0b21cIn0sbW9tZW50Om4sd2lkdGg6bnVsbCxoZWlnaHQ6bnVsbCxtYXhIZWlnaHQ6bnVsbCxtaW5IZWlnaHQ6bnVsbH0sdGhpcy5vcHRpb25zPXMuZGVlcEV4dGVuZCh7fSx0aGlzLmRlZmF1bHRPcHRpb25zKSx0aGlzLl9jcmVhdGUodCksdGhpcy5jb21wb25lbnRzPVtdLHRoaXMuYm9keT17ZG9tOnRoaXMuZG9tLGRvbVByb3BzOnRoaXMucHJvcHMsZW1pdHRlcjp7b246dGhpcy5vbi5iaW5kKHRoaXMpLG9mZjp0aGlzLm9mZi5iaW5kKHRoaXMpLGVtaXQ6dGhpcy5lbWl0LmJpbmQodGhpcyl9LGhpZGRlbkRhdGVzOltdLHV0aWw6e3RvU2NyZWVuOmMuX3RvU2NyZWVuLmJpbmQoYyksdG9HbG9iYWxTY3JlZW46Yy5fdG9HbG9iYWxTY3JlZW4uYmluZChjKSx0b1RpbWU6Yy5fdG9UaW1lLmJpbmQoYyksdG9HbG9iYWxUaW1lOmMuX3RvR2xvYmFsVGltZS5iaW5kKGMpfX0sdGhpcy5yYW5nZT1uZXcgaCh0aGlzLmJvZHkpLHRoaXMuY29tcG9uZW50cy5wdXNoKHRoaXMucmFuZ2UpLHRoaXMuYm9keS5yYW5nZT10aGlzLnJhbmdlLHRoaXMudGltZUF4aXM9bmV3IGwodGhpcy5ib2R5KSx0aGlzLmNvbXBvbmVudHMucHVzaCh0aGlzLnRpbWVBeGlzKSx0aGlzLmN1cnJlbnRUaW1lPW5ldyB1KHRoaXMuYm9keSksdGhpcy5jb21wb25lbnRzLnB1c2godGhpcy5jdXJyZW50VGltZSksdGhpcy5saW5lZ3JhcGg9bmV3IHAodGhpcy5ib2R5KSx0aGlzLmNvbXBvbmVudHMucHVzaCh0aGlzLmxpbmVncmFwaCksdGhpcy5pdGVtc0RhdGE9bnVsbCx0aGlzLmdyb3Vwc0RhdGE9bnVsbCx0aGlzLm9uKFwidGFwXCIsZnVuY3Rpb24odCl7Yy5lbWl0KFwiY2xpY2tcIixjLmdldEV2ZW50UHJvcGVydGllcyh0KSl9KSx0aGlzLm9uKFwiZG91YmxldGFwXCIsZnVuY3Rpb24odCl7Yy5lbWl0KFwiZG91YmxlQ2xpY2tcIixjLmdldEV2ZW50UHJvcGVydGllcyh0KSl9KSx0aGlzLmRvbS5yb290Lm9uY29udGV4dG1lbnU9ZnVuY3Rpb24odCl7Yy5lbWl0KFwiY29udGV4dG1lbnVcIixjLmdldEV2ZW50UHJvcGVydGllcyh0KSl9LG8mJnRoaXMuc2V0T3B0aW9ucyhvKSxpJiZ0aGlzLnNldEdyb3VwcyhpKSxlP3RoaXMuc2V0SXRlbXMoZSk6dGhpcy5fcmVkcmF3KCl9dmFyIG49KGkoMTIpLGkoMjApLGkoMikpLHM9aSgxKSxyPWkoOCksYT1pKDEwKSxoPWkoMjQpLGQ9aSgyOCksbD1pKDM5KSx1PWkoNDQpLGM9aSg0MikscD1pKDUwKSxmPWkoNDUpLG09aSg0NylbXCJkZWZhdWx0XCJdLHY9aSg0NykucHJpbnRTdHlsZSxnPWkoNTgpLmFsbE9wdGlvbnMseT1pKDU4KS5jb25maWd1cmVPcHRpb25zO28ucHJvdG90eXBlPW5ldyBkLG8ucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24odCl7dmFyIGU9bS52YWxpZGF0ZSh0LGcpO2U9PT0hMCYmY29uc29sZS5sb2coXCIlY0Vycm9ycyBoYXZlIGJlZW4gZm91bmQgaW4gdGhlIHN1cHBsaWVkIG9wdGlvbnMgb2JqZWN0LlwiLHYpLGQucHJvdG90eXBlLnNldE9wdGlvbnMuY2FsbCh0aGlzLHQpfSxvLnByb3RvdHlwZS5zZXRJdGVtcz1mdW5jdGlvbih0KXt2YXIgZSxpPW51bGw9PXRoaXMuaXRlbXNEYXRhO2lmKGU9dD90IGluc3RhbmNlb2Ygcnx8dCBpbnN0YW5jZW9mIGE/dDpuZXcgcih0LHt0eXBlOntzdGFydDpcIkRhdGVcIixlbmQ6XCJEYXRlXCJ9fSk6bnVsbCx0aGlzLml0ZW1zRGF0YT1lLHRoaXMubGluZWdyYXBoJiZ0aGlzLmxpbmVncmFwaC5zZXRJdGVtcyhlKSxpKWlmKHZvaWQgMCE9dGhpcy5vcHRpb25zLnN0YXJ0fHx2b2lkIDAhPXRoaXMub3B0aW9ucy5lbmQpe3ZhciBvPXZvaWQgMCE9dGhpcy5vcHRpb25zLnN0YXJ0P3RoaXMub3B0aW9ucy5zdGFydDpudWxsLG49dm9pZCAwIT10aGlzLm9wdGlvbnMuZW5kP3RoaXMub3B0aW9ucy5lbmQ6bnVsbDt0aGlzLnNldFdpbmRvdyhvLG4se2FuaW1hdGlvbjohMX0pfWVsc2UgdGhpcy5maXQoe2FuaW1hdGlvbjohMX0pfSxvLnByb3RvdHlwZS5zZXRHcm91cHM9ZnVuY3Rpb24odCl7dmFyIGU7ZT10P3QgaW5zdGFuY2VvZiByfHx0IGluc3RhbmNlb2YgYT90Om5ldyByKHQpOm51bGwsdGhpcy5ncm91cHNEYXRhPWUsdGhpcy5saW5lZ3JhcGguc2V0R3JvdXBzKGUpfSxvLnByb3RvdHlwZS5nZXRMZWdlbmQ9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0xNSksdm9pZCAwPT09aSYmKGk9MTUpLHZvaWQgMCE9PXRoaXMubGluZWdyYXBoLmdyb3Vwc1t0XT90aGlzLmxpbmVncmFwaC5ncm91cHNbdF0uZ2V0TGVnZW5kKGUsaSk6XCJjYW5ub3QgZmluZCBncm91cDonXCIrdCtcIidcIn0sby5wcm90b3R5cGUuaXNHcm91cFZpc2libGU9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMubGluZWdyYXBoLmdyb3Vwc1t0XT90aGlzLmxpbmVncmFwaC5ncm91cHNbdF0udmlzaWJsZSYmKHZvaWQgMD09PXRoaXMubGluZWdyYXBoLm9wdGlvbnMuZ3JvdXBzLnZpc2liaWxpdHlbdF18fDE9PXRoaXMubGluZWdyYXBoLm9wdGlvbnMuZ3JvdXBzLnZpc2liaWxpdHlbdF0pOiExfSxvLnByb3RvdHlwZS5nZXREYXRhUmFuZ2U9ZnVuY3Rpb24oKXt2YXIgdD1udWxsLGU9bnVsbDtmb3IodmFyIGkgaW4gdGhpcy5saW5lZ3JhcGguZ3JvdXBzKWlmKHRoaXMubGluZWdyYXBoLmdyb3Vwcy5oYXNPd25Qcm9wZXJ0eShpKSYmMT09dGhpcy5saW5lZ3JhcGguZ3JvdXBzW2ldLnZpc2libGUpZm9yKHZhciBvPTA7bzx0aGlzLmxpbmVncmFwaC5ncm91cHNbaV0uaXRlbXNEYXRhLmxlbmd0aDtvKyspe3ZhciBuPXRoaXMubGluZWdyYXBoLmdyb3Vwc1tpXS5pdGVtc0RhdGFbb10scj1zLmNvbnZlcnQobi54LFwiRGF0ZVwiKS52YWx1ZU9mKCk7dD1udWxsPT10P3I6dD5yP3I6dCxlPW51bGw9PWU/cjpyPmU/cjplfXJldHVybnttaW46bnVsbCE9dD9uZXcgRGF0ZSh0KTpudWxsLG1heDpudWxsIT1lP25ldyBEYXRlKGUpOm51bGx9fSxvLnByb3RvdHlwZS5nZXRFdmVudFByb3BlcnRpZXM9ZnVuY3Rpb24odCl7dmFyIGU9dC5jZW50ZXI/dC5jZW50ZXIueDp0LmNsaWVudFgsaT10LmNlbnRlcj90LmNlbnRlci55OnQuY2xpZW50WSxvPWUtcy5nZXRBYnNvbHV0ZUxlZnQodGhpcy5kb20uY2VudGVyQ29udGFpbmVyKSxuPWktcy5nZXRBYnNvbHV0ZVRvcCh0aGlzLmRvbS5jZW50ZXJDb250YWluZXIpLHI9dGhpcy5fdG9UaW1lKG8pLGE9Yy5jdXN0b21UaW1lRnJvbVRhcmdldCh0KSxoPXMuZ2V0VGFyZ2V0KHQpLGQ9bnVsbDtzLmhhc1BhcmVudChoLHRoaXMudGltZUF4aXMuZG9tLmZvcmVncm91bmQpP2Q9XCJheGlzXCI6dGhpcy50aW1lQXhpczImJnMuaGFzUGFyZW50KGgsdGhpcy50aW1lQXhpczIuZG9tLmZvcmVncm91bmQpP2Q9XCJheGlzXCI6cy5oYXNQYXJlbnQoaCx0aGlzLmxpbmVncmFwaC55QXhpc0xlZnQuZG9tLmZyYW1lKT9kPVwiZGF0YS1heGlzXCI6cy5oYXNQYXJlbnQoaCx0aGlzLmxpbmVncmFwaC55QXhpc1JpZ2h0LmRvbS5mcmFtZSk/ZD1cImRhdGEtYXhpc1wiOnMuaGFzUGFyZW50KGgsdGhpcy5saW5lZ3JhcGgubGVnZW5kTGVmdC5kb20uZnJhbWUpP2Q9XCJsZWdlbmRcIjpzLmhhc1BhcmVudChoLHRoaXMubGluZWdyYXBoLmxlZ2VuZFJpZ2h0LmRvbS5mcmFtZSk/ZD1cImxlZ2VuZFwiOm51bGwhPWE/ZD1cImN1c3RvbS10aW1lXCI6cy5oYXNQYXJlbnQoaCx0aGlzLmN1cnJlbnRUaW1lLmJhcik/ZD1cImN1cnJlbnQtdGltZVwiOnMuaGFzUGFyZW50KGgsdGhpcy5kb20uY2VudGVyKSYmKGQ9XCJiYWNrZ3JvdW5kXCIpO3ZhciBsPVtdLHU9dGhpcy5saW5lZ3JhcGgueUF4aXNMZWZ0LHA9dGhpcy5saW5lZ3JhcGgueUF4aXNSaWdodDtyZXR1cm4gdS5oaWRkZW58fGwucHVzaCh1LnNjcmVlblRvVmFsdWUobikpLHAuaGlkZGVufHxsLnB1c2gocC5zY3JlZW5Ub1ZhbHVlKG4pKSx7ZXZlbnQ6dCx3aGF0OmQscGFnZVg6dC5zcmNFdmVudD90LnNyY0V2ZW50LnBhZ2VYOnQucGFnZVgscGFnZVk6dC5zcmNFdmVudD90LnNyY0V2ZW50LnBhZ2VZOnQucGFnZVkseDpvLHk6bix0aW1lOnIsdmFsdWU6bH19LG8ucHJvdG90eXBlLl9jcmVhdGVDb25maWd1cmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGYodGhpcyx0aGlzLmRvbS5jb250YWluZXIseSl9LHQuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbyh0LGUpe3RoaXMuaWQ9bi5yYW5kb21VVUlEKCksdGhpcy5ib2R5PXQsdGhpcy5kZWZhdWx0T3B0aW9ucz17eUF4aXNPcmllbnRhdGlvbjpcImxlZnRcIixkZWZhdWx0R3JvdXA6XCJkZWZhdWx0XCIsc29ydDohMCxzYW1wbGluZzohMCxzdGFjazohMSxncmFwaEhlaWdodDpcIjQwMHB4XCIsc2hhZGVkOntlbmFibGVkOiExLG9yaWVudGF0aW9uOlwiYm90dG9tXCJ9LHN0eWxlOlwibGluZVwiLGJhckNoYXJ0Ont3aWR0aDo1MCxzaWRlQnlTaWRlOiExLGFsaWduOlwiY2VudGVyXCJ9LGludGVycG9sYXRpb246e2VuYWJsZWQ6ITAscGFyYW1ldHJpemF0aW9uOlwiY2VudHJpcGV0YWxcIixhbHBoYTouNX0sZHJhd1BvaW50czp7ZW5hYmxlZDohMCxzaXplOjYsc3R5bGU6XCJzcXVhcmVcIn0sZGF0YUF4aXM6e3Nob3dNaW5vckxhYmVsczohMCxzaG93TWFqb3JMYWJlbHM6ITAsaWNvbnM6ITEsd2lkdGg6XCI0MHB4XCIsdmlzaWJsZTohMCxhbGlnblplcm9zOiEwLGxlZnQ6e3JhbmdlOnttaW46dm9pZCAwLG1heDp2b2lkIDB9LGZvcm1hdDpmdW5jdGlvbih0KXtyZXR1cm4gdH0sdGl0bGU6e3RleHQ6dm9pZCAwLHN0eWxlOnZvaWQgMH19LHJpZ2h0OntyYW5nZTp7bWluOnZvaWQgMCxtYXg6dm9pZCAwfSxmb3JtYXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LHRpdGxlOnt0ZXh0OnZvaWQgMCxzdHlsZTp2b2lkIDB9fX0sbGVnZW5kOntlbmFibGVkOiExLGljb25zOiEwLGxlZnQ6e3Zpc2libGU6ITAscG9zaXRpb246XCJ0b3AtbGVmdFwifSxyaWdodDp7dmlzaWJsZTohMCxwb3NpdGlvbjpcInRvcC1yaWdodFwifX0sZ3JvdXBzOnt2aXNpYmlsaXR5Ont9fX0sdGhpcy5vcHRpb25zPW4uZXh0ZW5kKHt9LHRoaXMuZGVmYXVsdE9wdGlvbnMpLHRoaXMuZG9tPXt9LHRoaXMucHJvcHM9e30sdGhpcy5oYW1tZXI9bnVsbCx0aGlzLmdyb3Vwcz17fSx0aGlzLmFib3J0ZWRHcmFwaFVwZGF0ZT0hMSx0aGlzLnVwZGF0ZVNWR2hlaWdodD0hMSx0aGlzLnVwZGF0ZVNWR2hlaWdodE9uUmVzaXplPSExO3ZhciBpPXRoaXM7dGhpcy5pdGVtc0RhdGE9bnVsbCx0aGlzLmdyb3Vwc0RhdGE9bnVsbCx0aGlzLml0ZW1MaXN0ZW5lcnM9e2FkZDpmdW5jdGlvbih0LGUsbyl7aS5fb25BZGQoZS5pdGVtcyl9LHVwZGF0ZTpmdW5jdGlvbih0LGUsbyl7aS5fb25VcGRhdGUoZS5pdGVtcyl9LHJlbW92ZTpmdW5jdGlvbih0LGUsbyl7aS5fb25SZW1vdmUoZS5pdGVtcyl9fSx0aGlzLmdyb3VwTGlzdGVuZXJzPXthZGQ6ZnVuY3Rpb24odCxlLG8pe2kuX29uQWRkR3JvdXBzKGUuaXRlbXMpfSx1cGRhdGU6ZnVuY3Rpb24odCxlLG8pe2kuX29uVXBkYXRlR3JvdXBzKGUuaXRlbXMpfSxyZW1vdmU6ZnVuY3Rpb24odCxlLG8pe2kuX29uUmVtb3ZlR3JvdXBzKGUuaXRlbXMpfX0sdGhpcy5pdGVtcz17fSx0aGlzLnNlbGVjdGlvbj1bXSx0aGlzLmxhc3RTdGFydD10aGlzLmJvZHkucmFuZ2Uuc3RhcnQsdGhpcy50b3VjaFBhcmFtcz17fSx0aGlzLnN2Z0VsZW1lbnRzPXt9LHRoaXMuc2V0T3B0aW9ucyhlKSx0aGlzLmdyb3Vwc1VzaW5nRGVmYXVsdFN0eWxlcz1bMF0sdGhpcy5DT1VOVEVSPTAsdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJyYW5nZWNoYW5nZWRcIixmdW5jdGlvbigpe2kubGFzdFN0YXJ0PWkuYm9keS5yYW5nZS5zdGFydCxpLnN2Zy5zdHlsZS5sZWZ0PW4ub3B0aW9uLmFzU2l6ZSgtaS5wcm9wcy53aWR0aCksaS5yZWRyYXcuY2FsbChpLCEwKX0pLHRoaXMuX2NyZWF0ZSgpLHRoaXMuZnJhbWV3b3JrPXtzdmc6dGhpcy5zdmcsc3ZnRWxlbWVudHM6dGhpcy5zdmdFbGVtZW50cyxvcHRpb25zOnRoaXMub3B0aW9ucyxncm91cHM6dGhpcy5ncm91cHN9LHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJjaGFuZ2VcIil9dmFyIG49aSgxKSxzPWkoNykscj1pKDgpLGE9aSgxMCksaD1pKDI2KSxkPWkoNTEpLGw9aSg1MyksdT1pKDU3KSxjPWkoNTQpLHA9aSg1NiksZj1pKDU1KSxtPVwiX191bmdyb3VwZWRfX1wiO28ucHJvdG90eXBlPW5ldyBoLG8ucHJvdG90eXBlLl9jcmVhdGU9ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3QuY2xhc3NOYW1lPVwidmlzLWxpbmUtZ3JhcGhcIix0aGlzLmRvbS5mcmFtZT10LHRoaXMuc3ZnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXCJzdmdcIiksdGhpcy5zdmcuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLHRoaXMuc3ZnLnN0eWxlLmhlaWdodD0oXCJcIit0aGlzLm9wdGlvbnMuZ3JhcGhIZWlnaHQpLnJlcGxhY2UoXCJweFwiLFwiXCIpK1wicHhcIix0aGlzLnN2Zy5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0LmFwcGVuZENoaWxkKHRoaXMuc3ZnKSx0aGlzLm9wdGlvbnMuZGF0YUF4aXMub3JpZW50YXRpb249XCJsZWZ0XCIsdGhpcy55QXhpc0xlZnQ9bmV3IGQodGhpcy5ib2R5LHRoaXMub3B0aW9ucy5kYXRhQXhpcyx0aGlzLnN2Zyx0aGlzLm9wdGlvbnMuZ3JvdXBzKSx0aGlzLm9wdGlvbnMuZGF0YUF4aXMub3JpZW50YXRpb249XCJyaWdodFwiLHRoaXMueUF4aXNSaWdodD1uZXcgZCh0aGlzLmJvZHksdGhpcy5vcHRpb25zLmRhdGFBeGlzLHRoaXMuc3ZnLHRoaXMub3B0aW9ucy5ncm91cHMpLGRlbGV0ZSB0aGlzLm9wdGlvbnMuZGF0YUF4aXMub3JpZW50YXRpb24sdGhpcy5sZWdlbmRMZWZ0PW5ldyB1KHRoaXMuYm9keSx0aGlzLm9wdGlvbnMubGVnZW5kLFwibGVmdFwiLHRoaXMub3B0aW9ucy5ncm91cHMpLHRoaXMubGVnZW5kUmlnaHQ9bmV3IHUodGhpcy5ib2R5LHRoaXMub3B0aW9ucy5sZWdlbmQsXCJyaWdodFwiLHRoaXMub3B0aW9ucy5ncm91cHMpLHRoaXMuc2hvdygpfSxvLnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlPVtcInNhbXBsaW5nXCIsXCJkZWZhdWx0R3JvdXBcIixcInN0YWNrXCIsXCJoZWlnaHRcIixcImdyYXBoSGVpZ2h0XCIsXCJ5QXhpc09yaWVudGF0aW9uXCIsXCJzdHlsZVwiLFwiYmFyQ2hhcnRcIixcImRhdGFBeGlzXCIsXCJzb3J0XCIsXCJncm91cHNcIl07dm9pZCAwPT09dC5ncmFwaEhlaWdodCYmdm9pZCAwIT09dC5oZWlnaHQmJnZvaWQgMCE9PXRoaXMuYm9keS5kb21Qcm9wcy5jZW50ZXJDb250YWluZXIuaGVpZ2h0Pyh0aGlzLnVwZGF0ZVNWR2hlaWdodD0hMCx0aGlzLnVwZGF0ZVNWR2hlaWdodE9uUmVzaXplPSEwKTp2b2lkIDAhPT10aGlzLmJvZHkuZG9tUHJvcHMuY2VudGVyQ29udGFpbmVyLmhlaWdodCYmdm9pZCAwIT09dC5ncmFwaEhlaWdodCYmcGFyc2VJbnQoKHQuZ3JhcGhIZWlnaHQrXCJcIikucmVwbGFjZShcInB4XCIsXCJcIikpPHRoaXMuYm9keS5kb21Qcm9wcy5jZW50ZXJDb250YWluZXIuaGVpZ2h0JiYodGhpcy51cGRhdGVTVkdoZWlnaHQ9ITApLG4uc2VsZWN0aXZlRGVlcEV4dGVuZChlLHRoaXMub3B0aW9ucyx0KSxuLm1lcmdlT3B0aW9ucyh0aGlzLm9wdGlvbnMsdCxcImludGVycG9sYXRpb25cIiksbi5tZXJnZU9wdGlvbnModGhpcy5vcHRpb25zLHQsXCJkcmF3UG9pbnRzXCIpLG4ubWVyZ2VPcHRpb25zKHRoaXMub3B0aW9ucyx0LFwic2hhZGVkXCIpLG4ubWVyZ2VPcHRpb25zKHRoaXMub3B0aW9ucyx0LFwibGVnZW5kXCIpLHQuaW50ZXJwb2xhdGlvbiYmXCJvYmplY3RcIj09dHlwZW9mIHQuaW50ZXJwb2xhdGlvbiYmdC5pbnRlcnBvbGF0aW9uLnBhcmFtZXRyaXphdGlvbiYmKFwidW5pZm9ybVwiPT10LmludGVycG9sYXRpb24ucGFyYW1ldHJpemF0aW9uP3RoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmFscGhhPTA6XCJjaG9yZGFsXCI9PXQuaW50ZXJwb2xhdGlvbi5wYXJhbWV0cml6YXRpb24/dGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uYWxwaGE9MToodGhpcy5vcHRpb25zLmludGVycG9sYXRpb24ucGFyYW1ldHJpemF0aW9uPVwiY2VudHJpcGV0YWxcIix0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5hbHBoYT0uNSkpLHRoaXMueUF4aXNMZWZ0JiZ2b2lkIDAhPT10LmRhdGFBeGlzJiYodGhpcy55QXhpc0xlZnQuc2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMuZGF0YUF4aXMpLHRoaXMueUF4aXNSaWdodC5zZXRPcHRpb25zKHRoaXMub3B0aW9ucy5kYXRhQXhpcykpLHRoaXMubGVnZW5kTGVmdCYmdm9pZCAwIT09dC5sZWdlbmQmJih0aGlzLmxlZ2VuZExlZnQuc2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMubGVnZW5kKSx0aGlzLmxlZ2VuZFJpZ2h0LnNldE9wdGlvbnModGhpcy5vcHRpb25zLmxlZ2VuZCkpLHRoaXMuZ3JvdXBzLmhhc093blByb3BlcnR5KG0pJiZ0aGlzLmdyb3Vwc1ttXS5zZXRPcHRpb25zKHQpfXRoaXMuZG9tLmZyYW1lJiZ0aGlzLnJlZHJhdyghMCl9LG8ucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLmRvbS5mcmFtZS5wYXJlbnROb2RlJiZ0aGlzLmRvbS5mcmFtZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZG9tLmZyYW1lKX0sby5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3RoaXMuZG9tLmZyYW1lLnBhcmVudE5vZGV8fHRoaXMuYm9keS5kb20uY2VudGVyLmFwcGVuZENoaWxkKHRoaXMuZG9tLmZyYW1lKX0sby5wcm90b3R5cGUuc2V0SXRlbXM9ZnVuY3Rpb24odCl7dmFyIGUsaT10aGlzLG89dGhpcy5pdGVtc0RhdGE7aWYodCl7aWYoISh0IGluc3RhbmNlb2Ygcnx8dCBpbnN0YW5jZW9mIGEpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEYXRhIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgRGF0YVNldCBvciBEYXRhVmlld1wiKTt0aGlzLml0ZW1zRGF0YT10fWVsc2UgdGhpcy5pdGVtc0RhdGE9bnVsbDtpZihvJiYobi5mb3JFYWNoKHRoaXMuaXRlbUxpc3RlbmVycyxmdW5jdGlvbih0LGUpe28ub2ZmKGUsdCl9KSxlPW8uZ2V0SWRzKCksdGhpcy5fb25SZW1vdmUoZSkpLHRoaXMuaXRlbXNEYXRhKXt2YXIgcz10aGlzLmlkO24uZm9yRWFjaCh0aGlzLml0ZW1MaXN0ZW5lcnMsZnVuY3Rpb24odCxlKXtpLml0ZW1zRGF0YS5vbihlLHQscyl9KSxlPXRoaXMuaXRlbXNEYXRhLmdldElkcygpLHRoaXMuX29uQWRkKGUpfX0sby5wcm90b3R5cGUuc2V0R3JvdXBzPWZ1bmN0aW9uKHQpe3ZhciBlLGk9dGhpcztpZih0aGlzLmdyb3Vwc0RhdGEpe24uZm9yRWFjaCh0aGlzLmdyb3VwTGlzdGVuZXJzLGZ1bmN0aW9uKHQsZSl7aS5ncm91cHNEYXRhLm9mZihlLHQpfSksZT10aGlzLmdyb3Vwc0RhdGEuZ2V0SWRzKCksdGhpcy5ncm91cHNEYXRhPW51bGw7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspdGhpcy5fcmVtb3ZlR3JvdXAoZVtvXSl9aWYodCl7aWYoISh0IGluc3RhbmNlb2Ygcnx8dCBpbnN0YW5jZW9mIGEpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEYXRhIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgRGF0YVNldCBvciBEYXRhVmlld1wiKTt0aGlzLmdyb3Vwc0RhdGE9dH1lbHNlIHRoaXMuZ3JvdXBzRGF0YT1udWxsO2lmKHRoaXMuZ3JvdXBzRGF0YSl7dmFyIHM9dGhpcy5pZDtuLmZvckVhY2godGhpcy5ncm91cExpc3RlbmVycyxmdW5jdGlvbih0LGUpe2kuZ3JvdXBzRGF0YS5vbihlLHQscyl9KSxlPXRoaXMuZ3JvdXBzRGF0YS5nZXRJZHMoKSx0aGlzLl9vbkFkZEdyb3VwcyhlKX19LG8ucHJvdG90eXBlLl9vblVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLl91cGRhdGVBbGxHcm91cERhdGEoKSx0aGlzLnJlZHJhdyghMCl9LG8ucHJvdG90eXBlLl9vbkFkZD1mdW5jdGlvbih0KXt0aGlzLl9vblVwZGF0ZSh0KX0sby5wcm90b3R5cGUuX29uUmVtb3ZlPWZ1bmN0aW9uKHQpe3RoaXMuX29uVXBkYXRlKHQpfSxvLnByb3RvdHlwZS5fb25VcGRhdGVHcm91cHM9ZnVuY3Rpb24odCl7dGhpcy5fdXBkYXRlQWxsR3JvdXBEYXRhKCksdGhpcy5yZWRyYXcoITApfSxvLnByb3RvdHlwZS5fb25BZGRHcm91cHM9ZnVuY3Rpb24odCl7dGhpcy5fb25VcGRhdGVHcm91cHModCl9LG8ucHJvdG90eXBlLl9vblJlbW92ZUdyb3Vwcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl0aGlzLl9yZW1vdmVHcm91cCh0W2VdKTt0aGlzLnJlZHJhdyghMCl9LG8ucHJvdG90eXBlLl9yZW1vdmVHcm91cD1mdW5jdGlvbih0KXt0aGlzLmdyb3Vwcy5oYXNPd25Qcm9wZXJ0eSh0KSYmKFwicmlnaHRcIj09dGhpcy5ncm91cHNbdF0ub3B0aW9ucy55QXhpc09yaWVudGF0aW9uPyh0aGlzLnlBeGlzUmlnaHQucmVtb3ZlR3JvdXAodCksdGhpcy5sZWdlbmRSaWdodC5yZW1vdmVHcm91cCh0KSx0aGlzLmxlZ2VuZFJpZ2h0LnJlZHJhdygpKToodGhpcy55QXhpc0xlZnQucmVtb3ZlR3JvdXAodCksdGhpcy5sZWdlbmRMZWZ0LnJlbW92ZUdyb3VwKHQpLHRoaXMubGVnZW5kTGVmdC5yZWRyYXcoKSksZGVsZXRlIHRoaXMuZ3JvdXBzW3RdKX0sby5wcm90b3R5cGUuX3VwZGF0ZUdyb3VwPWZ1bmN0aW9uKHQsZSl7dGhpcy5ncm91cHMuaGFzT3duUHJvcGVydHkoZSk/KHRoaXMuZ3JvdXBzW2VdLnVwZGF0ZSh0KSxcInJpZ2h0XCI9PXRoaXMuZ3JvdXBzW2VdLm9wdGlvbnMueUF4aXNPcmllbnRhdGlvbj8odGhpcy55QXhpc1JpZ2h0LnVwZGF0ZUdyb3VwKGUsdGhpcy5ncm91cHNbZV0pLHRoaXMubGVnZW5kUmlnaHQudXBkYXRlR3JvdXAoZSx0aGlzLmdyb3Vwc1tlXSkpOih0aGlzLnlBeGlzTGVmdC51cGRhdGVHcm91cChlLHRoaXMuZ3JvdXBzW2VdKSx0aGlzLmxlZ2VuZExlZnQudXBkYXRlR3JvdXAoZSx0aGlzLmdyb3Vwc1tlXSkpKToodGhpcy5ncm91cHNbZV09bmV3IGwodCxlLHRoaXMub3B0aW9ucyx0aGlzLmdyb3Vwc1VzaW5nRGVmYXVsdFN0eWxlcyksXCJyaWdodFwiPT10aGlzLmdyb3Vwc1tlXS5vcHRpb25zLnlBeGlzT3JpZW50YXRpb24/KHRoaXMueUF4aXNSaWdodC5hZGRHcm91cChlLHRoaXMuZ3JvdXBzW2VdKSx0aGlzLmxlZ2VuZFJpZ2h0LmFkZEdyb3VwKGUsdGhpcy5ncm91cHNbZV0pKToodGhpcy55QXhpc0xlZnQuYWRkR3JvdXAoZSx0aGlzLmdyb3Vwc1tlXSksdGhpcy5sZWdlbmRMZWZ0LmFkZEdyb3VwKGUsdGhpcy5ncm91cHNbZV0pKSksdGhpcy5sZWdlbmRMZWZ0LnJlZHJhdygpLHRoaXMubGVnZW5kUmlnaHQucmVkcmF3KCl9LG8ucHJvdG90eXBlLl91cGRhdGVBbGxHcm91cERhdGE9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLml0ZW1zRGF0YSl7Zm9yKHZhciB0PXt9LGU9dGhpcy5pdGVtc0RhdGEuZ2V0KCksaT17fSxvPTA7bzxlLmxlbmd0aDtvKyspe3ZhciBzPWVbb10scj1zLmdyb3VwOyhudWxsPT09cnx8dm9pZCAwPT09cikmJihyPW0pLGkuaGFzT3duUHJvcGVydHkocik/aVtyXSsrOmlbcl09MX1mb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIHM9ZVtvXSxyPXMuZ3JvdXA7KG51bGw9PT1yfHx2b2lkIDA9PT1yKSYmKHI9bSksdC5oYXNPd25Qcm9wZXJ0eShyKXx8KHRbcl09bmV3IEFycmF5KGlbcl0pKTt2YXIgYT1uLmJyaWRnZU9iamVjdChzKTthLng9bi5jb252ZXJ0KHMueCxcIkRhdGVcIiksYS5vcmdpbmFsWT1zLnksYS55PU51bWJlcihzLnkpO3ZhciBoPXRbcl0ubGVuZ3RoLWlbcl0tLTt0W3JdW2hdPWF9Zm9yKHZhciByIGluIHRoaXMuZ3JvdXBzKXRoaXMuZ3JvdXBzLmhhc093blByb3BlcnR5KHIpJiYodC5oYXNPd25Qcm9wZXJ0eShyKXx8KHRbcl09bmV3IEFycmF5KDApKSk7Zm9yKHZhciByIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShyKSlpZigwPT10W3JdLmxlbmd0aCl0aGlzLmdyb3Vwcy5oYXNPd25Qcm9wZXJ0eShyKSYmdGhpcy5fcmVtb3ZlR3JvdXAocik7ZWxzZXt2YXIgZD12b2lkIDA7dm9pZCAwIT10aGlzLmdyb3Vwc0RhdGEmJihkPXRoaXMuZ3JvdXBzRGF0YS5nZXQocikpLHZvaWQgMD09ZCYmKGQ9e2lkOnIsY29udGVudDp0aGlzLm9wdGlvbnMuZGVmYXVsdEdyb3VwK3J9KSx0aGlzLl91cGRhdGVHcm91cChkLHIpLHRoaXMuZ3JvdXBzW3JdLnNldEl0ZW1zKHRbcl0pfX19LG8ucHJvdG90eXBlLnJlZHJhdz1mdW5jdGlvbih0KXt2YXIgZT0hMTt0aGlzLnByb3BzLndpZHRoPXRoaXMuZG9tLmZyYW1lLm9mZnNldFdpZHRoLHRoaXMucHJvcHMuaGVpZ2h0PXRoaXMuYm9keS5kb21Qcm9wcy5jZW50ZXJDb250YWluZXIuaGVpZ2h0LXRoaXMuYm9keS5kb21Qcm9wcy5ib3JkZXIudG9wLXRoaXMuYm9keS5kb21Qcm9wcy5ib3JkZXIuYm90dG9tLHZvaWQgMD09PXRoaXMubGFzdFdpZHRoJiZ0aGlzLnByb3BzLndpZHRoJiYodD0hMCksZT10aGlzLl9pc1Jlc2l6ZWQoKXx8ZTt2YXIgaT10aGlzLmJvZHkucmFuZ2UuZW5kLXRoaXMuYm9keS5yYW5nZS5zdGFydCxvPWkhPXRoaXMubGFzdFZpc2libGVJbnRlcnZhbDtpZih0aGlzLmxhc3RWaXNpYmxlSW50ZXJ2YWw9aSwxPT1lJiYodGhpcy5zdmcuc3R5bGUud2lkdGg9bi5vcHRpb24uYXNTaXplKDMqdGhpcy5wcm9wcy53aWR0aCksdGhpcy5zdmcuc3R5bGUubGVmdD1uLm9wdGlvbi5hc1NpemUoLXRoaXMucHJvcHMud2lkdGgpLCgtMSE9KHRoaXMub3B0aW9ucy5oZWlnaHQrXCJcIikuaW5kZXhPZihcIiVcIil8fDE9PXRoaXMudXBkYXRlU1ZHaGVpZ2h0T25SZXNpemUpJiYodGhpcy51cGRhdGVTVkdoZWlnaHQ9ITApKSwxPT10aGlzLnVwZGF0ZVNWR2hlaWdodD8odGhpcy5vcHRpb25zLmdyYXBoSGVpZ2h0IT10aGlzLnByb3BzLmhlaWdodCtcInB4XCImJih0aGlzLm9wdGlvbnMuZ3JhcGhIZWlnaHQ9dGhpcy5wcm9wcy5oZWlnaHQrXCJweFwiLHRoaXMuc3ZnLnN0eWxlLmhlaWdodD10aGlzLnByb3BzLmhlaWdodCtcInB4XCIpLHRoaXMudXBkYXRlU1ZHaGVpZ2h0PSExKTp0aGlzLnN2Zy5zdHlsZS5oZWlnaHQ9KFwiXCIrdGhpcy5vcHRpb25zLmdyYXBoSGVpZ2h0KS5yZXBsYWNlKFwicHhcIixcIlwiKStcInB4XCIsMT09ZXx8MT09b3x8MT09dGhpcy5hYm9ydGVkR3JhcGhVcGRhdGV8fDE9PXQpZT10aGlzLl91cGRhdGVHcmFwaCgpfHxlO2Vsc2UgaWYoMCE9dGhpcy5sYXN0U3RhcnQpe3ZhciBzPXRoaXMuYm9keS5yYW5nZS5zdGFydC10aGlzLmxhc3RTdGFydCxyPXRoaXMuYm9keS5yYW5nZS5lbmQtdGhpcy5ib2R5LnJhbmdlLnN0YXJ0O2lmKDAhPXRoaXMucHJvcHMud2lkdGgpe3ZhciBhPXRoaXMucHJvcHMud2lkdGgvcixoPXMqYTt0aGlzLnN2Zy5zdHlsZS5sZWZ0PS10aGlzLnByb3BzLndpZHRoLWgrXCJweFwiO1xufX1yZXR1cm4gdGhpcy5sZWdlbmRMZWZ0LnJlZHJhdygpLHRoaXMubGVnZW5kUmlnaHQucmVkcmF3KCksZX0sby5wcm90b3R5cGUuX2dldFNvcnRlZEdyb3VwSWRzPWZ1bmN0aW9uKCl7dmFyIHQ9W107Zm9yKHZhciBlIGluIHRoaXMuZ3JvdXBzKWlmKHRoaXMuZ3JvdXBzLmhhc093blByb3BlcnR5KGUpKXt2YXIgaT10aGlzLmdyb3Vwc1tlXTsxIT1pLnZpc2libGV8fHZvaWQgMCE9PXRoaXMub3B0aW9ucy5ncm91cHMudmlzaWJpbGl0eVtlXSYmMSE9dGhpcy5vcHRpb25zLmdyb3Vwcy52aXNpYmlsaXR5W2VdfHx0LnB1c2goe2lkOmUsekluZGV4Omkub3B0aW9ucy56SW5kZXh9KX1uLmluc2VydFNvcnQodCxmdW5jdGlvbih0LGUpe3ZhciBpPXQuekluZGV4LG89ZS56SW5kZXg7cmV0dXJuIHZvaWQgMD09PWkmJihpPTApLHZvaWQgMD09PW8mJihvPTApLGk9PW8/MDpvPmk/LTE6MX0pO2Zvcih2YXIgbz1uZXcgQXJyYXkodC5sZW5ndGgpLHM9MDtzPHQubGVuZ3RoO3MrKylvW3NdPXRbc10uaWQ7cmV0dXJuIG99LG8ucHJvdG90eXBlLl91cGRhdGVHcmFwaD1mdW5jdGlvbigpe2lmKHMucHJlcGFyZUVsZW1lbnRzKHRoaXMuc3ZnRWxlbWVudHMpLDAhPXRoaXMucHJvcHMud2lkdGgmJm51bGwhPXRoaXMuaXRlbXNEYXRhKXt2YXIgdCxlLGk9e30sbz0hMSxuPXRoaXMuYm9keS51dGlsLnRvR2xvYmFsVGltZSgtdGhpcy5ib2R5LmRvbVByb3BzLnJvb3Qud2lkdGgpLHI9dGhpcy5ib2R5LnV0aWwudG9HbG9iYWxUaW1lKDIqdGhpcy5ib2R5LmRvbVByb3BzLnJvb3Qud2lkdGgpLGE9dGhpcy5fZ2V0U29ydGVkR3JvdXBJZHMoKTtpZihhLmxlbmd0aD4wKXt2YXIgaD17fTtmb3IodGhpcy5fZ2V0UmVsZXZhbnREYXRhKGEsaCxuLHIpLHRoaXMuX2FwcGx5U2FtcGxpbmcoYSxoKSxlPTA7ZTxhLmxlbmd0aDtlKyspdGhpcy5fY29udmVydFhjb29yZGluYXRlcyhoW2FbZV1dKTt0aGlzLl9nZXRZUmFuZ2VzKGEsaCxpKSxvPXRoaXMuX3VwZGF0ZVlBeGlzKGEsaSk7dmFyIGQ9NTtpZigxPT1vJiZ0aGlzLkNPVU5URVI8ZClyZXR1cm4gcy5jbGVhbnVwRWxlbWVudHModGhpcy5zdmdFbGVtZW50cyksdGhpcy5hYm9ydGVkR3JhcGhVcGRhdGU9ITAsdGhpcy5DT1VOVEVSKyssdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcImNoYW5nZVwiKSwhMDt0aGlzLkNPVU5URVI+ZCYmY29uc29sZS5sb2coXCJXQVJOSU5HOiB0aGVyZSBtYXkgYmUgYW4gaW5maW5pdGUgbG9vcCBpbiB0aGUgX3VwZGF0ZUdyYXBoIGVtaXR0ZXIgY3ljbGUuXCIpLHRoaXMuQ09VTlRFUj0wLHRoaXMuYWJvcnRlZEdyYXBoVXBkYXRlPSExO3ZhciBsPXZvaWQgMDtmb3IoZT0wO2U8YS5sZW5ndGg7ZSsrKXQ9dGhpcy5ncm91cHNbYVtlXV0sdGhpcy5vcHRpb25zLnN0YWNrPT09ITAmJlwibGluZVwiPT09dGhpcy5vcHRpb25zLnN0eWxlJiYodm9pZCAwIT10Lm9wdGlvbnMuZXhjbHVkZUZyb21TdGFja2luZyYmdC5vcHRpb25zLmV4Y2x1ZGVGcm9tU3RhY2tpbmd8fCh2b2lkIDAhPWwmJih0aGlzLl9zdGFjayhoW3QuaWRdLGhbbC5pZF0pLDE9PXQub3B0aW9ucy5zaGFkZWQuZW5hYmxlZCYmXCJncm91cFwiIT09dC5vcHRpb25zLnNoYWRlZC5vcmllbnRhdGlvbiYmKFwidG9wXCI9PXQub3B0aW9ucy5zaGFkZWQub3JpZW50YXRpb24mJlwiZ3JvdXBcIiE9PWwub3B0aW9ucy5zaGFkZWQub3JpZW50YXRpb24/KGwub3B0aW9ucy5zaGFkZWQub3JpZW50YXRpb249XCJncm91cFwiLGwub3B0aW9ucy5zaGFkZWQuZ3JvdXBJZD10LmlkKToodC5vcHRpb25zLnNoYWRlZC5vcmllbnRhdGlvbj1cImdyb3VwXCIsdC5vcHRpb25zLnNoYWRlZC5ncm91cElkPWwuaWQpKSksbD10KSksdGhpcy5fY29udmVydFljb29yZGluYXRlcyhoW2FbZV1dLHQpO3ZhciB1PXt9O2ZvcihlPTA7ZTxhLmxlbmd0aDtlKyspaWYodD10aGlzLmdyb3Vwc1thW2VdXSxcImxpbmVcIj09PXQub3B0aW9ucy5zdHlsZSYmMT09dC5vcHRpb25zLnNoYWRlZC5lbmFibGVkKXt2YXIgbT1oW2FbZV1dO2lmKHUuaGFzT3duUHJvcGVydHkoYVtlXSl8fCh1W2FbZV1dPXAuY2FsY1BhdGgobSx0KSksXCJncm91cFwiPT09dC5vcHRpb25zLnNoYWRlZC5vcmllbnRhdGlvbil7dmFyIHY9dC5vcHRpb25zLnNoYWRlZC5ncm91cElkO2lmKC0xPT09YS5pbmRleE9mKHYpKXtjb25zb2xlLmxvZyh0LmlkK1wiOiBVbmtub3duIHNoYWRpbmcgZ3JvdXAgdGFyZ2V0IGdpdmVuOlwiK3YpO2NvbnRpbnVlfXUuaGFzT3duUHJvcGVydHkodil8fCh1W3ZdPXAuY2FsY1BhdGgoaFt2XSx0aGlzLmdyb3Vwc1t2XSkpLHAuZHJhd1NoYWRpbmcodVthW2VdXSx0LHVbdl0sdGhpcy5mcmFtZXdvcmspfWVsc2UgcC5kcmF3U2hhZGluZyh1W2FbZV1dLHQsdm9pZCAwLHRoaXMuZnJhbWV3b3JrKX1mb3IoYy5kcmF3KGEsaCx0aGlzLmZyYW1ld29yayksZT0wO2U8YS5sZW5ndGg7ZSsrKWlmKHQ9dGhpcy5ncm91cHNbYVtlXV0saFthW2VdXS5sZW5ndGg+MClzd2l0Y2godC5vcHRpb25zLnN0eWxlKXtjYXNlXCJsaW5lXCI6dS5oYXNPd25Qcm9wZXJ0eShhW2VdKXx8KHVbYVtlXV09cC5jYWxjUGF0aChoW2FbZV1dLHQpKSxwLmRyYXcodVthW2VdXSx0LHRoaXMuZnJhbWV3b3JrKTtjYXNlXCJwb2ludFwiOmNhc2VcInBvaW50c1wiOihcInBvaW50XCI9PXQub3B0aW9ucy5zdHlsZXx8XCJwb2ludHNcIj09dC5vcHRpb25zLnN0eWxlfHwxPT10Lm9wdGlvbnMuZHJhd1BvaW50cy5lbmFibGVkKSYmZi5kcmF3KGhbYVtlXV0sdCx0aGlzLmZyYW1ld29yayk7YnJlYWs7Y2FzZVwiYmFyXCI6fX19cmV0dXJuIHMuY2xlYW51cEVsZW1lbnRzKHRoaXMuc3ZnRWxlbWVudHMpLCExfSxvLnByb3RvdHlwZS5fc3RhY2s9ZnVuY3Rpb24odCxlKXt2YXIgaSxvLG4scyxyO2k9MDtmb3IodmFyIGE9MDthPHQubGVuZ3RoO2ErKyl7cz12b2lkIDAscj12b2lkIDA7Zm9yKHZhciBoPWk7aDxlLmxlbmd0aDtoKyspe2lmKGVbaF0ueD09PXRbYV0ueCl7cz1lW2hdLHI9ZVtoXSxpPWg7YnJlYWt9aWYoZVtoXS54PnRbYV0ueCl7cj1lW2hdLHM9MD09aD9yOmVbaC0xXSxpPWg7YnJlYWt9fXZvaWQgMD09PXImJihzPWVbZS5sZW5ndGgtMV0scj1lW2UubGVuZ3RoLTFdKSxvPXIueC1zLngsbj1yLnktcy55LDA9PW8/dFthXS55PXRbYV0ub3JnaW5hbFkrci55OnRbYV0ueT10W2FdLm9yZ2luYWxZK24vbyoodFthXS54LXMueCkrcy55fX0sby5wcm90b3R5cGUuX2dldFJlbGV2YW50RGF0YT1mdW5jdGlvbih0LGUsaSxvKXt2YXIgcyxyLGEsaDtpZih0Lmxlbmd0aD4wKWZvcihyPTA7cjx0Lmxlbmd0aDtyKyspe3M9dGhpcy5ncm91cHNbdFtyXV07dmFyIGQ9cy5nZXRJdGVtcygpO2lmKDE9PXMub3B0aW9ucy5zb3J0KXt2YXIgbD1NYXRoLm1heCgwLG4uYmluYXJ5U2VhcmNoVmFsdWUoZCxpLFwieFwiLFwiYmVmb3JlXCIpKSx1PU1hdGgubWluKGQubGVuZ3RoLG4uYmluYXJ5U2VhcmNoVmFsdWUoZCxvLFwieFwiLFwiYWZ0ZXJcIikrMSk7MD49dSYmKHU9ZC5sZW5ndGgpO3ZhciBjPW5ldyBBcnJheSh1LWwpO2ZvcihhPWw7dT5hO2ErKyloPXMuaXRlbXNEYXRhW2FdLGNbYS1sXT1oO2VbdFtyXV09Y31lbHNlIGVbdFtyXV09cy5pdGVtc0RhdGF9fSxvLnByb3RvdHlwZS5fYXBwbHlTYW1wbGluZz1mdW5jdGlvbih0LGUpe3ZhciBpO2lmKHQubGVuZ3RoPjApZm9yKHZhciBvPTA7bzx0Lmxlbmd0aDtvKyspaWYoaT10aGlzLmdyb3Vwc1t0W29dXSwxPT1pLm9wdGlvbnMuc2FtcGxpbmcpe3ZhciBuPWVbdFtvXV07aWYobi5sZW5ndGg+MCl7dmFyIHM9MSxyPW4ubGVuZ3RoLGE9dGhpcy5ib2R5LnV0aWwudG9HbG9iYWxTY3JlZW4obltuLmxlbmd0aC0xXS54KS10aGlzLmJvZHkudXRpbC50b0dsb2JhbFNjcmVlbihuWzBdLngpLGg9ci9hO3M9TWF0aC5taW4oTWF0aC5jZWlsKC4yKnIpLE1hdGgubWF4KDEsTWF0aC5yb3VuZChoKSkpO2Zvcih2YXIgZD1uZXcgQXJyYXkociksbD0wO3I+bDtsKz1zKXt2YXIgdT1NYXRoLnJvdW5kKGwvcyk7ZFt1XT1uW2xdfWVbdFtvXV09ZC5zcGxpY2UoMCxNYXRoLnJvdW5kKHIvcykpfX19LG8ucHJvdG90eXBlLl9nZXRZUmFuZ2VzPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbyxuLHMscixhPVtdLGg9W107aWYodC5sZW5ndGg+MCl7Zm9yKHM9MDtzPHQubGVuZ3RoO3MrKylvPWVbdFtzXV0scj10aGlzLmdyb3Vwc1t0W3NdXS5vcHRpb25zLG8ubGVuZ3RoPjAmJihuPXRoaXMuZ3JvdXBzW3Rbc11dLHIuc3RhY2s9PT0hMCYmXCJiYXJcIj09PXIuc3R5bGU/XCJsZWZ0XCI9PT1yLnlBeGlzT3JpZW50YXRpb24/YT1hLmNvbmNhdChuLmdldEl0ZW1zKCkpOmg9aC5jb25jYXQobi5nZXRJdGVtcygpKTppW3Rbc11dPW4uZ2V0WVJhbmdlKG8sdFtzXSkpO2MuZ2V0U3RhY2tlZFlSYW5nZShhLGksdCxcIl9fYmFyU3RhY2tMZWZ0XCIsXCJsZWZ0XCIpLGMuZ2V0U3RhY2tlZFlSYW5nZShoLGksdCxcIl9fYmFyU3RhY2tSaWdodFwiLFwicmlnaHRcIil9fSxvLnByb3RvdHlwZS5fdXBkYXRlWUF4aXM9ZnVuY3Rpb24odCxlKXt2YXIgaSxvLG49ITEscz0hMSxyPSExLGE9MWU5LGg9MWU5LGQ9LTFlOSxsPS0xZTk7aWYodC5sZW5ndGg+MCl7Zm9yKHZhciB1PTA7dTx0Lmxlbmd0aDt1Kyspe3ZhciBjPXRoaXMuZ3JvdXBzW3RbdV1dO2MmJlwicmlnaHRcIiE9Yy5vcHRpb25zLnlBeGlzT3JpZW50YXRpb24/KHM9ITAsYT0xZTksZD0tMWU5KTpjJiZjLm9wdGlvbnMueUF4aXNPcmllbnRhdGlvbiYmKHI9ITAsaD0xZTksbD0tMWU5KX1mb3IodmFyIHU9MDt1PHQubGVuZ3RoO3UrKyllLmhhc093blByb3BlcnR5KHRbdV0pJiZlW3RbdV1dLmlnbm9yZSE9PSEwJiYoaT1lW3RbdV1dLm1pbixvPWVbdFt1XV0ubWF4LFwicmlnaHRcIiE9ZVt0W3VdXS55QXhpc09yaWVudGF0aW9uPyhzPSEwLGE9YT5pP2k6YSxkPW8+ZD9vOmQpOihyPSEwLGg9aD5pP2k6aCxsPW8+bD9vOmwpKTsxPT1zJiZ0aGlzLnlBeGlzTGVmdC5zZXRSYW5nZShhLGQpLDE9PXImJnRoaXMueUF4aXNSaWdodC5zZXRSYW5nZShoLGwpfW49dGhpcy5fdG9nZ2xlQXhpc1Zpc2libGl0eShzLHRoaXMueUF4aXNMZWZ0KXx8bixuPXRoaXMuX3RvZ2dsZUF4aXNWaXNpYmxpdHkocix0aGlzLnlBeGlzUmlnaHQpfHxuLDE9PXImJjE9PXM/KHRoaXMueUF4aXNMZWZ0LmRyYXdJY29ucz0hMCx0aGlzLnlBeGlzUmlnaHQuZHJhd0ljb25zPSEwKToodGhpcy55QXhpc0xlZnQuZHJhd0ljb25zPSExLHRoaXMueUF4aXNSaWdodC5kcmF3SWNvbnM9ITEpLHRoaXMueUF4aXNSaWdodC5tYXN0ZXI9IXMsMD09dGhpcy55QXhpc1JpZ2h0Lm1hc3Rlcj8oMT09cj90aGlzLnlBeGlzTGVmdC5saW5lT2Zmc2V0PXRoaXMueUF4aXNSaWdodC53aWR0aDp0aGlzLnlBeGlzTGVmdC5saW5lT2Zmc2V0PTAsbj10aGlzLnlBeGlzTGVmdC5yZWRyYXcoKXx8bix0aGlzLnlBeGlzUmlnaHQuc3RlcFBpeGVscz10aGlzLnlBeGlzTGVmdC5zdGVwUGl4ZWxzLHRoaXMueUF4aXNSaWdodC56ZXJvQ3Jvc3Npbmc9dGhpcy55QXhpc0xlZnQuemVyb0Nyb3NzaW5nLHRoaXMueUF4aXNSaWdodC5hbW91bnRPZlN0ZXBzPXRoaXMueUF4aXNMZWZ0LmFtb3VudE9mU3RlcHMsbj10aGlzLnlBeGlzUmlnaHQucmVkcmF3KCl8fG4pOm49dGhpcy55QXhpc1JpZ2h0LnJlZHJhdygpfHxuO2Zvcih2YXIgcD1bXCJfX2JhclN0YWNrTGVmdFwiLFwiX19iYXJTdGFja1JpZ2h0XCIsXCJfX2xpbmVTdGFja0xlZnRcIixcIl9fbGluZVN0YWNrUmlnaHRcIl0sdT0wO3U8cC5sZW5ndGg7dSsrKS0xIT10LmluZGV4T2YocFt1XSkmJnQuc3BsaWNlKHQuaW5kZXhPZihwW3VdKSwxKTtyZXR1cm4gbn0sby5wcm90b3R5cGUuX3RvZ2dsZUF4aXNWaXNpYmxpdHk9ZnVuY3Rpb24odCxlKXt2YXIgaT0hMTtyZXR1cm4gMD09dD9lLmRvbS5mcmFtZS5wYXJlbnROb2RlJiYwPT1lLmhpZGRlbiYmKGUuaGlkZSgpLGk9ITApOmUuZG9tLmZyYW1lLnBhcmVudE5vZGV8fDEhPWUuaGlkZGVufHwoZS5zaG93KCksaT0hMCksaX0sby5wcm90b3R5cGUuX2NvbnZlcnRYY29vcmRpbmF0ZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuYm9keS51dGlsLnRvU2NyZWVuLGk9MDtpPHQubGVuZ3RoO2krKyl0W2ldLnNjcmVlbl94PWUodFtpXS54KSt0aGlzLnByb3BzLndpZHRoLHRbaV0uc2NyZWVuX3k9dFtpXS55fSxvLnByb3RvdHlwZS5fY29udmVydFljb29yZGluYXRlcz1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMueUF4aXNMZWZ0LG89TnVtYmVyKHRoaXMuc3ZnLnN0eWxlLmhlaWdodC5yZXBsYWNlKFwicHhcIixcIlwiKSk7XCJyaWdodFwiPT1lLm9wdGlvbnMueUF4aXNPcmllbnRhdGlvbiYmKGk9dGhpcy55QXhpc1JpZ2h0KTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl0W25dLnNjcmVlbl95PU1hdGgucm91bmQoaS5jb252ZXJ0VmFsdWUodFtuXS55KSk7ZS5zZXRaZXJvUG9zaXRpb24oTWF0aC5taW4obyxpLmNvbnZlcnRWYWx1ZSgwKSkpfSx0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCxlLGksbyl7dGhpcy5pZD1uLnJhbmRvbVVVSUQoKSx0aGlzLmJvZHk9dCx0aGlzLmRlZmF1bHRPcHRpb25zPXtvcmllbnRhdGlvbjpcImxlZnRcIixzaG93TWlub3JMYWJlbHM6ITAsc2hvd01ham9yTGFiZWxzOiEwLGljb25zOiEwLG1ham9yTGluZXNPZmZzZXQ6NyxtaW5vckxpbmVzT2Zmc2V0OjQsbGFiZWxPZmZzZXRYOjEwLGxhYmVsT2Zmc2V0WToyLGljb25XaWR0aDoyMCx3aWR0aDpcIjQwcHhcIix2aXNpYmxlOiEwLGFsaWduWmVyb3M6ITAsbGVmdDp7cmFuZ2U6e21pbjp2b2lkIDAsbWF4OnZvaWQgMH0sZm9ybWF0OmZ1bmN0aW9uKHQpe3JldHVybiB0fSx0aXRsZTp7dGV4dDp2b2lkIDAsc3R5bGU6dm9pZCAwfX0scmlnaHQ6e3JhbmdlOnttaW46dm9pZCAwLG1heDp2b2lkIDB9LGZvcm1hdDpmdW5jdGlvbih0KXtyZXR1cm4gdH0sdGl0bGU6e3RleHQ6dm9pZCAwLHN0eWxlOnZvaWQgMH19fSx0aGlzLmxpbmVncmFwaE9wdGlvbnM9byx0aGlzLmxpbmVncmFwaFNWRz1pLHRoaXMucHJvcHM9e30sdGhpcy5ET01lbGVtZW50cz17bGluZXM6e30sbGFiZWxzOnt9LHRpdGxlOnt9fSx0aGlzLmRvbT17fSx0aGlzLnJhbmdlPXtzdGFydDowLGVuZDowfSx0aGlzLm9wdGlvbnM9bi5leHRlbmQoe30sdGhpcy5kZWZhdWx0T3B0aW9ucyksdGhpcy5jb252ZXJzaW9uRmFjdG9yPTEsdGhpcy5zZXRPcHRpb25zKGUpLHRoaXMud2lkdGg9TnVtYmVyKChcIlwiK3RoaXMub3B0aW9ucy53aWR0aCkucmVwbGFjZShcInB4XCIsXCJcIikpLHRoaXMubWluV2lkdGg9dGhpcy53aWR0aCx0aGlzLmhlaWdodD10aGlzLmxpbmVncmFwaFNWRy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQsdGhpcy5oaWRkZW49ITEsdGhpcy5zdGVwUGl4ZWxzPTI1LHRoaXMuemVyb0Nyb3NzaW5nPS0xLHRoaXMuYW1vdW50T2ZTdGVwcz0tMSx0aGlzLmxpbmVPZmZzZXQ9MCx0aGlzLm1hc3Rlcj0hMCx0aGlzLnN2Z0VsZW1lbnRzPXt9LHRoaXMuaWNvbnNSZW1vdmVkPSExLHRoaXMuZ3JvdXBzPXt9LHRoaXMuYW1vdW50T2ZHcm91cHM9MCx0aGlzLl9jcmVhdGUoKSx0aGlzLmZyYW1ld29yaz17c3ZnOnRoaXMuc3ZnLHN2Z0VsZW1lbnRzOnRoaXMuc3ZnRWxlbWVudHMsb3B0aW9uczp0aGlzLm9wdGlvbnMsZ3JvdXBzOnRoaXMuZ3JvdXBzfTt2YXIgcz10aGlzO3RoaXMuYm9keS5lbWl0dGVyLm9uKFwidmVydGljYWxEcmFnXCIsZnVuY3Rpb24oKXtzLmRvbS5saW5lQ29udGFpbmVyLnN0eWxlLnRvcD1zLmJvZHkuZG9tUHJvcHMuc2Nyb2xsVG9wK1wicHhcIn0pfXZhciBuPWkoMSkscz1pKDcpLHI9aSgyNiksYT1pKDUyKTtvLnByb3RvdHlwZT1uZXcgcixvLnByb3RvdHlwZS5hZGRHcm91cD1mdW5jdGlvbih0LGUpe3RoaXMuZ3JvdXBzLmhhc093blByb3BlcnR5KHQpfHwodGhpcy5ncm91cHNbdF09ZSksdGhpcy5hbW91bnRPZkdyb3Vwcys9MX0sby5wcm90b3R5cGUudXBkYXRlR3JvdXA9ZnVuY3Rpb24odCxlKXt0aGlzLmdyb3Vwc1t0XT1lfSxvLnByb3RvdHlwZS5yZW1vdmVHcm91cD1mdW5jdGlvbih0KXt0aGlzLmdyb3Vwcy5oYXNPd25Qcm9wZXJ0eSh0KSYmKGRlbGV0ZSB0aGlzLmdyb3Vwc1t0XSx0aGlzLmFtb3VudE9mR3JvdXBzLT0xKX0sby5wcm90b3R5cGUuc2V0T3B0aW9ucz1mdW5jdGlvbih0KXtpZih0KXt2YXIgZT0hMTt0aGlzLm9wdGlvbnMub3JpZW50YXRpb24hPXQub3JpZW50YXRpb24mJnZvaWQgMCE9PXQub3JpZW50YXRpb24mJihlPSEwKTt2YXIgaT1bXCJvcmllbnRhdGlvblwiLFwic2hvd01pbm9yTGFiZWxzXCIsXCJzaG93TWFqb3JMYWJlbHNcIixcImljb25zXCIsXCJtYWpvckxpbmVzT2Zmc2V0XCIsXCJtaW5vckxpbmVzT2Zmc2V0XCIsXCJsYWJlbE9mZnNldFhcIixcImxhYmVsT2Zmc2V0WVwiLFwiaWNvbldpZHRoXCIsXCJ3aWR0aFwiLFwidmlzaWJsZVwiLFwibGVmdFwiLFwicmlnaHRcIixcImFsaWduWmVyb3NcIl07bi5zZWxlY3RpdmVFeHRlbmQoaSx0aGlzLm9wdGlvbnMsdCksdGhpcy5taW5XaWR0aD1OdW1iZXIoKFwiXCIrdGhpcy5vcHRpb25zLndpZHRoKS5yZXBsYWNlKFwicHhcIixcIlwiKSksZT09PSEwJiZ0aGlzLmRvbS5mcmFtZSYmKHRoaXMuaGlkZSgpLHRoaXMuc2hvdygpKX19LG8ucHJvdG90eXBlLl9jcmVhdGU9ZnVuY3Rpb24oKXt0aGlzLmRvbS5mcmFtZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZG9tLmZyYW1lLnN0eWxlLndpZHRoPXRoaXMub3B0aW9ucy53aWR0aCx0aGlzLmRvbS5mcmFtZS5zdHlsZS5oZWlnaHQ9dGhpcy5oZWlnaHQsdGhpcy5kb20ubGluZUNvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZG9tLmxpbmVDb250YWluZXIuc3R5bGUud2lkdGg9XCIxMDAlXCIsdGhpcy5kb20ubGluZUNvbnRhaW5lci5zdHlsZS5oZWlnaHQ9dGhpcy5oZWlnaHQsdGhpcy5kb20ubGluZUNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIsdGhpcy5zdmc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcInN2Z1wiKSx0aGlzLnN2Zy5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy5zdmcuc3R5bGUudG9wPVwiMHB4XCIsdGhpcy5zdmcuc3R5bGUuaGVpZ2h0PVwiMTAwJVwiLHRoaXMuc3ZnLnN0eWxlLndpZHRoPVwiMTAwJVwiLHRoaXMuc3ZnLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHRoaXMuZG9tLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuc3ZnKX0sby5wcm90b3R5cGUuX3JlZHJhd0dyb3VwSWNvbnM9ZnVuY3Rpb24oKXtzLnByZXBhcmVFbGVtZW50cyh0aGlzLnN2Z0VsZW1lbnRzKTt2YXIgdCxlPXRoaXMub3B0aW9ucy5pY29uV2lkdGgsaT0xNSxvPTQsbj1vKy41Kmk7dD1cImxlZnRcIj09PXRoaXMub3B0aW9ucy5vcmllbnRhdGlvbj9vOnRoaXMud2lkdGgtZS1vO3ZhciByPU9iamVjdC5rZXlzKHRoaXMuZ3JvdXBzKTtyLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gZT50Py0xOjF9KTtmb3IodmFyIGE9MDthPHIubGVuZ3RoO2ErKyl7dmFyIGg9clthXTt0aGlzLmdyb3Vwc1toXS52aXNpYmxlIT09ITB8fHZvaWQgMCE9PXRoaXMubGluZWdyYXBoT3B0aW9ucy52aXNpYmlsaXR5W2hdJiZ0aGlzLmxpbmVncmFwaE9wdGlvbnMudmlzaWJpbGl0eVtoXSE9PSEwfHwodGhpcy5ncm91cHNbaF0uZ2V0TGVnZW5kKGUsaSx0aGlzLmZyYW1ld29yayx0LG4pLG4rPWkrbyl9cy5jbGVhbnVwRWxlbWVudHModGhpcy5zdmdFbGVtZW50cyksdGhpcy5pY29uc1JlbW92ZWQ9ITF9LG8ucHJvdG90eXBlLl9jbGVhbnVwSWNvbnM9ZnVuY3Rpb24oKXt0aGlzLmljb25zUmVtb3ZlZD09PSExJiYocy5wcmVwYXJlRWxlbWVudHModGhpcy5zdmdFbGVtZW50cykscy5jbGVhbnVwRWxlbWVudHModGhpcy5zdmdFbGVtZW50cyksdGhpcy5pY29uc1JlbW92ZWQ9ITApfSxvLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dGhpcy5oaWRkZW49ITEsdGhpcy5kb20uZnJhbWUucGFyZW50Tm9kZXx8KFwibGVmdFwiPT09dGhpcy5vcHRpb25zLm9yaWVudGF0aW9uP3RoaXMuYm9keS5kb20ubGVmdC5hcHBlbmRDaGlsZCh0aGlzLmRvbS5mcmFtZSk6dGhpcy5ib2R5LmRvbS5yaWdodC5hcHBlbmRDaGlsZCh0aGlzLmRvbS5mcmFtZSkpLHRoaXMuZG9tLmxpbmVDb250YWluZXIucGFyZW50Tm9kZXx8dGhpcy5ib2R5LmRvbS5iYWNrZ3JvdW5kSG9yaXpvbnRhbC5hcHBlbmRDaGlsZCh0aGlzLmRvbS5saW5lQ29udGFpbmVyKX0sby5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMuaGlkZGVuPSEwLHRoaXMuZG9tLmZyYW1lLnBhcmVudE5vZGUmJnRoaXMuZG9tLmZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kb20uZnJhbWUpLHRoaXMuZG9tLmxpbmVDb250YWluZXIucGFyZW50Tm9kZSYmdGhpcy5kb20ubGluZUNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZG9tLmxpbmVDb250YWluZXIpfSxvLnByb3RvdHlwZS5zZXRSYW5nZT1mdW5jdGlvbih0LGUpe3RoaXMubWFzdGVyPT09ITEmJnRoaXMub3B0aW9ucy5hbGlnblplcm9zPT09ITAmJi0xIT10aGlzLnplcm9Dcm9zc2luZyYmdD4wJiYodD0wKSx0aGlzLnJhbmdlLnN0YXJ0PXQsdGhpcy5yYW5nZS5lbmQ9ZX0sby5wcm90b3R5cGUucmVkcmF3PWZ1bmN0aW9uKCl7dmFyIHQ9ITEsZT0wO3RoaXMuZG9tLmxpbmVDb250YWluZXIuc3R5bGUudG9wPXRoaXMuYm9keS5kb21Qcm9wcy5zY3JvbGxUb3ArXCJweFwiO2Zvcih2YXIgaSBpbiB0aGlzLmdyb3Vwcyl0aGlzLmdyb3Vwcy5oYXNPd25Qcm9wZXJ0eShpKSYmKHRoaXMuZ3JvdXBzW2ldLnZpc2libGUhPT0hMHx8dm9pZCAwIT09dGhpcy5saW5lZ3JhcGhPcHRpb25zLnZpc2liaWxpdHlbaV0mJnRoaXMubGluZWdyYXBoT3B0aW9ucy52aXNpYmlsaXR5W2ldIT09ITB8fGUrKyk7aWYoMD09PXRoaXMuYW1vdW50T2ZHcm91cHN8fDA9PT1lKXRoaXMuaGlkZSgpO2Vsc2V7dGhpcy5zaG93KCksdGhpcy5oZWlnaHQ9TnVtYmVyKHRoaXMubGluZWdyYXBoU1ZHLnN0eWxlLmhlaWdodC5yZXBsYWNlKFwicHhcIixcIlwiKSksdGhpcy5kb20ubGluZUNvbnRhaW5lci5zdHlsZS5oZWlnaHQ9dGhpcy5oZWlnaHQrXCJweFwiLHRoaXMud2lkdGg9dGhpcy5vcHRpb25zLnZpc2libGU9PT0hMD9OdW1iZXIoKFwiXCIrdGhpcy5vcHRpb25zLndpZHRoKS5yZXBsYWNlKFwicHhcIixcIlwiKSk6MDt2YXIgbz10aGlzLnByb3BzLG49dGhpcy5kb20uZnJhbWU7bi5jbGFzc05hbWU9XCJ2aXMtZGF0YS1heGlzXCIsdGhpcy5fY2FsY3VsYXRlQ2hhclNpemUoKTt2YXIgcz10aGlzLm9wdGlvbnMub3JpZW50YXRpb24scj10aGlzLm9wdGlvbnMuc2hvd01pbm9yTGFiZWxzLGE9dGhpcy5vcHRpb25zLnNob3dNYWpvckxhYmVscztvLm1pbm9yTGFiZWxIZWlnaHQ9cj9vLm1pbm9yQ2hhckhlaWdodDowLG8ubWFqb3JMYWJlbEhlaWdodD1hP28ubWFqb3JDaGFySGVpZ2h0OjAsby5taW5vckxpbmVXaWR0aD10aGlzLmJvZHkuZG9tLmJhY2tncm91bmRIb3Jpem9udGFsLm9mZnNldFdpZHRoLXRoaXMubGluZU9mZnNldC10aGlzLndpZHRoKzIqdGhpcy5vcHRpb25zLm1pbm9yTGluZXNPZmZzZXQsby5taW5vckxpbmVIZWlnaHQ9MSxvLm1ham9yTGluZVdpZHRoPXRoaXMuYm9keS5kb20uYmFja2dyb3VuZEhvcml6b250YWwub2Zmc2V0V2lkdGgtdGhpcy5saW5lT2Zmc2V0LXRoaXMud2lkdGgrMip0aGlzLm9wdGlvbnMubWFqb3JMaW5lc09mZnNldCxvLm1ham9yTGluZUhlaWdodD0xLFwibGVmdFwiPT09cz8obi5zdHlsZS50b3A9XCIwXCIsbi5zdHlsZS5sZWZ0PVwiMFwiLG4uc3R5bGUuYm90dG9tPVwiXCIsbi5zdHlsZS53aWR0aD10aGlzLndpZHRoK1wicHhcIixuLnN0eWxlLmhlaWdodD10aGlzLmhlaWdodCtcInB4XCIsdGhpcy5wcm9wcy53aWR0aD10aGlzLmJvZHkuZG9tUHJvcHMubGVmdC53aWR0aCx0aGlzLnByb3BzLmhlaWdodD10aGlzLmJvZHkuZG9tUHJvcHMubGVmdC5oZWlnaHQpOihuLnN0eWxlLnRvcD1cIlwiLG4uc3R5bGUuYm90dG9tPVwiMFwiLG4uc3R5bGUubGVmdD1cIjBcIixuLnN0eWxlLndpZHRoPXRoaXMud2lkdGgrXCJweFwiLG4uc3R5bGUuaGVpZ2h0PXRoaXMuaGVpZ2h0K1wicHhcIix0aGlzLnByb3BzLndpZHRoPXRoaXMuYm9keS5kb21Qcm9wcy5yaWdodC53aWR0aCx0aGlzLnByb3BzLmhlaWdodD10aGlzLmJvZHkuZG9tUHJvcHMucmlnaHQuaGVpZ2h0KSx0PXRoaXMuX3JlZHJhd0xhYmVscygpLHQ9dGhpcy5faXNSZXNpemVkKCl8fHQsdGhpcy5vcHRpb25zLmljb25zPT09ITA/dGhpcy5fcmVkcmF3R3JvdXBJY29ucygpOnRoaXMuX2NsZWFudXBJY29ucygpLHRoaXMuX3JlZHJhd1RpdGxlKHMpfXJldHVybiB0fSxvLnByb3RvdHlwZS5fcmVkcmF3TGFiZWxzPWZ1bmN0aW9uKCl7dmFyIHQ9ITE7cy5wcmVwYXJlRWxlbWVudHModGhpcy5ET01lbGVtZW50cy5saW5lcykscy5wcmVwYXJlRWxlbWVudHModGhpcy5ET01lbGVtZW50cy5sYWJlbHMpO3ZhciBlLGk9dGhpcy5vcHRpb25zLm9yaWVudGF0aW9uO2lmKHRoaXMubWFzdGVyPT09ITEpe3ZhciBvLG4scixoOy0xIT09dGhpcy56ZXJvQ3Jvc3NpbmcmJnRoaXMub3B0aW9ucy5hbGlnblplcm9zPT09ITA/dGhpcy5yYW5nZS5lbmQ+MD8obz10aGlzLnJhbmdlLmVuZC90aGlzLnplcm9Dcm9zc2luZyxuPXRoaXMucmFuZ2UuZW5kLXRoaXMuYW1vdW50T2ZTdGVwcypvLHI9dGhpcy5yYW5nZS5lbmQpOihvPS0xKnRoaXMucmFuZ2Uuc3RhcnQvKHRoaXMuYW1vdW50T2ZTdGVwcy10aGlzLnplcm9Dcm9zc2luZyksbj10aGlzLnJhbmdlLnN0YXJ0LHI9dGhpcy5yYW5nZS5zdGFydCtvKnRoaXMuYW1vdW50T2ZTdGVwcyk6KG49dGhpcy5yYW5nZS5zdGFydCxyPXRoaXMucmFuZ2UuZW5kKSxoPXRoaXMuc3RlcFBpeGVsc31lbHNlIGg9dGhpcy5wcm9wcy5tYWpvckNoYXJIZWlnaHQsbj10aGlzLnJhbmdlLnN0YXJ0LHI9dGhpcy5yYW5nZS5lbmQ7aWYodGhpcy5zdGVwPWU9bmV3IGEobixyLGgsdGhpcy5kb20uZnJhbWUub2Zmc2V0SGVpZ2h0LHRoaXMub3B0aW9uc1t0aGlzLm9wdGlvbnMub3JpZW50YXRpb25dLnJhbmdlLHRoaXMub3B0aW9uc1t0aGlzLm9wdGlvbnMub3JpZW50YXRpb25dLmZvcm1hdCx0aGlzLm1hc3Rlcj09PSExJiZ0aGlzLm9wdGlvbnMuYWxpZ25aZXJvcyksdGhpcy5tYXN0ZXI9PT0hMCl0aGlzLnN0ZXBQaXhlbHM9dGhpcy5kb20uZnJhbWUub2Zmc2V0SGVpZ2h0L2UubWFyZ2luUmFuZ2UqZS5zdGVwLHRoaXMuYW1vdW50T2ZTdGVwcz1NYXRoLmNlaWwodGhpcy5kb20uZnJhbWUub2Zmc2V0SGVpZ2h0L3RoaXMuc3RlcFBpeGVscyk7ZWxzZSBpZih0aGlzLm9wdGlvbnMuYWxpZ25aZXJvcz09PSEwJiYtMSE9PXRoaXMuemVyb0Nyb3NzaW5nKXt2YXIgZD0oZS5jdXJyZW50LXRoaXMuemVyb0Nyb3NzaW5nKmUuc3RlcCkvZS5zdGVwO3RoaXMuc3RlcC5zaGlmdChkKX10aGlzLnZhbHVlQXRCb3R0b209ZS5tYXJnaW5FbmQsdGhpcy5tYXhMYWJlbFNpemU9MDtmb3IodmFyIGw9MCx1PTAsYz0hMTt1PHRoaXMuYW1vdW50T2ZTdGVwczspbD1NYXRoLnJvdW5kKHUqdGhpcy5zdGVwUGl4ZWxzKSxjPWUuaXNNYWpvcigpLHU+MCYmdSE9PXRoaXMuYW1vdW50T2ZTdGVwcyYmKCh0aGlzLm9wdGlvbnMuc2hvd01pbm9yTGFiZWxzJiZjPT09ITF8fHRoaXMubWFzdGVyPT09ITEmJnRoaXMub3B0aW9ucy5zaG93TWlub3JMYWJlbHM9PT0hMCkmJnRoaXMuX3JlZHJhd0xhYmVsKGwtMixlLmdldEN1cnJlbnQoKSxpLFwidmlzLXktYXhpcyB2aXMtbWlub3JcIix0aGlzLnByb3BzLm1pbm9yQ2hhckhlaWdodCksYyYmdGhpcy5vcHRpb25zLnNob3dNYWpvckxhYmVscyYmdGhpcy5tYXN0ZXI9PT0hMHx8dGhpcy5vcHRpb25zLnNob3dNaW5vckxhYmVscz09PSExJiZ0aGlzLm1hc3Rlcj09PSExJiZjPT09ITA/KGw+PTAmJnRoaXMuX3JlZHJhd0xhYmVsKGwtMixlLmdldEN1cnJlbnQoKSxpLFwidmlzLXktYXhpcyB2aXMtbWFqb3JcIix0aGlzLnByb3BzLm1ham9yQ2hhckhlaWdodCksdGhpcy5fcmVkcmF3TGluZShsLGksXCJ2aXMtZ3JpZCB2aXMtaG9yaXpvbnRhbCB2aXMtbWFqb3JcIix0aGlzLm9wdGlvbnMubWFqb3JMaW5lc09mZnNldCx0aGlzLnByb3BzLm1ham9yTGluZVdpZHRoKSk6dGhpcy5fcmVkcmF3TGluZShsLGksXCJ2aXMtZ3JpZCB2aXMtaG9yaXpvbnRhbCB2aXMtbWlub3JcIix0aGlzLm9wdGlvbnMubWlub3JMaW5lc09mZnNldCx0aGlzLnByb3BzLm1pbm9yTGluZVdpZHRoKSksdGhpcy5tYXN0ZXI9PT0hMCYmMD09PWUuY3VycmVudCYmKHRoaXMuemVyb0Nyb3NzaW5nPXUpLGUubmV4dCgpLHUrPTE7dGhpcy5tYXN0ZXI9PT0hMCYmMD09PWUuY3VycmVudCYmKHRoaXMuemVyb0Nyb3NzaW5nPXUpLHRoaXMuY29udmVyc2lvbkZhY3Rvcj10aGlzLnN0ZXBQaXhlbHMvZS5zdGVwO3ZhciBwPTA7dm9pZCAwIT09dGhpcy5vcHRpb25zW2ldLnRpdGxlJiZ2b2lkIDAhPT10aGlzLm9wdGlvbnNbaV0udGl0bGUudGV4dCYmKHA9dGhpcy5wcm9wcy50aXRsZUNoYXJIZWlnaHQpO3ZhciBmPXRoaXMub3B0aW9ucy5pY29ucz09PSEwP01hdGgubWF4KHRoaXMub3B0aW9ucy5pY29uV2lkdGgscCkrdGhpcy5vcHRpb25zLmxhYmVsT2Zmc2V0WCsxNTpwK3RoaXMub3B0aW9ucy5sYWJlbE9mZnNldFgrMTU7cmV0dXJuIHRoaXMubWF4TGFiZWxTaXplPnRoaXMud2lkdGgtZiYmdGhpcy5vcHRpb25zLnZpc2libGU9PT0hMD8odGhpcy53aWR0aD10aGlzLm1heExhYmVsU2l6ZStmLHRoaXMub3B0aW9ucy53aWR0aD10aGlzLndpZHRoK1wicHhcIixzLmNsZWFudXBFbGVtZW50cyh0aGlzLkRPTWVsZW1lbnRzLmxpbmVzKSxzLmNsZWFudXBFbGVtZW50cyh0aGlzLkRPTWVsZW1lbnRzLmxhYmVscyksdGhpcy5yZWRyYXcoKSx0PSEwKTp0aGlzLm1heExhYmVsU2l6ZTx0aGlzLndpZHRoLWYmJnRoaXMub3B0aW9ucy52aXNpYmxlPT09ITAmJnRoaXMud2lkdGg+dGhpcy5taW5XaWR0aD8odGhpcy53aWR0aD1NYXRoLm1heCh0aGlzLm1pbldpZHRoLHRoaXMubWF4TGFiZWxTaXplK2YpLHRoaXMub3B0aW9ucy53aWR0aD10aGlzLndpZHRoK1wicHhcIixzLmNsZWFudXBFbGVtZW50cyh0aGlzLkRPTWVsZW1lbnRzLmxpbmVzKSxzLmNsZWFudXBFbGVtZW50cyh0aGlzLkRPTWVsZW1lbnRzLmxhYmVscyksdGhpcy5yZWRyYXcoKSx0PSEwKToocy5jbGVhbnVwRWxlbWVudHModGhpcy5ET01lbGVtZW50cy5saW5lcykscy5jbGVhbnVwRWxlbWVudHModGhpcy5ET01lbGVtZW50cy5sYWJlbHMpLHQ9ITEpLHR9LG8ucHJvdG90eXBlLmNvbnZlcnRWYWx1ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnZhbHVlQXRCb3R0b20tdCxpPWUqdGhpcy5jb252ZXJzaW9uRmFjdG9yO3JldHVybiBpfSxvLnByb3RvdHlwZS5zY3JlZW5Ub1ZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnZhbHVlQXRCb3R0b20tdC90aGlzLmNvbnZlcnNpb25GYWN0b3J9LG8ucHJvdG90eXBlLl9yZWRyYXdMYWJlbD1mdW5jdGlvbih0LGUsaSxvLG4pe3ZhciByPXMuZ2V0RE9NRWxlbWVudChcImRpdlwiLHRoaXMuRE9NZWxlbWVudHMubGFiZWxzLHRoaXMuZG9tLmZyYW1lKTtyLmNsYXNzTmFtZT1vLHIuaW5uZXJIVE1MPWUsXCJsZWZ0XCI9PT1pPyhyLnN0eWxlLmxlZnQ9XCItXCIrdGhpcy5vcHRpb25zLmxhYmVsT2Zmc2V0WCtcInB4XCIsci5zdHlsZS50ZXh0QWxpZ249XCJyaWdodFwiKTooci5zdHlsZS5yaWdodD1cIi1cIit0aGlzLm9wdGlvbnMubGFiZWxPZmZzZXRYK1wicHhcIixyLnN0eWxlLnRleHRBbGlnbj1cImxlZnRcIiksci5zdHlsZS50b3A9dC0uNSpuK3RoaXMub3B0aW9ucy5sYWJlbE9mZnNldFkrXCJweFwiLGUrPVwiXCI7dmFyIGE9TWF0aC5tYXgodGhpcy5wcm9wcy5tYWpvckNoYXJXaWR0aCx0aGlzLnByb3BzLm1pbm9yQ2hhcldpZHRoKTt0aGlzLm1heExhYmVsU2l6ZTxlLmxlbmd0aCphJiYodGhpcy5tYXhMYWJlbFNpemU9ZS5sZW5ndGgqYSl9LG8ucHJvdG90eXBlLl9yZWRyYXdMaW5lPWZ1bmN0aW9uKHQsZSxpLG8sbil7aWYodGhpcy5tYXN0ZXI9PT0hMCl7dmFyIHI9cy5nZXRET01FbGVtZW50KFwiZGl2XCIsdGhpcy5ET01lbGVtZW50cy5saW5lcyx0aGlzLmRvbS5saW5lQ29udGFpbmVyKTtyLmNsYXNzTmFtZT1pLHIuaW5uZXJIVE1MPVwiXCIsXCJsZWZ0XCI9PT1lP3Iuc3R5bGUubGVmdD10aGlzLndpZHRoLW8rXCJweFwiOnIuc3R5bGUucmlnaHQ9dGhpcy53aWR0aC1vK1wicHhcIixyLnN0eWxlLndpZHRoPW4rXCJweFwiLHIuc3R5bGUudG9wPXQrXCJweFwifX0sby5wcm90b3R5cGUuX3JlZHJhd1RpdGxlPWZ1bmN0aW9uKHQpe2lmKHMucHJlcGFyZUVsZW1lbnRzKHRoaXMuRE9NZWxlbWVudHMudGl0bGUpLHZvaWQgMCE9PXRoaXMub3B0aW9uc1t0XS50aXRsZSYmdm9pZCAwIT09dGhpcy5vcHRpb25zW3RdLnRpdGxlLnRleHQpe3ZhciBlPXMuZ2V0RE9NRWxlbWVudChcImRpdlwiLHRoaXMuRE9NZWxlbWVudHMudGl0bGUsdGhpcy5kb20uZnJhbWUpO2UuY2xhc3NOYW1lPVwidmlzLXktYXhpcyB2aXMtdGl0bGUgdmlzLVwiK3QsZS5pbm5lckhUTUw9dGhpcy5vcHRpb25zW3RdLnRpdGxlLnRleHQsdm9pZCAwIT09dGhpcy5vcHRpb25zW3RdLnRpdGxlLnN0eWxlJiZuLmFkZENzc1RleHQoZSx0aGlzLm9wdGlvbnNbdF0udGl0bGUuc3R5bGUpLFwibGVmdFwiPT09dD9lLnN0eWxlLmxlZnQ9dGhpcy5wcm9wcy50aXRsZUNoYXJIZWlnaHQrXCJweFwiOmUuc3R5bGUucmlnaHQ9dGhpcy5wcm9wcy50aXRsZUNoYXJIZWlnaHQrXCJweFwiLGUuc3R5bGUud2lkdGg9dGhpcy5oZWlnaHQrXCJweFwifXMuY2xlYW51cEVsZW1lbnRzKHRoaXMuRE9NZWxlbWVudHMudGl0bGUpfSxvLnByb3RvdHlwZS5fY2FsY3VsYXRlQ2hhclNpemU9ZnVuY3Rpb24oKXtpZighKFwibWlub3JDaGFySGVpZ2h0XCJpbiB0aGlzLnByb3BzKSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCIwXCIpLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtlLmNsYXNzTmFtZT1cInZpcy15LWF4aXMgdmlzLW1pbm9yIHZpcy1tZWFzdXJlXCIsZS5hcHBlbmRDaGlsZCh0KSx0aGlzLmRvbS5mcmFtZS5hcHBlbmRDaGlsZChlKSx0aGlzLnByb3BzLm1pbm9yQ2hhckhlaWdodD1lLmNsaWVudEhlaWdodCx0aGlzLnByb3BzLm1pbm9yQ2hhcldpZHRoPWUuY2xpZW50V2lkdGgsdGhpcy5kb20uZnJhbWUucmVtb3ZlQ2hpbGQoZSl9aWYoIShcIm1ham9yQ2hhckhlaWdodFwiaW4gdGhpcy5wcm9wcykpe3ZhciBpPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiMFwiKSxvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7by5jbGFzc05hbWU9XCJ2aXMteS1heGlzIHZpcy1tYWpvciB2aXMtbWVhc3VyZVwiLG8uYXBwZW5kQ2hpbGQoaSksdGhpcy5kb20uZnJhbWUuYXBwZW5kQ2hpbGQobyksdGhpcy5wcm9wcy5tYWpvckNoYXJIZWlnaHQ9by5jbGllbnRIZWlnaHQsdGhpcy5wcm9wcy5tYWpvckNoYXJXaWR0aD1vLmNsaWVudFdpZHRoLHRoaXMuZG9tLmZyYW1lLnJlbW92ZUNoaWxkKG8pfWlmKCEoXCJ0aXRsZUNoYXJIZWlnaHRcImluIHRoaXMucHJvcHMpKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIjBcIikscz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3MuY2xhc3NOYW1lPVwidmlzLXktYXhpcyB2aXMtdGl0bGUgdmlzLW1lYXN1cmVcIixzLmFwcGVuZENoaWxkKG4pLHRoaXMuZG9tLmZyYW1lLmFwcGVuZENoaWxkKHMpLHRoaXMucHJvcHMudGl0bGVDaGFySGVpZ2h0PXMuY2xpZW50SGVpZ2h0LHRoaXMucHJvcHMudGl0bGVDaGFyV2lkdGg9cy5jbGllbnRXaWR0aCx0aGlzLmRvbS5mcmFtZS5yZW1vdmVDaGlsZChzKX19LHQuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkodCxlLGksbyxuLHMscil7dGhpcy5jdXJyZW50PTAsdGhpcy5hdXRvU2NhbGU9ITAsdGhpcy5zdGVwSW5kZXg9MCx0aGlzLnN0ZXA9MSx0aGlzLnNjYWxlPTEsdGhpcy5mb3JtYXR0aW5nRnVuY3Rpb249cyx0aGlzLm1hcmdpblN0YXJ0LHRoaXMubWFyZ2luRW5kLHRoaXMuZGVhZFNwYWNlPTAsdGhpcy5tYWpvclN0ZXBzPVsxLDIsNSwxMF0sdGhpcy5taW5vclN0ZXBzPVsuMjUsLjUsMSwyXSx0aGlzLmFsaWduWmVyb3M9cix0aGlzLnNldFJhbmdlKHQsZSxpLG8sbil9aS5wcm90b3R5cGUuc2V0UmFuZ2U9ZnVuY3Rpb24odCxlLGksbyxuKXt0aGlzLl9zdGFydD12b2lkIDA9PT1uLm1pbj90Om4ubWluLHRoaXMuX2VuZD12b2lkIDA9PT1uLm1heD9lOm4ubWF4LHRoaXMuX3N0YXJ0PT09dGhpcy5fZW5kJiYodGhpcy5fc3RhcnQ9dm9pZCAwPT09bi5taW4/dGhpcy5fc3RhcnQtLjc1OnRoaXMuX3N0YXJ0LHRoaXMuX2VuZD12b2lkIDA9PT1uLm1heD90aGlzLl9lbmQrMTp0aGlzLl9lbmQpLHRoaXMuYXV0b1NjYWxlPT09ITAmJnRoaXMuc2V0TWluaW11bVN0ZXAoaSxvKSx0aGlzLnNldEZpcnN0KG4pfSxpLnByb3RvdHlwZS5zZXRNaW5pbXVtU3RlcD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2VuZC10aGlzLl9zdGFydCxvPTEuMippLG49dCooby9lKSxzPU1hdGgucm91bmQoTWF0aC5sb2cobykvTWF0aC5MTjEwKSxyPS0xLGE9TWF0aC5wb3coMTAscyksaD0wOzA+cyYmKGg9cyk7Zm9yKHZhciBkPSExLGw9aDtNYXRoLmFicyhsKTw9TWF0aC5hYnMocyk7bCsrKXthPU1hdGgucG93KDEwLGwpO2Zvcih2YXIgdT0wO3U8dGhpcy5taW5vclN0ZXBzLmxlbmd0aDt1Kyspe3ZhciBjPWEqdGhpcy5taW5vclN0ZXBzW3VdO2lmKGM+PW4pe2Q9ITAscj11O2JyZWFrfX1pZihkPT09ITApYnJlYWt9dGhpcy5zdGVwSW5kZXg9cix0aGlzLnNjYWxlPWEsdGhpcy5zdGVwPWEqdGhpcy5taW5vclN0ZXBzW3JdfSxpLnByb3RvdHlwZS5zZXRGaXJzdD1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD17fSk7dmFyIGU9dm9pZCAwPT09dC5taW4/dGhpcy5fc3RhcnQtMip0aGlzLnNjYWxlKnRoaXMubWlub3JTdGVwc1t0aGlzLnN0ZXBJbmRleF06dC5taW4saT12b2lkIDA9PT10Lm1heD90aGlzLl9lbmQrdGhpcy5zY2FsZSp0aGlzLm1pbm9yU3RlcHNbdGhpcy5zdGVwSW5kZXhdOnQubWF4O3RoaXMubWFyZ2luRW5kPXZvaWQgMD09PXQubWF4P3RoaXMucm91bmRUb01pbm9yKGkpOnQubWF4LHRoaXMubWFyZ2luU3RhcnQ9dm9pZCAwPT09dC5taW4/dGhpcy5yb3VuZFRvTWlub3IoZSk6dC5taW4sdGhpcy5hbGlnblplcm9zPT09ITAmJih0aGlzLm1hcmdpbkVuZC10aGlzLm1hcmdpblN0YXJ0KSV0aGlzLnN0ZXAhPTAmJih0aGlzLm1hcmdpbkVuZCs9dGhpcy5tYXJnaW5FbmQldGhpcy5zdGVwKSx0aGlzLmRlYWRTcGFjZT10aGlzLnJvdW5kVG9NaW5vcihpKS1pK3RoaXMucm91bmRUb01pbm9yKGUpLWUsdGhpcy5tYXJnaW5SYW5nZT10aGlzLm1hcmdpbkVuZC10aGlzLm1hcmdpblN0YXJ0LHRoaXMuY3VycmVudD10aGlzLm1hcmdpbkVuZH0saS5wcm90b3R5cGUucm91bmRUb01pbm9yPWZ1bmN0aW9uKHQpe3ZhciBlPXQtdCUodGhpcy5zY2FsZSp0aGlzLm1pbm9yU3RlcHNbdGhpcy5zdGVwSW5kZXhdKTtyZXR1cm4gdCUodGhpcy5zY2FsZSp0aGlzLm1pbm9yU3RlcHNbdGhpcy5zdGVwSW5kZXhdKT4uNSoodGhpcy5zY2FsZSp0aGlzLm1pbm9yU3RlcHNbdGhpcy5zdGVwSW5kZXhdKT9lK3RoaXMuc2NhbGUqdGhpcy5taW5vclN0ZXBzW3RoaXMuc3RlcEluZGV4XTplfSxpLnByb3RvdHlwZS5oYXNOZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudD49dGhpcy5tYXJnaW5TdGFydH0saS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY3VycmVudDt0aGlzLmN1cnJlbnQtPXRoaXMuc3RlcCx0aGlzLmN1cnJlbnQ9PT10JiYodGhpcy5jdXJyZW50PXRoaXMuX2VuZCl9LGkucHJvdG90eXBlLnByZXZpb3VzPWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50Kz10aGlzLnN0ZXAsdGhpcy5tYXJnaW5FbmQrPXRoaXMuc3RlcCx0aGlzLm1hcmdpblJhbmdlPXRoaXMubWFyZ2luRW5kLXRoaXMubWFyZ2luU3RhcnR9LGkucHJvdG90eXBlLmdldEN1cnJlbnQ9ZnVuY3Rpb24oKXt2YXIgdD1NYXRoLmFicyh0aGlzLmN1cnJlbnQpPHRoaXMuc3RlcC8yPzA6dGhpcy5jdXJyZW50LGU9dC50b1ByZWNpc2lvbig1KTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmZvcm1hdHRpbmdGdW5jdGlvbiYmKGU9dGhpcy5mb3JtYXR0aW5nRnVuY3Rpb24odCkpLFwibnVtYmVyXCI9PXR5cGVvZiBlP1wiXCIrZTpcInN0cmluZ1wiPT10eXBlb2YgZT9lOnQudG9QcmVjaXNpb24oNSl9LGkucHJvdG90eXBlLmlzTWFqb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50JSh0aGlzLnNjYWxlKnRoaXMubWFqb3JTdGVwc1t0aGlzLnN0ZXBJbmRleF0pPT09MH0saS5wcm90b3R5cGUuc2hpZnQ9ZnVuY3Rpb24odCl7aWYoMD50KWZvcih2YXIgZT0wOy10PmU7ZSsrKXRoaXMucHJldmlvdXMoKTtlbHNlIGlmKHQ+MClmb3IodmFyIGU9MDt0PmU7ZSsrKXRoaXMubmV4dCgpfSx0LmV4cG9ydHM9aX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCxlLGksbyl7dGhpcy5pZD1lO3ZhciBzPVtcInNhbXBsaW5nXCIsXCJzdHlsZVwiLFwic29ydFwiLFwieUF4aXNPcmllbnRhdGlvblwiLFwiYmFyQ2hhcnRcIixcImRyYXdQb2ludHNcIixcInNoYWRlZFwiLFwiaW50ZXJwb2xhdGlvblwiLFwiekluZGV4XCJdO3RoaXMub3B0aW9ucz1uLnNlbGVjdGl2ZUJyaWRnZU9iamVjdChzLGkpLHRoaXMudXNpbmdEZWZhdWx0U3R5bGU9dm9pZCAwPT09dC5jbGFzc05hbWUsdGhpcy5ncm91cHNVc2luZ0RlZmF1bHRTdHlsZXM9byx0aGlzLnplcm9Qb3NpdGlvbj0wLHRoaXMudXBkYXRlKHQpLDE9PXRoaXMudXNpbmdEZWZhdWx0U3R5bGUmJih0aGlzLmdyb3Vwc1VzaW5nRGVmYXVsdFN0eWxlc1swXSs9MSksdGhpcy5pdGVtc0RhdGE9W10sdGhpcy52aXNpYmxlPXZvaWQgMD09PXQudmlzaWJsZT8hMDp0LnZpc2libGV9dmFyIG49aSgxKSxzPShpKDcpLGkoNTQpKSxyPWkoNTYpLGE9aSg1NSk7by5wcm90b3R5cGUuc2V0SXRlbXM9ZnVuY3Rpb24odCl7bnVsbCE9dD8odGhpcy5pdGVtc0RhdGE9dCwxPT10aGlzLm9wdGlvbnMuc29ydCYmbi5pbnNlcnRTb3J0KHRoaXMuaXRlbXNEYXRhLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQueD5lLng/MTotMX0pKTp0aGlzLml0ZW1zRGF0YT1bXX0sby5wcm90b3R5cGUuZ2V0SXRlbXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVtc0RhdGF9LG8ucHJvdG90eXBlLnNldFplcm9Qb3NpdGlvbj1mdW5jdGlvbih0KXt0aGlzLnplcm9Qb3NpdGlvbj10fSxvLnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9PXQpe3ZhciBlPVtcInNhbXBsaW5nXCIsXCJzdHlsZVwiLFwic29ydFwiLFwieUF4aXNPcmllbnRhdGlvblwiLFwiYmFyQ2hhcnRcIixcImV4Y2x1ZGVGcm9tTGVnZW5kXCIsXCJleGNsdWRlRnJvbVN0YWNraW5nXCIsXCJ6SW5kZXhcIl07bi5zZWxlY3RpdmVEZWVwRXh0ZW5kKGUsdGhpcy5vcHRpb25zLHQpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZHJhd1BvaW50cyYmKHQuZHJhd1BvaW50cz17b25SZW5kZXI6dC5kcmF3UG9pbnRzfSksbi5tZXJnZU9wdGlvbnModGhpcy5vcHRpb25zLHQsXCJpbnRlcnBvbGF0aW9uXCIpLG4ubWVyZ2VPcHRpb25zKHRoaXMub3B0aW9ucyx0LFwiZHJhd1BvaW50c1wiKSxuLm1lcmdlT3B0aW9ucyh0aGlzLm9wdGlvbnMsdCxcInNoYWRlZFwiKSx0LmludGVycG9sYXRpb24mJlwib2JqZWN0XCI9PXR5cGVvZiB0LmludGVycG9sYXRpb24mJnQuaW50ZXJwb2xhdGlvbi5wYXJhbWV0cml6YXRpb24mJihcInVuaWZvcm1cIj09dC5pbnRlcnBvbGF0aW9uLnBhcmFtZXRyaXphdGlvbj90aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5hbHBoYT0wOlwiY2hvcmRhbFwiPT10LmludGVycG9sYXRpb24ucGFyYW1ldHJpemF0aW9uP3RoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmFscGhhPTE6KHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLnBhcmFtZXRyaXphdGlvbj1cImNlbnRyaXBldGFsXCIsdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uYWxwaGE9LjUpKX19LG8ucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLmdyb3VwPXQsdGhpcy5jb250ZW50PXQuY29udGVudHx8XCJncmFwaFwiLHRoaXMuY2xhc3NOYW1lPXQuY2xhc3NOYW1lfHx0aGlzLmNsYXNzTmFtZXx8XCJ2aXMtZ3JhcGgtZ3JvdXBcIit0aGlzLmdyb3Vwc1VzaW5nRGVmYXVsdFN0eWxlc1swXSUxMCx0aGlzLnZpc2libGU9dm9pZCAwPT09dC52aXNpYmxlPyEwOnQudmlzaWJsZSx0aGlzLnN0eWxlPXQuc3R5bGUsdGhpcy5zZXRPcHRpb25zKHQub3B0aW9ucyl9LG8ucHJvdG90eXBlLmdldExlZ2VuZD1mdW5jdGlvbih0LGUsaSxvLG4pe2lmKHZvaWQgMD09aXx8bnVsbD09aSl7dmFyIGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcInN2Z1wiKTtpPXtzdmc6aCxzdmdFbGVtZW50czp7fSxvcHRpb25zOnRoaXMub3B0aW9ucyxncm91cHM6W3RoaXNdfX1zd2l0Y2goKHZvaWQgMD09b3x8bnVsbD09bykmJihvPTApLCh2b2lkIDA9PW58fG51bGw9PW4pJiYobj0uNSplKSx0aGlzLm9wdGlvbnMuc3R5bGUpe2Nhc2VcImxpbmVcIjpyLmRyYXdJY29uKHRoaXMsbyxuLHQsZSxpKTticmVhaztjYXNlXCJwb2ludHNcIjpjYXNlXCJwb2ludFwiOmEuZHJhd0ljb24odGhpcyxvLG4sdCxlLGkpO2JyZWFrO2Nhc2VcImJhclwiOnMuZHJhd0ljb24odGhpcyxvLG4sdCxlLGkpfXJldHVybntpY29uOmkuc3ZnLGxhYmVsOnRoaXMuY29udGVudCxvcmllbnRhdGlvbjp0aGlzLm9wdGlvbnMueUF4aXNPcmllbnRhdGlvbn19LG8ucHJvdG90eXBlLmdldFlSYW5nZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dFswXS55LGk9dFswXS55LG89MDtvPHQubGVuZ3RoO28rKyllPWU+dFtvXS55P3Rbb10ueTplLGk9aTx0W29dLnk/dFtvXS55Omk7cmV0dXJue21pbjplLG1heDppLHlBeGlzT3JpZW50YXRpb246dGhpcy5vcHRpb25zLnlBeGlzT3JpZW50YXRpb259fSx0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCxlKXt9dmFyIG49aSg3KSxzPWkoNTUpO28uZHJhd0ljb249ZnVuY3Rpb24odCxlLGksbyxzLHIpe3ZhciBhPS41KnMsaD1uLmdldFNWR0VsZW1lbnQoXCJyZWN0XCIsci5zdmdFbGVtZW50cyxyLnN2Zyk7aC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieFwiLGUpLGguc2V0QXR0cmlidXRlTlMobnVsbCxcInlcIixpLWEpLGguc2V0QXR0cmlidXRlTlMobnVsbCxcIndpZHRoXCIsbyksaC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiaGVpZ2h0XCIsMiphKSxoLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJjbGFzc1wiLFwidmlzLW91dGxpbmVcIik7dmFyIGQ9TWF0aC5yb3VuZCguMypvKSxsPXQub3B0aW9ucy5iYXJDaGFydC53aWR0aCx1PWwvZCxjPU1hdGgucm91bmQoLjQqcykscD1NYXRoLnJvdW5kKC43NSpzKSxmPU1hdGgucm91bmQoKG8tMipkKS8zKTtpZihuLmRyYXdCYXIoZSsuNSpkK2YsaSthLWMtMSxkLGMsdC5jbGFzc05hbWUrXCIgdmlzLWJhclwiLHIuc3ZnRWxlbWVudHMsci5zdmcsdC5zdHlsZSksbi5kcmF3QmFyKGUrMS41KmQrZisyLGkrYS1wLTEsZCxwLHQuY2xhc3NOYW1lK1wiIHZpcy1iYXJcIixyLnN2Z0VsZW1lbnRzLHIuc3ZnLHQuc3R5bGUpLDE9PXQub3B0aW9ucy5kcmF3UG9pbnRzLmVuYWJsZWQpe3ZhciBtPXtzdHlsZTp0Lm9wdGlvbnMuZHJhd1BvaW50cy5zdHlsZSxzdHlsZXM6dC5vcHRpb25zLmRyYXdQb2ludHMuc3R5bGVzLHNpemU6dC5vcHRpb25zLmRyYXdQb2ludHMuc2l6ZS91LGNsYXNzTmFtZTp0LmNsYXNzTmFtZX07bi5kcmF3UG9pbnQoZSsuNSpkK2YsaSthLWMtMSxtLHIuc3ZnRWxlbWVudHMsci5zdmcpLG4uZHJhd1BvaW50KGUrMS41KmQrZisyLGkrYS1wLTEsbSxyLnN2Z0VsZW1lbnRzLHIuc3ZnKX19LG8uZHJhdz1mdW5jdGlvbih0LGUsaSl7dmFyIHIsYSxoLGQsbCx1LGM9W10scD17fSxmPTA7Zm9yKGw9MDtsPHQubGVuZ3RoO2wrKylpZihkPWkuZ3JvdXBzW3RbbF1dLFwiYmFyXCI9PT1kLm9wdGlvbnMuc3R5bGUmJmQudmlzaWJsZT09PSEwJiYodm9pZCAwPT09aS5vcHRpb25zLmdyb3Vwcy52aXNpYmlsaXR5W3RbbF1dfHxpLm9wdGlvbnMuZ3JvdXBzLnZpc2liaWxpdHlbdFtsXV09PT0hMCkpZm9yKHU9MDt1PGVbdFtsXV0ubGVuZ3RoO3UrKyljLnB1c2goe3NjcmVlbl94OmVbdFtsXV1bdV0uc2NyZWVuX3gsc2NyZWVuX3k6ZVt0W2xdXVt1XS5zY3JlZW5feSx4OmVbdFtsXV1bdV0ueCx5OmVbdFtsXV1bdV0ueSxncm91cElkOnRbbF0sbGFiZWw6ZVt0W2xdXVt1XS5sYWJlbH0pLGYrPTE7aWYoMCE9PWYpZm9yKGMuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0LnNjcmVlbl94PT09ZS5zY3JlZW5feD90Lmdyb3VwSWQ8ZS5ncm91cElkPy0xOjE6dC5zY3JlZW5feC1lLnNjcmVlbl94fSksby5fZ2V0RGF0YUludGVyc2VjdGlvbnMocCxjKSxsPTA7bDxjLmxlbmd0aDtsKyspe2Q9aS5ncm91cHNbY1tsXS5ncm91cElkXTt2YXIgbT0uMSpkLm9wdGlvbnMuYmFyQ2hhcnQud2lkdGg7YT1jW2xdLnNjcmVlbl94O3ZhciB2PTA7aWYodm9pZCAwPT09cFthXSlsKzE8Yy5sZW5ndGgmJihyPU1hdGguYWJzKGNbbCsxXS5zY3JlZW5feC1hKSksbD4wJiYocj1NYXRoLm1pbihyLE1hdGguYWJzKGNbbC0xXS5zY3JlZW5feC1hKSkpLGg9by5fZ2V0U2FmZURyYXdEYXRhKHIsZCxtKTtlbHNle3ZhciBnPWwrKHBbYV0uYW1vdW50LXBbYV0ucmVzb2x2ZWQpLHk9bC0ocFthXS5yZXNvbHZlZCsxKTtnPGMubGVuZ3RoJiYocj1NYXRoLmFicyhjW2ddLnNjcmVlbl94LWEpKSx5PjAmJihyPU1hdGgubWluKHIsTWF0aC5hYnMoY1t5XS5zY3JlZW5feC1hKSkpLGg9by5fZ2V0U2FmZURyYXdEYXRhKHIsZCxtKSxwW2FdLnJlc29sdmVkKz0xLGQub3B0aW9ucy5zdGFjaz09PSEwP2NbbF0uc2NyZWVuX3k8ZC56ZXJvUG9zaXRpb24/KHY9cFthXS5hY2N1bXVsYXRlZE5lZ2F0aXZlLHBbYV0uYWNjdW11bGF0ZWROZWdhdGl2ZSs9ZC56ZXJvUG9zaXRpb24tY1tsXS5zY3JlZW5feSk6KHY9cFthXS5hY2N1bXVsYXRlZFBvc2l0aXZlLHBbYV0uYWNjdW11bGF0ZWRQb3NpdGl2ZSs9ZC56ZXJvUG9zaXRpb24tY1tsXS5zY3JlZW5feSk6ZC5vcHRpb25zLmJhckNoYXJ0LnNpZGVCeVNpZGU9PT0hMCYmKGgud2lkdGg9aC53aWR0aC9wW2FdLmFtb3VudCxoLm9mZnNldCs9cFthXS5yZXNvbHZlZCpoLndpZHRoLS41Kmgud2lkdGgqKHBbYV0uYW1vdW50KzEpLFwibGVmdFwiPT09ZC5vcHRpb25zLmJhckNoYXJ0LmFsaWduP2gub2Zmc2V0LT0uNSpoLndpZHRoOlwicmlnaHRcIj09PWQub3B0aW9ucy5iYXJDaGFydC5hbGlnbiYmKGgub2Zmc2V0Kz0uNSpoLndpZHRoKSl9aWYobi5kcmF3QmFyKGNbbF0uc2NyZWVuX3graC5vZmZzZXQsY1tsXS5zY3JlZW5feS12LGgud2lkdGgsZC56ZXJvUG9zaXRpb24tY1tsXS5zY3JlZW5feSxkLmNsYXNzTmFtZStcIiB2aXMtYmFyXCIsaS5zdmdFbGVtZW50cyxpLnN2ZyxkLnN0eWxlKSxkLm9wdGlvbnMuZHJhd1BvaW50cy5lbmFibGVkPT09ITApe3ZhciBiPXtzY3JlZW5feDpjW2xdLnNjcmVlbl94LHNjcmVlbl95OmNbbF0uc2NyZWVuX3ktdix4OmNbbF0ueCx5OmNbbF0ueSxncm91cElkOmNbbF0uZ3JvdXBJZCxsYWJlbDpjW2xdLmxhYmVsfTtzLmRyYXcoW2JdLGQsaSxoLm9mZnNldCl9fX0sby5fZ2V0RGF0YUludGVyc2VjdGlvbnM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGksbz0wO288ZS5sZW5ndGg7bysrKW8rMTxlLmxlbmd0aCYmKGk9TWF0aC5hYnMoZVtvKzFdLnNjcmVlbl94LWVbb10uc2NyZWVuX3gpKSxvPjAmJihpPU1hdGgubWluKGksTWF0aC5hYnMoZVtvLTFdLnNjcmVlbl94LWVbb10uc2NyZWVuX3gpKSksMD09PWkmJih2b2lkIDA9PT10W2Vbb10uc2NyZWVuX3hdJiYodFtlW29dLnNjcmVlbl94XT17YW1vdW50OjAscmVzb2x2ZWQ6MCxhY2N1bXVsYXRlZFBvc2l0aXZlOjAsYWNjdW11bGF0ZWROZWdhdGl2ZTowfSksdFtlW29dLnNjcmVlbl94XS5hbW91bnQrPTEpfSxvLl9nZXRTYWZlRHJhd0RhdGE9ZnVuY3Rpb24odCxlLGkpe3ZhciBvLG47cmV0dXJuIHQ8ZS5vcHRpb25zLmJhckNoYXJ0LndpZHRoJiZ0PjA/KG89aT50P2k6dCxuPTAsXCJsZWZ0XCI9PT1lLm9wdGlvbnMuYmFyQ2hhcnQuYWxpZ24/bi09LjUqdDpcInJpZ2h0XCI9PT1lLm9wdGlvbnMuYmFyQ2hhcnQuYWxpZ24mJihuKz0uNSp0KSk6KG89ZS5vcHRpb25zLmJhckNoYXJ0LndpZHRoLG49MCxcImxlZnRcIj09PWUub3B0aW9ucy5iYXJDaGFydC5hbGlnbj9uLT0uNSplLm9wdGlvbnMuYmFyQ2hhcnQud2lkdGg6XCJyaWdodFwiPT09ZS5vcHRpb25zLmJhckNoYXJ0LmFsaWduJiYobis9LjUqZS5vcHRpb25zLmJhckNoYXJ0LndpZHRoKSkse3dpZHRoOm8sb2Zmc2V0Om59fSxvLmdldFN0YWNrZWRZUmFuZ2U9ZnVuY3Rpb24odCxlLGksbixzKXtpZih0Lmxlbmd0aD4wKXt0LnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zY3JlZW5feD09PWUuc2NyZWVuX3g/dC5ncm91cElkPGUuZ3JvdXBJZD8tMToxOnQuc2NyZWVuX3gtZS5zY3JlZW5feH0pO3ZhciByPXt9O28uX2dldERhdGFJbnRlcnNlY3Rpb25zKHIsdCksZVtuXT1vLl9nZXRTdGFja2VkWVJhbmdlKHIsdCksZVtuXS55QXhpc09yaWVudGF0aW9uPXMsaS5wdXNoKG4pfX0sby5fZ2V0U3RhY2tlZFlSYW5nZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaSxvPWVbMF0uc2NyZWVuX3ksbj1lWzBdLnNjcmVlbl95LHM9MDtzPGUubGVuZ3RoO3MrKylpPWVbc10uc2NyZWVuX3gsdm9pZCAwPT09dFtpXT8obz1vPmVbc10uc2NyZWVuX3k/ZVtzXS5zY3JlZW5feTpvLG49bjxlW3NdLnNjcmVlbl95P2Vbc10uc2NyZWVuX3k6bik6ZVtzXS5zY3JlZW5feTwwP3RbaV0uYWNjdW11bGF0ZWROZWdhdGl2ZSs9ZVtzXS5zY3JlZW5feTp0W2ldLmFjY3VtdWxhdGVkUG9zaXRpdmUrPWVbc10uc2NyZWVuX3k7Zm9yKHZhciByIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmKG89bz50W3JdLmFjY3VtdWxhdGVkTmVnYXRpdmU/dFtyXS5hY2N1bXVsYXRlZE5lZ2F0aXZlOm8sbz1vPnRbcl0uYWNjdW11bGF0ZWRQb3NpdGl2ZT90W3JdLmFjY3VtdWxhdGVkUG9zaXRpdmU6byxuPW48dFtyXS5hY2N1bXVsYXRlZE5lZ2F0aXZlP3Rbcl0uYWNjdW11bGF0ZWROZWdhdGl2ZTpuLG49bjx0W3JdLmFjY3VtdWxhdGVkUG9zaXRpdmU/dFtyXS5hY2N1bXVsYXRlZFBvc2l0aXZlOm4pO3JldHVybnttaW46byxtYXg6bn19LHQuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbyh0LGUpe31mdW5jdGlvbiBuKHQsZSl7cmV0dXJuIGU9XCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/e306ZSx7c3R5bGU6ZS5zdHlsZXx8dC5vcHRpb25zLmRyYXdQb2ludHMuc3R5bGUsc3R5bGVzOmUuc3R5bGVzfHx0Lm9wdGlvbnMuZHJhd1BvaW50cy5zdHlsZXMsc2l6ZTplLnNpemV8fHQub3B0aW9ucy5kcmF3UG9pbnRzLnNpemUsY2xhc3NOYW1lOmUuY2xhc3NOYW1lfHx0LmNsYXNzTmFtZX19ZnVuY3Rpb24gcyh0LGUpe3ZhciBpPXZvaWQgMDtyZXR1cm4gdC5vcHRpb25zJiZ0Lm9wdGlvbnMuZHJhd1BvaW50cyYmdC5vcHRpb25zLmRyYXdQb2ludHMub25SZW5kZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQub3B0aW9ucy5kcmF3UG9pbnRzLm9uUmVuZGVyJiYoaT10Lm9wdGlvbnMuZHJhd1BvaW50cy5vblJlbmRlciksZS5ncm91cC5vcHRpb25zJiZlLmdyb3VwLm9wdGlvbnMuZHJhd1BvaW50cyYmZS5ncm91cC5vcHRpb25zLmRyYXdQb2ludHMub25SZW5kZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZ3JvdXAub3B0aW9ucy5kcmF3UG9pbnRzLm9uUmVuZGVyJiYoaT1lLmdyb3VwLm9wdGlvbnMuZHJhd1BvaW50cy5vblJlbmRlciksaX12YXIgcj1pKDcpO28uZHJhdz1mdW5jdGlvbih0LGUsaSxvKXtvPW98fDA7Zm9yKHZhciBhPXMoaSxlKSxoPTA7aDx0Lmxlbmd0aDtoKyspaWYoYSl7dmFyIGQ9YSh0W2hdLGUpOyhkPT09ITB8fFwib2JqZWN0XCI9PXR5cGVvZiBkKSYmci5kcmF3UG9pbnQodFtoXS5zY3JlZW5feCtvLHRbaF0uc2NyZWVuX3ksbihlLGQpLGkuc3ZnRWxlbWVudHMsaS5zdmcsdFtoXS5sYWJlbCl9ZWxzZSByLmRyYXdQb2ludCh0W2hdLnNjcmVlbl94K28sdFtoXS5zY3JlZW5feSxuKGUpLGkuc3ZnRWxlbWVudHMsaS5zdmcsdFtoXS5sYWJlbCl9LG8uZHJhd0ljb249ZnVuY3Rpb24odCxlLGksbyxzLGEpe3ZhciBoPS41KnMsZD1yLmdldFNWR0VsZW1lbnQoXCJyZWN0XCIsYS5zdmdFbGVtZW50cyxhLnN2Zyk7ZC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieFwiLGUpLGQuc2V0QXR0cmlidXRlTlMobnVsbCxcInlcIixpLWgpLGQuc2V0QXR0cmlidXRlTlMobnVsbCxcIndpZHRoXCIsbyksZC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiaGVpZ2h0XCIsMipoKSxkLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJjbGFzc1wiLFwidmlzLW91dGxpbmVcIiksci5kcmF3UG9pbnQoZSsuNSpvLGksbih0KSxhLnN2Z0VsZW1lbnRzLGEuc3ZnKX0sdC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQsZSl7fXZhciBuPWkoNyk7by5jYWxjUGF0aD1mdW5jdGlvbih0LGUpe2lmKG51bGwhPXQmJnQubGVuZ3RoPjApe3ZhciBpPVtdO3JldHVybiBpPTE9PWUub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmVuYWJsZWQ/by5fY2F0bXVsbFJvbSh0LGUpOm8uX2xpbmVhcih0KX19LG8uZHJhd0ljb249ZnVuY3Rpb24odCxlLGksbyxzLHIpe3ZhciBhLGgsZD0uNSpzLGw9bi5nZXRTVkdFbGVtZW50KFwicmVjdFwiLHIuc3ZnRWxlbWVudHMsci5zdmcpO2lmKGwuc2V0QXR0cmlidXRlTlMobnVsbCxcInhcIixlKSxsLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ5XCIsaS1kKSxsLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ3aWR0aFwiLG8pLGwuc2V0QXR0cmlidXRlTlMobnVsbCxcImhlaWdodFwiLDIqZCksbC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiY2xhc3NcIixcInZpcy1vdXRsaW5lXCIpLGE9bi5nZXRTVkdFbGVtZW50KFwicGF0aFwiLHIuc3ZnRWxlbWVudHMsci5zdmcpLGEuc2V0QXR0cmlidXRlTlMobnVsbCxcImNsYXNzXCIsdC5jbGFzc05hbWUpLHZvaWQgMCE9PXQuc3R5bGUmJmEuc2V0QXR0cmlidXRlTlMobnVsbCxcInN0eWxlXCIsdC5zdHlsZSksYS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZFwiLFwiTVwiK2UrXCIsXCIraStcIiBMXCIrKGUrbykrXCIsXCIraSksMT09dC5vcHRpb25zLnNoYWRlZC5lbmFibGVkJiYoaD1uLmdldFNWR0VsZW1lbnQoXCJwYXRoXCIsci5zdmdFbGVtZW50cyxyLnN2ZyksXCJ0b3BcIj09dC5vcHRpb25zLnNoYWRlZC5vcmllbnRhdGlvbj9oLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJkXCIsXCJNXCIrZStcIiwgXCIrKGktZCkrXCJMXCIrZStcIixcIitpK1wiIExcIisoZStvKStcIixcIitpK1wiIExcIisoZStvKStcIixcIisoaS1kKSk6aC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZFwiLFwiTVwiK2UrXCIsXCIraStcIiBMXCIrZStcIixcIisoaStkKStcIiBMXCIrKGUrbykrXCIsXCIrKGkrZCkrXCJMXCIrKGUrbykrXCIsXCIraSksaC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiY2xhc3NcIix0LmNsYXNzTmFtZStcIiB2aXMtaWNvbi1maWxsXCIpLHZvaWQgMCE9PXQub3B0aW9ucy5zaGFkZWQuc3R5bGUmJlwiXCIhPT10Lm9wdGlvbnMuc2hhZGVkLnN0eWxlJiZoLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHlsZVwiLHQub3B0aW9ucy5zaGFkZWQuc3R5bGUpKSwxPT10Lm9wdGlvbnMuZHJhd1BvaW50cy5lbmFibGVkKXt2YXIgdT17c3R5bGU6dC5vcHRpb25zLmRyYXdQb2ludHMuc3R5bGUsc3R5bGVzOnQub3B0aW9ucy5kcmF3UG9pbnRzLnN0eWxlcyxzaXplOnQub3B0aW9ucy5kcmF3UG9pbnRzLnNpemUsY2xhc3NOYW1lOnQuY2xhc3NOYW1lfTtuLmRyYXdQb2ludChlKy41Km8saSx1LHIuc3ZnRWxlbWVudHMsci5zdmcpfX0sby5kcmF3U2hhZGluZz1mdW5jdGlvbih0LGUsaSxvKXtpZigxPT1lLm9wdGlvbnMuc2hhZGVkLmVuYWJsZWQpe3ZhciBzPU51bWJlcihvLnN2Zy5zdHlsZS5oZWlnaHQucmVwbGFjZShcInB4XCIsXCJcIikpLHI9bi5nZXRTVkdFbGVtZW50KFwicGF0aFwiLG8uc3ZnRWxlbWVudHMsby5zdmcpLGE9XCJMXCI7MT09ZS5vcHRpb25zLmludGVycG9sYXRpb24uZW5hYmxlZCYmKGE9XCJDXCIpO3ZhciBoLGQ9MDtkPVwidG9wXCI9PWUub3B0aW9ucy5zaGFkZWQub3JpZW50YXRpb24/MDpcImJvdHRvbVwiPT1lLm9wdGlvbnMuc2hhZGVkLm9yaWVudGF0aW9uP3M6TWF0aC5taW4oTWF0aC5tYXgoMCxlLnplcm9Qb3NpdGlvbikscyksaD1cImdyb3VwXCI9PWUub3B0aW9ucy5zaGFkZWQub3JpZW50YXRpb24mJm51bGwhPWkmJnZvaWQgMCE9aT9cIk1cIit0WzBdWzBdK1wiLFwiK3RbMF1bMV0rXCIgXCIrdGhpcy5zZXJpYWxpemVQYXRoKHQsYSwhMSkrXCIgTFwiK2lbaS5sZW5ndGgtMV1bMF0rXCIsXCIraVtpLmxlbmd0aC0xXVsxXStcIiBcIit0aGlzLnNlcmlhbGl6ZVBhdGgoaSxhLCEwKStpWzBdWzBdK1wiLFwiK2lbMF1bMV0rXCIgWlwiOlwiTVwiK3RbMF1bMF0rXCIsXCIrdFswXVsxXStcIiBcIit0aGlzLnNlcmlhbGl6ZVBhdGgodCxhLCExKStcIiBWXCIrZCtcIiBIXCIrdFswXVswXStcIiBaXCIsci5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiY2xhc3NcIixlLmNsYXNzTmFtZStcIiB2aXMtZmlsbFwiKSx2b2lkIDAhPT1lLm9wdGlvbnMuc2hhZGVkLnN0eWxlJiZyLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHlsZVwiLGUub3B0aW9ucy5zaGFkZWQuc3R5bGUpLHIuc2V0QXR0cmlidXRlTlMobnVsbCxcImRcIixoKX19LG8uZHJhdz1mdW5jdGlvbih0LGUsaSl7aWYobnVsbCE9dCYmdm9pZCAwIT10KXt2YXIgbz1uLmdldFNWR0VsZW1lbnQoXCJwYXRoXCIsaS5zdmdFbGVtZW50cyxpLnN2Zyk7by5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiY2xhc3NcIixlLmNsYXNzTmFtZSksdm9pZCAwIT09ZS5zdHlsZSYmby5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3R5bGVcIixlLnN0eWxlKTt2YXIgcz1cIkxcIjsxPT1lLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5lbmFibGVkJiYocz1cIkNcIiksby5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZFwiLFwiTVwiK3RbMF1bMF0rXCIsXCIrdFswXVsxXStcIiBcIit0aGlzLnNlcmlhbGl6ZVBhdGgodCxzLCExKSl9fSxvLnNlcmlhbGl6ZVBhdGg9ZnVuY3Rpb24odCxlLGkpe2lmKHQubGVuZ3RoPDIpcmV0dXJuXCJcIjt2YXIgbz1lO2lmKGkpZm9yKHZhciBuPXQubGVuZ3RoLTI7bj4wO24tLSlvKz10W25dWzBdK1wiLFwiK3Rbbl1bMV0rXCIgXCI7ZWxzZSBmb3IodmFyIG49MTtuPHQubGVuZ3RoO24rKylvKz10W25dWzBdK1wiLFwiK3Rbbl1bMV0rXCIgXCI7cmV0dXJuIG99LG8uX2NhdG11bGxSb21Vbmlmb3JtPWZ1bmN0aW9uKHQpe3ZhciBlLGksbyxuLHMscixhPVtdO2EucHVzaChbTWF0aC5yb3VuZCh0WzBdLnNjcmVlbl94KSxNYXRoLnJvdW5kKHRbMF0uc2NyZWVuX3kpXSk7Zm9yKHZhciBoPTEvNixkPXQubGVuZ3RoLGw9MDtkLTE+bDtsKyspZT0wPT1sP3RbMF06dFtsLTFdLGk9dFtsXSxvPXRbbCsxXSxuPWQ+bCsyP3RbbCsyXTpvLHM9e3NjcmVlbl94OigtZS5zY3JlZW5feCs2Kmkuc2NyZWVuX3grby5zY3JlZW5feCkqaCxzY3JlZW5feTooLWUuc2NyZWVuX3krNippLnNjcmVlbl95K28uc2NyZWVuX3kpKmh9LHI9e3NjcmVlbl94OihpLnNjcmVlbl94KzYqby5zY3JlZW5feC1uLnNjcmVlbl94KSpoLHNjcmVlbl95OihpLnNjcmVlbl95KzYqby5zY3JlZW5feS1uLnNjcmVlbl95KSpofSxhLnB1c2goW3Muc2NyZWVuX3gscy5zY3JlZW5feV0pLGEucHVzaChbci5zY3JlZW5feCxyLnNjcmVlbl95XSksYS5wdXNoKFtvLnNjcmVlbl94LG8uc2NyZWVuX3ldKTtyZXR1cm4gYX0sby5fY2F0bXVsbFJvbT1mdW5jdGlvbih0LGUpe3ZhciBpPWUub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmFscGhhO2lmKDA9PWl8fHZvaWQgMD09PWkpcmV0dXJuIHRoaXMuX2NhdG11bGxSb21Vbmlmb3JtKHQpO3ZhciBvLG4scyxyLGEsaCxkLGwsdSxjLHAsZixtLHYsZyx5LGIsdyxfLHg9W107eC5wdXNoKFtNYXRoLnJvdW5kKHRbMF0uc2NyZWVuX3gpLE1hdGgucm91bmQodFswXS5zY3JlZW5feSldKTtmb3IodmFyIGs9dC5sZW5ndGgsTz0wO2stMT5PO08rKylvPTA9PU8/dFswXTp0W08tMV0sbj10W09dLHM9dFtPKzFdLHI9az5PKzI/dFtPKzJdOnMsZD1NYXRoLnNxcnQoTWF0aC5wb3coby5zY3JlZW5feC1uLnNjcmVlbl94LDIpK01hdGgucG93KG8uc2NyZWVuX3ktbi5zY3JlZW5feSwyKSksbD1NYXRoLnNxcnQoTWF0aC5wb3cobi5zY3JlZW5feC1zLnNjcmVlbl94LDIpK01hdGgucG93KG4uc2NyZWVuX3ktcy5zY3JlZW5feSwyKSksdT1NYXRoLnNxcnQoTWF0aC5wb3cocy5zY3JlZW5feC1yLnNjcmVlbl94LDIpK01hdGgucG93KHMuc2NyZWVuX3ktci5zY3JlZW5feSwyKSksdj1NYXRoLnBvdyh1LGkpLHk9TWF0aC5wb3codSwyKmkpLGc9TWF0aC5wb3cobCxpKSxiPU1hdGgucG93KGwsMippKSxfPU1hdGgucG93KGQsaSksdz1NYXRoLnBvdyhkLDIqaSksYz0yKncrMypfKmcrYixwPTIqeSszKnYqZytiLGY9MypfKihfK2cpLGY+MCYmKGY9MS9mKSxtPTMqdiooditnKSxtPjAmJihtPTEvbSksYT17c2NyZWVuX3g6KC1iKm8uc2NyZWVuX3grYypuLnNjcmVlbl94K3cqcy5zY3JlZW5feCkqZixzY3JlZW5feTooLWIqby5zY3JlZW5feStjKm4uc2NyZWVuX3krdypzLnNjcmVlbl95KSpmXG59LGg9e3NjcmVlbl94Oih5Km4uc2NyZWVuX3grcCpzLnNjcmVlbl94LWIqci5zY3JlZW5feCkqbSxzY3JlZW5feTooeSpuLnNjcmVlbl95K3Aqcy5zY3JlZW5feS1iKnIuc2NyZWVuX3kpKm19LDA9PWEuc2NyZWVuX3gmJjA9PWEuc2NyZWVuX3kmJihhPW4pLDA9PWguc2NyZWVuX3gmJjA9PWguc2NyZWVuX3kmJihoPXMpLHgucHVzaChbYS5zY3JlZW5feCxhLnNjcmVlbl95XSkseC5wdXNoKFtoLnNjcmVlbl94LGguc2NyZWVuX3ldKSx4LnB1c2goW3Muc2NyZWVuX3gscy5zY3JlZW5feV0pO3JldHVybiB4fSxvLl9saW5lYXI9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLGk9MDtpPHQubGVuZ3RoO2krKyllLnB1c2goW3RbaV0uc2NyZWVuX3gsdFtpXS5zY3JlZW5feV0pO3JldHVybiBlfSx0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCxlLGksbyl7dGhpcy5ib2R5PXQsdGhpcy5kZWZhdWx0T3B0aW9ucz17ZW5hYmxlZDohMCxpY29uczohMCxpY29uU2l6ZToyMCxpY29uU3BhY2luZzo2LGxlZnQ6e3Zpc2libGU6ITAscG9zaXRpb246XCJ0b3AtbGVmdFwifSxyaWdodDp7dmlzaWJsZTohMCxwb3NpdGlvbjpcInRvcC1sZWZ0XCJ9fSx0aGlzLnNpZGU9aSx0aGlzLm9wdGlvbnM9bi5leHRlbmQoe30sdGhpcy5kZWZhdWx0T3B0aW9ucyksdGhpcy5saW5lZ3JhcGhPcHRpb25zPW8sdGhpcy5zdmdFbGVtZW50cz17fSx0aGlzLmRvbT17fSx0aGlzLmdyb3Vwcz17fSx0aGlzLmFtb3VudE9mR3JvdXBzPTAsdGhpcy5fY3JlYXRlKCksdGhpcy5mcmFtZXdvcms9e3N2Zzp0aGlzLnN2ZyxzdmdFbGVtZW50czp0aGlzLnN2Z0VsZW1lbnRzLG9wdGlvbnM6dGhpcy5vcHRpb25zLGdyb3Vwczp0aGlzLmdyb3Vwc30sdGhpcy5zZXRPcHRpb25zKGUpfXZhciBuPWkoMSkscz1pKDcpLHI9aSgyNik7by5wcm90b3R5cGU9bmV3IHIsby5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmdyb3Vwcz17fSx0aGlzLmFtb3VudE9mR3JvdXBzPTB9LG8ucHJvdG90eXBlLmFkZEdyb3VwPWZ1bmN0aW9uKHQsZSl7MSE9ZS5vcHRpb25zLmV4Y2x1ZGVGcm9tTGVnZW5kJiYodGhpcy5ncm91cHMuaGFzT3duUHJvcGVydHkodCl8fCh0aGlzLmdyb3Vwc1t0XT1lKSx0aGlzLmFtb3VudE9mR3JvdXBzKz0xKX0sby5wcm90b3R5cGUudXBkYXRlR3JvdXA9ZnVuY3Rpb24odCxlKXt0aGlzLmdyb3Vwc1t0XT1lfSxvLnByb3RvdHlwZS5yZW1vdmVHcm91cD1mdW5jdGlvbih0KXt0aGlzLmdyb3Vwcy5oYXNPd25Qcm9wZXJ0eSh0KSYmKGRlbGV0ZSB0aGlzLmdyb3Vwc1t0XSx0aGlzLmFtb3VudE9mR3JvdXBzLT0xKX0sby5wcm90b3R5cGUuX2NyZWF0ZT1mdW5jdGlvbigpe3RoaXMuZG9tLmZyYW1lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5kb20uZnJhbWUuY2xhc3NOYW1lPVwidmlzLWxlZ2VuZFwiLHRoaXMuZG9tLmZyYW1lLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0aGlzLmRvbS5mcmFtZS5zdHlsZS50b3A9XCIxMHB4XCIsdGhpcy5kb20uZnJhbWUuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdGhpcy5kb20udGV4dEFyZWE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmRvbS50ZXh0QXJlYS5jbGFzc05hbWU9XCJ2aXMtbGVnZW5kLXRleHRcIix0aGlzLmRvbS50ZXh0QXJlYS5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIsdGhpcy5kb20udGV4dEFyZWEuc3R5bGUudG9wPVwiMHB4XCIsdGhpcy5zdmc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcInN2Z1wiKSx0aGlzLnN2Zy5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy5zdmcuc3R5bGUudG9wPVwiMHB4XCIsdGhpcy5zdmcuc3R5bGUud2lkdGg9dGhpcy5vcHRpb25zLmljb25TaXplKzUrXCJweFwiLHRoaXMuc3ZnLnN0eWxlLmhlaWdodD1cIjEwMCVcIix0aGlzLmRvbS5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLnN2ZyksdGhpcy5kb20uZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5kb20udGV4dEFyZWEpfSxvLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7dGhpcy5kb20uZnJhbWUucGFyZW50Tm9kZSYmdGhpcy5kb20uZnJhbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRvbS5mcmFtZSl9LG8ucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt0aGlzLmRvbS5mcmFtZS5wYXJlbnROb2RlfHx0aGlzLmJvZHkuZG9tLmNlbnRlci5hcHBlbmRDaGlsZCh0aGlzLmRvbS5mcmFtZSl9LG8ucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24odCl7dmFyIGU9W1wiZW5hYmxlZFwiLFwib3JpZW50YXRpb25cIixcImljb25zXCIsXCJsZWZ0XCIsXCJyaWdodFwiXTtuLnNlbGVjdGl2ZURlZXBFeHRlbmQoZSx0aGlzLm9wdGlvbnMsdCl9LG8ucHJvdG90eXBlLnJlZHJhdz1mdW5jdGlvbigpe3ZhciB0PTAsZT1PYmplY3Qua2V5cyh0aGlzLmdyb3Vwcyk7ZS5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU+dD8tMToxfSk7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvPWVbaV07MSE9dGhpcy5ncm91cHNbb10udmlzaWJsZXx8dm9pZCAwIT09dGhpcy5saW5lZ3JhcGhPcHRpb25zLnZpc2liaWxpdHlbb10mJjEhPXRoaXMubGluZWdyYXBoT3B0aW9ucy52aXNpYmlsaXR5W29dfHx0Kyt9aWYoMD09dGhpcy5vcHRpb25zW3RoaXMuc2lkZV0udmlzaWJsZXx8MD09dGhpcy5hbW91bnRPZkdyb3Vwc3x8MD09dGhpcy5vcHRpb25zLmVuYWJsZWR8fDA9PXQpdGhpcy5oaWRlKCk7ZWxzZXtpZih0aGlzLnNob3coKSxcInRvcC1sZWZ0XCI9PXRoaXMub3B0aW9uc1t0aGlzLnNpZGVdLnBvc2l0aW9ufHxcImJvdHRvbS1sZWZ0XCI9PXRoaXMub3B0aW9uc1t0aGlzLnNpZGVdLnBvc2l0aW9uPyh0aGlzLmRvbS5mcmFtZS5zdHlsZS5sZWZ0PVwiNHB4XCIsdGhpcy5kb20uZnJhbWUuc3R5bGUudGV4dEFsaWduPVwibGVmdFwiLHRoaXMuZG9tLnRleHRBcmVhLnN0eWxlLnRleHRBbGlnbj1cImxlZnRcIix0aGlzLmRvbS50ZXh0QXJlYS5zdHlsZS5sZWZ0PXRoaXMub3B0aW9ucy5pY29uU2l6ZSsxNStcInB4XCIsdGhpcy5kb20udGV4dEFyZWEuc3R5bGUucmlnaHQ9XCJcIix0aGlzLnN2Zy5zdHlsZS5sZWZ0PVwiMHB4XCIsdGhpcy5zdmcuc3R5bGUucmlnaHQ9XCJcIik6KHRoaXMuZG9tLmZyYW1lLnN0eWxlLnJpZ2h0PVwiNHB4XCIsdGhpcy5kb20uZnJhbWUuc3R5bGUudGV4dEFsaWduPVwicmlnaHRcIix0aGlzLmRvbS50ZXh0QXJlYS5zdHlsZS50ZXh0QWxpZ249XCJyaWdodFwiLHRoaXMuZG9tLnRleHRBcmVhLnN0eWxlLnJpZ2h0PXRoaXMub3B0aW9ucy5pY29uU2l6ZSsxNStcInB4XCIsdGhpcy5kb20udGV4dEFyZWEuc3R5bGUubGVmdD1cIlwiLHRoaXMuc3ZnLnN0eWxlLnJpZ2h0PVwiMHB4XCIsdGhpcy5zdmcuc3R5bGUubGVmdD1cIlwiKSxcInRvcC1sZWZ0XCI9PXRoaXMub3B0aW9uc1t0aGlzLnNpZGVdLnBvc2l0aW9ufHxcInRvcC1yaWdodFwiPT10aGlzLm9wdGlvbnNbdGhpcy5zaWRlXS5wb3NpdGlvbil0aGlzLmRvbS5mcmFtZS5zdHlsZS50b3A9NC1OdW1iZXIodGhpcy5ib2R5LmRvbS5jZW50ZXIuc3R5bGUudG9wLnJlcGxhY2UoXCJweFwiLFwiXCIpKStcInB4XCIsdGhpcy5kb20uZnJhbWUuc3R5bGUuYm90dG9tPVwiXCI7ZWxzZXt2YXIgbj10aGlzLmJvZHkuZG9tUHJvcHMuY2VudGVyLmhlaWdodC10aGlzLmJvZHkuZG9tUHJvcHMuY2VudGVyQ29udGFpbmVyLmhlaWdodDt0aGlzLmRvbS5mcmFtZS5zdHlsZS5ib3R0b209NCtuK051bWJlcih0aGlzLmJvZHkuZG9tLmNlbnRlci5zdHlsZS50b3AucmVwbGFjZShcInB4XCIsXCJcIikpK1wicHhcIix0aGlzLmRvbS5mcmFtZS5zdHlsZS50b3A9XCJcIn0wPT10aGlzLm9wdGlvbnMuaWNvbnM/KHRoaXMuZG9tLmZyYW1lLnN0eWxlLndpZHRoPXRoaXMuZG9tLnRleHRBcmVhLm9mZnNldFdpZHRoKzEwK1wicHhcIix0aGlzLmRvbS50ZXh0QXJlYS5zdHlsZS5yaWdodD1cIlwiLHRoaXMuZG9tLnRleHRBcmVhLnN0eWxlLmxlZnQ9XCJcIix0aGlzLnN2Zy5zdHlsZS53aWR0aD1cIjBweFwiKToodGhpcy5kb20uZnJhbWUuc3R5bGUud2lkdGg9dGhpcy5vcHRpb25zLmljb25TaXplKzE1K3RoaXMuZG9tLnRleHRBcmVhLm9mZnNldFdpZHRoKzEwK1wicHhcIix0aGlzLmRyYXdMZWdlbmRJY29ucygpKTtmb3IodmFyIHM9XCJcIixpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvPWVbaV07MSE9dGhpcy5ncm91cHNbb10udmlzaWJsZXx8dm9pZCAwIT09dGhpcy5saW5lZ3JhcGhPcHRpb25zLnZpc2liaWxpdHlbb10mJjEhPXRoaXMubGluZWdyYXBoT3B0aW9ucy52aXNpYmlsaXR5W29dfHwocys9dGhpcy5ncm91cHNbb10uY29udGVudCtcIjxiciAvPlwiKX10aGlzLmRvbS50ZXh0QXJlYS5pbm5lckhUTUw9cyx0aGlzLmRvbS50ZXh0QXJlYS5zdHlsZS5saW5lSGVpZ2h0PS43NSp0aGlzLm9wdGlvbnMuaWNvblNpemUrdGhpcy5vcHRpb25zLmljb25TcGFjaW5nK1wicHhcIn19LG8ucHJvdG90eXBlLmRyYXdMZWdlbmRJY29ucz1mdW5jdGlvbigpe2lmKHRoaXMuZG9tLmZyYW1lLnBhcmVudE5vZGUpe3ZhciB0PU9iamVjdC5rZXlzKHRoaXMuZ3JvdXBzKTt0LnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gZT50Py0xOjF9KSxzLnJlc2V0RWxlbWVudHModGhpcy5zdmdFbGVtZW50cyk7dmFyIGU9d2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5kb20uZnJhbWUpLnBhZGRpbmdUb3AsaT1OdW1iZXIoZS5yZXBsYWNlKFwicHhcIixcIlwiKSksbz1pLG49dGhpcy5vcHRpb25zLmljb25TaXplLHI9Ljc1KnRoaXMub3B0aW9ucy5pY29uU2l6ZSxhPWkrLjUqciszO3RoaXMuc3ZnLnN0eWxlLndpZHRoPW4rNStpK1wicHhcIjtmb3IodmFyIGg9MDtoPHQubGVuZ3RoO2grKyl7dmFyIGQ9dFtoXTsxIT10aGlzLmdyb3Vwc1tkXS52aXNpYmxlfHx2b2lkIDAhPT10aGlzLmxpbmVncmFwaE9wdGlvbnMudmlzaWJpbGl0eVtkXSYmMSE9dGhpcy5saW5lZ3JhcGhPcHRpb25zLnZpc2liaWxpdHlbZF18fCh0aGlzLmdyb3Vwc1tkXS5nZXRMZWdlbmQobixyLHRoaXMuZnJhbWV3b3JrLG8sYSksYSs9cit0aGlzLm9wdGlvbnMuaWNvblNwYWNpbmcpfX19LHQuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPVwic3RyaW5nXCIsbz1cImJvb2xlYW5cIixuPVwibnVtYmVyXCIscz1cImFycmF5XCIscj1cImRhdGVcIixhPVwib2JqZWN0XCIsaD1cImRvbVwiLGQ9XCJtb21lbnRcIixsPVwiYW55XCIsdT17Y29uZmlndXJlOntlbmFibGVkOntcImJvb2xlYW5cIjpvfSxmaWx0ZXI6e1wiYm9vbGVhblwiOm8sXCJmdW5jdGlvblwiOlwiZnVuY3Rpb25cIn0sY29udGFpbmVyOntkb206aH0sX190eXBlX186e29iamVjdDphLFwiYm9vbGVhblwiOm8sXCJmdW5jdGlvblwiOlwiZnVuY3Rpb25cIn19LHlBeGlzT3JpZW50YXRpb246e3N0cmluZzpbXCJsZWZ0XCIsXCJyaWdodFwiXX0sZGVmYXVsdEdyb3VwOntzdHJpbmc6aX0sc29ydDp7XCJib29sZWFuXCI6b30sc2FtcGxpbmc6e1wiYm9vbGVhblwiOm99LHN0YWNrOntcImJvb2xlYW5cIjpvfSxncmFwaEhlaWdodDp7c3RyaW5nOmksbnVtYmVyOm59LHNoYWRlZDp7ZW5hYmxlZDp7XCJib29sZWFuXCI6b30sb3JpZW50YXRpb246e3N0cmluZzpbXCJib3R0b21cIixcInRvcFwiLFwiemVyb1wiLFwiZ3JvdXBcIl19LGdyb3VwSWQ6e29iamVjdDphfSxfX3R5cGVfXzp7XCJib29sZWFuXCI6byxvYmplY3Q6YX19LHN0eWxlOntzdHJpbmc6W1wibGluZVwiLFwiYmFyXCIsXCJwb2ludHNcIl19LGJhckNoYXJ0Ont3aWR0aDp7bnVtYmVyOm59LHNpZGVCeVNpZGU6e1wiYm9vbGVhblwiOm99LGFsaWduOntzdHJpbmc6W1wibGVmdFwiLFwiY2VudGVyXCIsXCJyaWdodFwiXX0sX190eXBlX186e29iamVjdDphfX0saW50ZXJwb2xhdGlvbjp7ZW5hYmxlZDp7XCJib29sZWFuXCI6b30scGFyYW1ldHJpemF0aW9uOntzdHJpbmc6W1wiY2VudHJpcGV0YWxcIixcImNob3JkYWxcIixcInVuaWZvcm1cIl19LGFscGhhOntudW1iZXI6bn0sX190eXBlX186e29iamVjdDphLFwiYm9vbGVhblwiOm99fSxkcmF3UG9pbnRzOntlbmFibGVkOntcImJvb2xlYW5cIjpvfSxvblJlbmRlcjp7XCJmdW5jdGlvblwiOlwiZnVuY3Rpb25cIn0sc2l6ZTp7bnVtYmVyOm59LHN0eWxlOntzdHJpbmc6W1wic3F1YXJlXCIsXCJjaXJjbGVcIl19LF9fdHlwZV9fOntvYmplY3Q6YSxcImJvb2xlYW5cIjpvLFwiZnVuY3Rpb25cIjpcImZ1bmN0aW9uXCJ9fSxkYXRhQXhpczp7c2hvd01pbm9yTGFiZWxzOntcImJvb2xlYW5cIjpvfSxzaG93TWFqb3JMYWJlbHM6e1wiYm9vbGVhblwiOm99LGljb25zOntcImJvb2xlYW5cIjpvfSx3aWR0aDp7c3RyaW5nOmksbnVtYmVyOm59LHZpc2libGU6e1wiYm9vbGVhblwiOm99LGFsaWduWmVyb3M6e1wiYm9vbGVhblwiOm99LGxlZnQ6e3JhbmdlOnttaW46e251bWJlcjpufSxtYXg6e251bWJlcjpufSxfX3R5cGVfXzp7b2JqZWN0OmF9fSxmb3JtYXQ6e1wiZnVuY3Rpb25cIjpcImZ1bmN0aW9uXCJ9LHRpdGxlOnt0ZXh0OntzdHJpbmc6aSxudW1iZXI6bn0sc3R5bGU6e3N0cmluZzppfSxfX3R5cGVfXzp7b2JqZWN0OmF9fSxfX3R5cGVfXzp7b2JqZWN0OmF9fSxyaWdodDp7cmFuZ2U6e21pbjp7bnVtYmVyOm59LG1heDp7bnVtYmVyOm59LF9fdHlwZV9fOntvYmplY3Q6YX19LGZvcm1hdDp7XCJmdW5jdGlvblwiOlwiZnVuY3Rpb25cIn0sdGl0bGU6e3RleHQ6e3N0cmluZzppLG51bWJlcjpufSxzdHlsZTp7c3RyaW5nOml9LF9fdHlwZV9fOntvYmplY3Q6YX19LF9fdHlwZV9fOntvYmplY3Q6YX19LF9fdHlwZV9fOntvYmplY3Q6YX19LGxlZ2VuZDp7ZW5hYmxlZDp7XCJib29sZWFuXCI6b30saWNvbnM6e1wiYm9vbGVhblwiOm99LGxlZnQ6e3Zpc2libGU6e1wiYm9vbGVhblwiOm99LHBvc2l0aW9uOntzdHJpbmc6W1widG9wLXJpZ2h0XCIsXCJib3R0b20tcmlnaHRcIixcInRvcC1sZWZ0XCIsXCJib3R0b20tbGVmdFwiXX0sX190eXBlX186e29iamVjdDphfX0scmlnaHQ6e3Zpc2libGU6e1wiYm9vbGVhblwiOm99LHBvc2l0aW9uOntzdHJpbmc6W1widG9wLXJpZ2h0XCIsXCJib3R0b20tcmlnaHRcIixcInRvcC1sZWZ0XCIsXCJib3R0b20tbGVmdFwiXX0sX190eXBlX186e29iamVjdDphfX0sX190eXBlX186e29iamVjdDphLFwiYm9vbGVhblwiOm99fSxncm91cHM6e3Zpc2liaWxpdHk6e2FueTpsfSxfX3R5cGVfXzp7b2JqZWN0OmF9fSxhdXRvUmVzaXplOntcImJvb2xlYW5cIjpvfSx0aHJvdHRsZVJlZHJhdzp7bnVtYmVyOm59LGNsaWNrVG9Vc2U6e1wiYm9vbGVhblwiOm99LGVuZDp7bnVtYmVyOm4sZGF0ZTpyLHN0cmluZzppLG1vbWVudDpkfSxmb3JtYXQ6e21pbm9yTGFiZWxzOnttaWxsaXNlY29uZDp7c3RyaW5nOmksdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LHNlY29uZDp7c3RyaW5nOmksdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LG1pbnV0ZTp7c3RyaW5nOmksdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LGhvdXI6e3N0cmluZzppLHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSx3ZWVrZGF5OntzdHJpbmc6aSx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sZGF5OntzdHJpbmc6aSx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sbW9udGg6e3N0cmluZzppLHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSx5ZWFyOntzdHJpbmc6aSx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sX190eXBlX186e29iamVjdDphfX0sbWFqb3JMYWJlbHM6e21pbGxpc2Vjb25kOntzdHJpbmc6aSx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sc2Vjb25kOntzdHJpbmc6aSx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sbWludXRlOntzdHJpbmc6aSx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0saG91cjp7c3RyaW5nOmksdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LHdlZWtkYXk6e3N0cmluZzppLHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSxkYXk6e3N0cmluZzppLHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSxtb250aDp7c3RyaW5nOmksdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LHllYXI6e3N0cmluZzppLHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSxfX3R5cGVfXzp7b2JqZWN0OmF9fSxfX3R5cGVfXzp7b2JqZWN0OmF9fSxtb21lbnQ6e1wiZnVuY3Rpb25cIjpcImZ1bmN0aW9uXCJ9LGhlaWdodDp7c3RyaW5nOmksbnVtYmVyOm59LGhpZGRlbkRhdGVzOntzdGFydDp7ZGF0ZTpyLG51bWJlcjpuLHN0cmluZzppLG1vbWVudDpkfSxlbmQ6e2RhdGU6cixudW1iZXI6bixzdHJpbmc6aSxtb21lbnQ6ZH0scmVwZWF0OntzdHJpbmc6aX0sX190eXBlX186e29iamVjdDphLGFycmF5OnN9fSxsb2NhbGU6e3N0cmluZzppfSxsb2NhbGVzOntfX2FueV9fOnthbnk6bH0sX190eXBlX186e29iamVjdDphfX0sbWF4OntkYXRlOnIsbnVtYmVyOm4sc3RyaW5nOmksbW9tZW50OmR9LG1heEhlaWdodDp7bnVtYmVyOm4sc3RyaW5nOml9LG1heE1pbm9yQ2hhcnM6e251bWJlcjpufSxtaW46e2RhdGU6cixudW1iZXI6bixzdHJpbmc6aSxtb21lbnQ6ZH0sbWluSGVpZ2h0OntudW1iZXI6bixzdHJpbmc6aX0sbW92ZWFibGU6e1wiYm9vbGVhblwiOm99LG11bHRpc2VsZWN0OntcImJvb2xlYW5cIjpvfSxvcmllbnRhdGlvbjp7c3RyaW5nOml9LHNob3dDdXJyZW50VGltZTp7XCJib29sZWFuXCI6b30sc2hvd01ham9yTGFiZWxzOntcImJvb2xlYW5cIjpvfSxzaG93TWlub3JMYWJlbHM6e1wiYm9vbGVhblwiOm99LHN0YXJ0OntkYXRlOnIsbnVtYmVyOm4sc3RyaW5nOmksbW9tZW50OmR9LHRpbWVBeGlzOntzY2FsZTp7c3RyaW5nOmksdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LHN0ZXA6e251bWJlcjpuLHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSxfX3R5cGVfXzp7b2JqZWN0OmF9fSx3aWR0aDp7c3RyaW5nOmksbnVtYmVyOm59LHpvb21hYmxlOntcImJvb2xlYW5cIjpvfSx6b29tS2V5OntzdHJpbmc6W1wiY3RybEtleVwiLFwiYWx0S2V5XCIsXCJtZXRhS2V5XCIsXCJcIl19LHpvb21NYXg6e251bWJlcjpufSx6b29tTWluOntudW1iZXI6bn0sekluZGV4OntudW1iZXI6bn0sX190eXBlX186e29iamVjdDphfX0sYz17Z2xvYmFsOntzb3J0OiEwLHNhbXBsaW5nOiEwLHN0YWNrOiExLHNoYWRlZDp7ZW5hYmxlZDohMSxvcmllbnRhdGlvbjpbXCJ6ZXJvXCIsXCJ0b3BcIixcImJvdHRvbVwiLFwiZ3JvdXBcIl19LHN0eWxlOltcImxpbmVcIixcImJhclwiLFwicG9pbnRzXCJdLGJhckNoYXJ0Ont3aWR0aDpbNTAsNSwxMDAsNV0sc2lkZUJ5U2lkZTohMSxhbGlnbjpbXCJsZWZ0XCIsXCJjZW50ZXJcIixcInJpZ2h0XCJdfSxpbnRlcnBvbGF0aW9uOntlbmFibGVkOiEwLHBhcmFtZXRyaXphdGlvbjpbXCJjZW50cmlwZXRhbFwiLFwiY2hvcmRhbFwiLFwidW5pZm9ybVwiXX0sZHJhd1BvaW50czp7ZW5hYmxlZDohMCxzaXplOls2LDIsMzAsMV0sc3R5bGU6W1wic3F1YXJlXCIsXCJjaXJjbGVcIl19LGRhdGFBeGlzOntzaG93TWlub3JMYWJlbHM6ITAsc2hvd01ham9yTGFiZWxzOiEwLGljb25zOiExLHdpZHRoOls0MCwwLDIwMCwxXSx2aXNpYmxlOiEwLGFsaWduWmVyb3M6ITAsbGVmdDp7dGl0bGU6e3RleHQ6XCJcIixzdHlsZTpcIlwifX0scmlnaHQ6e3RpdGxlOnt0ZXh0OlwiXCIsc3R5bGU6XCJcIn19fSxsZWdlbmQ6e2VuYWJsZWQ6ITEsaWNvbnM6ITAsbGVmdDp7dmlzaWJsZTohMCxwb3NpdGlvbjpbXCJ0b3AtcmlnaHRcIixcImJvdHRvbS1yaWdodFwiLFwidG9wLWxlZnRcIixcImJvdHRvbS1sZWZ0XCJdfSxyaWdodDp7dmlzaWJsZTohMCxwb3NpdGlvbjpbXCJ0b3AtcmlnaHRcIixcImJvdHRvbS1yaWdodFwiLFwidG9wLWxlZnRcIixcImJvdHRvbS1sZWZ0XCJdfX0sYXV0b1Jlc2l6ZTohMCx0aHJvdHRsZVJlZHJhdzpbMTAsMCwxZTMsMTBdLGNsaWNrVG9Vc2U6ITEsZW5kOlwiXCIsZm9ybWF0OnttaW5vckxhYmVsczp7bWlsbGlzZWNvbmQ6XCJTU1NcIixzZWNvbmQ6XCJzXCIsbWludXRlOlwiSEg6bW1cIixob3VyOlwiSEg6bW1cIix3ZWVrZGF5OlwiZGRkIERcIixkYXk6XCJEXCIsbW9udGg6XCJNTU1cIix5ZWFyOlwiWVlZWVwifSxtYWpvckxhYmVsczp7bWlsbGlzZWNvbmQ6XCJISDptbTpzc1wiLHNlY29uZDpcIkQgTU1NTSBISDptbVwiLG1pbnV0ZTpcImRkZCBEIE1NTU1cIixob3VyOlwiZGRkIEQgTU1NTVwiLHdlZWtkYXk6XCJNTU1NIFlZWVlcIixkYXk6XCJNTU1NIFlZWVlcIixtb250aDpcIllZWVlcIix5ZWFyOlwiXCJ9fSxoZWlnaHQ6XCJcIixsb2NhbGU6XCJcIixtYXg6XCJcIixtYXhIZWlnaHQ6XCJcIixtYXhNaW5vckNoYXJzOls3LDAsMjAsMV0sbWluOlwiXCIsbWluSGVpZ2h0OlwiXCIsbW92ZWFibGU6ITAsb3JpZW50YXRpb246W1wiYm90aFwiLFwiYm90dG9tXCIsXCJ0b3BcIl0sc2hvd0N1cnJlbnRUaW1lOiExLHNob3dNYWpvckxhYmVsczohMCxzaG93TWlub3JMYWJlbHM6ITAsc3RhcnQ6XCJcIix3aWR0aDpcIjEwMCVcIix6b29tYWJsZTohMCx6b29tS2V5OltcImN0cmxLZXlcIixcImFsdEtleVwiLFwibWV0YUtleVwiLFwiXCJdLHpvb21NYXg6WzMxNTM2ZTEwLDEwLDMxNTM2ZTEwLDFdLHpvb21NaW46WzEwLDEwLDMxNTM2ZTEwLDFdLHpJbmRleDowfX07ZS5hbGxPcHRpb25zPXUsZS5jb25maWd1cmVPcHRpb25zPWN9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbih0LGUsaSl7dmFyIG89dGhpcztpZighKHRoaXMgaW5zdGFuY2VvZiBuKSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJDb25zdHJ1Y3RvciBtdXN0IGJlIGNhbGxlZCB3aXRoIHRoZSBuZXcgb3BlcmF0b3JcIik7dGhpcy5vcHRpb25zPXt9LHRoaXMuZGVmYXVsdE9wdGlvbnM9e2xvY2FsZTpcImVuXCIsbG9jYWxlczpXLGNsaWNrVG9Vc2U6ITF9LEIuZXh0ZW5kKHRoaXMub3B0aW9ucyx0aGlzLmRlZmF1bHRPcHRpb25zKSx0aGlzLmJvZHk9e2NvbnRhaW5lcjp0LG5vZGVzOnt9LG5vZGVJbmRpY2VzOltdLGVkZ2VzOnt9LGVkZ2VJbmRpY2VzOltdLGVtaXR0ZXI6e29uOnRoaXMub24uYmluZCh0aGlzKSxvZmY6dGhpcy5vZmYuYmluZCh0aGlzKSxlbWl0OnRoaXMuZW1pdC5iaW5kKHRoaXMpLG9uY2U6dGhpcy5vbmNlLmJpbmQodGhpcyl9LGV2ZW50TGlzdGVuZXJzOntvblRhcDpmdW5jdGlvbigpe30sb25Ub3VjaDpmdW5jdGlvbigpe30sb25Eb3VibGVUYXA6ZnVuY3Rpb24oKXt9LG9uSG9sZDpmdW5jdGlvbigpe30sb25EcmFnU3RhcnQ6ZnVuY3Rpb24oKXt9LG9uRHJhZzpmdW5jdGlvbigpe30sb25EcmFnRW5kOmZ1bmN0aW9uKCl7fSxvbk1vdXNlV2hlZWw6ZnVuY3Rpb24oKXt9LG9uUGluY2g6ZnVuY3Rpb24oKXt9LG9uTW91c2VNb3ZlOmZ1bmN0aW9uKCl7fSxvblJlbGVhc2U6ZnVuY3Rpb24oKXt9LG9uQ29udGV4dDpmdW5jdGlvbigpe319LGRhdGE6e25vZGVzOm51bGwsZWRnZXM6bnVsbH0sZnVuY3Rpb25zOntjcmVhdGVOb2RlOmZ1bmN0aW9uKCl7fSxjcmVhdGVFZGdlOmZ1bmN0aW9uKCl7fSxnZXRQb2ludGVyOmZ1bmN0aW9uKCl7fX0sbW9kdWxlczp7fSx2aWV3OntzY2FsZToxLHRyYW5zbGF0aW9uOnt4OjAseTowfX19LHRoaXMuYmluZEV2ZW50TGlzdGVuZXJzKCksdGhpcy5pbWFnZXM9bmV3IGooZnVuY3Rpb24oKXtyZXR1cm4gby5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXF1ZXN0UmVkcmF3XCIpfSksdGhpcy5ncm91cHM9bmV3IHJbXCJkZWZhdWx0XCJdLHRoaXMuY2FudmFzPW5ldyB5W1wiZGVmYXVsdFwiXSh0aGlzLmJvZHkpLHRoaXMuc2VsZWN0aW9uSGFuZGxlcj1uZXcgT1tcImRlZmF1bHRcIl0odGhpcy5ib2R5LHRoaXMuY2FudmFzKSx0aGlzLmludGVyYWN0aW9uSGFuZGxlcj1uZXcgeFtcImRlZmF1bHRcIl0odGhpcy5ib2R5LHRoaXMuY2FudmFzLHRoaXMuc2VsZWN0aW9uSGFuZGxlciksdGhpcy52aWV3PW5ldyB3W1wiZGVmYXVsdFwiXSh0aGlzLmJvZHksdGhpcy5jYW52YXMpLHRoaXMucmVuZGVyZXI9bmV3IHZbXCJkZWZhdWx0XCJdKHRoaXMuYm9keSx0aGlzLmNhbnZhcyksdGhpcy5waHlzaWNzPW5ldyBjW1wiZGVmYXVsdFwiXSh0aGlzLmJvZHkpLHRoaXMubGF5b3V0RW5naW5lPW5ldyBEW1wiZGVmYXVsdFwiXSh0aGlzLmJvZHkpLHRoaXMuY2x1c3RlcmluZz1uZXcgZltcImRlZmF1bHRcIl0odGhpcy5ib2R5KSx0aGlzLm1hbmlwdWxhdGlvbj1uZXcgVFtcImRlZmF1bHRcIl0odGhpcy5ib2R5LHRoaXMuY2FudmFzLHRoaXMuc2VsZWN0aW9uSGFuZGxlciksdGhpcy5ub2Rlc0hhbmRsZXI9bmV3IGhbXCJkZWZhdWx0XCJdKHRoaXMuYm9keSx0aGlzLmltYWdlcyx0aGlzLmdyb3Vwcyx0aGlzLmxheW91dEVuZ2luZSksdGhpcy5lZGdlc0hhbmRsZXI9bmV3IGxbXCJkZWZhdWx0XCJdKHRoaXMuYm9keSx0aGlzLmltYWdlcyx0aGlzLmdyb3VwcyksdGhpcy5ib2R5Lm1vZHVsZXMua2FtYWRhS2F3YWk9bmV3IExbXCJkZWZhdWx0XCJdKHRoaXMuYm9keSwxNTAsLjA1KSx0aGlzLmJvZHkubW9kdWxlcy5jbHVzdGVyaW5nPXRoaXMuY2x1c3RlcmluZyx0aGlzLmNhbnZhcy5fY3JlYXRlKCksdGhpcy5zZXRPcHRpb25zKGkpLHRoaXMuc2V0RGF0YShlKX12YXIgcz1pKDYwKSxyPW8ocyksYT1pKDYxKSxoPW8oYSksZD1pKDgxKSxsPW8oZCksdT1pKDkwKSxjPW8odSkscD1pKDk5KSxmPW8ocCksbT1pKDEwMiksdj1vKG0pLGc9aSgxMDMpLHk9byhnKSxiPWkoMTA0KSx3PW8oYiksXz1pKDEwNSkseD1vKF8pLGs9aSgxMDgpLE89byhrKSxNPWkoMTA5KSxEPW8oTSksQz1pKDExMCksVD1vKEMpLFM9aSg0NSksRT1vKFMpLFA9aSg0NyksST1vKFApLE49aSgxMTEpLHo9aSgxMTIpLEw9byh6KTtpKDExNCk7dmFyIEE9aSgxMiksQj0oaSgyMCksaSgxKSksRj0oaSg4KSxpKDEwKSxpKDExNSkpLFI9aSgxMTYpLGo9aSgxMTcpLEg9aSg0MCksVz1pKDExOCk7QShuLnByb3RvdHlwZSksbi5wcm90b3R5cGUuc2V0T3B0aW9ucz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKHZvaWQgMCE9PXQpe3ZhciBpPUlbXCJkZWZhdWx0XCJdLnZhbGlkYXRlKHQsTi5hbGxPcHRpb25zKTtpPT09ITAmJmNvbnNvbGUubG9nKFwiJWNFcnJvcnMgaGF2ZSBiZWVuIGZvdW5kIGluIHRoZSBzdXBwbGllZCBvcHRpb25zIG9iamVjdC5cIixQLnByaW50U3R5bGUpO3ZhciBvPVtcImxvY2FsZVwiLFwibG9jYWxlc1wiLFwiY2xpY2tUb1VzZVwiXTtpZihCLnNlbGVjdGl2ZURlZXBFeHRlbmQobyx0aGlzLm9wdGlvbnMsdCksdD10aGlzLmxheW91dEVuZ2luZS5zZXRPcHRpb25zKHQubGF5b3V0LHQpLHRoaXMuY2FudmFzLnNldE9wdGlvbnModCksdGhpcy5ncm91cHMuc2V0T3B0aW9ucyh0Lmdyb3VwcyksdGhpcy5ub2Rlc0hhbmRsZXIuc2V0T3B0aW9ucyh0Lm5vZGVzKSx0aGlzLmVkZ2VzSGFuZGxlci5zZXRPcHRpb25zKHQuZWRnZXMpLHRoaXMucGh5c2ljcy5zZXRPcHRpb25zKHQucGh5c2ljcyksdGhpcy5tYW5pcHVsYXRpb24uc2V0T3B0aW9ucyh0Lm1hbmlwdWxhdGlvbix0LHRoaXMub3B0aW9ucyksdGhpcy5pbnRlcmFjdGlvbkhhbmRsZXIuc2V0T3B0aW9ucyh0LmludGVyYWN0aW9uKSx0aGlzLnJlbmRlcmVyLnNldE9wdGlvbnModC5pbnRlcmFjdGlvbiksdGhpcy5zZWxlY3Rpb25IYW5kbGVyLnNldE9wdGlvbnModC5pbnRlcmFjdGlvbiksdm9pZCAwIT09dC5ncm91cHMmJnRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJyZWZyZXNoTm9kZXNcIiksXCJjb25maWd1cmVcImluIHQmJih0aGlzLmNvbmZpZ3VyYXRvcnx8KHRoaXMuY29uZmlndXJhdG9yPW5ldyBFW1wiZGVmYXVsdFwiXSh0aGlzLHRoaXMuYm9keS5jb250YWluZXIsTi5jb25maWd1cmVPcHRpb25zLHRoaXMuY2FudmFzLnBpeGVsUmF0aW8pKSx0aGlzLmNvbmZpZ3VyYXRvci5zZXRPcHRpb25zKHQuY29uZmlndXJlKSksdGhpcy5jb25maWd1cmF0b3ImJnRoaXMuY29uZmlndXJhdG9yLm9wdGlvbnMuZW5hYmxlZD09PSEwKXt2YXIgbj17bm9kZXM6e30sZWRnZXM6e30sbGF5b3V0Ont9LGludGVyYWN0aW9uOnt9LG1hbmlwdWxhdGlvbjp7fSxwaHlzaWNzOnt9LGdsb2JhbDp7fX07Qi5kZWVwRXh0ZW5kKG4ubm9kZXMsdGhpcy5ub2Rlc0hhbmRsZXIub3B0aW9ucyksQi5kZWVwRXh0ZW5kKG4uZWRnZXMsdGhpcy5lZGdlc0hhbmRsZXIub3B0aW9ucyksQi5kZWVwRXh0ZW5kKG4ubGF5b3V0LHRoaXMubGF5b3V0RW5naW5lLm9wdGlvbnMpLEIuZGVlcEV4dGVuZChuLmludGVyYWN0aW9uLHRoaXMuc2VsZWN0aW9uSGFuZGxlci5vcHRpb25zKSxCLmRlZXBFeHRlbmQobi5pbnRlcmFjdGlvbix0aGlzLnJlbmRlcmVyLm9wdGlvbnMpLEIuZGVlcEV4dGVuZChuLmludGVyYWN0aW9uLHRoaXMuaW50ZXJhY3Rpb25IYW5kbGVyLm9wdGlvbnMpLEIuZGVlcEV4dGVuZChuLm1hbmlwdWxhdGlvbix0aGlzLm1hbmlwdWxhdGlvbi5vcHRpb25zKSxCLmRlZXBFeHRlbmQobi5waHlzaWNzLHRoaXMucGh5c2ljcy5vcHRpb25zKSxCLmRlZXBFeHRlbmQobi5nbG9iYWwsdGhpcy5jYW52YXMub3B0aW9ucyksQi5kZWVwRXh0ZW5kKG4uZ2xvYmFsLHRoaXMub3B0aW9ucyksdGhpcy5jb25maWd1cmF0b3Iuc2V0TW9kdWxlT3B0aW9ucyhuKX12b2lkIDAhPT10LmNsaWNrVG9Vc2U/dC5jbGlja1RvVXNlPT09ITA/dm9pZCAwPT09dGhpcy5hY3RpdmF0b3ImJih0aGlzLmFjdGl2YXRvcj1uZXcgSCh0aGlzLmNhbnZhcy5mcmFtZSksdGhpcy5hY3RpdmF0b3Iub24oXCJjaGFuZ2VcIixmdW5jdGlvbigpe2UuYm9keS5lbWl0dGVyLmVtaXQoXCJhY3RpdmF0ZVwiKX0pKToodm9pZCAwIT09dGhpcy5hY3RpdmF0b3ImJih0aGlzLmFjdGl2YXRvci5kZXN0cm95KCksZGVsZXRlIHRoaXMuYWN0aXZhdG9yKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiYWN0aXZhdGVcIikpOnRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJhY3RpdmF0ZVwiKSx0aGlzLmNhbnZhcy5zZXRTaXplKCksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcInN0YXJ0U2ltdWxhdGlvblwiKX19LG4ucHJvdG90eXBlLl91cGRhdGVWaXNpYmxlSW5kaWNlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYm9keS5ub2RlcyxlPXRoaXMuYm9keS5lZGdlczt0aGlzLmJvZHkubm9kZUluZGljZXM9W10sdGhpcy5ib2R5LmVkZ2VJbmRpY2VzPVtdO2Zvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJnRbaV0ub3B0aW9ucy5oaWRkZW49PT0hMSYmdGhpcy5ib2R5Lm5vZGVJbmRpY2VzLnB1c2goaSk7Zm9yKHZhciBvIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShvKSYmZVtvXS5vcHRpb25zLmhpZGRlbj09PSExJiZ0aGlzLmJvZHkuZWRnZUluZGljZXMucHVzaChvKX0sbi5wcm90b3R5cGUuYmluZEV2ZW50TGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmJvZHkuZW1pdHRlci5vbihcIl9kYXRhQ2hhbmdlZFwiLGZ1bmN0aW9uKCl7dC5fdXBkYXRlVmlzaWJsZUluZGljZXMoKSx0LmJvZHkuZW1pdHRlci5lbWl0KFwiX3JlcXVlc3RSZWRyYXdcIiksdC5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhVXBkYXRlZFwiKX0pLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiX2RhdGFVcGRhdGVkXCIsZnVuY3Rpb24oKXt0Ll91cGRhdGVWYWx1ZVJhbmdlKHQuYm9keS5ub2RlcyksdC5fdXBkYXRlVmFsdWVSYW5nZSh0LmJvZHkuZWRnZXMpLHQuYm9keS5lbWl0dGVyLmVtaXQoXCJzdGFydFNpbXVsYXRpb25cIiksdC5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXF1ZXN0UmVkcmF3XCIpfSl9LG4ucHJvdG90eXBlLnNldERhdGE9ZnVuY3Rpb24odCl7aWYodGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcInJlc2V0UGh5c2ljc1wiKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3Jlc2V0RGF0YVwiKSx0aGlzLnNlbGVjdGlvbkhhbmRsZXIudW5zZWxlY3RBbGwoKSx0JiZ0LmRvdCYmKHQubm9kZXN8fHQuZWRnZXMpKXRocm93IG5ldyBTeW50YXhFcnJvcignRGF0YSBtdXN0IGNvbnRhaW4gZWl0aGVyIHBhcmFtZXRlciBcImRvdFwiIG9yICBwYXJhbWV0ZXIgcGFpciBcIm5vZGVzXCIgYW5kIFwiZWRnZXNcIiwgYnV0IG5vdCBib3RoLicpO2lmKHRoaXMuc2V0T3B0aW9ucyh0JiZ0Lm9wdGlvbnMpLHQmJnQuZG90KXtjb25zb2xlLmxvZyhcIlRoZSBkb3QgcHJvcGVydHkgaGFzIGJlZW4gZGVwcmljYXRlZC4gUGxlYXNlIHVzZSB0aGUgc3RhdGljIGNvbnZlcnREb3QgbWV0aG9kIHRvIGNvbnZlcnQgRE9UIGludG8gdmlzLm5ldHdvcmsgZm9ybWF0IGFuZCB1c2UgdGhlIG5vcm1hbCBkYXRhIGZvcm1hdCB3aXRoIG5vZGVzIGFuZCBlZGdlcy4gVGhpcyBjb252ZXJ0ZXIgaXMgdXNlZCBsaWtlIHRoaXM6IHZhciBkYXRhID0gdmlzLm5ldHdvcmsuY29udmVydERvdChkb3RTdHJpbmcpO1wiKTt2YXIgZT1GLkRPVFRvR3JhcGgodC5kb3QpO3JldHVybiB2b2lkIHRoaXMuc2V0RGF0YShlKX1pZih0JiZ0LmdlcGhpKXtjb25zb2xlLmxvZyhcIlRoZSBnZXBoaSBwcm9wZXJ0eSBoYXMgYmVlbiBkZXByaWNhdGVkLiBQbGVhc2UgdXNlIHRoZSBzdGF0aWMgY29udmVydEdlcGhpIG1ldGhvZCB0byBjb252ZXJ0IGdlcGhpIGludG8gdmlzLm5ldHdvcmsgZm9ybWF0IGFuZCB1c2UgdGhlIG5vcm1hbCBkYXRhIGZvcm1hdCB3aXRoIG5vZGVzIGFuZCBlZGdlcy4gVGhpcyBjb252ZXJ0ZXIgaXMgdXNlZCBsaWtlIHRoaXM6IHZhciBkYXRhID0gdmlzLm5ldHdvcmsuY29udmVydEdlcGhpKGdlcGhpSnNvbik7XCIpO3ZhciBpPVIucGFyc2VHZXBoaSh0LmdlcGhpKTtyZXR1cm4gdm9pZCB0aGlzLnNldERhdGEoaSl9dGhpcy5ub2Rlc0hhbmRsZXIuc2V0RGF0YSh0JiZ0Lm5vZGVzLCEwKSx0aGlzLmVkZ2VzSGFuZGxlci5zZXREYXRhKHQmJnQuZWRnZXMsITApLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfZGF0YUNoYW5nZWRcIiksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhTG9hZGVkXCIpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJpbml0UGh5c2ljc1wiKX0sbi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJkZXN0cm95XCIpLHRoaXMuYm9keS5lbWl0dGVyLm9mZigpLHRoaXMub2ZmKCksZGVsZXRlIHRoaXMuZ3JvdXBzLGRlbGV0ZSB0aGlzLmNhbnZhcyxkZWxldGUgdGhpcy5zZWxlY3Rpb25IYW5kbGVyLGRlbGV0ZSB0aGlzLmludGVyYWN0aW9uSGFuZGxlcixkZWxldGUgdGhpcy52aWV3LGRlbGV0ZSB0aGlzLnJlbmRlcmVyLGRlbGV0ZSB0aGlzLnBoeXNpY3MsZGVsZXRlIHRoaXMubGF5b3V0RW5naW5lLGRlbGV0ZSB0aGlzLmNsdXN0ZXJpbmcsZGVsZXRlIHRoaXMubWFuaXB1bGF0aW9uLGRlbGV0ZSB0aGlzLm5vZGVzSGFuZGxlcixkZWxldGUgdGhpcy5lZGdlc0hhbmRsZXIsZGVsZXRlIHRoaXMuY29uZmlndXJhdG9yLGRlbGV0ZSB0aGlzLmltYWdlcztmb3IodmFyIHQgaW4gdGhpcy5ib2R5Lm5vZGVzKWRlbGV0ZSB0aGlzLmJvZHkubm9kZXNbdF07Zm9yKHZhciBlIGluIHRoaXMuYm9keS5lZGdlcylkZWxldGUgdGhpcy5ib2R5LmVkZ2VzW2VdO0IucmVjdXJzaXZlRE9NRGVsZXRlKHRoaXMuYm9keS5jb250YWluZXIpfSxuLnByb3RvdHlwZS5fdXBkYXRlVmFsdWVSYW5nZT1mdW5jdGlvbih0KXt2YXIgZSxpPXZvaWQgMCxvPXZvaWQgMCxuPTA7Zm9yKGUgaW4gdClpZih0Lmhhc093blByb3BlcnR5KGUpKXt2YXIgcz10W2VdLmdldFZhbHVlKCk7dm9pZCAwIT09cyYmKGk9dm9pZCAwPT09aT9zOk1hdGgubWluKHMsaSksbz12b2lkIDA9PT1vP3M6TWF0aC5tYXgocyxvKSxuKz1zKX1pZih2b2lkIDAhPT1pJiZ2b2lkIDAhPT1vKWZvcihlIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShlKSYmdFtlXS5zZXRWYWx1ZVJhbmdlKGksbyxuKX0sbi5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5hY3RpdmF0b3J8fHRoaXMuYWN0aXZhdG9yLmFjdGl2ZX0sbi5wcm90b3R5cGUuc2V0U2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhcy5zZXRTaXplLmFwcGx5KHRoaXMuY2FudmFzLGFyZ3VtZW50cyl9LG4ucHJvdG90eXBlLmNhbnZhc1RvRE9NPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FudmFzLmNhbnZhc1RvRE9NLmFwcGx5KHRoaXMuY2FudmFzLGFyZ3VtZW50cyl9LG4ucHJvdG90eXBlLkRPTXRvQ2FudmFzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FudmFzLkRPTXRvQ2FudmFzLmFwcGx5KHRoaXMuY2FudmFzLGFyZ3VtZW50cyl9LG4ucHJvdG90eXBlLmZpbmROb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2x1c3RlcmluZy5maW5kTm9kZS5hcHBseSh0aGlzLmNsdXN0ZXJpbmcsYXJndW1lbnRzKX0sbi5wcm90b3R5cGUuaXNDbHVzdGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2x1c3RlcmluZy5pc0NsdXN0ZXIuYXBwbHkodGhpcy5jbHVzdGVyaW5nLGFyZ3VtZW50cyl9LG4ucHJvdG90eXBlLm9wZW5DbHVzdGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2x1c3RlcmluZy5vcGVuQ2x1c3Rlci5hcHBseSh0aGlzLmNsdXN0ZXJpbmcsYXJndW1lbnRzKX0sbi5wcm90b3R5cGUuY2x1c3Rlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNsdXN0ZXJpbmcuY2x1c3Rlci5hcHBseSh0aGlzLmNsdXN0ZXJpbmcsYXJndW1lbnRzKX0sbi5wcm90b3R5cGUuZ2V0Tm9kZXNJbkNsdXN0ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbHVzdGVyaW5nLmdldE5vZGVzSW5DbHVzdGVyLmFwcGx5KHRoaXMuY2x1c3RlcmluZyxhcmd1bWVudHMpfSxuLnByb3RvdHlwZS5jbHVzdGVyQnlDb25uZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2x1c3RlcmluZy5jbHVzdGVyQnlDb25uZWN0aW9uLmFwcGx5KHRoaXMuY2x1c3RlcmluZyxhcmd1bWVudHMpfSxuLnByb3RvdHlwZS5jbHVzdGVyQnlIdWJzaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2x1c3RlcmluZy5jbHVzdGVyQnlIdWJzaXplLmFwcGx5KHRoaXMuY2x1c3RlcmluZyxhcmd1bWVudHMpfSxuLnByb3RvdHlwZS5jbHVzdGVyT3V0bGllcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbHVzdGVyaW5nLmNsdXN0ZXJPdXRsaWVycy5hcHBseSh0aGlzLmNsdXN0ZXJpbmcsYXJndW1lbnRzKX0sbi5wcm90b3R5cGUuZ2V0U2VlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxheW91dEVuZ2luZS5nZXRTZWVkLmFwcGx5KHRoaXMubGF5b3V0RW5naW5lLGFyZ3VtZW50cyl9LG4ucHJvdG90eXBlLmVuYWJsZUVkaXRNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFuaXB1bGF0aW9uLmVuYWJsZUVkaXRNb2RlLmFwcGx5KHRoaXMubWFuaXB1bGF0aW9uLGFyZ3VtZW50cyl9LG4ucHJvdG90eXBlLmRpc2FibGVFZGl0TW9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hbmlwdWxhdGlvbi5kaXNhYmxlRWRpdE1vZGUuYXBwbHkodGhpcy5tYW5pcHVsYXRpb24sYXJndW1lbnRzKX0sbi5wcm90b3R5cGUuYWRkTm9kZU1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYW5pcHVsYXRpb24uYWRkTm9kZU1vZGUuYXBwbHkodGhpcy5tYW5pcHVsYXRpb24sYXJndW1lbnRzKX0sbi5wcm90b3R5cGUuZWRpdE5vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYW5pcHVsYXRpb24uZWRpdE5vZGUuYXBwbHkodGhpcy5tYW5pcHVsYXRpb24sYXJndW1lbnRzKX0sbi5wcm90b3R5cGUuZWRpdE5vZGVNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUubG9nKFwiRGVwcmVjYXRlZDogUGxlYXNlIHVzZSBlZGl0Tm9kZSBpbnN0ZWFkIG9mIGVkaXROb2RlTW9kZS5cIiksdGhpcy5tYW5pcHVsYXRpb24uZWRpdE5vZGUuYXBwbHkodGhpcy5tYW5pcHVsYXRpb24sYXJndW1lbnRzKX0sbi5wcm90b3R5cGUuYWRkRWRnZU1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYW5pcHVsYXRpb24uYWRkRWRnZU1vZGUuYXBwbHkodGhpcy5tYW5pcHVsYXRpb24sYXJndW1lbnRzKX0sbi5wcm90b3R5cGUuZWRpdEVkZ2VNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFuaXB1bGF0aW9uLmVkaXRFZGdlTW9kZS5hcHBseSh0aGlzLm1hbmlwdWxhdGlvbixhcmd1bWVudHMpfSxuLnByb3RvdHlwZS5kZWxldGVTZWxlY3RlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hbmlwdWxhdGlvbi5kZWxldGVTZWxlY3RlZC5hcHBseSh0aGlzLm1hbmlwdWxhdGlvbixhcmd1bWVudHMpfSxuLnByb3RvdHlwZS5nZXRQb3NpdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2Rlc0hhbmRsZXIuZ2V0UG9zaXRpb25zLmFwcGx5KHRoaXMubm9kZXNIYW5kbGVyLGFyZ3VtZW50cyl9LG4ucHJvdG90eXBlLnN0b3JlUG9zaXRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZXNIYW5kbGVyLnN0b3JlUG9zaXRpb25zLmFwcGx5KHRoaXMubm9kZXNIYW5kbGVyLGFyZ3VtZW50cyl9LG4ucHJvdG90eXBlLm1vdmVOb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZXNIYW5kbGVyLm1vdmVOb2RlLmFwcGx5KHRoaXMubm9kZXNIYW5kbGVyLGFyZ3VtZW50cyl9LG4ucHJvdG90eXBlLmdldEJvdW5kaW5nQm94PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZXNIYW5kbGVyLmdldEJvdW5kaW5nQm94LmFwcGx5KHRoaXMubm9kZXNIYW5kbGVyLGFyZ3VtZW50cyl9LG4ucHJvdG90eXBlLmdldENvbm5lY3RlZE5vZGVzPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10aGlzLmJvZHkubm9kZXNbdF0/dGhpcy5ub2Rlc0hhbmRsZXIuZ2V0Q29ubmVjdGVkTm9kZXMuYXBwbHkodGhpcy5ub2Rlc0hhbmRsZXIsYXJndW1lbnRzKTp0aGlzLmVkZ2VzSGFuZGxlci5nZXRDb25uZWN0ZWROb2Rlcy5hcHBseSh0aGlzLmVkZ2VzSGFuZGxlcixhcmd1bWVudHMpfSxuLnByb3RvdHlwZS5nZXRDb25uZWN0ZWRFZGdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGVzSGFuZGxlci5nZXRDb25uZWN0ZWRFZGdlcy5hcHBseSh0aGlzLm5vZGVzSGFuZGxlcixhcmd1bWVudHMpfSxuLnByb3RvdHlwZS5zdGFydFNpbXVsYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5waHlzaWNzLnN0YXJ0U2ltdWxhdGlvbi5hcHBseSh0aGlzLnBoeXNpY3MsYXJndW1lbnRzKX0sbi5wcm90b3R5cGUuc3RvcFNpbXVsYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5waHlzaWNzLnN0b3BTaW11bGF0aW9uLmFwcGx5KHRoaXMucGh5c2ljcyxhcmd1bWVudHMpfSxuLnByb3RvdHlwZS5zdGFiaWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5waHlzaWNzLnN0YWJpbGl6ZS5hcHBseSh0aGlzLnBoeXNpY3MsYXJndW1lbnRzKX0sbi5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXRTZWxlY3Rpb24uYXBwbHkodGhpcy5zZWxlY3Rpb25IYW5kbGVyLGFyZ3VtZW50cyl9LG4ucHJvdG90eXBlLnNldFNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdGlvbkhhbmRsZXIuc2V0U2VsZWN0aW9uLmFwcGx5KHRoaXMuc2VsZWN0aW9uSGFuZGxlcixhcmd1bWVudHMpfSxuLnByb3RvdHlwZS5nZXRTZWxlY3RlZE5vZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXRTZWxlY3RlZE5vZGVzLmFwcGx5KHRoaXMuc2VsZWN0aW9uSGFuZGxlcixhcmd1bWVudHMpfSxuLnByb3RvdHlwZS5nZXRTZWxlY3RlZEVkZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXRTZWxlY3RlZEVkZ2VzLmFwcGx5KHRoaXMuc2VsZWN0aW9uSGFuZGxlcixhcmd1bWVudHMpfSxuLnByb3RvdHlwZS5nZXROb2RlQXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2V0Tm9kZUF0LmFwcGx5KHRoaXMuc2VsZWN0aW9uSGFuZGxlcixhcmd1bWVudHMpO3JldHVybiB2b2lkIDAhPT10JiZ2b2lkIDAhPT10LmlkP3QuaWQ6dH0sbi5wcm90b3R5cGUuZ2V0RWRnZUF0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdldEVkZ2VBdC5hcHBseSh0aGlzLnNlbGVjdGlvbkhhbmRsZXIsYXJndW1lbnRzKTtyZXR1cm4gdm9pZCAwIT09dCYmdm9pZCAwIT09dC5pZD90LmlkOnR9LG4ucHJvdG90eXBlLnNlbGVjdE5vZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uSGFuZGxlci5zZWxlY3ROb2Rlcy5hcHBseSh0aGlzLnNlbGVjdGlvbkhhbmRsZXIsYXJndW1lbnRzKX0sbi5wcm90b3R5cGUuc2VsZWN0RWRnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3Rpb25IYW5kbGVyLnNlbGVjdEVkZ2VzLmFwcGx5KHRoaXMuc2VsZWN0aW9uSGFuZGxlcixhcmd1bWVudHMpfSxuLnByb3RvdHlwZS51bnNlbGVjdEFsbD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0aW9uSGFuZGxlci51bnNlbGVjdEFsbC5hcHBseSh0aGlzLnNlbGVjdGlvbkhhbmRsZXIsYXJndW1lbnRzKSx0aGlzLnJlZHJhdygpfSxuLnByb3RvdHlwZS5yZWRyYXc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW5kZXJlci5yZWRyYXcuYXBwbHkodGhpcy5yZW5kZXJlcixhcmd1bWVudHMpfSxuLnByb3RvdHlwZS5nZXRTY2FsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZXcuZ2V0U2NhbGUuYXBwbHkodGhpcy52aWV3LGFyZ3VtZW50cyl9LG4ucHJvdG90eXBlLmdldFZpZXdQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZXcuZ2V0Vmlld1Bvc2l0aW9uLmFwcGx5KHRoaXMudmlldyxhcmd1bWVudHMpfSxuLnByb3RvdHlwZS5maXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3LmZpdC5hcHBseSh0aGlzLnZpZXcsYXJndW1lbnRzKX0sbi5wcm90b3R5cGUubW92ZVRvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlldy5tb3ZlVG8uYXBwbHkodGhpcy52aWV3LGFyZ3VtZW50cyl9LG4ucHJvdG90eXBlLmZvY3VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlldy5mb2N1cy5hcHBseSh0aGlzLnZpZXcsYXJndW1lbnRzKX0sbi5wcm90b3R5cGUucmVsZWFzZU5vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3LnJlbGVhc2VOb2RlLmFwcGx5KHRoaXMudmlldyxhcmd1bWVudHMpfSxuLnByb3RvdHlwZS5nZXRPcHRpb25zRnJvbUNvbmZpZ3VyYXRvcj1mdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiB0aGlzLmNvbmZpZ3VyYXRvciYmKHQ9dGhpcy5jb25maWd1cmF0b3IuZ2V0T3B0aW9ucy5hcHBseSh0aGlzLmNvbmZpZ3VyYXRvcikpLHR9LHQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbyh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvPWVbaV07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24oZSxpLG8pe3JldHVybiBpJiZ0KGUucHJvdG90eXBlLGkpLG8mJnQoZSxvKSxlfX0oKSxzPWkoMSkscj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtvKHRoaXMsdCksdGhpcy5jbGVhcigpLHRoaXMuZGVmYXVsdEluZGV4PTAsdGhpcy5ncm91cHNBcnJheT1bXSx0aGlzLmdyb3VwSW5kZXg9MCx0aGlzLmRlZmF1bHRHcm91cHM9W3tib3JkZXI6XCIjMkI3Q0U5XCIsYmFja2dyb3VuZDpcIiM5N0MyRkNcIixoaWdobGlnaHQ6e2JvcmRlcjpcIiMyQjdDRTlcIixiYWNrZ3JvdW5kOlwiI0QyRTVGRlwifSxob3Zlcjp7Ym9yZGVyOlwiIzJCN0NFOVwiLGJhY2tncm91bmQ6XCIjRDJFNUZGXCJ9fSx7Ym9yZGVyOlwiI0ZGQTUwMFwiLGJhY2tncm91bmQ6XCIjRkZGRjAwXCIsaGlnaGxpZ2h0Ontib3JkZXI6XCIjRkZBNTAwXCIsYmFja2dyb3VuZDpcIiNGRkZGQTNcIn0saG92ZXI6e2JvcmRlcjpcIiNGRkE1MDBcIixiYWNrZ3JvdW5kOlwiI0ZGRkZBM1wifX0se2JvcmRlcjpcIiNGQTBBMTBcIixiYWNrZ3JvdW5kOlwiI0ZCN0U4MVwiLGhpZ2hsaWdodDp7Ym9yZGVyOlwiI0ZBMEExMFwiLGJhY2tncm91bmQ6XCIjRkZBRkIxXCJ9LGhvdmVyOntib3JkZXI6XCIjRkEwQTEwXCIsYmFja2dyb3VuZDpcIiNGRkFGQjFcIn19LHtib3JkZXI6XCIjNDFBOTA2XCIsYmFja2dyb3VuZDpcIiM3QkUxNDFcIixoaWdobGlnaHQ6e2JvcmRlcjpcIiM0MUE5MDZcIixiYWNrZ3JvdW5kOlwiI0ExRUM3NlwifSxob3Zlcjp7Ym9yZGVyOlwiIzQxQTkwNlwiLGJhY2tncm91bmQ6XCIjQTFFQzc2XCJ9fSx7Ym9yZGVyOlwiI0UxMjlGMFwiLGJhY2tncm91bmQ6XCIjRUI3REY0XCIsaGlnaGxpZ2h0Ontib3JkZXI6XCIjRTEyOUYwXCIsYmFja2dyb3VuZDpcIiNGMEIzRjVcIn0saG92ZXI6e2JvcmRlcjpcIiNFMTI5RjBcIixiYWNrZ3JvdW5kOlwiI0YwQjNGNVwifX0se2JvcmRlcjpcIiM3QzI5RjBcIixiYWNrZ3JvdW5kOlwiI0FEODVFNFwiLGhpZ2hsaWdodDp7Ym9yZGVyOlwiIzdDMjlGMFwiLGJhY2tncm91bmQ6XCIjRDNCREYwXCJ9LGhvdmVyOntib3JkZXI6XCIjN0MyOUYwXCIsYmFja2dyb3VuZDpcIiNEM0JERjBcIn19LHtib3JkZXI6XCIjQzM3RjAwXCIsYmFja2dyb3VuZDpcIiNGRkE4MDdcIixoaWdobGlnaHQ6e2JvcmRlcjpcIiNDMzdGMDBcIixiYWNrZ3JvdW5kOlwiI0ZGQ0E2NlwifSxob3Zlcjp7Ym9yZGVyOlwiI0MzN0YwMFwiLGJhY2tncm91bmQ6XCIjRkZDQTY2XCJ9fSx7Ym9yZGVyOlwiIzQyMjBGQlwiLGJhY2tncm91bmQ6XCIjNkU2RUZEXCIsaGlnaGxpZ2h0Ontib3JkZXI6XCIjNDIyMEZCXCIsYmFja2dyb3VuZDpcIiM5QjlCRkRcIn0saG92ZXI6e2JvcmRlcjpcIiM0MjIwRkJcIixiYWNrZ3JvdW5kOlwiIzlCOUJGRFwifX0se2JvcmRlcjpcIiNGRDVBNzdcIixiYWNrZ3JvdW5kOlwiI0ZGQzBDQlwiLGhpZ2hsaWdodDp7Ym9yZGVyOlwiI0ZENUE3N1wiLGJhY2tncm91bmQ6XCIjRkZEMUQ5XCJ9LGhvdmVyOntib3JkZXI6XCIjRkQ1QTc3XCIsYmFja2dyb3VuZDpcIiNGRkQxRDlcIn19LHtib3JkZXI6XCIjNEFENjNBXCIsYmFja2dyb3VuZDpcIiNDMkZBQkNcIixoaWdobGlnaHQ6e2JvcmRlcjpcIiM0QUQ2M0FcIixiYWNrZ3JvdW5kOlwiI0U2RkZFM1wifSxob3Zlcjp7Ym9yZGVyOlwiIzRBRDYzQVwiLGJhY2tncm91bmQ6XCIjRTZGRkUzXCJ9fSx7Ym9yZGVyOlwiIzk5MDAwMFwiLGJhY2tncm91bmQ6XCIjRUUwMDAwXCIsaGlnaGxpZ2h0Ontib3JkZXI6XCIjQkIwMDAwXCIsYmFja2dyb3VuZDpcIiNGRjMzMzNcIn0saG92ZXI6e2JvcmRlcjpcIiNCQjAwMDBcIixiYWNrZ3JvdW5kOlwiI0ZGMzMzM1wifX0se2JvcmRlcjpcIiNGRjYwMDBcIixiYWNrZ3JvdW5kOlwiI0ZGNjAwMFwiLGhpZ2hsaWdodDp7Ym9yZGVyOlwiI0ZGNjAwMFwiLGJhY2tncm91bmQ6XCIjRkY2MDAwXCJ9LGhvdmVyOntib3JkZXI6XCIjRkY2MDAwXCIsYmFja2dyb3VuZDpcIiNGRjYwMDBcIn19LHtib3JkZXI6XCIjOTdDMkZDXCIsYmFja2dyb3VuZDpcIiMyQjdDRTlcIixoaWdobGlnaHQ6e2JvcmRlcjpcIiNEMkU1RkZcIixiYWNrZ3JvdW5kOlwiIzJCN0NFOVwifSxob3Zlcjp7Ym9yZGVyOlwiI0QyRTVGRlwiLGJhY2tncm91bmQ6XCIjMkI3Q0U5XCJ9fSx7Ym9yZGVyOlwiIzM5OTYwNVwiLGJhY2tncm91bmQ6XCIjMjU1QzAzXCIsaGlnaGxpZ2h0Ontib3JkZXI6XCIjMzk5NjA1XCIsYmFja2dyb3VuZDpcIiMyNTVDMDNcIn0saG92ZXI6e2JvcmRlcjpcIiMzOTk2MDVcIixiYWNrZ3JvdW5kOlwiIzI1NUMwM1wifX0se2JvcmRlcjpcIiNCNzAwNTRcIixiYWNrZ3JvdW5kOlwiI0ZGMDA3RVwiLGhpZ2hsaWdodDp7Ym9yZGVyOlwiI0I3MDA1NFwiLGJhY2tncm91bmQ6XCIjRkYwMDdFXCJ9LGhvdmVyOntib3JkZXI6XCIjQjcwMDU0XCIsYmFja2dyb3VuZDpcIiNGRjAwN0VcIn19LHtib3JkZXI6XCIjQUQ4NUU0XCIsYmFja2dyb3VuZDpcIiM3QzI5RjBcIixoaWdobGlnaHQ6e2JvcmRlcjpcIiNEM0JERjBcIixiYWNrZ3JvdW5kOlwiIzdDMjlGMFwifSxob3Zlcjp7Ym9yZGVyOlwiI0QzQkRGMFwiLGJhY2tncm91bmQ6XCIjN0MyOUYwXCJ9fSx7Ym9yZGVyOlwiIzQ1NTdGQVwiLGJhY2tncm91bmQ6XCIjMDAwRUExXCIsaGlnaGxpZ2h0Ontib3JkZXI6XCIjNkU2RUZEXCIsYmFja2dyb3VuZDpcIiMwMDBFQTFcIn0saG92ZXI6e2JvcmRlcjpcIiM2RTZFRkRcIixiYWNrZ3JvdW5kOlwiIzAwMEVBMVwifX0se2JvcmRlcjpcIiNGRkMwQ0JcIixiYWNrZ3JvdW5kOlwiI0ZENUE3N1wiLGhpZ2hsaWdodDp7Ym9yZGVyOlwiI0ZGRDFEOVwiLGJhY2tncm91bmQ6XCIjRkQ1QTc3XCJ9LGhvdmVyOntib3JkZXI6XCIjRkZEMUQ5XCIsYmFja2dyb3VuZDpcIiNGRDVBNzdcIn19LHtib3JkZXI6XCIjQzJGQUJDXCIsYmFja2dyb3VuZDpcIiM3NEQ2NkFcIixoaWdobGlnaHQ6e2JvcmRlcjpcIiNFNkZGRTNcIixiYWNrZ3JvdW5kOlwiIzc0RDY2QVwifSxob3Zlcjp7Ym9yZGVyOlwiI0U2RkZFM1wiLGJhY2tncm91bmQ6XCIjNzRENjZBXCJ9fSx7Ym9yZGVyOlwiI0VFMDAwMFwiLGJhY2tncm91bmQ6XCIjOTkwMDAwXCIsaGlnaGxpZ2h0Ontib3JkZXI6XCIjRkYzMzMzXCIsYmFja2dyb3VuZDpcIiNCQjAwMDBcIn0saG92ZXI6e2JvcmRlcjpcIiNGRjMzMzNcIixiYWNrZ3JvdW5kOlwiI0JCMDAwMFwifX1dLHRoaXMub3B0aW9ucz17fSx0aGlzLmRlZmF1bHRPcHRpb25zPXt1c2VEZWZhdWx0R3JvdXBzOiEwfSxzLmV4dGVuZCh0aGlzLm9wdGlvbnMsdGhpcy5kZWZhdWx0T3B0aW9ucyl9cmV0dXJuIG4odCxbe2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1bXCJ1c2VEZWZhdWx0R3JvdXBzXCJdO2lmKHZvaWQgMCE9PXQpZm9yKHZhciBpIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShpKSYmLTE9PT1lLmluZGV4T2YoaSkpe3ZhciBvPXRbaV07dGhpcy5hZGQoaSxvKX19fSx7a2V5OlwiY2xlYXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ3JvdXBzPXt9LHRoaXMuZ3JvdXBzQXJyYXk9W119fSx7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ncm91cHNbdF07aWYodm9pZCAwPT09ZSlpZih0aGlzLm9wdGlvbnMudXNlRGVmYXVsdEdyb3Vwcz09PSExJiZ0aGlzLmdyb3Vwc0FycmF5Lmxlbmd0aD4wKXt2YXIgaT10aGlzLmdyb3VwSW5kZXgldGhpcy5ncm91cHNBcnJheS5sZW5ndGg7dGhpcy5ncm91cEluZGV4KyssZT17fSxlLmNvbG9yPXRoaXMuZ3JvdXBzW3RoaXMuZ3JvdXBzQXJyYXlbaV1dLHRoaXMuZ3JvdXBzW3RdPWV9ZWxzZXt2YXIgaT10aGlzLmRlZmF1bHRJbmRleCV0aGlzLmRlZmF1bHRHcm91cHMubGVuZ3RoO3RoaXMuZGVmYXVsdEluZGV4KyssZT17fSxlLmNvbG9yPXRoaXMuZGVmYXVsdEdyb3Vwc1tpXSx0aGlzLmdyb3Vwc1t0XT1lfXJldHVybiBlfX0se2tleTpcImFkZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZ3JvdXBzW3RdPWUsdGhpcy5ncm91cHNBcnJheS5wdXNoKHQpLGV9fV0pLHR9KCk7ZVtcImRlZmF1bHRcIl09cix0LmV4cG9ydHM9ZVtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvPWVbaV07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24oZSxpLG8pe3JldHVybiBpJiZ0KGUucHJvdG90eXBlLGkpLG8mJnQoZSxvKSxlfX0oKSxyPWkoNjIpLGE9byhyKSxoPWkoNjMpLGQ9byhoKSxsPWkoMSksdT1pKDgpLGM9aSgxMCkscD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpLG8scyl7dmFyIHI9dGhpcztuKHRoaXMsdCksdGhpcy5ib2R5PWUsdGhpcy5pbWFnZXM9aSx0aGlzLmdyb3Vwcz1vLHRoaXMubGF5b3V0RW5naW5lPXMsdGhpcy5ib2R5LmZ1bmN0aW9ucy5jcmVhdGVOb2RlPXRoaXMuY3JlYXRlLmJpbmQodGhpcyksdGhpcy5ub2Rlc0xpc3RlbmVycz17YWRkOmZ1bmN0aW9uKHQsZSl7ci5hZGQoZS5pdGVtcyl9LHVwZGF0ZTpmdW5jdGlvbih0LGUpe3IudXBkYXRlKGUuaXRlbXMsZS5kYXRhKX0scmVtb3ZlOmZ1bmN0aW9uKHQsZSl7ci5yZW1vdmUoZS5pdGVtcyl9fSx0aGlzLm9wdGlvbnM9e30sdGhpcy5kZWZhdWx0T3B0aW9ucz17Ym9yZGVyV2lkdGg6MSxib3JkZXJXaWR0aFNlbGVjdGVkOjIsYnJva2VuSW1hZ2U6dm9pZCAwLGNvbG9yOntib3JkZXI6XCIjMkI3Q0U5XCIsYmFja2dyb3VuZDpcIiM5N0MyRkNcIixoaWdobGlnaHQ6e2JvcmRlcjpcIiMyQjdDRTlcIixiYWNrZ3JvdW5kOlwiI0QyRTVGRlwifSxob3Zlcjp7Ym9yZGVyOlwiIzJCN0NFOVwiLGJhY2tncm91bmQ6XCIjRDJFNUZGXCJ9fSxmaXhlZDp7eDohMSx5OiExfSxmb250Ontjb2xvcjpcIiMzNDM0MzRcIixzaXplOjE0LGZhY2U6XCJhcmlhbFwiLGJhY2tncm91bmQ6XCJub25lXCIsc3Ryb2tlV2lkdGg6MCxzdHJva2VDb2xvcjpcIiNmZmZmZmZcIixhbGlnbjpcImhvcml6b250YWxcIn0sZ3JvdXA6dm9pZCAwLGhpZGRlbjohMSxpY29uOntmYWNlOlwiRm9udEF3ZXNvbWVcIixjb2RlOnZvaWQgMCxzaXplOjUwLGNvbG9yOlwiIzJCN0NFOVwifSxpbWFnZTp2b2lkIDAsbGFiZWw6dm9pZCAwLGxhYmVsSGlnaGxpZ2h0Qm9sZDohMCxsZXZlbDp2b2lkIDAsbWFzczoxLHBoeXNpY3M6ITAsc2NhbGluZzp7bWluOjEwLG1heDozMCxsYWJlbDp7ZW5hYmxlZDohMSxtaW46MTQsbWF4OjMwLG1heFZpc2libGU6MzAsZHJhd1RocmVzaG9sZDo1fSxjdXN0b21TY2FsaW5nRnVuY3Rpb246ZnVuY3Rpb24odCxlLGksbyl7aWYoZT09PXQpcmV0dXJuLjU7dmFyIG49MS8oZS10KTtyZXR1cm4gTWF0aC5tYXgoMCwoby10KSpuKX19LHNoYWRvdzp7ZW5hYmxlZDohMSxzaXplOjEwLHg6NSx5OjV9LHNoYXBlOlwiZWxsaXBzZVwiLHNoYXBlUHJvcGVydGllczp7Ym9yZGVyRGFzaGVzOiExLGJvcmRlclJhZGl1czo2LHVzZUltYWdlU2l6ZTohMSx1c2VCb3JkZXJXaXRoSW1hZ2U6ITF9LHNpemU6MjUsdGl0bGU6dm9pZCAwLHZhbHVlOnZvaWQgMCx4OnZvaWQgMCx5OnZvaWQgMH0sbC5leHRlbmQodGhpcy5vcHRpb25zLHRoaXMuZGVmYXVsdE9wdGlvbnMpLHRoaXMuYmluZEV2ZW50TGlzdGVuZXJzKCl9cmV0dXJuIHModCxbe2tleTpcImJpbmRFdmVudExpc3RlbmVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmJvZHkuZW1pdHRlci5vbihcInJlZnJlc2hOb2Rlc1wiLHRoaXMucmVmcmVzaC5iaW5kKHRoaXMpKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcInJlZnJlc2hcIix0aGlzLnJlZnJlc2guYmluZCh0aGlzKSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtkZWxldGUgdC5ib2R5LmZ1bmN0aW9ucy5jcmVhdGVOb2RlLGRlbGV0ZSB0Lm5vZGVzTGlzdGVuZXJzLmFkZCxkZWxldGUgdC5ub2Rlc0xpc3RlbmVycy51cGRhdGUsZGVsZXRlIHQubm9kZXNMaXN0ZW5lcnMucmVtb3ZlLGRlbGV0ZSB0Lm5vZGVzTGlzdGVuZXJzfSl9fSx7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9PXQpe2lmKGFbXCJkZWZhdWx0XCJdLnBhcnNlT3B0aW9ucyh0aGlzLm9wdGlvbnMsdCksdm9pZCAwIT09dC5zaGFwZSlmb3IodmFyIGUgaW4gdGhpcy5ib2R5Lm5vZGVzKXRoaXMuYm9keS5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShlKSYmdGhpcy5ib2R5Lm5vZGVzW2VdLnVwZGF0ZVNoYXBlKCk7aWYodm9pZCAwIT09dC5mb250KXtkW1wiZGVmYXVsdFwiXS5wYXJzZU9wdGlvbnModGhpcy5vcHRpb25zLmZvbnQsdCk7Zm9yKHZhciBlIGluIHRoaXMuYm9keS5ub2Rlcyl0aGlzLmJvZHkubm9kZXMuaGFzT3duUHJvcGVydHkoZSkmJih0aGlzLmJvZHkubm9kZXNbZV0udXBkYXRlTGFiZWxNb2R1bGUoKSx0aGlzLmJvZHkubm9kZXNbZV0uX3Jlc2V0KCkpfWlmKHZvaWQgMCE9PXQuc2l6ZSlmb3IodmFyIGUgaW4gdGhpcy5ib2R5Lm5vZGVzKXRoaXMuYm9keS5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShlKSYmdGhpcy5ib2R5Lm5vZGVzW2VdLl9yZXNldCgpOyh2b2lkIDAhPT10LmhpZGRlbnx8dm9pZCAwIT09dC5waHlzaWNzKSYmdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhQ2hhbmdlZFwiKX19fSx7a2V5Olwic2V0RGF0YVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT1hcmd1bWVudHMubGVuZ3RoPD0xfHx2b2lkIDA9PT1hcmd1bWVudHNbMV0/ITE6YXJndW1lbnRzWzFdLG89dGhpcy5ib2R5LmRhdGEubm9kZXM7aWYodCBpbnN0YW5jZW9mIHV8fHQgaW5zdGFuY2VvZiBjKXRoaXMuYm9keS5kYXRhLm5vZGVzPXQ7ZWxzZSBpZihBcnJheS5pc0FycmF5KHQpKXRoaXMuYm9keS5kYXRhLm5vZGVzPW5ldyB1LHRoaXMuYm9keS5kYXRhLm5vZGVzLmFkZCh0KTtlbHNle2lmKHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFycmF5IG9yIERhdGFTZXQgZXhwZWN0ZWRcIik7dGhpcy5ib2R5LmRhdGEubm9kZXM9bmV3IHV9byYmbC5mb3JFYWNoKHRoaXMubm9kZXNMaXN0ZW5lcnMsZnVuY3Rpb24odCxlKXtvLm9mZihlLHQpfSksdGhpcy5ib2R5Lm5vZGVzPXt9LHRoaXMuYm9keS5kYXRhLm5vZGVzJiYhZnVuY3Rpb24oKXt2YXIgdD1lO2wuZm9yRWFjaChlLm5vZGVzTGlzdGVuZXJzLGZ1bmN0aW9uKGUsaSl7dC5ib2R5LmRhdGEubm9kZXMub24oaSxlKX0pO3ZhciBpPWUuYm9keS5kYXRhLm5vZGVzLmdldElkcygpO2UuYWRkKGksITApfSgpLGk9PT0hMSYmdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhQ2hhbmdlZFwiKX19LHtrZXk6XCJhZGRcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MXx8dm9pZCAwPT09YXJndW1lbnRzWzFdPyExOmFyZ3VtZW50c1sxXSxpPXZvaWQgMCxvPVtdLG49MDtuPHQubGVuZ3RoO24rKyl7aT10W25dO3ZhciBzPXRoaXMuYm9keS5kYXRhLm5vZGVzLmdldChpKSxyPXRoaXMuY3JlYXRlKHMpO28ucHVzaChyKSx0aGlzLmJvZHkubm9kZXNbaV09cn10aGlzLmxheW91dEVuZ2luZS5wb3NpdGlvbkluaXRpYWxseShvKSxlPT09ITEmJnRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfZGF0YUNoYW5nZWRcIil9fSx7a2V5OlwidXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy5ib2R5Lm5vZGVzLG89ITEsbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcz10W25dLHI9aVtzXSxhPWVbbl07dm9pZCAwIT09cj9vPXIuc2V0T3B0aW9ucyhhKToobz0hMCxyPXRoaXMuY3JlYXRlKGEpLGlbc109cil9bz09PSEwP3RoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfZGF0YUNoYW5nZWRcIik6dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhVXBkYXRlZFwiKX19LHtrZXk6XCJyZW1vdmVcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5ib2R5Lm5vZGVzLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG89dFtpXTtkZWxldGUgZVtvXX10aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX2RhdGFDaGFuZ2VkXCIpfX0se2tleTpcImNyZWF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT9hW1wiZGVmYXVsdFwiXTphcmd1bWVudHNbMV07cmV0dXJuIG5ldyBlKHQsdGhpcy5ib2R5LHRoaXMuaW1hZ2VzLHRoaXMuZ3JvdXBzLHRoaXMub3B0aW9ucyl9fSx7a2V5OlwicmVmcmVzaFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdPyExOmFyZ3VtZW50c1swXSxlPXRoaXMuYm9keS5ub2Rlcztmb3IodmFyIGkgaW4gZSl7dmFyIG89dm9pZCAwO2UuaGFzT3duUHJvcGVydHkoaSkmJihvPWVbaV0pO3ZhciBuPXRoaXMuYm9keS5kYXRhLm5vZGVzLl9kYXRhW2ldO3ZvaWQgMCE9PW8mJnZvaWQgMCE9PW4mJih0PT09ITAmJm8uc2V0T3B0aW9ucyh7eDpudWxsLHk6bnVsbH0pLG8uc2V0T3B0aW9ucyh7Zml4ZWQ6ITF9KSxvLnNldE9wdGlvbnMobikpfX19LHtrZXk6XCJnZXRQb3NpdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT17fTtpZih2b2lkIDAhPT10KXtpZihBcnJheS5pc0FycmF5KHQpPT09ITApe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHZvaWQgMCE9PXRoaXMuYm9keS5ub2Rlc1t0W2ldXSl7dmFyIG89dGhpcy5ib2R5Lm5vZGVzW3RbaV1dO2VbdFtpXV09e3g6TWF0aC5yb3VuZChvLngpLHk6TWF0aC5yb3VuZChvLnkpfX19ZWxzZSBpZih2b2lkIDAhPT10aGlzLmJvZHkubm9kZXNbdF0pe3ZhciBvPXRoaXMuYm9keS5ub2Rlc1t0XTtlW3RdPXt4Ok1hdGgucm91bmQoby54KSx5Ok1hdGgucm91bmQoby55KX19fWVsc2UgZm9yKHZhciBpPTA7aTx0aGlzLmJvZHkubm9kZUluZGljZXMubGVuZ3RoO2krKyl7dmFyIG89dGhpcy5ib2R5Lm5vZGVzW3RoaXMuYm9keS5ub2RlSW5kaWNlc1tpXV07ZVt0aGlzLmJvZHkubm9kZUluZGljZXNbaV1dPXt4Ok1hdGgucm91bmQoby54KSx5Ok1hdGgucm91bmQoby55KX19cmV0dXJuIGV9fSx7a2V5Olwic3RvcmVQb3NpdGlvbnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PVtdLGU9dGhpcy5ib2R5LmRhdGEubm9kZXMuZ2V0RGF0YVNldCgpO2Zvcih2YXIgaSBpbiBlLl9kYXRhKWlmKGUuX2RhdGEuaGFzT3duUHJvcGVydHkoaSkpe3ZhciBvPXRoaXMuYm9keS5ub2Rlc1tpXTsoZS5fZGF0YVtpXS54IT1NYXRoLnJvdW5kKG8ueCl8fGUuX2RhdGFbaV0ueSE9TWF0aC5yb3VuZChvLnkpKSYmdC5wdXNoKHtpZDppLHg6TWF0aC5yb3VuZChvLngpLFxueTpNYXRoLnJvdW5kKG8ueSl9KX1lLnVwZGF0ZSh0KX19LHtrZXk6XCJnZXRCb3VuZGluZ0JveFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10aGlzLmJvZHkubm9kZXNbdF0/dGhpcy5ib2R5Lm5vZGVzW3RdLnNoYXBlLmJvdW5kaW5nQm94OnZvaWQgMH19LHtrZXk6XCJnZXRDb25uZWN0ZWROb2Rlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPVtdO2lmKHZvaWQgMCE9PXRoaXMuYm9keS5ub2Rlc1t0XSlmb3IodmFyIGk9dGhpcy5ib2R5Lm5vZGVzW3RdLG89e30sbj0wO248aS5lZGdlcy5sZW5ndGg7bisrKXt2YXIgcz1pLmVkZ2VzW25dO3MudG9JZD09dD92b2lkIDA9PT1vW3MuZnJvbUlkXSYmKGUucHVzaChzLmZyb21JZCksb1tzLmZyb21JZF09ITApOnMuZnJvbUlkPT10JiZ2b2lkIDA9PT1vW3MudG9JZF0mJihlLnB1c2gocy50b0lkKSxvW3MudG9JZF09ITApfXJldHVybiBlfX0se2tleTpcImdldENvbm5lY3RlZEVkZ2VzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9W107aWYodm9pZCAwIT09dGhpcy5ib2R5Lm5vZGVzW3RdKWZvcih2YXIgaT10aGlzLmJvZHkubm9kZXNbdF0sbz0wO288aS5lZGdlcy5sZW5ndGg7bysrKWUucHVzaChpLmVkZ2VzW29dLmlkKTtlbHNlIGNvbnNvbGUubG9nKFwiTm9kZUlkIHByb3ZpZGVkIGZvciBnZXRDb25uZWN0ZWRFZGdlcyBkb2VzIG5vdCBleGlzdC4gUHJvdmlkZWQ6IFwiLHQpO3JldHVybiBlfX0se2tleTpcIm1vdmVOb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXRoaXM7dm9pZCAwIT09dGhpcy5ib2R5Lm5vZGVzW3RdPyh0aGlzLmJvZHkubm9kZXNbdF0ueD1OdW1iZXIoZSksdGhpcy5ib2R5Lm5vZGVzW3RdLnk9TnVtYmVyKGkpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtvLmJvZHkuZW1pdHRlci5lbWl0KFwic3RhcnRTaW11bGF0aW9uXCIpfSwwKSk6Y29uc29sZS5sb2coXCJOb2RlIGlkIHN1cHBsaWVkIHRvIG1vdmVOb2RlIGRvZXMgbm90IGV4aXN0LiBQcm92aWRlZDogXCIsdCl9fV0pLHR9KCk7ZVtcImRlZmF1bHRcIl09cCx0LmV4cG9ydHM9ZVtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvPWVbaV07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24oZSxpLG8pe3JldHVybiBpJiZ0KGUucHJvdG90eXBlLGkpLG8mJnQoZSxvKSxlfX0oKSxyPWkoNjMpLGE9byhyKSxoPWkoNjQpLGQ9byhoKSxsPWkoNjYpLHU9byhsKSxjPWkoNjgpLHA9byhjKSxmPWkoNjkpLG09byhmKSx2PWkoNzApLGc9byh2KSx5PWkoNzIpLGI9byh5KSx3PWkoNzMpLF89byh3KSx4PWkoNzQpLGs9byh4KSxPPWkoNzUpLE09byhPKSxEPWkoNzYpLEM9byhEKSxUPWkoNzcpLFM9byhUKSxFPWkoNzgpLFA9byhFKSxJPWkoNzkpLE49byhJKSx6PWkoODApLEw9byh6KSxBPWkoNDcpLEI9KG8oQSksaSgxKSksRj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpLG8scyxyKXtuKHRoaXMsdCksdGhpcy5vcHRpb25zPUIuYnJpZGdlT2JqZWN0KHIpLHRoaXMuZ2xvYmFsT3B0aW9ucz1yLHRoaXMuYm9keT1pLHRoaXMuZWRnZXM9W10sdGhpcy5pZD12b2lkIDAsdGhpcy5pbWFnZWxpc3Q9byx0aGlzLmdyb3VwbGlzdD1zLHRoaXMueD12b2lkIDAsdGhpcy55PXZvaWQgMCx0aGlzLmJhc2VTaXplPXRoaXMub3B0aW9ucy5zaXplLHRoaXMuYmFzZUZvbnRTaXplPXRoaXMub3B0aW9ucy5mb250LnNpemUsdGhpcy5wcmVkZWZpbmVkUG9zaXRpb249ITEsdGhpcy5zZWxlY3RlZD0hMSx0aGlzLmhvdmVyPSExLHRoaXMubGFiZWxNb2R1bGU9bmV3IGFbXCJkZWZhdWx0XCJdKHRoaXMuYm9keSx0aGlzLm9wdGlvbnMpLHRoaXMuc2V0T3B0aW9ucyhlKX1yZXR1cm4gcyh0LFt7a2V5OlwiYXR0YWNoRWRnZVwiLHZhbHVlOmZ1bmN0aW9uKHQpey0xPT09dGhpcy5lZGdlcy5pbmRleE9mKHQpJiZ0aGlzLmVkZ2VzLnB1c2godCl9fSx7a2V5OlwiZGV0YWNoRWRnZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZWRnZXMuaW5kZXhPZih0KTstMSE9ZSYmdGhpcy5lZGdlcy5zcGxpY2UoZSwxKX19LHtrZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5vcHRpb25zLnNoYXBlO2lmKGUpe2lmKHZvaWQgMCE9PWUuaWQmJih0aGlzLmlkPWUuaWQpLHZvaWQgMD09PXRoaXMuaWQpdGhyb3dcIk5vZGUgbXVzdCBoYXZlIGFuIGlkXCI7aWYodm9pZCAwIT09ZS54JiYobnVsbD09PWUueD8odGhpcy54PXZvaWQgMCx0aGlzLnByZWRlZmluZWRQb3NpdGlvbj0hMSk6KHRoaXMueD1wYXJzZUludChlLngpLHRoaXMucHJlZGVmaW5lZFBvc2l0aW9uPSEwKSksdm9pZCAwIT09ZS55JiYobnVsbD09PWUueT8odGhpcy55PXZvaWQgMCx0aGlzLnByZWRlZmluZWRQb3NpdGlvbj0hMSk6KHRoaXMueT1wYXJzZUludChlLnkpLHRoaXMucHJlZGVmaW5lZFBvc2l0aW9uPSEwKSksdm9pZCAwIT09ZS5zaXplJiYodGhpcy5iYXNlU2l6ZT1lLnNpemUpLHZvaWQgMCE9PWUudmFsdWUmJihlLnZhbHVlPXBhcnNlRmxvYXQoZS52YWx1ZSkpLFwibnVtYmVyXCI9PXR5cGVvZiBlLmdyb3VwfHxcInN0cmluZ1wiPT10eXBlb2YgZS5ncm91cCYmXCJcIiE9ZS5ncm91cCl7dmFyIG89dGhpcy5ncm91cGxpc3QuZ2V0KGUuZ3JvdXApO0IuZGVlcEV4dGVuZCh0aGlzLm9wdGlvbnMsbyksdGhpcy5vcHRpb25zLmNvbG9yPUIucGFyc2VDb2xvcih0aGlzLm9wdGlvbnMuY29sb3IpfWlmKHQucGFyc2VPcHRpb25zKHRoaXMub3B0aW9ucyxlLCEwLHRoaXMuZ2xvYmFsT3B0aW9ucyksdm9pZCAwIT09dGhpcy5vcHRpb25zLmltYWdlKXtpZighdGhpcy5pbWFnZWxpc3QpdGhyb3dcIk5vIGltYWdlbGlzdCBwcm92aWRlZFwiO3RoaXMuaW1hZ2VPYmo9dGhpcy5pbWFnZWxpc3QubG9hZCh0aGlzLm9wdGlvbnMuaW1hZ2UsdGhpcy5vcHRpb25zLmJyb2tlbkltYWdlLHRoaXMuaWQpfXJldHVybiB0aGlzLnVwZGF0ZUxhYmVsTW9kdWxlKCksdGhpcy51cGRhdGVTaGFwZShpKSx2b2lkIDAhPT1lLmhpZGRlbnx8dm9pZCAwIT09ZS5waHlzaWNzPyEwOiExfX19LHtrZXk6XCJ1cGRhdGVMYWJlbE1vZHVsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7KHZvaWQgMD09PXRoaXMub3B0aW9ucy5sYWJlbHx8bnVsbD09PXRoaXMub3B0aW9ucy5sYWJlbCkmJih0aGlzLm9wdGlvbnMubGFiZWw9XCJcIiksdGhpcy5sYWJlbE1vZHVsZS5zZXRPcHRpb25zKHRoaXMub3B0aW9ucywhMCksdm9pZCAwIT09dGhpcy5sYWJlbE1vZHVsZS5iYXNlU2l6ZSYmKHRoaXMuYmFzZUZvbnRTaXplPXRoaXMubGFiZWxNb2R1bGUuYmFzZVNpemUpfX0se2tleTpcInVwZGF0ZVNoYXBlXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodD09PXRoaXMub3B0aW9ucy5zaGFwZSYmdGhpcy5zaGFwZSl0aGlzLnNoYXBlLnNldE9wdGlvbnModGhpcy5vcHRpb25zLHRoaXMuaW1hZ2VPYmopO2Vsc2Ugc3dpdGNoKHRoaXMub3B0aW9ucy5zaGFwZSl7Y2FzZVwiYm94XCI6dGhpcy5zaGFwZT1uZXcgZFtcImRlZmF1bHRcIl0odGhpcy5vcHRpb25zLHRoaXMuYm9keSx0aGlzLmxhYmVsTW9kdWxlKTticmVhaztjYXNlXCJjaXJjbGVcIjp0aGlzLnNoYXBlPW5ldyB1W1wiZGVmYXVsdFwiXSh0aGlzLm9wdGlvbnMsdGhpcy5ib2R5LHRoaXMubGFiZWxNb2R1bGUpO2JyZWFrO2Nhc2VcImNpcmN1bGFySW1hZ2VcIjp0aGlzLnNoYXBlPW5ldyBwW1wiZGVmYXVsdFwiXSh0aGlzLm9wdGlvbnMsdGhpcy5ib2R5LHRoaXMubGFiZWxNb2R1bGUsdGhpcy5pbWFnZU9iaik7YnJlYWs7Y2FzZVwiZGF0YWJhc2VcIjp0aGlzLnNoYXBlPW5ldyBtW1wiZGVmYXVsdFwiXSh0aGlzLm9wdGlvbnMsdGhpcy5ib2R5LHRoaXMubGFiZWxNb2R1bGUpO2JyZWFrO2Nhc2VcImRpYW1vbmRcIjp0aGlzLnNoYXBlPW5ldyBnW1wiZGVmYXVsdFwiXSh0aGlzLm9wdGlvbnMsdGhpcy5ib2R5LHRoaXMubGFiZWxNb2R1bGUpO2JyZWFrO2Nhc2VcImRvdFwiOnRoaXMuc2hhcGU9bmV3IGJbXCJkZWZhdWx0XCJdKHRoaXMub3B0aW9ucyx0aGlzLmJvZHksdGhpcy5sYWJlbE1vZHVsZSk7YnJlYWs7Y2FzZVwiZWxsaXBzZVwiOnRoaXMuc2hhcGU9bmV3IF9bXCJkZWZhdWx0XCJdKHRoaXMub3B0aW9ucyx0aGlzLmJvZHksdGhpcy5sYWJlbE1vZHVsZSk7YnJlYWs7Y2FzZVwiaWNvblwiOnRoaXMuc2hhcGU9bmV3IGtbXCJkZWZhdWx0XCJdKHRoaXMub3B0aW9ucyx0aGlzLmJvZHksdGhpcy5sYWJlbE1vZHVsZSk7YnJlYWs7Y2FzZVwiaW1hZ2VcIjp0aGlzLnNoYXBlPW5ldyBNW1wiZGVmYXVsdFwiXSh0aGlzLm9wdGlvbnMsdGhpcy5ib2R5LHRoaXMubGFiZWxNb2R1bGUsdGhpcy5pbWFnZU9iaik7YnJlYWs7Y2FzZVwic3F1YXJlXCI6dGhpcy5zaGFwZT1uZXcgQ1tcImRlZmF1bHRcIl0odGhpcy5vcHRpb25zLHRoaXMuYm9keSx0aGlzLmxhYmVsTW9kdWxlKTticmVhaztjYXNlXCJzdGFyXCI6dGhpcy5zaGFwZT1uZXcgU1tcImRlZmF1bHRcIl0odGhpcy5vcHRpb25zLHRoaXMuYm9keSx0aGlzLmxhYmVsTW9kdWxlKTticmVhaztjYXNlXCJ0ZXh0XCI6dGhpcy5zaGFwZT1uZXcgUFtcImRlZmF1bHRcIl0odGhpcy5vcHRpb25zLHRoaXMuYm9keSx0aGlzLmxhYmVsTW9kdWxlKTticmVhaztjYXNlXCJ0cmlhbmdsZVwiOnRoaXMuc2hhcGU9bmV3IE5bXCJkZWZhdWx0XCJdKHRoaXMub3B0aW9ucyx0aGlzLmJvZHksdGhpcy5sYWJlbE1vZHVsZSk7YnJlYWs7Y2FzZVwidHJpYW5nbGVEb3duXCI6dGhpcy5zaGFwZT1uZXcgTFtcImRlZmF1bHRcIl0odGhpcy5vcHRpb25zLHRoaXMuYm9keSx0aGlzLmxhYmVsTW9kdWxlKTticmVhaztkZWZhdWx0OnRoaXMuc2hhcGU9bmV3IF9bXCJkZWZhdWx0XCJdKHRoaXMub3B0aW9ucyx0aGlzLmJvZHksdGhpcy5sYWJlbE1vZHVsZSl9dGhpcy5fcmVzZXQoKX19LHtrZXk6XCJzZWxlY3RcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWQ9ITAsdGhpcy5fcmVzZXQoKX19LHtrZXk6XCJ1bnNlbGVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZD0hMSx0aGlzLl9yZXNldCgpfX0se2tleTpcIl9yZXNldFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zaGFwZS53aWR0aD12b2lkIDAsdGhpcy5zaGFwZS5oZWlnaHQ9dm9pZCAwfX0se2tleTpcImdldFRpdGxlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLnRpdGxlfX0se2tleTpcImRpc3RhbmNlVG9Cb3JkZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnNoYXBlLmRpc3RhbmNlVG9Cb3JkZXIodCxlKX19LHtrZXk6XCJpc0ZpeGVkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLmZpeGVkLngmJnRoaXMub3B0aW9ucy5maXhlZC55fX0se2tleTpcImlzU2VsZWN0ZWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdGVkfX0se2tleTpcImdldFZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLnZhbHVlfX0se2tleTpcInNldFZhbHVlUmFuZ2VcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7aWYodm9pZCAwIT09dGhpcy5vcHRpb25zLnZhbHVlKXt2YXIgbz10aGlzLm9wdGlvbnMuc2NhbGluZy5jdXN0b21TY2FsaW5nRnVuY3Rpb24odCxlLGksdGhpcy5vcHRpb25zLnZhbHVlKSxuPXRoaXMub3B0aW9ucy5zY2FsaW5nLm1heC10aGlzLm9wdGlvbnMuc2NhbGluZy5taW47aWYodGhpcy5vcHRpb25zLnNjYWxpbmcubGFiZWwuZW5hYmxlZD09PSEwKXt2YXIgcz10aGlzLm9wdGlvbnMuc2NhbGluZy5sYWJlbC5tYXgtdGhpcy5vcHRpb25zLnNjYWxpbmcubGFiZWwubWluO3RoaXMub3B0aW9ucy5mb250LnNpemU9dGhpcy5vcHRpb25zLnNjYWxpbmcubGFiZWwubWluK28qc310aGlzLm9wdGlvbnMuc2l6ZT10aGlzLm9wdGlvbnMuc2NhbGluZy5taW4rbypufWVsc2UgdGhpcy5vcHRpb25zLnNpemU9dGhpcy5iYXNlU2l6ZSx0aGlzLm9wdGlvbnMuZm9udC5zaXplPXRoaXMuYmFzZUZvbnRTaXplO3RoaXMudXBkYXRlTGFiZWxNb2R1bGUoKX19LHtrZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5zaGFwZS5kcmF3KHQsdGhpcy54LHRoaXMueSx0aGlzLnNlbGVjdGVkLHRoaXMuaG92ZXIpfX0se2tleTpcInVwZGF0ZUJvdW5kaW5nQm94XCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5zaGFwZS51cGRhdGVCb3VuZGluZ0JveCh0aGlzLngsdGhpcy55LHQpfX0se2tleTpcInJlc2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuc2hhcGUucmVzaXplKHQsdGhpcy5zZWxlY3RlZCl9fSx7a2V5OlwiaXNPdmVybGFwcGluZ1dpdGhcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zaGFwZS5sZWZ0PHQucmlnaHQmJnRoaXMuc2hhcGUubGVmdCt0aGlzLnNoYXBlLndpZHRoPnQubGVmdCYmdGhpcy5zaGFwZS50b3A8dC5ib3R0b20mJnRoaXMuc2hhcGUudG9wK3RoaXMuc2hhcGUuaGVpZ2h0PnQudG9wfX0se2tleTpcImlzQm91bmRpbmdCb3hPdmVybGFwcGluZ1dpdGhcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zaGFwZS5ib3VuZGluZ0JveC5sZWZ0PHQucmlnaHQmJnRoaXMuc2hhcGUuYm91bmRpbmdCb3gucmlnaHQ+dC5sZWZ0JiZ0aGlzLnNoYXBlLmJvdW5kaW5nQm94LnRvcDx0LmJvdHRvbSYmdGhpcy5zaGFwZS5ib3VuZGluZ0JveC5ib3R0b20+dC50b3B9fV0sW3trZXk6XCJwYXJzZU9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg8PTJ8fHZvaWQgMD09PWFyZ3VtZW50c1syXT8hMTphcmd1bWVudHNbMl0sbz1hcmd1bWVudHMubGVuZ3RoPD0zfHx2b2lkIDA9PT1hcmd1bWVudHNbM10/e306YXJndW1lbnRzWzNdLG49W1wiY29sb3JcIixcImZvbnRcIixcImZpeGVkXCIsXCJzaGFkb3dcIl07aWYoQi5zZWxlY3RpdmVOb3REZWVwRXh0ZW5kKG4sdCxlLGkpLEIubWVyZ2VPcHRpb25zKHQsZSxcInNoYWRvd1wiLGksbyksdm9pZCAwIT09ZS5jb2xvciYmbnVsbCE9PWUuY29sb3Ipe3ZhciBzPUIucGFyc2VDb2xvcihlLmNvbG9yKTtCLmZpbGxJZkRlZmluZWQodC5jb2xvcixzKX1lbHNlIGk9PT0hMCYmbnVsbD09PWUuY29sb3ImJih0LmNvbG9yPUIuYnJpZGdlT2JqZWN0KG8uY29sb3IpKTt2b2lkIDAhPT1lLmZpeGVkJiZudWxsIT09ZS5maXhlZCYmKFwiYm9vbGVhblwiPT10eXBlb2YgZS5maXhlZD8odC5maXhlZC54PWUuZml4ZWQsdC5maXhlZC55PWUuZml4ZWQpOih2b2lkIDAhPT1lLmZpeGVkLngmJlwiYm9vbGVhblwiPT10eXBlb2YgZS5maXhlZC54JiYodC5maXhlZC54PWUuZml4ZWQueCksdm9pZCAwIT09ZS5maXhlZC55JiZcImJvb2xlYW5cIj09dHlwZW9mIGUuZml4ZWQueSYmKHQuZml4ZWQueT1lLmZpeGVkLnkpKSksdm9pZCAwIT09ZS5mb250JiZudWxsIT09ZS5mb250P2FbXCJkZWZhdWx0XCJdLnBhcnNlT3B0aW9ucyh0LmZvbnQsZSk6aT09PSEwJiZudWxsPT09ZS5mb250JiYodC5mb250PUIuYnJpZGdlT2JqZWN0KG8uZm9udCkpLHZvaWQgMCE9PWUuc2NhbGluZyYmQi5tZXJnZU9wdGlvbnModC5zY2FsaW5nLGUuc2NhbGluZyxcImxhYmVsXCIsaSxvLnNjYWxpbmcpfX1dKSx0fSgpO2VbXCJkZWZhdWx0XCJdPUYsdC5leHBvcnRzPWVbXCJkZWZhdWx0XCJdfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbyh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dmFyIGk9W10sbz0hMCxuPSExLHM9dm9pZCAwO3RyeXtmb3IodmFyIHIsYT10W1N5bWJvbC5pdGVyYXRvcl0oKTshKG89KHI9YS5uZXh0KCkpLmRvbmUpJiYoaS5wdXNoKHIudmFsdWUpLCFlfHxpLmxlbmd0aCE9PWUpO289ITApO31jYXRjaChoKXtuPSEwLHM9aH1maW5hbGx5e3RyeXshbyYmYVtcInJldHVyblwiXSYmYVtcInJldHVyblwiXSgpfWZpbmFsbHl7aWYobil0aHJvdyBzfX1yZXR1cm4gaX1yZXR1cm4gZnVuY3Rpb24oZSxpKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlO2lmKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSkpcmV0dXJuIHQoZSxpKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKX19KCkscz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLHI9aSgxKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLGkpe28odGhpcyx0KSx0aGlzLmJvZHk9ZSx0aGlzLnBvaW50VG9TZWxmPSExLHRoaXMuYmFzZVNpemU9dm9pZCAwLHRoaXMuZm9udE9wdGlvbnM9e30sdGhpcy5zZXRPcHRpb25zKGkpLHRoaXMuc2l6ZT17dG9wOjAsbGVmdDowLHdpZHRoOjAsaGVpZ2h0OjAseUxpbmU6MH19cmV0dXJuIHModCxbe2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPD0xfHx2b2lkIDA9PT1hcmd1bWVudHNbMV0/ITE6YXJndW1lbnRzWzFdO3RoaXMubm9kZU9wdGlvbnM9ZSx0aGlzLmZvbnRPcHRpb25zPXIuZGVlcEV4dGVuZCh7fSxlLmZvbnQsITApLHZvaWQgMCE9PWUubGFiZWwmJih0aGlzLmxhYmVsRGlydHk9ITApLHZvaWQgMCE9PWUuZm9udCYmKHQucGFyc2VPcHRpb25zKHRoaXMuZm9udE9wdGlvbnMsZSxpKSxcInN0cmluZ1wiPT10eXBlb2YgZS5mb250P3RoaXMuYmFzZVNpemU9dGhpcy5mb250T3B0aW9ucy5zaXplOlwib2JqZWN0XCI9PXR5cGVvZiBlLmZvbnQmJnZvaWQgMCE9PWUuZm9udC5zaXplJiYodGhpcy5iYXNlU2l6ZT1lLmZvbnQuc2l6ZSkpfX0se2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPD00fHx2b2lkIDA9PT1hcmd1bWVudHNbNF0/XCJtaWRkbGVcIjphcmd1bWVudHNbNF07aWYodm9pZCAwIT09dGhpcy5ub2RlT3B0aW9ucy5sYWJlbCl7dmFyIHM9dGhpcy5mb250T3B0aW9ucy5zaXplKnRoaXMuYm9keS52aWV3LnNjYWxlO3RoaXMubm9kZU9wdGlvbnMubGFiZWwmJnM8dGhpcy5ub2RlT3B0aW9ucy5zY2FsaW5nLmxhYmVsLmRyYXdUaHJlc2hvbGQtMXx8KHRoaXMuY2FsY3VsYXRlTGFiZWxTaXplKHQsbyxlLGksbiksdGhpcy5fZHJhd0JhY2tncm91bmQodCksdGhpcy5fZHJhd1RleHQodCxvLGUsaSxuKSl9fX0se2tleTpcIl9kcmF3QmFja2dyb3VuZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9PXRoaXMuZm9udE9wdGlvbnMuYmFja2dyb3VuZCYmXCJub25lXCIhPT10aGlzLmZvbnRPcHRpb25zLmJhY2tncm91bmQpe3QuZmlsbFN0eWxlPXRoaXMuZm9udE9wdGlvbnMuYmFja2dyb3VuZDt2YXIgZT0yO3N3aXRjaCh0aGlzLmZvbnRPcHRpb25zLmFsaWduKXtjYXNlXCJtaWRkbGVcIjp0LmZpbGxSZWN0KC41Ki10aGlzLnNpemUud2lkdGgsLjUqLXRoaXMuc2l6ZS5oZWlnaHQsdGhpcy5zaXplLndpZHRoLHRoaXMuc2l6ZS5oZWlnaHQpO2JyZWFrO2Nhc2VcInRvcFwiOnQuZmlsbFJlY3QoLjUqLXRoaXMuc2l6ZS53aWR0aCwtKHRoaXMuc2l6ZS5oZWlnaHQrZSksdGhpcy5zaXplLndpZHRoLHRoaXMuc2l6ZS5oZWlnaHQpO2JyZWFrO2Nhc2VcImJvdHRvbVwiOnQuZmlsbFJlY3QoLjUqLXRoaXMuc2l6ZS53aWR0aCxlLHRoaXMuc2l6ZS53aWR0aCx0aGlzLnNpemUuaGVpZ2h0KTticmVhaztkZWZhdWx0OnQuZmlsbFJlY3QodGhpcy5zaXplLmxlZnQsdGhpcy5zaXplLnRvcC0uNSplLHRoaXMuc2l6ZS53aWR0aCx0aGlzLnNpemUuaGVpZ2h0KX19fX0se2tleTpcIl9kcmF3VGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8pe3ZhciBzPWFyZ3VtZW50cy5sZW5ndGg8PTR8fHZvaWQgMD09PWFyZ3VtZW50c1s0XT9cIm1pZGRsZVwiOmFyZ3VtZW50c1s0XSxyPXRoaXMuZm9udE9wdGlvbnMuc2l6ZSxhPXIqdGhpcy5ib2R5LnZpZXcuc2NhbGU7YT49dGhpcy5ub2RlT3B0aW9ucy5zY2FsaW5nLmxhYmVsLm1heFZpc2libGUmJihyPU51bWJlcih0aGlzLm5vZGVPcHRpb25zLnNjYWxpbmcubGFiZWwubWF4VmlzaWJsZSkvdGhpcy5ib2R5LnZpZXcuc2NhbGUpO3ZhciBoPXRoaXMuc2l6ZS55TGluZSxkPXRoaXMuX2dldENvbG9yKGEpLGw9bihkLDIpLHU9bFswXSxjPWxbMV0scD10aGlzLl9zZXRBbGlnbm1lbnQodCxpLGgscyksZj1uKHAsMik7aT1mWzBdLGg9ZlsxXSx0LmZvbnQ9KGUmJnRoaXMubm9kZU9wdGlvbnMubGFiZWxIaWdobGlnaHRCb2xkP1wiYm9sZCBcIjpcIlwiKStyK1wicHggXCIrdGhpcy5mb250T3B0aW9ucy5mYWNlLHQuZmlsbFN0eWxlPXUsdC50ZXh0QWxpZ249XCJjZW50ZXJcIix0aGlzLmZvbnRPcHRpb25zLnN0cm9rZVdpZHRoPjAmJih0LmxpbmVXaWR0aD10aGlzLmZvbnRPcHRpb25zLnN0cm9rZVdpZHRoLHQuc3Ryb2tlU3R5bGU9Yyx0LmxpbmVKb2luPVwicm91bmRcIik7Zm9yKHZhciBtPTA7bTx0aGlzLmxpbmVDb3VudDttKyspdGhpcy5mb250T3B0aW9ucy5zdHJva2VXaWR0aD4wJiZ0LnN0cm9rZVRleHQodGhpcy5saW5lc1ttXSxpLGgpLHQuZmlsbFRleHQodGhpcy5saW5lc1ttXSxpLGgpLGgrPXJ9fSx7a2V5OlwiX3NldEFsaWdubWVudFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8pe2lmKFwiaG9yaXpvbnRhbFwiIT09dGhpcy5mb250T3B0aW9ucy5hbGlnbiYmdGhpcy5wb2ludFRvU2VsZj09PSExKXtlPTAsaT0wO3ZhciBuPTI7XCJ0b3BcIj09PXRoaXMuZm9udE9wdGlvbnMuYWxpZ24/KHQudGV4dEJhc2VsaW5lPVwiYWxwaGFiZXRpY1wiLGktPTIqbik6XCJib3R0b21cIj09PXRoaXMuZm9udE9wdGlvbnMuYWxpZ24/KHQudGV4dEJhc2VsaW5lPVwiaGFuZ2luZ1wiLGkrPTIqbik6dC50ZXh0QmFzZWxpbmU9XCJtaWRkbGVcIn1lbHNlIHQudGV4dEJhc2VsaW5lPW87cmV0dXJuW2UsaV19fSx7a2V5OlwiX2dldENvbG9yXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5mb250T3B0aW9ucy5jb2xvcnx8XCIjMDAwMDAwXCIsaT10aGlzLmZvbnRPcHRpb25zLnN0cm9rZUNvbG9yfHxcIiNmZmZmZmZcIjtpZih0PD10aGlzLm5vZGVPcHRpb25zLnNjYWxpbmcubGFiZWwuZHJhd1RocmVzaG9sZCl7dmFyIG89TWF0aC5tYXgoMCxNYXRoLm1pbigxLDEtKHRoaXMubm9kZU9wdGlvbnMuc2NhbGluZy5sYWJlbC5kcmF3VGhyZXNob2xkLXQpKSk7ZT1yLm92ZXJyaWRlT3BhY2l0eShlLG8pLGk9ci5vdmVycmlkZU9wYWNpdHkoaSxvKX1yZXR1cm5bZSxpXX19LHtrZXk6XCJnZXRUZXh0U2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT8hMTphcmd1bWVudHNbMV0saT17d2lkdGg6dGhpcy5fcHJvY2Vzc0xhYmVsKHQsZSksaGVpZ2h0OnRoaXMuZm9udE9wdGlvbnMuc2l6ZSp0aGlzLmxpbmVDb3VudCxsaW5lQ291bnQ6dGhpcy5saW5lQ291bnR9O3JldHVybiBpfX0se2tleTpcImNhbGN1bGF0ZUxhYmVsU2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aDw9Mnx8dm9pZCAwPT09YXJndW1lbnRzWzJdPzA6YXJndW1lbnRzWzJdLG89YXJndW1lbnRzLmxlbmd0aDw9M3x8dm9pZCAwPT09YXJndW1lbnRzWzNdPzA6YXJndW1lbnRzWzNdLG49YXJndW1lbnRzLmxlbmd0aDw9NHx8dm9pZCAwPT09YXJndW1lbnRzWzRdP1wibWlkZGxlXCI6YXJndW1lbnRzWzRdO3RoaXMubGFiZWxEaXJ0eT09PSEwJiYodGhpcy5zaXplLndpZHRoPXRoaXMuX3Byb2Nlc3NMYWJlbCh0LGUpKSx0aGlzLnNpemUuaGVpZ2h0PXRoaXMuZm9udE9wdGlvbnMuc2l6ZSp0aGlzLmxpbmVDb3VudCx0aGlzLnNpemUubGVmdD1pLS41KnRoaXMuc2l6ZS53aWR0aCx0aGlzLnNpemUudG9wPW8tLjUqdGhpcy5zaXplLmhlaWdodCx0aGlzLnNpemUueUxpbmU9bysuNSooMS10aGlzLmxpbmVDb3VudCkqdGhpcy5mb250T3B0aW9ucy5zaXplLFwiaGFuZ2luZ1wiPT09biYmKHRoaXMuc2l6ZS50b3ArPS41KnRoaXMuZm9udE9wdGlvbnMuc2l6ZSx0aGlzLnNpemUudG9wKz00LHRoaXMuc2l6ZS55TGluZSs9NCksdGhpcy5sYWJlbERpcnR5PSExfX0se2tleTpcIl9wcm9jZXNzTGFiZWxcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPTAsbz1bXCJcIl0sbj0wO2lmKHZvaWQgMCE9PXRoaXMubm9kZU9wdGlvbnMubGFiZWwpe289U3RyaW5nKHRoaXMubm9kZU9wdGlvbnMubGFiZWwpLnNwbGl0KFwiXFxuXCIpLG49by5sZW5ndGgsdC5mb250PShlJiZ0aGlzLm5vZGVPcHRpb25zLmxhYmVsSGlnaGxpZ2h0Qm9sZD9cImJvbGQgXCI6XCJcIikrdGhpcy5mb250T3B0aW9ucy5zaXplK1wicHggXCIrdGhpcy5mb250T3B0aW9ucy5mYWNlLGk9dC5tZWFzdXJlVGV4dChvWzBdKS53aWR0aDtmb3IodmFyIHM9MTtuPnM7cysrKXt2YXIgcj10Lm1lYXN1cmVUZXh0KG9bc10pLndpZHRoO2k9cj5pP3I6aX19cmV0dXJuIHRoaXMubGluZXM9byx0aGlzLmxpbmVDb3VudD1uLGl9fV0sW3trZXk6XCJwYXJzZU9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg8PTJ8fHZvaWQgMD09PWFyZ3VtZW50c1syXT8hMTphcmd1bWVudHNbMl07aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUuZm9udCl7dmFyIG89ZS5mb250LnNwbGl0KFwiIFwiKTt0LnNpemU9b1swXS5yZXBsYWNlKFwicHhcIixcIlwiKSx0LmZhY2U9b1sxXSx0LmNvbG9yPW9bMl19ZWxzZVwib2JqZWN0XCI9PXR5cGVvZiBlLmZvbnQmJnIuZmlsbElmRGVmaW5lZCh0LGUuZm9udCxpKTt0LnNpemU9TnVtYmVyKHQuc2l6ZSl9fV0pLHR9KCk7ZVtcImRlZmF1bHRcIl09YSx0LmV4cG9ydHM9ZVtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1lW2ldO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4gaSYmdChlLnByb3RvdHlwZSxpKSxvJiZ0KGUsbyksZX19KCksYT1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBvPSEwO287KXt2YXIgbj10LHM9ZSxyPWk7bz0hMSxudWxsPT09biYmKG49RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4scyk7aWYodm9pZCAwIT09YSl7aWYoXCJ2YWx1ZVwiaW4gYSlyZXR1cm4gYS52YWx1ZTt2YXIgaD1hLmdldDtpZih2b2lkIDA9PT1oKXJldHVybjtyZXR1cm4gaC5jYWxsKHIpfXZhciBkPU9iamVjdC5nZXRQcm90b3R5cGVPZihuKTtpZihudWxsPT09ZClyZXR1cm47dD1kLGU9cyxpPXIsbz0hMCxhPWQ9dm9pZCAwfX0saD1pKDY1KSxkPW8oaCksbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsaSxvKXtuKHRoaXMsZSksYShPYmplY3QuZ2V0UHJvdG90eXBlT2YoZS5wcm90b3R5cGUpLFwiY29uc3RydWN0b3JcIix0aGlzKS5jYWxsKHRoaXMsdCxpLG8pfXJldHVybiBzKGUsdCkscihlLFt7a2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT10aGlzLndpZHRoKXt2YXIgaT01LG89dGhpcy5sYWJlbE1vZHVsZS5nZXRUZXh0U2l6ZSh0LGUpO3RoaXMud2lkdGg9by53aWR0aCsyKmksdGhpcy5oZWlnaHQ9by5oZWlnaHQrMippLHRoaXMucmFkaXVzPS41KnRoaXMud2lkdGh9fX0se2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4pe3RoaXMucmVzaXplKHQsbyksdGhpcy5sZWZ0PWUtdGhpcy53aWR0aC8yLHRoaXMudG9wPWktdGhpcy5oZWlnaHQvMjt2YXIgcz10aGlzLm9wdGlvbnMuYm9yZGVyV2lkdGgscj10aGlzLm9wdGlvbnMuYm9yZGVyV2lkdGhTZWxlY3RlZHx8Mip0aGlzLm9wdGlvbnMuYm9yZGVyV2lkdGg7dC5zdHJva2VTdHlsZT1vP3RoaXMub3B0aW9ucy5jb2xvci5oaWdobGlnaHQuYm9yZGVyOm4/dGhpcy5vcHRpb25zLmNvbG9yLmhvdmVyLmJvcmRlcjp0aGlzLm9wdGlvbnMuY29sb3IuYm9yZGVyLHQubGluZVdpZHRoPW8/cjpzLHQubGluZVdpZHRoLz10aGlzLmJvZHkudmlldy5zY2FsZSx0LmxpbmVXaWR0aD1NYXRoLm1pbih0aGlzLndpZHRoLHQubGluZVdpZHRoKSx0LmZpbGxTdHlsZT1vP3RoaXMub3B0aW9ucy5jb2xvci5oaWdobGlnaHQuYmFja2dyb3VuZDpuP3RoaXMub3B0aW9ucy5jb2xvci5ob3Zlci5iYWNrZ3JvdW5kOnRoaXMub3B0aW9ucy5jb2xvci5iYWNrZ3JvdW5kO3ZhciBhPXRoaXMub3B0aW9ucy5zaGFwZVByb3BlcnRpZXMuYm9yZGVyUmFkaXVzO3Qucm91bmRSZWN0KHRoaXMubGVmdCx0aGlzLnRvcCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LGEpLHRoaXMuZW5hYmxlU2hhZG93KHQpLHQuZmlsbCgpLHRoaXMuZGlzYWJsZVNoYWRvdyh0KSx0LnNhdmUoKSx0aGlzLmVuYWJsZUJvcmRlckRhc2hlcyh0KSx0LnN0cm9rZSgpLHRoaXMuZGlzYWJsZUJvcmRlckRhc2hlcyh0KSx0LnJlc3RvcmUoKSx0aGlzLnVwZGF0ZUJvdW5kaW5nQm94KGUsaSx0LG8pLHRoaXMubGFiZWxNb2R1bGUuZHJhdyh0LGUsaSxvKX19LHtrZXk6XCJ1cGRhdGVCb3VuZGluZ0JveFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8pe3RoaXMucmVzaXplKGksbyksdGhpcy5sZWZ0PXQtLjUqdGhpcy53aWR0aCx0aGlzLnRvcD1lLS41KnRoaXMuaGVpZ2h0LHRoaXMuYm91bmRpbmdCb3gubGVmdD10aGlzLmxlZnQsdGhpcy5ib3VuZGluZ0JveC50b3A9dGhpcy50b3AsdGhpcy5ib3VuZGluZ0JveC5ib3R0b209dGhpcy50b3ArdGhpcy5oZWlnaHQsdGhpcy5ib3VuZGluZ0JveC5yaWdodD10aGlzLmxlZnQrdGhpcy53aWR0aH19LHtrZXk6XCJkaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLnJlc2l6ZSh0KTt2YXIgaT10aGlzLndpZHRoLzIsbz10aGlzLmhlaWdodC8yLG49TWF0aC5zaW4oZSkqaSxzPU1hdGguY29zKGUpKm87cmV0dXJuIGkqby9NYXRoLnNxcnQobipuK3Mqcyl9fV0pLGV9KGRbXCJkZWZhdWx0XCJdKTtlW1wiZGVmYXVsdFwiXT1sLHQuZXhwb3J0cz1lW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbyxuKXtpKHRoaXMsdCksdGhpcy5ib2R5PW8sdGhpcy5sYWJlbE1vZHVsZT1uLHRoaXMuc2V0T3B0aW9ucyhlKSx0aGlzLnRvcD12b2lkIDAsdGhpcy5sZWZ0PXZvaWQgMCx0aGlzLmhlaWdodD12b2lkIDAsdGhpcy53aWR0aD12b2lkIDAsdGhpcy5yYWRpdXM9dm9pZCAwLHRoaXMuYm91bmRpbmdCb3g9e3RvcDowLGxlZnQ6MCxyaWdodDowLGJvdHRvbTowfX1yZXR1cm4gbyh0LFt7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucz10fX0se2tleTpcIl9kaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT0xO3JldHVybiB0aGlzLnJlc2l6ZSh0KSxNYXRoLm1pbihNYXRoLmFicyh0aGlzLndpZHRoLzIvTWF0aC5jb3MoZSkpLE1hdGguYWJzKHRoaXMuaGVpZ2h0LzIvTWF0aC5zaW4oZSkpKStpfX0se2tleTpcImVuYWJsZVNoYWRvd1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucy5zaGFkb3cuZW5hYmxlZD09PSEwJiYodC5zaGFkb3dDb2xvcj1cInJnYmEoMCwwLDAsMC41KVwiLHQuc2hhZG93Qmx1cj10aGlzLm9wdGlvbnMuc2hhZG93LnNpemUsdC5zaGFkb3dPZmZzZXRYPXRoaXMub3B0aW9ucy5zaGFkb3cueCx0LnNoYWRvd09mZnNldFk9dGhpcy5vcHRpb25zLnNoYWRvdy55KX19LHtrZXk6XCJkaXNhYmxlU2hhZG93XCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb25zLnNoYWRvdy5lbmFibGVkPT09ITAmJih0LnNoYWRvd0NvbG9yPVwicmdiYSgwLDAsMCwwKVwiLHQuc2hhZG93Qmx1cj0wLHQuc2hhZG93T2Zmc2V0WD0wLHQuc2hhZG93T2Zmc2V0WT0wKX19LHtrZXk6XCJlbmFibGVCb3JkZXJEYXNoZXNcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLm9wdGlvbnMuc2hhcGVQcm9wZXJ0aWVzLmJvcmRlckRhc2hlcyE9PSExKWlmKHZvaWQgMCE9PXQuc2V0TGluZURhc2gpe3ZhciBlPXRoaXMub3B0aW9ucy5zaGFwZVByb3BlcnRpZXMuYm9yZGVyRGFzaGVzO2U9PT0hMCYmKGU9WzUsMTVdKSx0LnNldExpbmVEYXNoKGUpfWVsc2UgY29uc29sZS53YXJuKFwic2V0TGluZURhc2ggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIuIFRoZSBkYXNoZWQgYm9yZGVycyBjYW5ub3QgYmUgdXNlZC5cIiksdGhpcy5vcHRpb25zLnNoYXBlUHJvcGVydGllcy5ib3JkZXJEYXNoZXM9ITF9fSx7a2V5OlwiZGlzYWJsZUJvcmRlckRhc2hlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucy5zaGFwZVByb3BlcnRpZXMuYm9yZGVyRGFzaGVzIT09ITEmJih2b2lkIDAhPT10LnNldExpbmVEYXNoP3Quc2V0TGluZURhc2goWzBdKTooY29uc29sZS53YXJuKFwic2V0TGluZURhc2ggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIuIFRoZSBkYXNoZWQgYm9yZGVycyBjYW5ub3QgYmUgdXNlZC5cIiksdGhpcy5vcHRpb25zLnNoYXBlUHJvcGVydGllcy5ib3JkZXJEYXNoZXM9ITEpKX19XSksdH0oKTtlW1wiZGVmYXVsdFwiXT1uLHQuZXhwb3J0cz1lW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBzKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvPWVbaV07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24oZSxpLG8pe3JldHVybiBpJiZ0KGUucHJvdG90eXBlLGkpLG8mJnQoZSxvKSxlfX0oKSxhPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG89ITA7bzspe3ZhciBuPXQscz1lLHI9aTtvPSExLG51bGw9PT1uJiYobj1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixzKTtpZih2b2lkIDAhPT1hKXtpZihcInZhbHVlXCJpbiBhKXJldHVybiBhLnZhbHVlO3ZhciBoPWEuZ2V0O2lmKHZvaWQgMD09PWgpcmV0dXJuO3JldHVybiBoLmNhbGwocil9dmFyIGQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKG4pO2lmKG51bGw9PT1kKXJldHVybjt0PWQsZT1zLGk9cixvPSEwLGE9ZD12b2lkIDB9fSxoPWkoNjcpLGQ9byhoKSxsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxpLG8pe24odGhpcyxlKSxhKE9iamVjdC5nZXRQcm90b3R5cGVPZihlLnByb3RvdHlwZSksXCJjb25zdHJ1Y3RvclwiLHRoaXMpLmNhbGwodGhpcyx0LGksbyl9cmV0dXJuIHMoZSx0KSxyKGUsW3trZXk6XCJyZXNpemVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PXRoaXMud2lkdGgpe3ZhciBpPTUsbz10aGlzLmxhYmVsTW9kdWxlLmdldFRleHRTaXplKHQsZSksbj1NYXRoLm1heChvLndpZHRoLG8uaGVpZ2h0KSsyKmk7dGhpcy5vcHRpb25zLnNpemU9bi8yLHRoaXMud2lkdGg9bix0aGlzLmhlaWdodD1uLHRoaXMucmFkaXVzPS41KnRoaXMud2lkdGh9fX0se2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4pe3RoaXMucmVzaXplKHQsbyksdGhpcy5sZWZ0PWUtdGhpcy53aWR0aC8yLHRoaXMudG9wPWktdGhpcy5oZWlnaHQvMix0aGlzLl9kcmF3UmF3Q2lyY2xlKHQsZSxpLG8sbix0aGlzLm9wdGlvbnMuc2l6ZSksdGhpcy5ib3VuZGluZ0JveC50b3A9aS10aGlzLm9wdGlvbnMuc2l6ZSx0aGlzLmJvdW5kaW5nQm94LmxlZnQ9ZS10aGlzLm9wdGlvbnMuc2l6ZSx0aGlzLmJvdW5kaW5nQm94LnJpZ2h0PWUrdGhpcy5vcHRpb25zLnNpemUsdGhpcy5ib3VuZGluZ0JveC5ib3R0b209aSt0aGlzLm9wdGlvbnMuc2l6ZSx0aGlzLnVwZGF0ZUJvdW5kaW5nQm94KGUsaSksdGhpcy5sYWJlbE1vZHVsZS5kcmF3KHQsZSxpLG8pfX0se2tleTpcInVwZGF0ZUJvdW5kaW5nQm94XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmJvdW5kaW5nQm94LnRvcD1lLXRoaXMub3B0aW9ucy5zaXplLHRoaXMuYm91bmRpbmdCb3gubGVmdD10LXRoaXMub3B0aW9ucy5zaXplLHRoaXMuYm91bmRpbmdCb3gucmlnaHQ9dCt0aGlzLm9wdGlvbnMuc2l6ZSx0aGlzLmJvdW5kaW5nQm94LmJvdHRvbT1lK3RoaXMub3B0aW9ucy5zaXplfX0se2tleTpcImRpc3RhbmNlVG9Cb3JkZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMucmVzaXplKHQpO3ZhciBpPXRoaXMud2lkdGgvMixvPXRoaXMuaGVpZ2h0LzIsbj1NYXRoLnNpbihlKSppLHM9TWF0aC5jb3MoZSkqbztyZXR1cm4gaSpvL01hdGguc3FydChuKm4rcypzKX19XSksZX0oZFtcImRlZmF1bHRcIl0pO2VbXCJkZWZhdWx0XCJdPWwsdC5leHBvcnRzPWVbXCJkZWZhdWx0XCJdfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWZ1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHModCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLGE9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIG49dCxzPWUscj1pO289ITEsbnVsbD09PW4mJihuPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHMpO2lmKHZvaWQgMCE9PWEpe2lmKFwidmFsdWVcImluIGEpcmV0dXJuIGEudmFsdWU7dmFyIGg9YS5nZXQ7aWYodm9pZCAwPT09aClyZXR1cm47cmV0dXJuIGguY2FsbChyKX12YXIgZD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobik7aWYobnVsbD09PWQpcmV0dXJuO3Q9ZCxlPXMsaT1yLG89ITAsYT1kPXZvaWQgMH19LGg9aSg2NSksZD1vKGgpLGw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGksbyl7bih0aGlzLGUpLGEoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUucHJvdG90eXBlKSxcImNvbnN0cnVjdG9yXCIsdGhpcykuY2FsbCh0aGlzLHQsaSxvKSx0aGlzLmxhYmVsT2Zmc2V0PTAsdGhpcy5pbWFnZUxvYWRlZD0hMX1yZXR1cm4gcyhlLHQpLHIoZSxbe2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMub3B0aW9ucz10LGUmJih0aGlzLmltYWdlT2JqPWUpfX0se2tleTpcIl9yZXNpemVJbWFnZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9ITE7aWYodGhpcy5pbWFnZU9iai53aWR0aCYmdGhpcy5pbWFnZU9iai5oZWlnaHQ/dGhpcy5pbWFnZUxvYWRlZD09PSExJiYodGhpcy5pbWFnZUxvYWRlZD0hMCx0PSEwKTp0aGlzLmltYWdlTG9hZGVkPSExLCF0aGlzLndpZHRofHwhdGhpcy5oZWlnaHR8fHQ9PT0hMCl7dmFyIGUsaSxvO3RoaXMuaW1hZ2VPYmoud2lkdGgmJnRoaXMuaW1hZ2VPYmouaGVpZ2h0JiYoZT0wLGk9MCksdGhpcy5vcHRpb25zLnNoYXBlUHJvcGVydGllcy51c2VJbWFnZVNpemU9PT0hMT90aGlzLmltYWdlT2JqLndpZHRoPnRoaXMuaW1hZ2VPYmouaGVpZ2h0PyhvPXRoaXMuaW1hZ2VPYmoud2lkdGgvdGhpcy5pbWFnZU9iai5oZWlnaHQsZT0yKnRoaXMub3B0aW9ucy5zaXplKm98fHRoaXMuaW1hZ2VPYmoud2lkdGgsaT0yKnRoaXMub3B0aW9ucy5zaXplfHx0aGlzLmltYWdlT2JqLmhlaWdodCk6KG89dGhpcy5pbWFnZU9iai53aWR0aCYmdGhpcy5pbWFnZU9iai5oZWlnaHQ/dGhpcy5pbWFnZU9iai5oZWlnaHQvdGhpcy5pbWFnZU9iai53aWR0aDoxLGU9Mip0aGlzLm9wdGlvbnMuc2l6ZSxpPTIqdGhpcy5vcHRpb25zLnNpemUqbyk6KGU9dGhpcy5pbWFnZU9iai53aWR0aCxpPXRoaXMuaW1hZ2VPYmouaGVpZ2h0KSx0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9aSx0aGlzLnJhZGl1cz0uNSp0aGlzLndpZHRofX19LHtrZXk6XCJfZHJhd1Jhd0NpcmNsZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbixzKXt2YXIgcj10aGlzLm9wdGlvbnMuYm9yZGVyV2lkdGgsYT10aGlzLm9wdGlvbnMuYm9yZGVyV2lkdGhTZWxlY3RlZHx8Mip0aGlzLm9wdGlvbnMuYm9yZGVyV2lkdGg7dC5zdHJva2VTdHlsZT1vP3RoaXMub3B0aW9ucy5jb2xvci5oaWdobGlnaHQuYm9yZGVyOm4/dGhpcy5vcHRpb25zLmNvbG9yLmhvdmVyLmJvcmRlcjp0aGlzLm9wdGlvbnMuY29sb3IuYm9yZGVyLHQubGluZVdpZHRoPW8/YTpyLHQubGluZVdpZHRoKj10aGlzLm5ldHdvcmtTY2FsZUludix0LmxpbmVXaWR0aD1NYXRoLm1pbih0aGlzLndpZHRoLHQubGluZVdpZHRoKSx0LmZpbGxTdHlsZT1vP3RoaXMub3B0aW9ucy5jb2xvci5oaWdobGlnaHQuYmFja2dyb3VuZDpuP3RoaXMub3B0aW9ucy5jb2xvci5ob3Zlci5iYWNrZ3JvdW5kOnRoaXMub3B0aW9ucy5jb2xvci5iYWNrZ3JvdW5kLHQuY2lyY2xlKGUsaSxzKSx0aGlzLmVuYWJsZVNoYWRvdyh0KSx0LmZpbGwoKSx0aGlzLmRpc2FibGVTaGFkb3codCksdC5zYXZlKCksdGhpcy5lbmFibGVCb3JkZXJEYXNoZXModCksdC5zdHJva2UoKSx0aGlzLmRpc2FibGVCb3JkZXJEYXNoZXModCksdC5yZXN0b3JlKCl9fSx7a2V5OlwiX2RyYXdJbWFnZUF0UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0KXswIT10aGlzLmltYWdlT2JqLndpZHRoJiYodC5nbG9iYWxBbHBoYT0xLHRoaXMuZW5hYmxlU2hhZG93KHQpLHQuZHJhd0ltYWdlKHRoaXMuaW1hZ2VPYmosdGhpcy5sZWZ0LHRoaXMudG9wLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHRoaXMuZGlzYWJsZVNoYWRvdyh0KSl9fSx7a2V5OlwiX2RyYXdJbWFnZUxhYmVsXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyl7dmFyIG4scz0wO2lmKHZvaWQgMCE9PXRoaXMuaGVpZ2h0KXtzPS41KnRoaXMuaGVpZ2h0O3ZhciByPXRoaXMubGFiZWxNb2R1bGUuZ2V0VGV4dFNpemUodCk7ci5saW5lQ291bnQ+PTEmJihzKz1yLmhlaWdodC8yKX1uPWkrcyx0aGlzLm9wdGlvbnMubGFiZWwmJih0aGlzLmxhYmVsT2Zmc2V0PXMpLHRoaXMubGFiZWxNb2R1bGUuZHJhdyh0LGUsbixvLFwiaGFuZ2luZ1wiKX19XSksZX0oZFtcImRlZmF1bHRcIl0pO2VbXCJkZWZhdWx0XCJdPWwsdC5leHBvcnRzPWVbXCJkZWZhdWx0XCJdfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWZ1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHModCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLGE9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIG49dCxzPWUscj1pO289ITEsbnVsbD09PW4mJihuPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHMpO2lmKHZvaWQgMCE9PWEpe2lmKFwidmFsdWVcImluIGEpcmV0dXJuIGEudmFsdWU7dmFyIGg9YS5nZXQ7aWYodm9pZCAwPT09aClyZXR1cm47cmV0dXJuIGguY2FsbChyKX12YXIgZD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobik7aWYobnVsbD09PWQpcmV0dXJuO3Q9ZCxlPXMsaT1yLG89ITAsYT1kPXZvaWQgMH19LGg9aSg2NyksZD1vKGgpLGw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGksbyxzKXtuKHRoaXMsZSksYShPYmplY3QuZ2V0UHJvdG90eXBlT2YoZS5wcm90b3R5cGUpLFwiY29uc3RydWN0b3JcIix0aGlzKS5jYWxsKHRoaXMsdCxpLG8pLHRoaXMuaW1hZ2VPYmo9cyx0aGlzLl9zd2FwVG9JbWFnZVJlc2l6ZVdoZW5JbWFnZUxvYWRlZD0hMH1yZXR1cm4gcyhlLHQpLHIoZSxbe2tleTpcInJlc2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodm9pZCAwPT09dGhpcy5pbWFnZU9iai5zcmN8fHZvaWQgMD09PXRoaXMuaW1hZ2VPYmoud2lkdGh8fHZvaWQgMD09PXRoaXMuaW1hZ2VPYmouaGVpZ2h0KXtpZighdGhpcy53aWR0aCl7dmFyIHQ9Mip0aGlzLm9wdGlvbnMuc2l6ZTt0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9dCx0aGlzLl9zd2FwVG9JbWFnZVJlc2l6ZVdoZW5JbWFnZUxvYWRlZD0hMCx0aGlzLnJhZGl1cz0uNSp0aGlzLndpZHRofX1lbHNlIHRoaXMuX3N3YXBUb0ltYWdlUmVzaXplV2hlbkltYWdlTG9hZGVkJiYodGhpcy53aWR0aD12b2lkIDAsdGhpcy5oZWlnaHQ9dm9pZCAwLHRoaXMuX3N3YXBUb0ltYWdlUmVzaXplV2hlbkltYWdlTG9hZGVkPSExKSx0aGlzLl9yZXNpemVJbWFnZSgpfX0se2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4pe3RoaXMucmVzaXplKCksdGhpcy5sZWZ0PWUtdGhpcy53aWR0aC8yLHRoaXMudG9wPWktdGhpcy5oZWlnaHQvMjt2YXIgcz1NYXRoLm1pbiguNSp0aGlzLmhlaWdodCwuNSp0aGlzLndpZHRoKTt0aGlzLl9kcmF3UmF3Q2lyY2xlKHQsZSxpLG8sbixzKSx0LnNhdmUoKSx0LmNsaXAoKSx0aGlzLl9kcmF3SW1hZ2VBdFBvc2l0aW9uKHQpLHQucmVzdG9yZSgpLHRoaXMuX2RyYXdJbWFnZUxhYmVsKHQsZSxpLG8pLHRoaXMudXBkYXRlQm91bmRpbmdCb3goZSxpKX19LHtrZXk6XCJ1cGRhdGVCb3VuZGluZ0JveFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5ib3VuZGluZ0JveC50b3A9ZS10aGlzLm9wdGlvbnMuc2l6ZSx0aGlzLmJvdW5kaW5nQm94LmxlZnQ9dC10aGlzLm9wdGlvbnMuc2l6ZSx0aGlzLmJvdW5kaW5nQm94LnJpZ2h0PXQrdGhpcy5vcHRpb25zLnNpemUsdGhpcy5ib3VuZGluZ0JveC5ib3R0b209ZSt0aGlzLm9wdGlvbnMuc2l6ZSx0aGlzLmJvdW5kaW5nQm94LmxlZnQ9TWF0aC5taW4odGhpcy5ib3VuZGluZ0JveC5sZWZ0LHRoaXMubGFiZWxNb2R1bGUuc2l6ZS5sZWZ0KSx0aGlzLmJvdW5kaW5nQm94LnJpZ2h0PU1hdGgubWF4KHRoaXMuYm91bmRpbmdCb3gucmlnaHQsdGhpcy5sYWJlbE1vZHVsZS5zaXplLmxlZnQrdGhpcy5sYWJlbE1vZHVsZS5zaXplLndpZHRoKSx0aGlzLmJvdW5kaW5nQm94LmJvdHRvbT1NYXRoLm1heCh0aGlzLmJvdW5kaW5nQm94LmJvdHRvbSx0aGlzLmJvdW5kaW5nQm94LmJvdHRvbSt0aGlzLmxhYmVsT2Zmc2V0KX19LHtrZXk6XCJkaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5yZXNpemUodCksdGhpcy5fZGlzdGFuY2VUb0JvcmRlcih0LGUpfX1dKSxlfShkW1wiZGVmYXVsdFwiXSk7ZVtcImRlZmF1bHRcIl09bCx0LmV4cG9ydHM9ZVtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1lW2ldO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4gaSYmdChlLnByb3RvdHlwZSxpKSxvJiZ0KGUsbyksZX19KCksYT1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBvPSEwO287KXt2YXIgbj10LHM9ZSxyPWk7bz0hMSxudWxsPT09biYmKG49RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4scyk7aWYodm9pZCAwIT09YSl7aWYoXCJ2YWx1ZVwiaW4gYSlyZXR1cm4gYS52YWx1ZTt2YXIgaD1hLmdldDtpZih2b2lkIDA9PT1oKXJldHVybjtyZXR1cm4gaC5jYWxsKHIpfXZhciBkPU9iamVjdC5nZXRQcm90b3R5cGVPZihuKTtpZihudWxsPT09ZClyZXR1cm47dD1kLGU9cyxpPXIsbz0hMCxhPWQ9dm9pZCAwfX0saD1pKDY1KSxkPW8oaCksbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsaSxvKXtuKHRoaXMsZSksYShPYmplY3QuZ2V0UHJvdG90eXBlT2YoZS5wcm90b3R5cGUpLFwiY29uc3RydWN0b3JcIix0aGlzKS5jYWxsKHRoaXMsdCxpLG8pfXJldHVybiBzKGUsdCkscihlLFt7a2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT10aGlzLndpZHRoKXt2YXIgaT01LG89dGhpcy5sYWJlbE1vZHVsZS5nZXRUZXh0U2l6ZSh0LGUpLG49by53aWR0aCsyKmk7dGhpcy53aWR0aD1uLHRoaXMuaGVpZ2h0PW4sdGhpcy5yYWRpdXM9LjUqdGhpcy53aWR0aH19fSx7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbil7dGhpcy5yZXNpemUodCxvKSx0aGlzLmxlZnQ9ZS10aGlzLndpZHRoLzIsdGhpcy50b3A9aS10aGlzLmhlaWdodC8yO3ZhciBzPXRoaXMub3B0aW9ucy5ib3JkZXJXaWR0aCxyPXRoaXMub3B0aW9ucy5ib3JkZXJXaWR0aFNlbGVjdGVkfHwyKnRoaXMub3B0aW9ucy5ib3JkZXJXaWR0aDt0LnN0cm9rZVN0eWxlPW8/dGhpcy5vcHRpb25zLmNvbG9yLmhpZ2hsaWdodC5ib3JkZXI6bj90aGlzLm9wdGlvbnMuY29sb3IuaG92ZXIuYm9yZGVyOnRoaXMub3B0aW9ucy5jb2xvci5ib3JkZXIsdC5saW5lV2lkdGg9dGhpcy5zZWxlY3RlZD9yOnMsdC5saW5lV2lkdGgqPXRoaXMubmV0d29ya1NjYWxlSW52LHQubGluZVdpZHRoPU1hdGgubWluKHRoaXMud2lkdGgsdC5saW5lV2lkdGgpLHQuZmlsbFN0eWxlPW8/dGhpcy5vcHRpb25zLmNvbG9yLmhpZ2hsaWdodC5iYWNrZ3JvdW5kOm4/dGhpcy5vcHRpb25zLmNvbG9yLmhvdmVyLmJhY2tncm91bmQ6dGhpcy5vcHRpb25zLmNvbG9yLmJhY2tncm91bmQsdC5kYXRhYmFzZShlLXRoaXMud2lkdGgvMixpLS41KnRoaXMuaGVpZ2h0LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHRoaXMuZW5hYmxlU2hhZG93KHQpLHQuZmlsbCgpLHRoaXMuZGlzYWJsZVNoYWRvdyh0KSx0LnNhdmUoKSx0aGlzLmVuYWJsZUJvcmRlckRhc2hlcyh0KSx0LnN0cm9rZSgpLHRoaXMuZGlzYWJsZUJvcmRlckRhc2hlcyh0KSx0LnJlc3RvcmUoKSx0aGlzLnVwZGF0ZUJvdW5kaW5nQm94KGUsaSx0LG8pLHRoaXMubGFiZWxNb2R1bGUuZHJhdyh0LGUsaSxvKX19LHtrZXk6XCJ1cGRhdGVCb3VuZGluZ0JveFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8pe3RoaXMucmVzaXplKGksbyksdGhpcy5sZWZ0PXQtLjUqdGhpcy53aWR0aCx0aGlzLnRvcD1lLS41KnRoaXMuaGVpZ2h0LHRoaXMuYm91bmRpbmdCb3gubGVmdD10aGlzLmxlZnQsdGhpcy5ib3VuZGluZ0JveC50b3A9dGhpcy50b3AsdGhpcy5ib3VuZGluZ0JveC5ib3R0b209dGhpcy50b3ArdGhpcy5oZWlnaHQsdGhpcy5ib3VuZGluZ0JveC5yaWdodD10aGlzLmxlZnQrdGhpcy53aWR0aH19LHtrZXk6XCJkaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLnJlc2l6ZSh0KTt2YXIgaT10aGlzLndpZHRoLzIsbz10aGlzLmhlaWdodC8yLG49TWF0aC5zaW4oZSkqaSxzPU1hdGguY29zKGUpKm87cmV0dXJuIGkqby9NYXRoLnNxcnQobipuK3Mqcyl9fV0pLGV9KGRbXCJkZWZhdWx0XCJdKTtlW1wiZGVmYXVsdFwiXT1sLHQuZXhwb3J0cz1lW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBzKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvPWVbaV07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24oZSxpLG8pe3JldHVybiBpJiZ0KGUucHJvdG90eXBlLGkpLG8mJnQoZSxvKSxlfX0oKSxhPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG89ITA7bzspe3ZhciBuPXQscz1lLHI9aTtvPSExLG51bGw9PT1uJiYobj1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixzKTtpZih2b2lkIDAhPT1hKXtpZihcInZhbHVlXCJpbiBhKXJldHVybiBhLnZhbHVlO3ZhciBoPWEuZ2V0O2lmKHZvaWQgMD09PWgpcmV0dXJuO3JldHVybiBoLmNhbGwocil9dmFyIGQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKG4pO2lmKG51bGw9PT1kKXJldHVybjt0PWQsZT1zLGk9cixvPSEwLGE9ZD12b2lkIDB9fSxoPWkoNzEpLGQ9byhoKSxsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxpLG8pe24odGhpcyxlKSxhKE9iamVjdC5nZXRQcm90b3R5cGVPZihlLnByb3RvdHlwZSksXCJjb25zdHJ1Y3RvclwiLHRoaXMpLmNhbGwodGhpcyx0LGksbyl9cmV0dXJuIHMoZSx0KSxyKGUsW3trZXk6XCJyZXNpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9yZXNpemVTaGFwZSgpfX0se2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4pe3RoaXMuX2RyYXdTaGFwZSh0LFwiZGlhbW9uZFwiLDQsZSxpLG8sbil9fSx7a2V5OlwiZGlzdGFuY2VUb0JvcmRlclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2Rpc3RhbmNlVG9Cb3JkZXIodCxlKX19XSksZX0oZFtcImRlZmF1bHRcIl0pO2VbXCJkZWZhdWx0XCJdPWwsdC5leHBvcnRzPWVbXCJkZWZhdWx0XCJdfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWZ1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHModCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLGE9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIG49dCxzPWUscj1pO289ITEsbnVsbD09PW4mJihuPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHMpO2lmKHZvaWQgMCE9PWEpe2lmKFwidmFsdWVcImluIGEpcmV0dXJuIGEudmFsdWU7dmFyIGg9YS5nZXQ7aWYodm9pZCAwPT09aClyZXR1cm47cmV0dXJuIGguY2FsbChyKX12YXIgZD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobik7aWYobnVsbD09PWQpcmV0dXJuO3Q9ZCxlPXMsaT1yLG89ITAsYT1kPXZvaWQgMH19LGg9aSg2NSksZD1vKGgpLGw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGksbyl7bih0aGlzLGUpLGEoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUucHJvdG90eXBlKSxcImNvbnN0cnVjdG9yXCIsdGhpcykuY2FsbCh0aGlzLHQsaSxvKX1yZXR1cm4gcyhlLHQpLHIoZSxbe2tleTpcIl9yZXNpemVTaGFwZVwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodm9pZCAwPT09dGhpcy53aWR0aCl7dmFyIHQ9Mip0aGlzLm9wdGlvbnMuc2l6ZTt0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9dCx0aGlzLnJhZGl1cz0uNSp0aGlzLndpZHRofX19LHtrZXk6XCJfZHJhd1NoYXBlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHMscil7dGhpcy5fcmVzaXplU2hhcGUoKSx0aGlzLmxlZnQ9by10aGlzLndpZHRoLzIsdGhpcy50b3A9bi10aGlzLmhlaWdodC8yO3ZhciBhPXRoaXMub3B0aW9ucy5ib3JkZXJXaWR0aCxoPXRoaXMub3B0aW9ucy5ib3JkZXJXaWR0aFNlbGVjdGVkfHwyKnRoaXMub3B0aW9ucy5ib3JkZXJXaWR0aDtpZih0LnN0cm9rZVN0eWxlPXM/dGhpcy5vcHRpb25zLmNvbG9yLmhpZ2hsaWdodC5ib3JkZXI6cj90aGlzLm9wdGlvbnMuY29sb3IuaG92ZXIuYm9yZGVyOnRoaXMub3B0aW9ucy5jb2xvci5ib3JkZXIsdC5saW5lV2lkdGg9cz9oOmEsdC5saW5lV2lkdGgvPXRoaXMuYm9keS52aWV3LnNjYWxlLHQubGluZVdpZHRoPU1hdGgubWluKHRoaXMud2lkdGgsdC5saW5lV2lkdGgpLHQuZmlsbFN0eWxlPXM/dGhpcy5vcHRpb25zLmNvbG9yLmhpZ2hsaWdodC5iYWNrZ3JvdW5kOnI/dGhpcy5vcHRpb25zLmNvbG9yLmhvdmVyLmJhY2tncm91bmQ6dGhpcy5vcHRpb25zLmNvbG9yLmJhY2tncm91bmQsXG50W2VdKG8sbix0aGlzLm9wdGlvbnMuc2l6ZSksdGhpcy5lbmFibGVTaGFkb3codCksdC5maWxsKCksdGhpcy5kaXNhYmxlU2hhZG93KHQpLHQuc2F2ZSgpLHRoaXMuZW5hYmxlQm9yZGVyRGFzaGVzKHQpLHQuc3Ryb2tlKCksdGhpcy5kaXNhYmxlQm9yZGVyRGFzaGVzKHQpLHQucmVzdG9yZSgpLHZvaWQgMCE9PXRoaXMub3B0aW9ucy5sYWJlbCl7dmFyIGQ9bisuNSp0aGlzLmhlaWdodCszO3RoaXMubGFiZWxNb2R1bGUuZHJhdyh0LG8sZCxzLFwiaGFuZ2luZ1wiKX10aGlzLnVwZGF0ZUJvdW5kaW5nQm94KG8sbil9fSx7a2V5OlwidXBkYXRlQm91bmRpbmdCb3hcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuYm91bmRpbmdCb3gudG9wPWUtdGhpcy5vcHRpb25zLnNpemUsdGhpcy5ib3VuZGluZ0JveC5sZWZ0PXQtdGhpcy5vcHRpb25zLnNpemUsdGhpcy5ib3VuZGluZ0JveC5yaWdodD10K3RoaXMub3B0aW9ucy5zaXplLHRoaXMuYm91bmRpbmdCb3guYm90dG9tPWUrdGhpcy5vcHRpb25zLnNpemUsdm9pZCAwIT09dGhpcy5vcHRpb25zLmxhYmVsJiZ0aGlzLmxhYmVsTW9kdWxlLnNpemUud2lkdGg+MCYmKHRoaXMuYm91bmRpbmdCb3gubGVmdD1NYXRoLm1pbih0aGlzLmJvdW5kaW5nQm94LmxlZnQsdGhpcy5sYWJlbE1vZHVsZS5zaXplLmxlZnQpLHRoaXMuYm91bmRpbmdCb3gucmlnaHQ9TWF0aC5tYXgodGhpcy5ib3VuZGluZ0JveC5yaWdodCx0aGlzLmxhYmVsTW9kdWxlLnNpemUubGVmdCt0aGlzLmxhYmVsTW9kdWxlLnNpemUud2lkdGgpLHRoaXMuYm91bmRpbmdCb3guYm90dG9tPU1hdGgubWF4KHRoaXMuYm91bmRpbmdCb3guYm90dG9tLHRoaXMuYm91bmRpbmdCb3guYm90dG9tK3RoaXMubGFiZWxNb2R1bGUuc2l6ZS5oZWlnaHQrMykpfX1dKSxlfShkW1wiZGVmYXVsdFwiXSk7ZVtcImRlZmF1bHRcIl09bCx0LmV4cG9ydHM9ZVtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1lW2ldO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4gaSYmdChlLnByb3RvdHlwZSxpKSxvJiZ0KGUsbyksZX19KCksYT1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBvPSEwO287KXt2YXIgbj10LHM9ZSxyPWk7bz0hMSxudWxsPT09biYmKG49RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4scyk7aWYodm9pZCAwIT09YSl7aWYoXCJ2YWx1ZVwiaW4gYSlyZXR1cm4gYS52YWx1ZTt2YXIgaD1hLmdldDtpZih2b2lkIDA9PT1oKXJldHVybjtyZXR1cm4gaC5jYWxsKHIpfXZhciBkPU9iamVjdC5nZXRQcm90b3R5cGVPZihuKTtpZihudWxsPT09ZClyZXR1cm47dD1kLGU9cyxpPXIsbz0hMCxhPWQ9dm9pZCAwfX0saD1pKDcxKSxkPW8oaCksbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsaSxvKXtuKHRoaXMsZSksYShPYmplY3QuZ2V0UHJvdG90eXBlT2YoZS5wcm90b3R5cGUpLFwiY29uc3RydWN0b3JcIix0aGlzKS5jYWxsKHRoaXMsdCxpLG8pfXJldHVybiBzKGUsdCkscihlLFt7a2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fcmVzaXplU2hhcGUoKX19LHtrZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuKXt0aGlzLl9kcmF3U2hhcGUodCxcImNpcmNsZVwiLDIsZSxpLG8sbil9fSx7a2V5OlwiZGlzdGFuY2VUb0JvcmRlclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucmVzaXplKHQpLHRoaXMub3B0aW9ucy5zaXplK3RoaXMub3B0aW9ucy5ib3JkZXJXaWR0aH19XSksZX0oZFtcImRlZmF1bHRcIl0pO2VbXCJkZWZhdWx0XCJdPWwsdC5leHBvcnRzPWVbXCJkZWZhdWx0XCJdfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWZ1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHModCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLGE9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIG49dCxzPWUscj1pO289ITEsbnVsbD09PW4mJihuPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHMpO2lmKHZvaWQgMCE9PWEpe2lmKFwidmFsdWVcImluIGEpcmV0dXJuIGEudmFsdWU7dmFyIGg9YS5nZXQ7aWYodm9pZCAwPT09aClyZXR1cm47cmV0dXJuIGguY2FsbChyKX12YXIgZD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobik7aWYobnVsbD09PWQpcmV0dXJuO3Q9ZCxlPXMsaT1yLG89ITAsYT1kPXZvaWQgMH19LGg9aSg2NSksZD1vKGgpLGw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGksbyl7bih0aGlzLGUpLGEoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUucHJvdG90eXBlKSxcImNvbnN0cnVjdG9yXCIsdGhpcykuY2FsbCh0aGlzLHQsaSxvKX1yZXR1cm4gcyhlLHQpLHIoZSxbe2tleTpcInJlc2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09dGhpcy53aWR0aCl7dmFyIGk9dGhpcy5sYWJlbE1vZHVsZS5nZXRUZXh0U2l6ZSh0LGUpO3RoaXMud2lkdGg9MS41Kmkud2lkdGgsdGhpcy5oZWlnaHQ9MippLmhlaWdodCx0aGlzLndpZHRoPHRoaXMuaGVpZ2h0JiYodGhpcy53aWR0aD10aGlzLmhlaWdodCksdGhpcy5yYWRpdXM9LjUqdGhpcy53aWR0aH19fSx7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbil7dGhpcy5yZXNpemUodCxvKSx0aGlzLmxlZnQ9ZS0uNSp0aGlzLndpZHRoLHRoaXMudG9wPWktLjUqdGhpcy5oZWlnaHQ7dmFyIHM9dGhpcy5vcHRpb25zLmJvcmRlcldpZHRoLHI9dGhpcy5vcHRpb25zLmJvcmRlcldpZHRoU2VsZWN0ZWR8fDIqdGhpcy5vcHRpb25zLmJvcmRlcldpZHRoO3Quc3Ryb2tlU3R5bGU9bz90aGlzLm9wdGlvbnMuY29sb3IuaGlnaGxpZ2h0LmJvcmRlcjpuP3RoaXMub3B0aW9ucy5jb2xvci5ob3Zlci5ib3JkZXI6dGhpcy5vcHRpb25zLmNvbG9yLmJvcmRlcix0LmxpbmVXaWR0aD1vP3I6cyx0LmxpbmVXaWR0aC89dGhpcy5ib2R5LnZpZXcuc2NhbGUsdC5saW5lV2lkdGg9TWF0aC5taW4odGhpcy53aWR0aCx0LmxpbmVXaWR0aCksdC5maWxsU3R5bGU9bz90aGlzLm9wdGlvbnMuY29sb3IuaGlnaGxpZ2h0LmJhY2tncm91bmQ6bj90aGlzLm9wdGlvbnMuY29sb3IuaG92ZXIuYmFja2dyb3VuZDp0aGlzLm9wdGlvbnMuY29sb3IuYmFja2dyb3VuZCx0LmVsbGlwc2UodGhpcy5sZWZ0LHRoaXMudG9wLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHRoaXMuZW5hYmxlU2hhZG93KHQpLHQuZmlsbCgpLHRoaXMuZGlzYWJsZVNoYWRvdyh0KSx0LnNhdmUoKSx0aGlzLmVuYWJsZUJvcmRlckRhc2hlcyh0KSx0LnN0cm9rZSgpLHRoaXMuZGlzYWJsZUJvcmRlckRhc2hlcyh0KSx0LnJlc3RvcmUoKSx0aGlzLnVwZGF0ZUJvdW5kaW5nQm94KGUsaSx0LG8pLHRoaXMubGFiZWxNb2R1bGUuZHJhdyh0LGUsaSxvKX19LHtrZXk6XCJ1cGRhdGVCb3VuZGluZ0JveFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8pe3RoaXMucmVzaXplKGksbyksdGhpcy5sZWZ0PXQtLjUqdGhpcy53aWR0aCx0aGlzLnRvcD1lLS41KnRoaXMuaGVpZ2h0LHRoaXMuYm91bmRpbmdCb3gubGVmdD10aGlzLmxlZnQsdGhpcy5ib3VuZGluZ0JveC50b3A9dGhpcy50b3AsdGhpcy5ib3VuZGluZ0JveC5ib3R0b209dGhpcy50b3ArdGhpcy5oZWlnaHQsdGhpcy5ib3VuZGluZ0JveC5yaWdodD10aGlzLmxlZnQrdGhpcy53aWR0aH19LHtrZXk6XCJkaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLnJlc2l6ZSh0KTt2YXIgaT0uNSp0aGlzLndpZHRoLG89LjUqdGhpcy5oZWlnaHQsbj1NYXRoLnNpbihlKSppLHM9TWF0aC5jb3MoZSkqbztyZXR1cm4gaSpvL01hdGguc3FydChuKm4rcypzKX19XSksZX0oZFtcImRlZmF1bHRcIl0pO2VbXCJkZWZhdWx0XCJdPWwsdC5leHBvcnRzPWVbXCJkZWZhdWx0XCJdfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWZ1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHModCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLGE9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIG49dCxzPWUscj1pO289ITEsbnVsbD09PW4mJihuPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHMpO2lmKHZvaWQgMCE9PWEpe2lmKFwidmFsdWVcImluIGEpcmV0dXJuIGEudmFsdWU7dmFyIGg9YS5nZXQ7aWYodm9pZCAwPT09aClyZXR1cm47cmV0dXJuIGguY2FsbChyKX12YXIgZD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobik7aWYobnVsbD09PWQpcmV0dXJuO3Q9ZCxlPXMsaT1yLG89ITAsYT1kPXZvaWQgMH19LGg9aSg2NSksZD1vKGgpLGw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGksbyl7bih0aGlzLGUpLGEoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUucHJvdG90eXBlKSxcImNvbnN0cnVjdG9yXCIsdGhpcykuY2FsbCh0aGlzLHQsaSxvKX1yZXR1cm4gcyhlLHQpLHIoZSxbe2tleTpcInJlc2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXRoaXMud2lkdGgpe3ZhciBlPTUsaT17d2lkdGg6TnVtYmVyKHRoaXMub3B0aW9ucy5pY29uLnNpemUpLGhlaWdodDpOdW1iZXIodGhpcy5vcHRpb25zLmljb24uc2l6ZSl9O3RoaXMud2lkdGg9aS53aWR0aCsyKmUsdGhpcy5oZWlnaHQ9aS5oZWlnaHQrMiplLHRoaXMucmFkaXVzPS41KnRoaXMud2lkdGh9fX0se2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4pe2lmKHRoaXMucmVzaXplKHQpLHRoaXMub3B0aW9ucy5pY29uLnNpemU9dGhpcy5vcHRpb25zLmljb24uc2l6ZXx8NTAsdGhpcy5sZWZ0PWUtLjUqdGhpcy53aWR0aCx0aGlzLnRvcD1pLS41KnRoaXMuaGVpZ2h0LHRoaXMuX2ljb24odCxlLGksbyksdm9pZCAwIT09dGhpcy5vcHRpb25zLmxhYmVsKXt2YXIgcz01O3RoaXMubGFiZWxNb2R1bGUuZHJhdyh0LGUsaSsuNSp0aGlzLmhlaWdodCtzLG8pfXRoaXMudXBkYXRlQm91bmRpbmdCb3goZSxpKX19LHtrZXk6XCJ1cGRhdGVCb3VuZGluZ0JveFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5ib3VuZGluZ0JveC50b3A9ZS0uNSp0aGlzLm9wdGlvbnMuaWNvbi5zaXplLHRoaXMuYm91bmRpbmdCb3gubGVmdD10LS41KnRoaXMub3B0aW9ucy5pY29uLnNpemUsdGhpcy5ib3VuZGluZ0JveC5yaWdodD10Ky41KnRoaXMub3B0aW9ucy5pY29uLnNpemUsdGhpcy5ib3VuZGluZ0JveC5ib3R0b209ZSsuNSp0aGlzLm9wdGlvbnMuaWNvbi5zaXplLHZvaWQgMCE9PXRoaXMub3B0aW9ucy5sYWJlbCYmdGhpcy5sYWJlbE1vZHVsZS5zaXplLndpZHRoPjApe3ZhciBpPTU7dGhpcy5ib3VuZGluZ0JveC5sZWZ0PU1hdGgubWluKHRoaXMuYm91bmRpbmdCb3gubGVmdCx0aGlzLmxhYmVsTW9kdWxlLnNpemUubGVmdCksdGhpcy5ib3VuZGluZ0JveC5yaWdodD1NYXRoLm1heCh0aGlzLmJvdW5kaW5nQm94LnJpZ2h0LHRoaXMubGFiZWxNb2R1bGUuc2l6ZS5sZWZ0K3RoaXMubGFiZWxNb2R1bGUuc2l6ZS53aWR0aCksdGhpcy5ib3VuZGluZ0JveC5ib3R0b209TWF0aC5tYXgodGhpcy5ib3VuZGluZ0JveC5ib3R0b20sdGhpcy5ib3VuZGluZ0JveC5ib3R0b20rdGhpcy5sYWJlbE1vZHVsZS5zaXplLmhlaWdodCtpKX19fSx7a2V5OlwiX2ljb25cIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvKXt2YXIgbj1OdW1iZXIodGhpcy5vcHRpb25zLmljb24uc2l6ZSk7dm9pZCAwIT09dGhpcy5vcHRpb25zLmljb24uY29kZT8odC5mb250PShvP1wiYm9sZCBcIjpcIlwiKStuK1wicHggXCIrdGhpcy5vcHRpb25zLmljb24uZmFjZSx0LmZpbGxTdHlsZT10aGlzLm9wdGlvbnMuaWNvbi5jb2xvcnx8XCJibGFja1wiLHQudGV4dEFsaWduPVwiY2VudGVyXCIsdC50ZXh0QmFzZWxpbmU9XCJtaWRkbGVcIix0aGlzLmVuYWJsZVNoYWRvdyh0KSx0LmZpbGxUZXh0KHRoaXMub3B0aW9ucy5pY29uLmNvZGUsZSxpKSx0aGlzLmRpc2FibGVTaGFkb3codCkpOmNvbnNvbGUuZXJyb3IoXCJXaGVuIHVzaW5nIHRoZSBpY29uIHNoYXBlLCB5b3UgbmVlZCB0byBkZWZpbmUgdGhlIGNvZGUgaW4gdGhlIGljb24gb3B0aW9ucyBvYmplY3QuIFRoaXMgY2FuIGJlIGRvbmUgcGVyIG5vZGUgb3IgZ2xvYmFsbHkuXCIpfX0se2tleTpcImRpc3RhbmNlVG9Cb3JkZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9kaXN0YW5jZVRvQm9yZGVyKHQsZSl9fV0pLGV9KGRbXCJkZWZhdWx0XCJdKTtlW1wiZGVmYXVsdFwiXT1sLHQuZXhwb3J0cz1lW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBzKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvPWVbaV07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24oZSxpLG8pe3JldHVybiBpJiZ0KGUucHJvdG90eXBlLGkpLG8mJnQoZSxvKSxlfX0oKSxhPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG89ITA7bzspe3ZhciBuPXQscz1lLHI9aTtvPSExLG51bGw9PT1uJiYobj1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixzKTtpZih2b2lkIDAhPT1hKXtpZihcInZhbHVlXCJpbiBhKXJldHVybiBhLnZhbHVlO3ZhciBoPWEuZ2V0O2lmKHZvaWQgMD09PWgpcmV0dXJuO3JldHVybiBoLmNhbGwocil9dmFyIGQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKG4pO2lmKG51bGw9PT1kKXJldHVybjt0PWQsZT1zLGk9cixvPSEwLGE9ZD12b2lkIDB9fSxoPWkoNjcpLGQ9byhoKSxsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxpLG8scyl7bih0aGlzLGUpLGEoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUucHJvdG90eXBlKSxcImNvbnN0cnVjdG9yXCIsdGhpcykuY2FsbCh0aGlzLHQsaSxvKSx0aGlzLmltYWdlT2JqPXN9cmV0dXJuIHMoZSx0KSxyKGUsW3trZXk6XCJyZXNpemVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3Jlc2l6ZUltYWdlKCl9fSx7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbil7aWYodGhpcy5yZXNpemUoKSx0aGlzLmxlZnQ9ZS10aGlzLndpZHRoLzIsdGhpcy50b3A9aS10aGlzLmhlaWdodC8yLHRoaXMub3B0aW9ucy5zaGFwZVByb3BlcnRpZXMudXNlQm9yZGVyV2l0aEltYWdlPT09ITApe3ZhciBzPXRoaXMub3B0aW9ucy5ib3JkZXJXaWR0aCxyPXRoaXMub3B0aW9ucy5ib3JkZXJXaWR0aFNlbGVjdGVkfHwyKnRoaXMub3B0aW9ucy5ib3JkZXJXaWR0aDt0LmJlZ2luUGF0aCgpLHQuc3Ryb2tlU3R5bGU9bz90aGlzLm9wdGlvbnMuY29sb3IuaGlnaGxpZ2h0LmJvcmRlcjpuP3RoaXMub3B0aW9ucy5jb2xvci5ob3Zlci5ib3JkZXI6dGhpcy5vcHRpb25zLmNvbG9yLmJvcmRlcix0LmxpbmVXaWR0aD1vP3I6cyx0LmxpbmVXaWR0aC89dGhpcy5ib2R5LnZpZXcuc2NhbGUsdC5saW5lV2lkdGg9TWF0aC5taW4odGhpcy53aWR0aCx0LmxpbmVXaWR0aCksdC5maWxsU3R5bGU9bz90aGlzLm9wdGlvbnMuY29sb3IuaGlnaGxpZ2h0LmJhY2tncm91bmQ6bj90aGlzLm9wdGlvbnMuY29sb3IuaG92ZXIuYmFja2dyb3VuZDp0aGlzLm9wdGlvbnMuY29sb3IuYmFja2dyb3VuZCx0LnJlY3QodGhpcy5sZWZ0LS41KnQubGluZVdpZHRoLHRoaXMudG9wLS41KnQubGluZVdpZHRoLHRoaXMud2lkdGgrdC5saW5lV2lkdGgsdGhpcy5oZWlnaHQrdC5saW5lV2lkdGgpLHQuZmlsbCgpLHQuc2F2ZSgpLHRoaXMuZW5hYmxlQm9yZGVyRGFzaGVzKHQpLHQuc3Ryb2tlKCksdGhpcy5kaXNhYmxlQm9yZGVyRGFzaGVzKHQpLHQucmVzdG9yZSgpLHQuY2xvc2VQYXRoKCl9dGhpcy5fZHJhd0ltYWdlQXRQb3NpdGlvbih0KSx0aGlzLl9kcmF3SW1hZ2VMYWJlbCh0LGUsaSxvfHxuKSx0aGlzLnVwZGF0ZUJvdW5kaW5nQm94KGUsaSl9fSx7a2V5OlwidXBkYXRlQm91bmRpbmdCb3hcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMucmVzaXplKCksdGhpcy5sZWZ0PXQtdGhpcy53aWR0aC8yLHRoaXMudG9wPWUtdGhpcy5oZWlnaHQvMix0aGlzLmJvdW5kaW5nQm94LnRvcD10aGlzLnRvcCx0aGlzLmJvdW5kaW5nQm94LmxlZnQ9dGhpcy5sZWZ0LHRoaXMuYm91bmRpbmdCb3gucmlnaHQ9dGhpcy5sZWZ0K3RoaXMud2lkdGgsdGhpcy5ib3VuZGluZ0JveC5ib3R0b209dGhpcy50b3ArdGhpcy5oZWlnaHQsdm9pZCAwIT09dGhpcy5vcHRpb25zLmxhYmVsJiZ0aGlzLmxhYmVsTW9kdWxlLnNpemUud2lkdGg+MCYmKHRoaXMuYm91bmRpbmdCb3gubGVmdD1NYXRoLm1pbih0aGlzLmJvdW5kaW5nQm94LmxlZnQsdGhpcy5sYWJlbE1vZHVsZS5zaXplLmxlZnQpLHRoaXMuYm91bmRpbmdCb3gucmlnaHQ9TWF0aC5tYXgodGhpcy5ib3VuZGluZ0JveC5yaWdodCx0aGlzLmxhYmVsTW9kdWxlLnNpemUubGVmdCt0aGlzLmxhYmVsTW9kdWxlLnNpemUud2lkdGgpLHRoaXMuYm91bmRpbmdCb3guYm90dG9tPU1hdGgubWF4KHRoaXMuYm91bmRpbmdCb3guYm90dG9tLHRoaXMuYm91bmRpbmdCb3guYm90dG9tK3RoaXMubGFiZWxPZmZzZXQpKX19LHtrZXk6XCJkaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLnJlc2l6ZSh0KTt2YXIgaT10aGlzLndpZHRoLzIsbz10aGlzLmhlaWdodC8yLG49TWF0aC5zaW4oZSkqaSxzPU1hdGguY29zKGUpKm87cmV0dXJuIGkqby9NYXRoLnNxcnQobipuK3Mqcyl9fV0pLGV9KGRbXCJkZWZhdWx0XCJdKTtlW1wiZGVmYXVsdFwiXT1sLHQuZXhwb3J0cz1lW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBzKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvPWVbaV07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24oZSxpLG8pe3JldHVybiBpJiZ0KGUucHJvdG90eXBlLGkpLG8mJnQoZSxvKSxlfX0oKSxhPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG89ITA7bzspe3ZhciBuPXQscz1lLHI9aTtvPSExLG51bGw9PT1uJiYobj1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixzKTtpZih2b2lkIDAhPT1hKXtpZihcInZhbHVlXCJpbiBhKXJldHVybiBhLnZhbHVlO3ZhciBoPWEuZ2V0O2lmKHZvaWQgMD09PWgpcmV0dXJuO3JldHVybiBoLmNhbGwocil9dmFyIGQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKG4pO2lmKG51bGw9PT1kKXJldHVybjt0PWQsZT1zLGk9cixvPSEwLGE9ZD12b2lkIDB9fSxoPWkoNzEpLGQ9byhoKSxsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxpLG8pe24odGhpcyxlKSxhKE9iamVjdC5nZXRQcm90b3R5cGVPZihlLnByb3RvdHlwZSksXCJjb25zdHJ1Y3RvclwiLHRoaXMpLmNhbGwodGhpcyx0LGksbyl9cmV0dXJuIHMoZSx0KSxyKGUsW3trZXk6XCJyZXNpemVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3Jlc2l6ZVNoYXBlKCl9fSx7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbil7dGhpcy5fZHJhd1NoYXBlKHQsXCJzcXVhcmVcIiwyLGUsaSxvLG4pfX0se2tleTpcImRpc3RhbmNlVG9Cb3JkZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9kaXN0YW5jZVRvQm9yZGVyKHQsZSl9fV0pLGV9KGRbXCJkZWZhdWx0XCJdKTtlW1wiZGVmYXVsdFwiXT1sLHQuZXhwb3J0cz1lW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBzKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvPWVbaV07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24oZSxpLG8pe3JldHVybiBpJiZ0KGUucHJvdG90eXBlLGkpLG8mJnQoZSxvKSxlfX0oKSxhPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG89ITA7bzspe3ZhciBuPXQscz1lLHI9aTtvPSExLG51bGw9PT1uJiYobj1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixzKTtpZih2b2lkIDAhPT1hKXtpZihcInZhbHVlXCJpbiBhKXJldHVybiBhLnZhbHVlO3ZhciBoPWEuZ2V0O2lmKHZvaWQgMD09PWgpcmV0dXJuO3JldHVybiBoLmNhbGwocil9dmFyIGQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKG4pO2lmKG51bGw9PT1kKXJldHVybjt0PWQsZT1zLGk9cixvPSEwLGE9ZD12b2lkIDB9fSxoPWkoNzEpLGQ9byhoKSxsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxpLG8pe24odGhpcyxlKSxhKE9iamVjdC5nZXRQcm90b3R5cGVPZihlLnByb3RvdHlwZSksXCJjb25zdHJ1Y3RvclwiLHRoaXMpLmNhbGwodGhpcyx0LGksbyl9cmV0dXJuIHMoZSx0KSxyKGUsW3trZXk6XCJyZXNpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9yZXNpemVTaGFwZSgpfX0se2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4pe3RoaXMuX2RyYXdTaGFwZSh0LFwic3RhclwiLDQsZSxpLG8sbil9fSx7a2V5OlwiZGlzdGFuY2VUb0JvcmRlclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2Rpc3RhbmNlVG9Cb3JkZXIodCxlKX19XSksZX0oZFtcImRlZmF1bHRcIl0pO2VbXCJkZWZhdWx0XCJdPWwsdC5leHBvcnRzPWVbXCJkZWZhdWx0XCJdfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWZ1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHModCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLGE9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIG49dCxzPWUscj1pO289ITEsbnVsbD09PW4mJihuPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHMpO2lmKHZvaWQgMCE9PWEpe2lmKFwidmFsdWVcImluIGEpcmV0dXJuIGEudmFsdWU7dmFyIGg9YS5nZXQ7aWYodm9pZCAwPT09aClyZXR1cm47cmV0dXJuIGguY2FsbChyKX12YXIgZD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobik7aWYobnVsbD09PWQpcmV0dXJuO3Q9ZCxlPXMsaT1yLG89ITAsYT1kPXZvaWQgMH19LGg9aSg2NSksZD1vKGgpLGw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGksbyl7bih0aGlzLGUpLGEoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUucHJvdG90eXBlKSxcImNvbnN0cnVjdG9yXCIsdGhpcykuY2FsbCh0aGlzLHQsaSxvKX1yZXR1cm4gcyhlLHQpLHIoZSxbe2tleTpcInJlc2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09dGhpcy53aWR0aCl7dmFyIGk9NSxvPXRoaXMubGFiZWxNb2R1bGUuZ2V0VGV4dFNpemUodCxlKTt0aGlzLndpZHRoPW8ud2lkdGgrMippLHRoaXMuaGVpZ2h0PW8uaGVpZ2h0KzIqaSx0aGlzLnJhZGl1cz0uNSp0aGlzLndpZHRofX19LHtrZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuKXt0aGlzLnJlc2l6ZSh0LG98fG4pLHRoaXMubGVmdD1lLXRoaXMud2lkdGgvMix0aGlzLnRvcD1pLXRoaXMuaGVpZ2h0LzIsdGhpcy5lbmFibGVTaGFkb3codCksdGhpcy5sYWJlbE1vZHVsZS5kcmF3KHQsZSxpLG98fG4pLHRoaXMuZGlzYWJsZVNoYWRvdyh0KSx0aGlzLnVwZGF0ZUJvdW5kaW5nQm94KGUsaSx0LG8pfX0se2tleTpcInVwZGF0ZUJvdW5kaW5nQm94XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyl7dGhpcy5yZXNpemUoaSxvKSx0aGlzLmxlZnQ9dC10aGlzLndpZHRoLzIsdGhpcy50b3A9ZS10aGlzLmhlaWdodC8yLHRoaXMuYm91bmRpbmdCb3gudG9wPXRoaXMudG9wLHRoaXMuYm91bmRpbmdCb3gubGVmdD10aGlzLmxlZnQsdGhpcy5ib3VuZGluZ0JveC5yaWdodD10aGlzLmxlZnQrdGhpcy53aWR0aCx0aGlzLmJvdW5kaW5nQm94LmJvdHRvbT10aGlzLnRvcCt0aGlzLmhlaWdodH19LHtrZXk6XCJkaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZGlzdGFuY2VUb0JvcmRlcih0LGUpfX1dKSxlfShkW1wiZGVmYXVsdFwiXSk7ZVtcImRlZmF1bHRcIl09bCx0LmV4cG9ydHM9ZVtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1lW2ldO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4gaSYmdChlLnByb3RvdHlwZSxpKSxvJiZ0KGUsbyksZX19KCksYT1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBvPSEwO287KXt2YXIgbj10LHM9ZSxyPWk7bz0hMSxudWxsPT09biYmKG49RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4scyk7aWYodm9pZCAwIT09YSl7aWYoXCJ2YWx1ZVwiaW4gYSlyZXR1cm4gYS52YWx1ZTt2YXIgaD1hLmdldDtpZih2b2lkIDA9PT1oKXJldHVybjtyZXR1cm4gaC5jYWxsKHIpfXZhciBkPU9iamVjdC5nZXRQcm90b3R5cGVPZihuKTtpZihudWxsPT09ZClyZXR1cm47dD1kLGU9cyxpPXIsbz0hMCxhPWQ9dm9pZCAwfX0saD1pKDcxKSxkPW8oaCksbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsaSxvKXtuKHRoaXMsZSksYShPYmplY3QuZ2V0UHJvdG90eXBlT2YoZS5wcm90b3R5cGUpLFwiY29uc3RydWN0b3JcIix0aGlzKS5jYWxsKHRoaXMsdCxpLG8pfXJldHVybiBzKGUsdCkscihlLFt7a2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fcmVzaXplU2hhcGUoKX19LHtrZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuKXt0aGlzLl9kcmF3U2hhcGUodCxcInRyaWFuZ2xlXCIsMyxlLGksbyxuKX19LHtrZXk6XCJkaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZGlzdGFuY2VUb0JvcmRlcih0LGUpfX1dKSxlfShkW1wiZGVmYXVsdFwiXSk7ZVtcImRlZmF1bHRcIl09bCx0LmV4cG9ydHM9ZVtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1lW2ldO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4gaSYmdChlLnByb3RvdHlwZSxpKSxvJiZ0KGUsbyksZX19KCksYT1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBvPSEwO287KXt2YXIgbj10LHM9ZSxyPWk7bz0hMSxudWxsPT09biYmKG49RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4scyk7aWYodm9pZCAwIT09YSl7aWYoXCJ2YWx1ZVwiaW4gYSlyZXR1cm4gYS52YWx1ZTt2YXIgaD1hLmdldDtpZih2b2lkIDA9PT1oKXJldHVybjtyZXR1cm4gaC5jYWxsKHIpfXZhciBkPU9iamVjdC5nZXRQcm90b3R5cGVPZihuKTtpZihudWxsPT09ZClyZXR1cm47dD1kLGU9cyxpPXIsbz0hMCxhPWQ9dm9pZCAwfX0saD1pKDcxKSxkPW8oaCksbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsaSxvKXtuKHRoaXMsZSksYShPYmplY3QuZ2V0UHJvdG90eXBlT2YoZS5wcm90b3R5cGUpLFwiY29uc3RydWN0b3JcIix0aGlzKS5jYWxsKHRoaXMsdCxpLG8pfXJldHVybiBzKGUsdCkscihlLFt7a2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fcmVzaXplU2hhcGUoKX19LHtrZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuKXt0aGlzLl9kcmF3U2hhcGUodCxcInRyaWFuZ2xlRG93blwiLDMsZSxpLG8sbil9fSx7a2V5OlwiZGlzdGFuY2VUb0JvcmRlclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2Rpc3RhbmNlVG9Cb3JkZXIodCxlKX19XSksZX0oZFtcImRlZmF1bHRcIl0pO2VbXCJkZWZhdWx0XCJdPWwsdC5leHBvcnRzPWVbXCJkZWZhdWx0XCJdfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWZ1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1lW2ldO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4gaSYmdChlLnByb3RvdHlwZSxpKSxvJiZ0KGUsbyksZX19KCkscj1pKDgyKSxhPW8ociksaD1pKDYzKSxkPW8oaCksbD1pKDEpLHU9aSg4KSxjPWkoMTApLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSxvKXt2YXIgcz10aGlzO24odGhpcyx0KSx0aGlzLmJvZHk9ZSx0aGlzLmltYWdlcz1pLHRoaXMuZ3JvdXBzPW8sdGhpcy5ib2R5LmZ1bmN0aW9ucy5jcmVhdGVFZGdlPXRoaXMuY3JlYXRlLmJpbmQodGhpcyksdGhpcy5lZGdlc0xpc3RlbmVycz17YWRkOmZ1bmN0aW9uKHQsZSl7cy5hZGQoZS5pdGVtcyl9LHVwZGF0ZTpmdW5jdGlvbih0LGUpe3MudXBkYXRlKGUuaXRlbXMpfSxyZW1vdmU6ZnVuY3Rpb24odCxlKXtzLnJlbW92ZShlLml0ZW1zKX19LHRoaXMub3B0aW9ucz17fSx0aGlzLmRlZmF1bHRPcHRpb25zPXthcnJvd3M6e3RvOntlbmFibGVkOiExLHNjYWxlRmFjdG9yOjF9LG1pZGRsZTp7ZW5hYmxlZDohMSxzY2FsZUZhY3RvcjoxfSxmcm9tOntlbmFibGVkOiExLHNjYWxlRmFjdG9yOjF9fSxjb2xvcjp7Y29sb3I6XCIjODQ4NDg0XCIsaGlnaGxpZ2h0OlwiIzg0ODQ4NFwiLGhvdmVyOlwiIzg0ODQ4NFwiLGluaGVyaXQ6XCJmcm9tXCIsb3BhY2l0eToxfSxkYXNoZXM6ITEsZm9udDp7Y29sb3I6XCIjMzQzNDM0XCIsc2l6ZToxNCxmYWNlOlwiYXJpYWxcIixiYWNrZ3JvdW5kOlwibm9uZVwiLHN0cm9rZVdpZHRoOjIsc3Ryb2tlQ29sb3I6XCIjZmZmZmZmXCIsYWxpZ246XCJob3Jpem9udGFsXCJ9LGhpZGRlbjohMSxob3ZlcldpZHRoOjEuNSxsYWJlbDp2b2lkIDAsbGFiZWxIaWdobGlnaHRCb2xkOiEwLGxlbmd0aDp2b2lkIDAscGh5c2ljczohMCxzY2FsaW5nOnttaW46MSxtYXg6MTUsbGFiZWw6e2VuYWJsZWQ6ITAsbWluOjE0LG1heDozMCxtYXhWaXNpYmxlOjMwLGRyYXdUaHJlc2hvbGQ6NX0sY3VzdG9tU2NhbGluZ0Z1bmN0aW9uOmZ1bmN0aW9uKHQsZSxpLG8pe2lmKGU9PT10KXJldHVybi41O3ZhciBuPTEvKGUtdCk7cmV0dXJuIE1hdGgubWF4KDAsKG8tdCkqbil9fSxzZWxlY3Rpb25XaWR0aDoxLjUsc2VsZlJlZmVyZW5jZVNpemU6MjAsc2hhZG93OntlbmFibGVkOiExLHNpemU6MTAseDo1LHk6NX0sc21vb3RoOntlbmFibGVkOiEwLHR5cGU6XCJkeW5hbWljXCIsZm9yY2VEaXJlY3Rpb246XCJub25lXCIscm91bmRuZXNzOi41fSx0aXRsZTp2b2lkIDAsd2lkdGg6MSx2YWx1ZTp2b2lkIDB9LGwuZXh0ZW5kKHRoaXMub3B0aW9ucyx0aGlzLmRlZmF1bHRPcHRpb25zKSx0aGlzLmJpbmRFdmVudExpc3RlbmVycygpfXJldHVybiBzKHQsW3trZXk6XCJiaW5kRXZlbnRMaXN0ZW5lcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5ib2R5LmVtaXR0ZXIub24oXCJfZm9yY2VEaXNhYmxlRHluYW1pY0N1cnZlc1wiLGZ1bmN0aW9uKGUpe1wiZHluYW1pY1wiPT09ZSYmKGU9XCJjb250aW51b3VzXCIpO3ZhciBpPSExO2Zvcih2YXIgbyBpbiB0LmJvZHkuZWRnZXMpaWYodC5ib2R5LmVkZ2VzLmhhc093blByb3BlcnR5KG8pKXt2YXIgbj10LmJvZHkuZWRnZXNbb10scz10LmJvZHkuZGF0YS5lZGdlcy5fZGF0YVtvXTtpZih2b2lkIDAhPT1zKXt2YXIgcj1zLnNtb290aDt2b2lkIDAhPT1yJiZyLmVuYWJsZWQ9PT0hMCYmXCJkeW5hbWljXCI9PT1yLnR5cGUmJih2b2lkIDA9PT1lP24uc2V0T3B0aW9ucyh7c21vb3RoOiExfSk6bi5zZXRPcHRpb25zKHtzbW9vdGg6e3R5cGU6ZX19KSxpPSEwKX19aT09PSEwJiZ0LmJvZHkuZW1pdHRlci5lbWl0KFwiX2RhdGFDaGFuZ2VkXCIpfSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJfZGF0YVVwZGF0ZWRcIixmdW5jdGlvbigpe3QucmVjb25uZWN0RWRnZXMoKSx0Lm1hcmtBbGxFZGdlc0FzRGlydHkoKX0pLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwicmVmcmVzaEVkZ2VzXCIsdGhpcy5yZWZyZXNoLmJpbmQodGhpcykpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwicmVmcmVzaFwiLHRoaXMucmVmcmVzaC5iaW5kKHRoaXMpKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe2RlbGV0ZSB0LmJvZHkuZnVuY3Rpb25zLmNyZWF0ZUVkZ2UsZGVsZXRlIHQuZWRnZXNMaXN0ZW5lcnMuYWRkLGRlbGV0ZSB0LmVkZ2VzTGlzdGVuZXJzLnVwZGF0ZSxkZWxldGUgdC5lZGdlc0xpc3RlbmVycy5yZW1vdmUsZGVsZXRlIHQuZWRnZXNMaXN0ZW5lcnN9KX19LHtrZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodm9pZCAwIT09dCl7YVtcImRlZmF1bHRcIl0ucGFyc2VPcHRpb25zKHRoaXMub3B0aW9ucyx0KSx2b2lkIDAhPT10LmNvbG9yJiZ0aGlzLm1hcmtBbGxFZGdlc0FzRGlydHkoKTt2YXIgZT0hMTtpZih2b2lkIDAhPT10LnNtb290aClmb3IodmFyIGkgaW4gdGhpcy5ib2R5LmVkZ2VzKXRoaXMuYm9keS5lZGdlcy5oYXNPd25Qcm9wZXJ0eShpKSYmKGU9dGhpcy5ib2R5LmVkZ2VzW2ldLnVwZGF0ZUVkZ2VUeXBlKCl8fGUpO2lmKHZvaWQgMCE9PXQuZm9udCl7ZFtcImRlZmF1bHRcIl0ucGFyc2VPcHRpb25zKHRoaXMub3B0aW9ucy5mb250LHQpO2Zvcih2YXIgaSBpbiB0aGlzLmJvZHkuZWRnZXMpdGhpcy5ib2R5LmVkZ2VzLmhhc093blByb3BlcnR5KGkpJiZ0aGlzLmJvZHkuZWRnZXNbaV0udXBkYXRlTGFiZWxNb2R1bGUoKX0odm9pZCAwIT09dC5oaWRkZW58fHZvaWQgMCE9PXQucGh5c2ljc3x8ZT09PSEwKSYmdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhQ2hhbmdlZFwiKX19fSx7a2V5Olwic2V0RGF0YVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT1hcmd1bWVudHMubGVuZ3RoPD0xfHx2b2lkIDA9PT1hcmd1bWVudHNbMV0/ITE6YXJndW1lbnRzWzFdLG89dGhpcy5ib2R5LmRhdGEuZWRnZXM7aWYodCBpbnN0YW5jZW9mIHV8fHQgaW5zdGFuY2VvZiBjKXRoaXMuYm9keS5kYXRhLmVkZ2VzPXQ7ZWxzZSBpZihBcnJheS5pc0FycmF5KHQpKXRoaXMuYm9keS5kYXRhLmVkZ2VzPW5ldyB1LHRoaXMuYm9keS5kYXRhLmVkZ2VzLmFkZCh0KTtlbHNle2lmKHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFycmF5IG9yIERhdGFTZXQgZXhwZWN0ZWRcIik7dGhpcy5ib2R5LmRhdGEuZWRnZXM9bmV3IHV9aWYobyYmbC5mb3JFYWNoKHRoaXMuZWRnZXNMaXN0ZW5lcnMsZnVuY3Rpb24odCxlKXtvLm9mZihlLHQpfSksdGhpcy5ib2R5LmVkZ2VzPXt9LHRoaXMuYm9keS5kYXRhLmVkZ2VzKXtsLmZvckVhY2godGhpcy5lZGdlc0xpc3RlbmVycyxmdW5jdGlvbih0LGkpe2UuYm9keS5kYXRhLmVkZ2VzLm9uKGksdCl9KTt2YXIgbj10aGlzLmJvZHkuZGF0YS5lZGdlcy5nZXRJZHMoKTt0aGlzLmFkZChuLCEwKX1pPT09ITEmJnRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfZGF0YUNoYW5nZWRcIil9fSx7a2V5OlwiYWRkXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT8hMTphcmd1bWVudHNbMV0saT10aGlzLmJvZHkuZWRnZXMsbz10aGlzLmJvZHkuZGF0YS5lZGdlcyxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBzPXRbbl0scj1pW3NdO3ImJnIuZGlzY29ubmVjdCgpO3ZhciBhPW8uZ2V0KHMse3Nob3dJbnRlcm5hbElkczohMH0pO2lbc109dGhpcy5jcmVhdGUoYSl9ZT09PSExJiZ0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX2RhdGFDaGFuZ2VkXCIpfX0se2tleTpcInVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmJvZHkuZWRnZXMsaT10aGlzLmJvZHkuZGF0YS5lZGdlcyxvPSExLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHM9dFtuXSxyPWkuZ2V0KHMpLGE9ZVtzXTt2b2lkIDAhPT1hPyhhLmRpc2Nvbm5lY3QoKSxvPWEuc2V0T3B0aW9ucyhyKXx8byxhLmNvbm5lY3QoKSk6KHRoaXMuYm9keS5lZGdlc1tzXT10aGlzLmNyZWF0ZShyKSxvPSEwKX1vPT09ITA/dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhQ2hhbmdlZFwiKTp0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX2RhdGFVcGRhdGVkXCIpfX0se2tleTpcInJlbW92ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmJvZHkuZWRnZXMsaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbz10W2ldLG49ZVtvXTt2b2lkIDAhPT1uJiYobi5jbGVhbnVwKCksbi5kaXNjb25uZWN0KCksZGVsZXRlIGVbb10pfXRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfZGF0YUNoYW5nZWRcIil9fSx7a2V5OlwicmVmcmVzaFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ib2R5LmVkZ2VzO2Zvcih2YXIgZSBpbiB0KXt2YXIgaT12b2lkIDA7dC5oYXNPd25Qcm9wZXJ0eShlKSYmKGk9dFtlXSk7dmFyIG89dGhpcy5ib2R5LmRhdGEuZWRnZXMuX2RhdGFbZV07dm9pZCAwIT09aSYmdm9pZCAwIT09byYmaS5zZXRPcHRpb25zKG8pfX19LHtrZXk6XCJjcmVhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGFbXCJkZWZhdWx0XCJdKHQsdGhpcy5ib2R5LHRoaXMub3B0aW9ucyl9fSx7a2V5OlwibWFya0FsbEVkZ2VzQXNEaXJ0eVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuYm9keS5lZGdlcyl0aGlzLmJvZHkuZWRnZXNbdF0uZWRnZVR5cGUuY29sb3JEaXJ0eT0hMH19LHtrZXk6XCJyZWNvbm5lY3RFZGdlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLmJvZHkubm9kZXMsaT10aGlzLmJvZHkuZWRnZXM7Zm9yKHQgaW4gZSllLmhhc093blByb3BlcnR5KHQpJiYoZVt0XS5lZGdlcz1bXSk7Zm9yKHQgaW4gaSlpZihpLmhhc093blByb3BlcnR5KHQpKXt2YXIgbz1pW3RdO28uZnJvbT1udWxsLG8udG89bnVsbCxvLmNvbm5lY3QoKX19fSx7a2V5OlwiZ2V0Q29ubmVjdGVkTm9kZXNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1bXTtpZih2b2lkIDAhPT10aGlzLmJvZHkuZWRnZXNbdF0pe3ZhciBpPXRoaXMuYm9keS5lZGdlc1t0XTtpLmZyb21JZCYmZS5wdXNoKGkuZnJvbUlkKSxpLnRvSWQmJmUucHVzaChpLnRvSWQpfXJldHVybiBlfX1dKSx0fSgpO2VbXCJkZWZhdWx0XCJdPXAsdC5leHBvcnRzPWVbXCJkZWZhdWx0XCJdfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWZ1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1lW2ldO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4gaSYmdChlLnByb3RvdHlwZSxpKSxvJiZ0KGUsbyksZX19KCkscj1pKDYzKSxhPW8ociksaD1pKDgzKSxkPW8oaCksbD1pKDg3KSx1PW8obCksYz1pKDg4KSxwPW8oYyksZj1pKDg5KSxtPW8oZiksdj1pKDEpLGc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSxvKXtpZihuKHRoaXMsdCksdm9pZCAwPT09aSl0aHJvd1wiTm8gYm9keSBwcm92aWRlZFwiO3RoaXMub3B0aW9ucz12LmJyaWRnZU9iamVjdChvKSx0aGlzLmdsb2JhbE9wdGlvbnM9byx0aGlzLmJvZHk9aSx0aGlzLmlkPXZvaWQgMCx0aGlzLmZyb21JZD12b2lkIDAsdGhpcy50b0lkPXZvaWQgMCx0aGlzLnNlbGVjdGVkPSExLHRoaXMuaG92ZXI9ITEsdGhpcy5sYWJlbERpcnR5PSEwLHRoaXMuY29sb3JEaXJ0eT0hMCx0aGlzLmJhc2VXaWR0aD10aGlzLm9wdGlvbnMud2lkdGgsdGhpcy5iYXNlRm9udFNpemU9dGhpcy5vcHRpb25zLmZvbnQuc2l6ZSx0aGlzLmZyb209dm9pZCAwLHRoaXMudG89dm9pZCAwLHRoaXMuZWRnZVR5cGU9dm9pZCAwLHRoaXMuY29ubmVjdGVkPSExLHRoaXMubGFiZWxNb2R1bGU9bmV3IGFbXCJkZWZhdWx0XCJdKHRoaXMuYm9keSx0aGlzLm9wdGlvbnMpLHRoaXMuc2V0T3B0aW9ucyhlKX1yZXR1cm4gcyh0LFt7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKGUpe3RoaXMuY29sb3JEaXJ0eT0hMCx0LnBhcnNlT3B0aW9ucyh0aGlzLm9wdGlvbnMsZSwhMCx0aGlzLmdsb2JhbE9wdGlvbnMpLHZvaWQgMCE9PWUuaWQmJih0aGlzLmlkPWUuaWQpLHZvaWQgMCE9PWUuZnJvbSYmKHRoaXMuZnJvbUlkPWUuZnJvbSksdm9pZCAwIT09ZS50byYmKHRoaXMudG9JZD1lLnRvKSx2b2lkIDAhPT1lLnRpdGxlJiYodGhpcy50aXRsZT1lLnRpdGxlKSx2b2lkIDAhPT1lLnZhbHVlJiYoZS52YWx1ZT1wYXJzZUZsb2F0KGUudmFsdWUpKSx0aGlzLnVwZGF0ZUxhYmVsTW9kdWxlKCk7dmFyIGk9dGhpcy51cGRhdGVFZGdlVHlwZSgpO3JldHVybiB0aGlzLl9zZXRJbnRlcmFjdGlvbldpZHRocygpLHRoaXMuY29ubmVjdCgpLCh2b2lkIDAhPT1lLmhpZGRlbnx8dm9pZCAwIT09ZS5waHlzaWNzKSYmKGk9ITApLGl9fX0se2tleTpcInVwZGF0ZUxhYmVsTW9kdWxlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmxhYmVsTW9kdWxlLnNldE9wdGlvbnModGhpcy5vcHRpb25zLCEwKSx2b2lkIDAhPT10aGlzLmxhYmVsTW9kdWxlLmJhc2VTaXplJiYodGhpcy5iYXNlRm9udFNpemU9dGhpcy5sYWJlbE1vZHVsZS5iYXNlU2l6ZSl9fSx7a2V5OlwidXBkYXRlRWRnZVR5cGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PSExLGU9ITAsaT10aGlzLm9wdGlvbnMuc21vb3RoO3JldHVybiB2b2lkIDAhPT10aGlzLmVkZ2VUeXBlJiYodGhpcy5lZGdlVHlwZSBpbnN0YW5jZW9mIHVbXCJkZWZhdWx0XCJdJiZpLmVuYWJsZWQ9PT0hMCYmXCJkeW5hbWljXCI9PT1pLnR5cGUmJihlPSExKSx0aGlzLmVkZ2VUeXBlIGluc3RhbmNlb2YgZFtcImRlZmF1bHRcIl0mJmkuZW5hYmxlZD09PSEwJiZcImN1YmljQmV6aWVyXCI9PT1pLnR5cGUmJihlPSExKSx0aGlzLmVkZ2VUeXBlIGluc3RhbmNlb2YgcFtcImRlZmF1bHRcIl0mJmkuZW5hYmxlZD09PSEwJiZcImR5bmFtaWNcIiE9PWkudHlwZSYmXCJjdWJpY0JlemllclwiIT09aS50eXBlJiYoZT0hMSksdGhpcy5lZGdlVHlwZSBpbnN0YW5jZW9mIG1bXCJkZWZhdWx0XCJdJiZpLmVuYWJsZWQ9PT0hMSYmKGU9ITEpLGU9PT0hMCYmKHQ9dGhpcy5jbGVhbnVwKCkpKSxlPT09ITA/dGhpcy5vcHRpb25zLnNtb290aC5lbmFibGVkPT09ITA/XCJkeW5hbWljXCI9PT10aGlzLm9wdGlvbnMuc21vb3RoLnR5cGU/KHQ9ITAsdGhpcy5lZGdlVHlwZT1uZXcgdVtcImRlZmF1bHRcIl0odGhpcy5vcHRpb25zLHRoaXMuYm9keSx0aGlzLmxhYmVsTW9kdWxlKSk6XCJjdWJpY0JlemllclwiPT09dGhpcy5vcHRpb25zLnNtb290aC50eXBlP3RoaXMuZWRnZVR5cGU9bmV3IGRbXCJkZWZhdWx0XCJdKHRoaXMub3B0aW9ucyx0aGlzLmJvZHksdGhpcy5sYWJlbE1vZHVsZSk6dGhpcy5lZGdlVHlwZT1uZXcgcFtcImRlZmF1bHRcIl0odGhpcy5vcHRpb25zLHRoaXMuYm9keSx0aGlzLmxhYmVsTW9kdWxlKTp0aGlzLmVkZ2VUeXBlPW5ldyBtW1wiZGVmYXVsdFwiXSh0aGlzLm9wdGlvbnMsdGhpcy5ib2R5LHRoaXMubGFiZWxNb2R1bGUpOnRoaXMuZWRnZVR5cGUuc2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpLHR9fSx7a2V5OlwiY29ubmVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5kaXNjb25uZWN0KCksdGhpcy5mcm9tPXRoaXMuYm9keS5ub2Rlc1t0aGlzLmZyb21JZF18fHZvaWQgMCx0aGlzLnRvPXRoaXMuYm9keS5ub2Rlc1t0aGlzLnRvSWRdfHx2b2lkIDAsdGhpcy5jb25uZWN0ZWQ9dm9pZCAwIT09dGhpcy5mcm9tJiZ2b2lkIDAhPT10aGlzLnRvLHRoaXMuY29ubmVjdGVkPT09ITA/KHRoaXMuZnJvbS5hdHRhY2hFZGdlKHRoaXMpLHRoaXMudG8uYXR0YWNoRWRnZSh0aGlzKSk6KHRoaXMuZnJvbSYmdGhpcy5mcm9tLmRldGFjaEVkZ2UodGhpcyksdGhpcy50byYmdGhpcy50by5kZXRhY2hFZGdlKHRoaXMpKSx0aGlzLmVkZ2VUeXBlLmNvbm5lY3QoKX19LHtrZXk6XCJkaXNjb25uZWN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmZyb20mJih0aGlzLmZyb20uZGV0YWNoRWRnZSh0aGlzKSx0aGlzLmZyb209dm9pZCAwKSx0aGlzLnRvJiYodGhpcy50by5kZXRhY2hFZGdlKHRoaXMpLHRoaXMudG89dm9pZCAwKSx0aGlzLmNvbm5lY3RlZD0hMX19LHtrZXk6XCJnZXRUaXRsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGl0bGV9fSx7a2V5OlwiaXNTZWxlY3RlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0ZWR9fSx7a2V5OlwiZ2V0VmFsdWVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMudmFsdWV9fSx7a2V5Olwic2V0VmFsdWVSYW5nZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXtpZih2b2lkIDAhPT10aGlzLm9wdGlvbnMudmFsdWUpe3ZhciBvPXRoaXMub3B0aW9ucy5zY2FsaW5nLmN1c3RvbVNjYWxpbmdGdW5jdGlvbih0LGUsaSx0aGlzLm9wdGlvbnMudmFsdWUpLG49dGhpcy5vcHRpb25zLnNjYWxpbmcubWF4LXRoaXMub3B0aW9ucy5zY2FsaW5nLm1pbjtpZih0aGlzLm9wdGlvbnMuc2NhbGluZy5sYWJlbC5lbmFibGVkPT09ITApe3ZhciBzPXRoaXMub3B0aW9ucy5zY2FsaW5nLmxhYmVsLm1heC10aGlzLm9wdGlvbnMuc2NhbGluZy5sYWJlbC5taW47dGhpcy5vcHRpb25zLmZvbnQuc2l6ZT10aGlzLm9wdGlvbnMuc2NhbGluZy5sYWJlbC5taW4rbypzfXRoaXMub3B0aW9ucy53aWR0aD10aGlzLm9wdGlvbnMuc2NhbGluZy5taW4rbypufWVsc2UgdGhpcy5vcHRpb25zLndpZHRoPXRoaXMuYmFzZVdpZHRoLHRoaXMub3B0aW9ucy5mb250LnNpemU9dGhpcy5iYXNlRm9udFNpemU7dGhpcy5fc2V0SW50ZXJhY3Rpb25XaWR0aHMoKSx0aGlzLnVwZGF0ZUxhYmVsTW9kdWxlKCl9fSx7a2V5OlwiX3NldEludGVyYWN0aW9uV2lkdGhzXCIsdmFsdWU6ZnVuY3Rpb24oKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9wdGlvbnMuaG92ZXJXaWR0aD90aGlzLmVkZ2VUeXBlLmhvdmVyV2lkdGg9dGhpcy5vcHRpb25zLmhvdmVyV2lkdGgodGhpcy5vcHRpb25zLndpZHRoKTp0aGlzLmVkZ2VUeXBlLmhvdmVyV2lkdGg9dGhpcy5vcHRpb25zLmhvdmVyV2lkdGgrdGhpcy5vcHRpb25zLndpZHRoLFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub3B0aW9ucy5zZWxlY3Rpb25XaWR0aD90aGlzLmVkZ2VUeXBlLnNlbGVjdGlvbldpZHRoPXRoaXMub3B0aW9ucy5zZWxlY3Rpb25XaWR0aCh0aGlzLm9wdGlvbnMud2lkdGgpOnRoaXMuZWRnZVR5cGUuc2VsZWN0aW9uV2lkdGg9dGhpcy5vcHRpb25zLnNlbGVjdGlvbldpZHRoK3RoaXMub3B0aW9ucy53aWR0aH19LHtrZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5lZGdlVHlwZS5kcmF3TGluZSh0LHRoaXMuc2VsZWN0ZWQsdGhpcy5ob3Zlcik7dGhpcy5kcmF3QXJyb3dzKHQsZSksdGhpcy5kcmF3TGFiZWwodCxlKX19LHtrZXk6XCJkcmF3QXJyb3dzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLm9wdGlvbnMuYXJyb3dzLmZyb20uZW5hYmxlZD09PSEwJiZ0aGlzLmVkZ2VUeXBlLmRyYXdBcnJvd0hlYWQodCxcImZyb21cIixlLHRoaXMuc2VsZWN0ZWQsdGhpcy5ob3ZlciksdGhpcy5vcHRpb25zLmFycm93cy5taWRkbGUuZW5hYmxlZD09PSEwJiZ0aGlzLmVkZ2VUeXBlLmRyYXdBcnJvd0hlYWQodCxcIm1pZGRsZVwiLGUsdGhpcy5zZWxlY3RlZCx0aGlzLmhvdmVyKSx0aGlzLm9wdGlvbnMuYXJyb3dzLnRvLmVuYWJsZWQ9PT0hMCYmdGhpcy5lZGdlVHlwZS5kcmF3QXJyb3dIZWFkKHQsXCJ0b1wiLGUsdGhpcy5zZWxlY3RlZCx0aGlzLmhvdmVyKX19LHtrZXk6XCJkcmF3TGFiZWxcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMCE9PXRoaXMub3B0aW9ucy5sYWJlbCl7dmFyIGk9dGhpcy5mcm9tLG89dGhpcy50byxuPXRoaXMuZnJvbS5zZWxlY3RlZHx8dGhpcy50by5zZWxlY3RlZHx8dGhpcy5zZWxlY3RlZDtpZihpLmlkIT1vLmlkKXt0aGlzLmxhYmVsTW9kdWxlLnBvaW50VG9TZWxmPSExO3ZhciBzPXRoaXMuZWRnZVR5cGUuZ2V0UG9pbnQoLjUsZSk7dC5zYXZlKCksXCJob3Jpem9udGFsXCIhPT10aGlzLm9wdGlvbnMuZm9udC5hbGlnbiYmKHRoaXMubGFiZWxNb2R1bGUuY2FsY3VsYXRlTGFiZWxTaXplKHQsbixzLngscy55KSx0LnRyYW5zbGF0ZShzLngsdGhpcy5sYWJlbE1vZHVsZS5zaXplLnlMaW5lKSx0aGlzLl9yb3RhdGVGb3JMYWJlbEFsaWdubWVudCh0KSksdGhpcy5sYWJlbE1vZHVsZS5kcmF3KHQscy54LHMueSxuKSx0LnJlc3RvcmUoKX1lbHNle3RoaXMubGFiZWxNb2R1bGUucG9pbnRUb1NlbGY9ITA7dmFyIHIsYSxoPXRoaXMub3B0aW9ucy5zZWxmUmVmZXJlbmNlU2l6ZTtpLnNoYXBlLndpZHRoPmkuc2hhcGUuaGVpZ2h0PyhyPWkueCsuNSppLnNoYXBlLndpZHRoLGE9aS55LWgpOihyPWkueCtoLGE9aS55LS41Kmkuc2hhcGUuaGVpZ2h0KSxzPXRoaXMuX3BvaW50T25DaXJjbGUocixhLGgsLjEyNSksdGhpcy5sYWJlbE1vZHVsZS5kcmF3KHQscy54LHMueSxuKX19fX0se2tleTpcImlzT3ZlcmxhcHBpbmdXaXRoXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5jb25uZWN0ZWQpe3ZhciBlPTEwLGk9dGhpcy5mcm9tLngsbz10aGlzLmZyb20ueSxuPXRoaXMudG8ueCxzPXRoaXMudG8ueSxyPXQubGVmdCxhPXQudG9wLGg9dGhpcy5lZGdlVHlwZS5nZXREaXN0YW5jZVRvRWRnZShpLG8sbixzLHIsYSk7cmV0dXJuIGU+aH1yZXR1cm4hMX19LHtrZXk6XCJfcm90YXRlRm9yTGFiZWxBbGlnbm1lbnRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmZyb20ueS10aGlzLnRvLnksaT10aGlzLmZyb20ueC10aGlzLnRvLngsbz1NYXRoLmF0YW4yKGUsaSk7KC0xPm8mJjA+aXx8bz4wJiYwPmkpJiYobys9TWF0aC5QSSksdC5yb3RhdGUobyl9fSx7a2V5OlwiX3BvaW50T25DaXJjbGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvKXt2YXIgbj0yKm8qTWF0aC5QSTtyZXR1cm57eDp0K2kqTWF0aC5jb3MobikseTplLWkqTWF0aC5zaW4obil9fX0se2tleTpcInNlbGVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZD0hMH19LHtrZXk6XCJ1bnNlbGVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZD0hMX19LHtrZXk6XCJjbGVhbnVwXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGdlVHlwZS5jbGVhbnVwKCl9fV0sW3trZXk6XCJwYXJzZU9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg8PTJ8fHZvaWQgMD09PWFyZ3VtZW50c1syXT8hMTphcmd1bWVudHNbMl0sbz1hcmd1bWVudHMubGVuZ3RoPD0zfHx2b2lkIDA9PT1hcmd1bWVudHNbM10/e306YXJndW1lbnRzWzNdLG49W1wiaWRcIixcImZyb21cIixcImhpZGRlblwiLFwiaG92ZXJXaWR0aFwiLFwibGFiZWxcIixcImxhYmVsSGlnaGxpZ2h0Qm9sZFwiLFwibGVuZ3RoXCIsXCJsaW5lXCIsXCJvcGFjaXR5XCIsXCJwaHlzaWNzXCIsXCJzY2FsaW5nXCIsXCJzZWxlY3Rpb25XaWR0aFwiLFwic2VsZlJlZmVyZW5jZVNpemVcIixcInRvXCIsXCJ0aXRsZVwiLFwidmFsdWVcIixcIndpZHRoXCJdO2lmKHYuc2VsZWN0aXZlRGVlcEV4dGVuZChuLHQsZSxpKSx2Lm1lcmdlT3B0aW9ucyh0LGUsXCJzbW9vdGhcIixpLG8pLHYubWVyZ2VPcHRpb25zKHQsZSxcInNoYWRvd1wiLGksbyksdm9pZCAwIT09ZS5kYXNoZXMmJm51bGwhPT1lLmRhc2hlcz90LmRhc2hlcz1lLmRhc2hlczppPT09ITAmJm51bGw9PT1lLmRhc2hlcyYmKHQuZGFzaGVzPU9iamVjdC5jcmVhdGUoby5kYXNoZXMpKSx2b2lkIDAhPT1lLnNjYWxpbmcmJm51bGwhPT1lLnNjYWxpbmc/KHZvaWQgMCE9PWUuc2NhbGluZy5taW4mJih0LnNjYWxpbmcubWluPWUuc2NhbGluZy5taW4pLHZvaWQgMCE9PWUuc2NhbGluZy5tYXgmJih0LnNjYWxpbmcubWF4PWUuc2NhbGluZy5tYXgpLHYubWVyZ2VPcHRpb25zKHQuc2NhbGluZyxlLnNjYWxpbmcsXCJsYWJlbFwiLGksby5zY2FsaW5nKSk6aT09PSEwJiZudWxsPT09ZS5zY2FsaW5nJiYodC5zY2FsaW5nPU9iamVjdC5jcmVhdGUoby5zY2FsaW5nKSksdm9pZCAwIT09ZS5hcnJvd3MmJm51bGwhPT1lLmFycm93cylpZihcInN0cmluZ1wiPT10eXBlb2YgZS5hcnJvd3Mpe3ZhciBzPWUuYXJyb3dzLnRvTG93ZXJDYXNlKCk7LTEhPXMuaW5kZXhPZihcInRvXCIpJiYodC5hcnJvd3MudG8uZW5hYmxlZD0hMCksLTEhPXMuaW5kZXhPZihcIm1pZGRsZVwiKSYmKHQuYXJyb3dzLm1pZGRsZS5lbmFibGVkPSEwKSwtMSE9cy5pbmRleE9mKFwiZnJvbVwiKSYmKHQuYXJyb3dzLmZyb20uZW5hYmxlZD0hMCl9ZWxzZXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5hcnJvd3MpdGhyb3cgbmV3IEVycm9yKFwiVGhlIGFycm93IG5ld09wdGlvbnMgY2FuIG9ubHkgYmUgYW4gb2JqZWN0IG9yIGEgc3RyaW5nLiBSZWZlciB0byB0aGUgZG9jdW1lbnRhdGlvbi4gWW91IHVzZWQ6XCIrSlNPTi5zdHJpbmdpZnkoZS5hcnJvd3MpKTtcbnYubWVyZ2VPcHRpb25zKHQuYXJyb3dzLGUuYXJyb3dzLFwidG9cIixpLG8uYXJyb3dzKSx2Lm1lcmdlT3B0aW9ucyh0LmFycm93cyxlLmFycm93cyxcIm1pZGRsZVwiLGksby5hcnJvd3MpLHYubWVyZ2VPcHRpb25zKHQuYXJyb3dzLGUuYXJyb3dzLFwiZnJvbVwiLGksby5hcnJvd3MpfWVsc2UgaT09PSEwJiZudWxsPT09ZS5hcnJvd3MmJih0LmFycm93cz1PYmplY3QuY3JlYXRlKG8uYXJyb3dzKSk7aWYodm9pZCAwIT09ZS5jb2xvciYmbnVsbCE9PWUuY29sb3IpaWYodC5jb2xvcj12LmRlZXBFeHRlbmQoe30sdC5jb2xvciwhMCksdi5pc1N0cmluZyhlLmNvbG9yKSl0LmNvbG9yLmNvbG9yPWUuY29sb3IsdC5jb2xvci5oaWdobGlnaHQ9ZS5jb2xvcix0LmNvbG9yLmhvdmVyPWUuY29sb3IsdC5jb2xvci5pbmhlcml0PSExO2Vsc2V7dmFyIHI9ITE7dm9pZCAwIT09ZS5jb2xvci5jb2xvciYmKHQuY29sb3IuY29sb3I9ZS5jb2xvci5jb2xvcixyPSEwKSx2b2lkIDAhPT1lLmNvbG9yLmhpZ2hsaWdodCYmKHQuY29sb3IuaGlnaGxpZ2h0PWUuY29sb3IuaGlnaGxpZ2h0LHI9ITApLHZvaWQgMCE9PWUuY29sb3IuaG92ZXImJih0LmNvbG9yLmhvdmVyPWUuY29sb3IuaG92ZXIscj0hMCksdm9pZCAwIT09ZS5jb2xvci5pbmhlcml0JiYodC5jb2xvci5pbmhlcml0PWUuY29sb3IuaW5oZXJpdCksdm9pZCAwIT09ZS5jb2xvci5vcGFjaXR5JiYodC5jb2xvci5vcGFjaXR5PU1hdGgubWluKDEsTWF0aC5tYXgoMCxlLmNvbG9yLm9wYWNpdHkpKSksdm9pZCAwPT09ZS5jb2xvci5pbmhlcml0JiZyPT09ITAmJih0LmNvbG9yLmluaGVyaXQ9ITEpfWVsc2UgaT09PSEwJiZudWxsPT09ZS5jb2xvciYmKHQuY29sb3I9di5icmlkZ2VPYmplY3Qoby5jb2xvcikpO3ZvaWQgMCE9PWUuZm9udCYmbnVsbCE9PWUuZm9udD9hW1wiZGVmYXVsdFwiXS5wYXJzZU9wdGlvbnModC5mb250LGUpOmk9PT0hMCYmbnVsbD09PWUuZm9udCYmKHQuZm9udD12LmJyaWRnZU9iamVjdChvLmZvbnQpKX19XSksdH0oKTtlW1wiZGVmYXVsdFwiXT1nLHQuZXhwb3J0cz1lW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBzKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dmFyIGk9W10sbz0hMCxuPSExLHM9dm9pZCAwO3RyeXtmb3IodmFyIHIsYT10W1N5bWJvbC5pdGVyYXRvcl0oKTshKG89KHI9YS5uZXh0KCkpLmRvbmUpJiYoaS5wdXNoKHIudmFsdWUpLCFlfHxpLmxlbmd0aCE9PWUpO289ITApO31jYXRjaChoKXtuPSEwLHM9aH1maW5hbGx5e3RyeXshbyYmYVtcInJldHVyblwiXSYmYVtcInJldHVyblwiXSgpfWZpbmFsbHl7aWYobil0aHJvdyBzfX1yZXR1cm4gaX1yZXR1cm4gZnVuY3Rpb24oZSxpKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlO2lmKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSkpcmV0dXJuIHQoZSxpKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKX19KCksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLGg9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIG49dCxzPWUscj1pO289ITEsbnVsbD09PW4mJihuPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHMpO2lmKHZvaWQgMCE9PWEpe2lmKFwidmFsdWVcImluIGEpcmV0dXJuIGEudmFsdWU7dmFyIGg9YS5nZXQ7aWYodm9pZCAwPT09aClyZXR1cm47cmV0dXJuIGguY2FsbChyKX12YXIgZD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobik7aWYobnVsbD09PWQpcmV0dXJuO3Q9ZCxlPXMsaT1yLG89ITAsYT1kPXZvaWQgMH19LGQ9aSg4NCksbD1vKGQpLHU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGksbyl7bih0aGlzLGUpLGgoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUucHJvdG90eXBlKSxcImNvbnN0cnVjdG9yXCIsdGhpcykuY2FsbCh0aGlzLHQsaSxvKX1yZXR1cm4gcyhlLHQpLGEoZSxbe2tleTpcIl9saW5lXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZ2V0VmlhQ29vcmRpbmF0ZXMoKSxpPXIoZSwyKSxvPWlbMF0sbj1pWzFdLHM9W28sbl07cmV0dXJuIHQuYmVnaW5QYXRoKCksdC5tb3ZlVG8odGhpcy5mcm9tLngsdGhpcy5mcm9tLnkpLHZvaWQgMD09PW8ueD8odC5saW5lVG8odGhpcy50by54LHRoaXMudG8ueSkscz12b2lkIDApOnQuYmV6aWVyQ3VydmVUbyhvLngsby55LG4ueCxuLnksdGhpcy50by54LHRoaXMudG8ueSksdGhpcy5lbmFibGVTaGFkb3codCksdC5zdHJva2UoKSx0aGlzLmRpc2FibGVTaGFkb3codCksc319LHtrZXk6XCJfZ2V0VmlhQ29vcmRpbmF0ZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZnJvbS54LXRoaXMudG8ueCxlPXRoaXMuZnJvbS55LXRoaXMudG8ueSxpPXZvaWQgMCxvPXZvaWQgMCxuPXZvaWQgMCxzPXZvaWQgMCxyPXRoaXMub3B0aW9ucy5zbW9vdGgucm91bmRuZXNzO3JldHVybihNYXRoLmFicyh0KT5NYXRoLmFicyhlKXx8dGhpcy5vcHRpb25zLnNtb290aC5mb3JjZURpcmVjdGlvbj09PSEwfHxcImhvcml6b250YWxcIj09PXRoaXMub3B0aW9ucy5zbW9vdGguZm9yY2VEaXJlY3Rpb24pJiZcInZlcnRpY2FsXCIhPT10aGlzLm9wdGlvbnMuc21vb3RoLmZvcmNlRGlyZWN0aW9uPyhvPXRoaXMuZnJvbS55LHM9dGhpcy50by55LGk9dGhpcy5mcm9tLngtcip0LG49dGhpcy50by54K3IqdCk6KG89dGhpcy5mcm9tLnktciplLHM9dGhpcy50by55K3IqZSxpPXRoaXMuZnJvbS54LG49dGhpcy50by54KSxbe3g6aSx5Om99LHt4Om4seTpzfV19fSx7a2V5OlwiX2ZpbmRCb3JkZXJQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2ZpbmRCb3JkZXJQb3NpdGlvbkJlemllcih0LGUpfX0se2tleTpcIl9nZXREaXN0YW5jZVRvRWRnZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbixzKXt2YXIgYT1hcmd1bWVudHMubGVuZ3RoPD02fHx2b2lkIDA9PT1hcmd1bWVudHNbNl0/dGhpcy5fZ2V0VmlhQ29vcmRpbmF0ZXMoKTphcmd1bWVudHNbNl0saD1yKGEsMiksZD1oWzBdLGw9aFsxXTtyZXR1cm4gdGhpcy5fZ2V0RGlzdGFuY2VUb0JlemllckVkZ2UodCxlLGksbyxuLHMsZCxsKX19LHtrZXk6XCJnZXRQb2ludFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT90aGlzLl9nZXRWaWFDb29yZGluYXRlcygpOmFyZ3VtZW50c1sxXSxpPXIoZSwyKSxvPWlbMF0sbj1pWzFdLHM9dCxhPVtdO2FbMF09TWF0aC5wb3coMS1zLDMpLGFbMV09MypzKk1hdGgucG93KDEtcywyKSxhWzJdPTMqTWF0aC5wb3cocywyKSooMS1zKSxhWzNdPU1hdGgucG93KHMsMyk7dmFyIGg9YVswXSp0aGlzLmZyb20ueCthWzFdKm8ueCthWzJdKm4ueCthWzNdKnRoaXMudG8ueCxkPWFbMF0qdGhpcy5mcm9tLnkrYVsxXSpvLnkrYVsyXSpuLnkrYVszXSp0aGlzLnRvLnk7cmV0dXJue3g6aCx5OmR9fX1dKSxlfShsW1wiZGVmYXVsdFwiXSk7ZVtcImRlZmF1bHRcIl09dSx0LmV4cG9ydHM9ZVtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1lW2ldO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4gaSYmdChlLnByb3RvdHlwZSxpKSxvJiZ0KGUsbyksZX19KCksYT1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBvPSEwO287KXt2YXIgbj10LHM9ZSxyPWk7bz0hMSxudWxsPT09biYmKG49RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4scyk7aWYodm9pZCAwIT09YSl7aWYoXCJ2YWx1ZVwiaW4gYSlyZXR1cm4gYS52YWx1ZTt2YXIgaD1hLmdldDtpZih2b2lkIDA9PT1oKXJldHVybjtyZXR1cm4gaC5jYWxsKHIpfXZhciBkPU9iamVjdC5nZXRQcm90b3R5cGVPZihuKTtpZihudWxsPT09ZClyZXR1cm47dD1kLGU9cyxpPXIsbz0hMCxhPWQ9dm9pZCAwfX0saD1pKDg1KSxkPW8oaCksbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsaSxvKXtuKHRoaXMsZSksYShPYmplY3QuZ2V0UHJvdG90eXBlT2YoZS5wcm90b3R5cGUpLFwiY29uc3RydWN0b3JcIix0aGlzKS5jYWxsKHRoaXMsdCxpLG8pfXJldHVybiBzKGUsdCkscihlLFt7a2V5OlwiX2dldERpc3RhbmNlVG9CZXppZXJFZGdlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHMscixhKXt2YXIgaD0xZTksZD12b2lkIDAsbD12b2lkIDAsdT12b2lkIDAsYz12b2lkIDAscD12b2lkIDAsZj10LG09ZSx2PVswLDAsMCwwXTtmb3IobD0xOzEwPmw7bCsrKXU9LjEqbCx2WzBdPU1hdGgucG93KDEtdSwzKSx2WzFdPTMqdSpNYXRoLnBvdygxLXUsMiksdlsyXT0zKk1hdGgucG93KHUsMikqKDEtdSksdlszXT1NYXRoLnBvdyh1LDMpLGM9dlswXSp0K3ZbMV0qci54K3ZbMl0qYS54K3ZbM10qaSxwPXZbMF0qZSt2WzFdKnIueSt2WzJdKmEueSt2WzNdKm8sbD4wJiYoZD10aGlzLl9nZXREaXN0YW5jZVRvTGluZShmLG0sYyxwLG4scyksaD1oPmQ/ZDpoKSxmPWMsbT1wO3JldHVybiBofX1dKSxlfShkW1wiZGVmYXVsdFwiXSk7ZVtcImRlZmF1bHRcIl09bCx0LmV4cG9ydHM9ZVtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1lW2ldO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4gaSYmdChlLnByb3RvdHlwZSxpKSxvJiZ0KGUsbyksZX19KCksYT1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBvPSEwO287KXt2YXIgbj10LHM9ZSxyPWk7bz0hMSxudWxsPT09biYmKG49RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4scyk7aWYodm9pZCAwIT09YSl7aWYoXCJ2YWx1ZVwiaW4gYSlyZXR1cm4gYS52YWx1ZTt2YXIgaD1hLmdldDtpZih2b2lkIDA9PT1oKXJldHVybjtyZXR1cm4gaC5jYWxsKHIpfXZhciBkPU9iamVjdC5nZXRQcm90b3R5cGVPZihuKTtpZihudWxsPT09ZClyZXR1cm47dD1kLGU9cyxpPXIsbz0hMCxhPWQ9dm9pZCAwfX0saD1pKDg2KSxkPW8oaCksbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsaSxvKXtuKHRoaXMsZSksYShPYmplY3QuZ2V0UHJvdG90eXBlT2YoZS5wcm90b3R5cGUpLFwiY29uc3RydWN0b3JcIix0aGlzKS5jYWxsKHRoaXMsdCxpLG8pfXJldHVybiBzKGUsdCkscihlLFt7a2V5OlwiX2ZpbmRCb3JkZXJQb3NpdGlvbkJlemllclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGksbyxuLHMscixhPWFyZ3VtZW50cy5sZW5ndGg8PTJ8fHZvaWQgMD09PWFyZ3VtZW50c1syXT90aGlzLl9nZXRWaWFDb29yZGluYXRlcygpOmFyZ3VtZW50c1syXSxoPTEwLGQ9MCxsPTAsdT0xLGM9LjIscD10aGlzLnRvLGY9ITE7Zm9yKHQuaWQ9PT10aGlzLmZyb20uaWQmJihwPXRoaXMuZnJvbSxmPSEwKTt1Pj1sJiZoPmQ7KXt2YXIgbT0uNSoobCt1KTtpZihpPXRoaXMuZ2V0UG9pbnQobSxhKSxvPU1hdGguYXRhbjIocC55LWkueSxwLngtaS54KSxuPXAuZGlzdGFuY2VUb0JvcmRlcihlLG8pLHM9TWF0aC5zcXJ0KE1hdGgucG93KGkueC1wLngsMikrTWF0aC5wb3coaS55LXAueSwyKSkscj1uLXMsTWF0aC5hYnMocik8YylicmVhazswPnI/Zj09PSExP2w9bTp1PW06Zj09PSExP3U9bTpsPW0sZCsrfXJldHVybiBpLnQ9bSxpfX0se2tleTpcIl9nZXREaXN0YW5jZVRvQmV6aWVyRWRnZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbixzLHIpe3ZhciBhPTFlOSxoPXZvaWQgMCxkPXZvaWQgMCxsPXZvaWQgMCx1PXZvaWQgMCxjPXZvaWQgMCxwPXQsZj1lO2ZvcihkPTE7MTA+ZDtkKyspbD0uMSpkLHU9TWF0aC5wb3coMS1sLDIpKnQrMipsKigxLWwpKnIueCtNYXRoLnBvdyhsLDIpKmksYz1NYXRoLnBvdygxLWwsMikqZSsyKmwqKDEtbCkqci55K01hdGgucG93KGwsMikqbyxkPjAmJihoPXRoaXMuX2dldERpc3RhbmNlVG9MaW5lKHAsZix1LGMsbixzKSxhPWE+aD9oOmEpLHA9dSxmPWM7cmV0dXJuIGF9fV0pLGV9KGRbXCJkZWZhdWx0XCJdKTtlW1wiZGVmYXVsdFwiXT1sLHQuZXhwb3J0cz1lW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciBpPVtdLG89ITAsbj0hMSxzPXZvaWQgMDt0cnl7Zm9yKHZhciByLGE9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShvPShyPWEubmV4dCgpKS5kb25lKSYmKGkucHVzaChyLnZhbHVlKSwhZXx8aS5sZW5ndGghPT1lKTtvPSEwKTt9Y2F0Y2goaCl7bj0hMCxzPWh9ZmluYWxseXt0cnl7IW8mJmFbXCJyZXR1cm5cIl0mJmFbXCJyZXR1cm5cIl0oKX1maW5hbGx5e2lmKG4pdGhyb3cgc319cmV0dXJuIGl9cmV0dXJuIGZ1bmN0aW9uKGUsaSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZTtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpKXJldHVybiB0KGUsaSk7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIil9fSgpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvPWVbaV07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24oZSxpLG8pe3JldHVybiBpJiZ0KGUucHJvdG90eXBlLGkpLG8mJnQoZSxvKSxlfX0oKSxyPWkoMSksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpLG4pe28odGhpcyx0KSx0aGlzLmJvZHk9aSx0aGlzLmxhYmVsTW9kdWxlPW4sdGhpcy5vcHRpb25zPXt9LHRoaXMuc2V0T3B0aW9ucyhlKSx0aGlzLmNvbG9yRGlydHk9ITAsdGhpcy5jb2xvcj17fSx0aGlzLnNlbGVjdGlvbldpZHRoPTIsdGhpcy5ob3ZlcldpZHRoPTEuNX1yZXR1cm4gcyh0LFt7a2V5OlwiY29ubmVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5mcm9tPXRoaXMuYm9keS5ub2Rlc1t0aGlzLm9wdGlvbnMuZnJvbV0sdGhpcy50bz10aGlzLmJvZHkubm9kZXNbdGhpcy5vcHRpb25zLnRvXX19LHtrZXk6XCJjbGVhbnVwXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hMX19LHtrZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb25zPXQsdGhpcy5mcm9tPXRoaXMuYm9keS5ub2Rlc1t0aGlzLm9wdGlvbnMuZnJvbV0sdGhpcy50bz10aGlzLmJvZHkubm9kZXNbdGhpcy5vcHRpb25zLnRvXSx0aGlzLmlkPXRoaXMub3B0aW9ucy5pZH19LHtrZXk6XCJkcmF3TGluZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt0LnN0cm9rZVN0eWxlPXRoaXMuZ2V0Q29sb3IodCxlLGkpLHQubGluZVdpZHRoPXRoaXMuZ2V0TGluZVdpZHRoKGUsaSk7dmFyIG89dm9pZCAwO3JldHVybiBvPXRoaXMub3B0aW9ucy5kYXNoZXMhPT0hMT90aGlzLl9kcmF3RGFzaGVkTGluZSh0KTp0aGlzLl9kcmF3TGluZSh0KX19LHtrZXk6XCJfZHJhd0xpbmVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT12b2lkIDA7aWYodGhpcy5mcm9tIT10aGlzLnRvKWU9dGhpcy5fbGluZSh0KTtlbHNle3ZhciBpPXRoaXMuX2dldENpcmNsZURhdGEodCksbz1uKGksMykscz1vWzBdLHI9b1sxXSxhPW9bMl07dGhpcy5fY2lyY2xlKHQscyxyLGEpfXJldHVybiBlfX0se2tleTpcIl9kcmF3RGFzaGVkTGluZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXZvaWQgMDt0LmxpbmVDYXA9XCJyb3VuZFwiO3ZhciBpPVs1LDVdO2lmKEFycmF5LmlzQXJyYXkodGhpcy5vcHRpb25zLmRhc2hlcyk9PT0hMCYmKGk9dGhpcy5vcHRpb25zLmRhc2hlcyksdm9pZCAwIT09dC5zZXRMaW5lRGFzaCl7aWYodC5zYXZlKCksdC5zZXRMaW5lRGFzaChpKSx0LmxpbmVEYXNoT2Zmc2V0PTAsdGhpcy5mcm9tIT10aGlzLnRvKWU9dGhpcy5fbGluZSh0KTtlbHNle3ZhciBvPXRoaXMuX2dldENpcmNsZURhdGEodCkscz1uKG8sMykscj1zWzBdLGE9c1sxXSxoPXNbMl07dGhpcy5fY2lyY2xlKHQscixhLGgpfXQuc2V0TGluZURhc2goWzBdKSx0LmxpbmVEYXNoT2Zmc2V0PTAsdC5yZXN0b3JlKCl9ZWxzZXtpZih0aGlzLmZyb20hPXRoaXMudG8pdC5kYXNoZWRMaW5lKHRoaXMuZnJvbS54LHRoaXMuZnJvbS55LHRoaXMudG8ueCx0aGlzLnRvLnksaSk7ZWxzZXt2YXIgZD10aGlzLl9nZXRDaXJjbGVEYXRhKHQpLGw9bihkLDMpLHI9bFswXSxhPWxbMV0saD1sWzJdO3RoaXMuX2NpcmNsZSh0LHIsYSxoKX10aGlzLmVuYWJsZVNoYWRvdyh0KSx0LnN0cm9rZSgpLHRoaXMuZGlzYWJsZVNoYWRvdyh0KX1yZXR1cm4gZX19LHtrZXk6XCJmaW5kQm9yZGVyUG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuZnJvbSE9dGhpcy50bz90aGlzLl9maW5kQm9yZGVyUG9zaXRpb24odCxlLGkpOnRoaXMuX2ZpbmRCb3JkZXJQb3NpdGlvbkNpcmNsZSh0LGUsaSl9fSx7a2V5OlwiZmluZEJvcmRlclBvc2l0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXt9LGk9e307aWYodGhpcy5mcm9tIT10aGlzLnRvKWU9dGhpcy5fZmluZEJvcmRlclBvc2l0aW9uKHRoaXMuZnJvbSx0KSxpPXRoaXMuX2ZpbmRCb3JkZXJQb3NpdGlvbih0aGlzLnRvLHQpO2Vsc2V7dmFyIG89dGhpcy5fZ2V0Q2lyY2xlRGF0YSh0KSxzPW4obywzKSxyPXNbMF0sYT1zWzFdO3NbMl07ZT10aGlzLl9maW5kQm9yZGVyUG9zaXRpb25DaXJjbGUodGhpcy5mcm9tLHQse3g6cix5OmEsbG93Oi4yNSxoaWdoOi42LGRpcmVjdGlvbjotMX0pLGk9dGhpcy5fZmluZEJvcmRlclBvc2l0aW9uQ2lyY2xlKHRoaXMuZnJvbSx0LHt4OnIseTphLGxvdzouNixoaWdoOi44LGRpcmVjdGlvbjoxfSl9cmV0dXJue2Zyb206ZSx0bzppfX19LHtrZXk6XCJfZ2V0Q2lyY2xlRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXZvaWQgMCxpPXZvaWQgMCxvPXRoaXMuZnJvbSxuPXRoaXMub3B0aW9ucy5zZWxmUmVmZXJlbmNlU2l6ZTtyZXR1cm4gdm9pZCAwIT09dCYmdm9pZCAwPT09by5zaGFwZS53aWR0aCYmby5zaGFwZS5yZXNpemUodCksby5zaGFwZS53aWR0aD5vLnNoYXBlLmhlaWdodD8oZT1vLngrLjUqby5zaGFwZS53aWR0aCxpPW8ueS1uKTooZT1vLngrbixpPW8ueS0uNSpvLnNoYXBlLmhlaWdodCksW2UsaSxuXX19LHtrZXk6XCJfcG9pbnRPbkNpcmNsZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8pe3ZhciBuPTIqbypNYXRoLlBJO3JldHVybnt4OnQraSpNYXRoLmNvcyhuKSx5OmUtaSpNYXRoLnNpbihuKX19fSx7a2V5OlwiX2ZpbmRCb3JkZXJQb3NpdGlvbkNpcmNsZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG89aS54LG49aS55LHM9aS5sb3cscj1pLmhpZ2gsYT1pLmRpcmVjdGlvbixoPTEwLGQ9MCxsPXRoaXMub3B0aW9ucy5zZWxmUmVmZXJlbmNlU2l6ZSx1PXZvaWQgMCxjPXZvaWQgMCxwPXZvaWQgMCxmPXZvaWQgMCxtPXZvaWQgMCx2PS4wNSxnPS41KihzK3IpO3I+PXMmJmg+ZCYmKGc9LjUqKHMrciksdT10aGlzLl9wb2ludE9uQ2lyY2xlKG8sbixsLGcpLGM9TWF0aC5hdGFuMih0LnktdS55LHQueC11LngpLHA9dC5kaXN0YW5jZVRvQm9yZGVyKGUsYyksZj1NYXRoLnNxcnQoTWF0aC5wb3codS54LXQueCwyKStNYXRoLnBvdyh1LnktdC55LDIpKSxtPXAtZiwhKE1hdGguYWJzKG0pPHYpKTspbT4wP2E+MD9zPWc6cj1nOmE+MD9yPWc6cz1nLGQrKztyZXR1cm4gdS50PWcsdX19LHtrZXk6XCJnZXRMaW5lV2lkdGhcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0PT09ITA/TWF0aC5tYXgodGhpcy5zZWxlY3Rpb25XaWR0aCwuMy90aGlzLmJvZHkudmlldy5zY2FsZSk6ZT09PSEwP01hdGgubWF4KHRoaXMuaG92ZXJXaWR0aCwuMy90aGlzLmJvZHkudmlldy5zY2FsZSk6TWF0aC5tYXgodGhpcy5vcHRpb25zLndpZHRoLC4zL3RoaXMuYm9keS52aWV3LnNjYWxlKX19LHtrZXk6XCJnZXRDb2xvclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz10aGlzLm9wdGlvbnMuY29sb3I7aWYoby5pbmhlcml0IT09ITEpe2lmKFwiYm90aFwiPT09by5pbmhlcml0JiZ0aGlzLmZyb20uaWQhPT10aGlzLnRvLmlkKXt2YXIgbj10LmNyZWF0ZUxpbmVhckdyYWRpZW50KHRoaXMuZnJvbS54LHRoaXMuZnJvbS55LHRoaXMudG8ueCx0aGlzLnRvLnkpLHM9dm9pZCAwLGE9dm9pZCAwO3JldHVybiBzPXRoaXMuZnJvbS5vcHRpb25zLmNvbG9yLmhpZ2hsaWdodC5ib3JkZXIsYT10aGlzLnRvLm9wdGlvbnMuY29sb3IuaGlnaGxpZ2h0LmJvcmRlcix0aGlzLmZyb20uc2VsZWN0ZWQ9PT0hMSYmdGhpcy50by5zZWxlY3RlZD09PSExPyhzPXIub3ZlcnJpZGVPcGFjaXR5KHRoaXMuZnJvbS5vcHRpb25zLmNvbG9yLmJvcmRlcix0aGlzLm9wdGlvbnMuY29sb3Iub3BhY2l0eSksYT1yLm92ZXJyaWRlT3BhY2l0eSh0aGlzLnRvLm9wdGlvbnMuY29sb3IuYm9yZGVyLHRoaXMub3B0aW9ucy5jb2xvci5vcGFjaXR5KSk6dGhpcy5mcm9tLnNlbGVjdGVkPT09ITAmJnRoaXMudG8uc2VsZWN0ZWQ9PT0hMT9hPXRoaXMudG8ub3B0aW9ucy5jb2xvci5ib3JkZXI6dGhpcy5mcm9tLnNlbGVjdGVkPT09ITEmJnRoaXMudG8uc2VsZWN0ZWQ9PT0hMCYmKHM9dGhpcy5mcm9tLm9wdGlvbnMuY29sb3IuYm9yZGVyKSxuLmFkZENvbG9yU3RvcCgwLHMpLG4uYWRkQ29sb3JTdG9wKDEsYSksbn10aGlzLmNvbG9yRGlydHk9PT0hMCYmKFwidG9cIj09PW8uaW5oZXJpdD8odGhpcy5jb2xvci5oaWdobGlnaHQ9dGhpcy50by5vcHRpb25zLmNvbG9yLmhpZ2hsaWdodC5ib3JkZXIsdGhpcy5jb2xvci5ob3Zlcj10aGlzLnRvLm9wdGlvbnMuY29sb3IuaG92ZXIuYm9yZGVyLHRoaXMuY29sb3IuY29sb3I9ci5vdmVycmlkZU9wYWNpdHkodGhpcy50by5vcHRpb25zLmNvbG9yLmJvcmRlcixvLm9wYWNpdHkpKToodGhpcy5jb2xvci5oaWdobGlnaHQ9dGhpcy5mcm9tLm9wdGlvbnMuY29sb3IuaGlnaGxpZ2h0LmJvcmRlcix0aGlzLmNvbG9yLmhvdmVyPXRoaXMuZnJvbS5vcHRpb25zLmNvbG9yLmhvdmVyLmJvcmRlcix0aGlzLmNvbG9yLmNvbG9yPXIub3ZlcnJpZGVPcGFjaXR5KHRoaXMuZnJvbS5vcHRpb25zLmNvbG9yLmJvcmRlcixvLm9wYWNpdHkpKSl9ZWxzZSB0aGlzLmNvbG9yRGlydHk9PT0hMCYmKHRoaXMuY29sb3IuaGlnaGxpZ2h0PW8uaGlnaGxpZ2h0LHRoaXMuY29sb3IuaG92ZXI9by5ob3Zlcix0aGlzLmNvbG9yLmNvbG9yPXIub3ZlcnJpZGVPcGFjaXR5KG8uY29sb3Isby5vcGFjaXR5KSk7cmV0dXJuIHRoaXMuY29sb3JEaXJ0eT0hMSxlPT09ITA/dGhpcy5jb2xvci5oaWdobGlnaHQ6aT09PSEwP3RoaXMuY29sb3IuaG92ZXI6dGhpcy5jb2xvci5jb2xvcn19LHtrZXk6XCJfY2lyY2xlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyl7dGhpcy5lbmFibGVTaGFkb3codCksdC5iZWdpblBhdGgoKSx0LmFyYyhlLGksbywwLDIqTWF0aC5QSSwhMSksdC5zdHJva2UoKSx0aGlzLmRpc2FibGVTaGFkb3codCl9fSx7a2V5OlwiZ2V0RGlzdGFuY2VUb0VkZ2VcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLHMscixhKXt2YXIgaD0wO2lmKHRoaXMuZnJvbSE9dGhpcy50byloPXRoaXMuX2dldERpc3RhbmNlVG9FZGdlKHQsZSxpLG8scyxyLGEpO2Vsc2V7dmFyIGQ9dGhpcy5fZ2V0Q2lyY2xlRGF0YSgpLGw9bihkLDMpLHU9bFswXSxjPWxbMV0scD1sWzJdLGY9dS1zLG09Yy1yO2g9TWF0aC5hYnMoTWF0aC5zcXJ0KGYqZittKm0pLXApfXJldHVybiB0aGlzLmxhYmVsTW9kdWxlLnNpemUubGVmdDxzJiZ0aGlzLmxhYmVsTW9kdWxlLnNpemUubGVmdCt0aGlzLmxhYmVsTW9kdWxlLnNpemUud2lkdGg+cyYmdGhpcy5sYWJlbE1vZHVsZS5zaXplLnRvcDxyJiZ0aGlzLmxhYmVsTW9kdWxlLnNpemUudG9wK3RoaXMubGFiZWxNb2R1bGUuc2l6ZS5oZWlnaHQ+cj8wOmh9fSx7a2V5OlwiX2dldERpc3RhbmNlVG9MaW5lXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHMpe3ZhciByPWktdCxhPW8tZSxoPXIqcithKmEsZD0oKG4tdCkqcisocy1lKSphKS9oO2Q+MT9kPTE6MD5kJiYoZD0wKTt2YXIgbD10K2Qqcix1PWUrZCphLGM9bC1uLHA9dS1zO3JldHVybiBNYXRoLnNxcnQoYypjK3AqcCl9fSx7a2V5OlwiZHJhd0Fycm93SGVhZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8scyl7dC5zdHJva2VTdHlsZT10aGlzLmdldENvbG9yKHQsbyxzKSx0LmZpbGxTdHlsZT10LnN0cm9rZVN0eWxlLHQubGluZVdpZHRoPXRoaXMuZ2V0TGluZVdpZHRoKG8scyk7dmFyIHI9dm9pZCAwLGE9dm9pZCAwLGg9dm9pZCAwLGQ9dm9pZCAwLGw9dm9pZCAwLHU9dm9pZCAwLGM9dm9pZCAwO2lmKFwiZnJvbVwiPT09ZT8oZD10aGlzLmZyb20sbD10aGlzLnRvLHU9LjEsYz10aGlzLm9wdGlvbnMuYXJyb3dzLmZyb20uc2NhbGVGYWN0b3IpOlwidG9cIj09PWU/KGQ9dGhpcy50byxsPXRoaXMuZnJvbSx1PS0uMSxjPXRoaXMub3B0aW9ucy5hcnJvd3MudG8uc2NhbGVGYWN0b3IpOihkPXRoaXMudG8sbD10aGlzLmZyb20sYz10aGlzLm9wdGlvbnMuYXJyb3dzLm1pZGRsZS5zY2FsZUZhY3RvciksZCE9bCl7aWYoXCJtaWRkbGVcIiE9PWUpaWYodGhpcy5vcHRpb25zLnNtb290aC5lbmFibGVkPT09ITApe2g9dGhpcy5maW5kQm9yZGVyUG9zaXRpb24oZCx0LHt2aWE6aX0pO3ZhciBwPXRoaXMuZ2V0UG9pbnQoTWF0aC5tYXgoMCxNYXRoLm1pbigxLGgudCt1KSksaSk7cj1NYXRoLmF0YW4yKGgueS1wLnksaC54LXAueCl9ZWxzZSByPU1hdGguYXRhbjIoZC55LWwueSxkLngtbC54KSxoPXRoaXMuZmluZEJvcmRlclBvc2l0aW9uKGQsdCk7ZWxzZSByPU1hdGguYXRhbjIoZC55LWwueSxkLngtbC54KSxoPXRoaXMuZ2V0UG9pbnQoLjYsaSk7YT0oMTArNSp0aGlzLm9wdGlvbnMud2lkdGgpKmMsdC5hcnJvdyhoLngsaC55LHIsYSksdGhpcy5lbmFibGVTaGFkb3codCksdC5maWxsKCksdGhpcy5kaXNhYmxlU2hhZG93KHQpLHQuc3Ryb2tlKCl9ZWxzZXt2YXIgZj12b2lkIDAsbT12b2lkIDAsdj10aGlzLl9nZXRDaXJjbGVEYXRhKHQpLGc9bih2LDMpLHk9Z1swXSxiPWdbMV0sdz1nWzJdO1wiZnJvbVwiPT09ZT8obT10aGlzLmZpbmRCb3JkZXJQb3NpdGlvbih0aGlzLmZyb20sdCx7eDp5LHk6Yixsb3c6LjI1LGhpZ2g6LjYsZGlyZWN0aW9uOi0xfSksZj0tMiptLnQqTWF0aC5QSSsxLjUqTWF0aC5QSSsuMSpNYXRoLlBJKTpcInRvXCI9PT1lPyhtPXRoaXMuZmluZEJvcmRlclBvc2l0aW9uKHRoaXMuZnJvbSx0LHt4OnkseTpiLGxvdzouNixoaWdoOjEsZGlyZWN0aW9uOjF9KSxmPS0yKm0udCpNYXRoLlBJKzEuNSpNYXRoLlBJLTEuMSpNYXRoLlBJKToobT10aGlzLl9wb2ludE9uQ2lyY2xlKHksYix3LC4xNzUpLGY9My45MjY5OTA4MTY5ODcyNDE0KTt2YXIgXz0oMTArNSp0aGlzLm9wdGlvbnMud2lkdGgpKmM7dC5hcnJvdyhtLngsbS55LGYsXyksdGhpcy5lbmFibGVTaGFkb3codCksdC5maWxsKCksdGhpcy5kaXNhYmxlU2hhZG93KHQpLHQuc3Ryb2tlKCl9fX0se2tleTpcImVuYWJsZVNoYWRvd1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucy5zaGFkb3cuZW5hYmxlZD09PSEwJiYodC5zaGFkb3dDb2xvcj1cInJnYmEoMCwwLDAsMC41KVwiLHQuc2hhZG93Qmx1cj10aGlzLm9wdGlvbnMuc2hhZG93LnNpemUsdC5zaGFkb3dPZmZzZXRYPXRoaXMub3B0aW9ucy5zaGFkb3cueCx0LnNoYWRvd09mZnNldFk9dGhpcy5vcHRpb25zLnNoYWRvdy55KX19LHtrZXk6XCJkaXNhYmxlU2hhZG93XCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb25zLnNoYWRvdy5lbmFibGVkPT09ITAmJih0LnNoYWRvd0NvbG9yPVwicmdiYSgwLDAsMCwwKVwiLHQuc2hhZG93Qmx1cj0wLHQuc2hhZG93T2Zmc2V0WD0wLHQuc2hhZG93T2Zmc2V0WT0wKX19XSksdH0oKTtlW1wiZGVmYXVsdFwiXT1hLHQuZXhwb3J0cz1lW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBzKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvPWVbaV07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24oZSxpLG8pe3JldHVybiBpJiZ0KGUucHJvdG90eXBlLGkpLG8mJnQoZSxvKSxlfX0oKSxhPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG89ITA7bzspe3ZhciBuPXQscz1lLHI9aTtvPSExLG51bGw9PT1uJiYobj1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixzKTtpZih2b2lkIDAhPT1hKXtpZihcInZhbHVlXCJpbiBhKXJldHVybiBhLnZhbHVlO3ZhciBoPWEuZ2V0O2lmKHZvaWQgMD09PWgpcmV0dXJuO3JldHVybiBoLmNhbGwocil9dmFyIGQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKG4pO2lmKG51bGw9PT1kKXJldHVybjt0PWQsZT1zLGk9cixvPSEwLGE9ZD12b2lkIDB9fSxoPWkoODUpLGQ9byhoKSxsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxpLG8pe3ZhciBzPXRoaXM7bih0aGlzLGUpLGEoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUucHJvdG90eXBlKSxcImNvbnN0cnVjdG9yXCIsdGhpcykuY2FsbCh0aGlzLHQsaSxvKSx0aGlzLl9ib3VuZEZ1bmN0aW9uPWZ1bmN0aW9uKCl7cy5wb3NpdGlvbkJlemllck5vZGUoKX0sdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJfcmVwb3NpdGlvbkJlemllck5vZGVzXCIsdGhpcy5fYm91bmRGdW5jdGlvbil9cmV0dXJuIHMoZSx0KSxyKGUsW3trZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9ITE7dGhpcy5vcHRpb25zLnBoeXNpY3MhPT10LnBoeXNpY3MmJihlPSEwKSx0aGlzLm9wdGlvbnM9dCx0aGlzLmlkPXRoaXMub3B0aW9ucy5pZCx0aGlzLmZyb209dGhpcy5ib2R5Lm5vZGVzW3RoaXMub3B0aW9ucy5mcm9tXSx0aGlzLnRvPXRoaXMuYm9keS5ub2Rlc1t0aGlzLm9wdGlvbnMudG9dLHRoaXMuc2V0dXBTdXBwb3J0Tm9kZSgpLHRoaXMuY29ubmVjdCgpLGU9PT0hMCYmKHRoaXMudmlhLnNldE9wdGlvbnMoe3BoeXNpY3M6dGhpcy5vcHRpb25zLnBoeXNpY3N9KSx0aGlzLnBvc2l0aW9uQmV6aWVyTm9kZSgpKX19LHtrZXk6XCJjb25uZWN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmZyb209dGhpcy5ib2R5Lm5vZGVzW3RoaXMub3B0aW9ucy5mcm9tXSx0aGlzLnRvPXRoaXMuYm9keS5ub2Rlc1t0aGlzLm9wdGlvbnMudG9dLHZvaWQgMD09PXRoaXMuZnJvbXx8dm9pZCAwPT09dGhpcy50b3x8dGhpcy5vcHRpb25zLnBoeXNpY3M9PT0hMT90aGlzLnZpYS5zZXRPcHRpb25zKHtwaHlzaWNzOiExfSk6dGhpcy5mcm9tLmlkPT09dGhpcy50by5pZD90aGlzLnZpYS5zZXRPcHRpb25zKHtwaHlzaWNzOiExfSk6dGhpcy52aWEuc2V0T3B0aW9ucyh7cGh5c2ljczohMH0pfX0se2tleTpcImNsZWFudXBcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHkuZW1pdHRlci5vZmYoXCJfcmVwb3NpdGlvbkJlemllck5vZGVzXCIsdGhpcy5fYm91bmRGdW5jdGlvbiksdm9pZCAwIT09dGhpcy52aWE/KGRlbGV0ZSB0aGlzLmJvZHkubm9kZXNbdGhpcy52aWEuaWRdLHRoaXMudmlhPXZvaWQgMCwhMCk6ITF9fSx7a2V5Olwic2V0dXBTdXBwb3J0Tm9kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodm9pZCAwPT09dGhpcy52aWEpe3ZhciB0PVwiZWRnZUlkOlwiK3RoaXMuaWQsZT10aGlzLmJvZHkuZnVuY3Rpb25zLmNyZWF0ZU5vZGUoe2lkOnQsc2hhcGU6XCJjaXJjbGVcIixwaHlzaWNzOiEwLGhpZGRlbjohMH0pO3RoaXMuYm9keS5ub2Rlc1t0XT1lLHRoaXMudmlhPWUsdGhpcy52aWEucGFyZW50RWRnZUlkPXRoaXMuaWQsdGhpcy5wb3NpdGlvbkJlemllck5vZGUoKX19fSx7a2V5OlwicG9zaXRpb25CZXppZXJOb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2b2lkIDAhPT10aGlzLnZpYSYmdm9pZCAwIT09dGhpcy5mcm9tJiZ2b2lkIDAhPT10aGlzLnRvPyh0aGlzLnZpYS54PS41Kih0aGlzLmZyb20ueCt0aGlzLnRvLngpLHRoaXMudmlhLnk9LjUqKHRoaXMuZnJvbS55K3RoaXMudG8ueSkpOnZvaWQgMCE9PXRoaXMudmlhJiYodGhpcy52aWEueD0wLHRoaXMudmlhLnk9MCl9fSx7a2V5OlwiX2xpbmVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5iZWdpblBhdGgoKSx0Lm1vdmVUbyh0aGlzLmZyb20ueCx0aGlzLmZyb20ueSksdC5xdWFkcmF0aWNDdXJ2ZVRvKHRoaXMudmlhLngsdGhpcy52aWEueSx0aGlzLnRvLngsdGhpcy50by55KSx0aGlzLmVuYWJsZVNoYWRvdyh0KSx0LnN0cm9rZSgpLHRoaXMuZGlzYWJsZVNoYWRvdyh0KSx0aGlzLnZpYX19LHtrZXk6XCJnZXRQb2ludFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQsaT1NYXRoLnBvdygxLWUsMikqdGhpcy5mcm9tLngrMiplKigxLWUpKnRoaXMudmlhLngrTWF0aC5wb3coZSwyKSp0aGlzLnRvLngsbz1NYXRoLnBvdygxLWUsMikqdGhpcy5mcm9tLnkrMiplKigxLWUpKnRoaXMudmlhLnkrTWF0aC5wb3coZSwyKSp0aGlzLnRvLnk7cmV0dXJue3g6aSx5Om99fX0se2tleTpcIl9maW5kQm9yZGVyUG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9maW5kQm9yZGVyUG9zaXRpb25CZXppZXIodCxlLHRoaXMudmlhKX19LHtrZXk6XCJfZ2V0RGlzdGFuY2VUb0VkZ2VcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4scyl7cmV0dXJuIHRoaXMuX2dldERpc3RhbmNlVG9CZXppZXJFZGdlKHQsZSxpLG8sbixzLHRoaXMudmlhKX19XSksZX0oZFtcImRlZmF1bHRcIl0pO2VbXCJkZWZhdWx0XCJdPWwsdC5leHBvcnRzPWVbXCJkZWZhdWx0XCJdfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWZ1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHModCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLGE9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIG49dCxzPWUscj1pO289ITEsbnVsbD09PW4mJihuPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHMpO2lmKHZvaWQgMCE9PWEpe2lmKFwidmFsdWVcImluIGEpcmV0dXJuIGEudmFsdWU7dmFyIGg9YS5nZXQ7aWYodm9pZCAwPT09aClyZXR1cm47cmV0dXJuIGguY2FsbChyKX12YXIgZD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobik7aWYobnVsbD09PWQpcmV0dXJuO3Q9ZCxlPXMsaT1yLG89ITAsYT1kPXZvaWQgMH19LGg9aSg4NSksZD1vKGgpLGw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGksbyl7bih0aGlzLGUpLGEoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUucHJvdG90eXBlKSxcImNvbnN0cnVjdG9yXCIsdGhpcykuY2FsbCh0aGlzLHQsaSxvKX1yZXR1cm4gcyhlLHQpLHIoZSxbe2tleTpcIl9saW5lXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5iZWdpblBhdGgoKSx0Lm1vdmVUbyh0aGlzLmZyb20ueCx0aGlzLmZyb20ueSk7dmFyIGU9dGhpcy5fZ2V0VmlhQ29vcmRpbmF0ZXMoKSxpPWU7cmV0dXJuIHZvaWQgMD09PWUueD8odC5saW5lVG8odGhpcy50by54LHRoaXMudG8ueSksaT12b2lkIDApOnQucXVhZHJhdGljQ3VydmVUbyhlLngsZS55LHRoaXMudG8ueCx0aGlzLnRvLnkpLHRoaXMuZW5hYmxlU2hhZG93KHQpLHQuc3Ryb2tlKCksdGhpcy5kaXNhYmxlU2hhZG93KHQpLGl9fSx7a2V5OlwiX2dldFZpYUNvb3JkaW5hdGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD12b2lkIDAsZT12b2lkIDAsaT10aGlzLm9wdGlvbnMuc21vb3RoLnJvdW5kbmVzcyxvPXRoaXMub3B0aW9ucy5zbW9vdGgudHlwZSxuPU1hdGguYWJzKHRoaXMuZnJvbS54LXRoaXMudG8ueCkscz1NYXRoLmFicyh0aGlzLmZyb20ueS10aGlzLnRvLnkpO2lmKFwiZGlzY3JldGVcIj09PW98fFwiZGlhZ29uYWxDcm9zc1wiPT09bylNYXRoLmFicyh0aGlzLmZyb20ueC10aGlzLnRvLngpPD1NYXRoLmFicyh0aGlzLmZyb20ueS10aGlzLnRvLnkpPyh0aGlzLmZyb20ueT49dGhpcy50by55P3RoaXMuZnJvbS54PD10aGlzLnRvLng/KHQ9dGhpcy5mcm9tLngraSpzLGU9dGhpcy5mcm9tLnktaSpzKTp0aGlzLmZyb20ueD50aGlzLnRvLngmJih0PXRoaXMuZnJvbS54LWkqcyxlPXRoaXMuZnJvbS55LWkqcyk6dGhpcy5mcm9tLnk8dGhpcy50by55JiYodGhpcy5mcm9tLng8PXRoaXMudG8ueD8odD10aGlzLmZyb20ueCtpKnMsZT10aGlzLmZyb20ueStpKnMpOnRoaXMuZnJvbS54PnRoaXMudG8ueCYmKHQ9dGhpcy5mcm9tLngtaSpzLGU9dGhpcy5mcm9tLnkraSpzKSksXCJkaXNjcmV0ZVwiPT09byYmKHQ9aSpzPm4/dGhpcy5mcm9tLng6dCkpOk1hdGguYWJzKHRoaXMuZnJvbS54LXRoaXMudG8ueCk+TWF0aC5hYnModGhpcy5mcm9tLnktdGhpcy50by55KSYmKHRoaXMuZnJvbS55Pj10aGlzLnRvLnk/dGhpcy5mcm9tLng8PXRoaXMudG8ueD8odD10aGlzLmZyb20ueCtpKm4sZT10aGlzLmZyb20ueS1pKm4pOnRoaXMuZnJvbS54PnRoaXMudG8ueCYmKHQ9dGhpcy5mcm9tLngtaSpuLGU9dGhpcy5mcm9tLnktaSpuKTp0aGlzLmZyb20ueTx0aGlzLnRvLnkmJih0aGlzLmZyb20ueDw9dGhpcy50by54Pyh0PXRoaXMuZnJvbS54K2kqbixlPXRoaXMuZnJvbS55K2kqbik6dGhpcy5mcm9tLng+dGhpcy50by54JiYodD10aGlzLmZyb20ueC1pKm4sZT10aGlzLmZyb20ueStpKm4pKSxcImRpc2NyZXRlXCI9PT1vJiYoZT1pKm4+cz90aGlzLmZyb20ueTplKSk7ZWxzZSBpZihcInN0cmFpZ2h0Q3Jvc3NcIj09PW8pTWF0aC5hYnModGhpcy5mcm9tLngtdGhpcy50by54KTw9TWF0aC5hYnModGhpcy5mcm9tLnktdGhpcy50by55KT8odD10aGlzLmZyb20ueCxlPXRoaXMuZnJvbS55PHRoaXMudG8ueT90aGlzLnRvLnktKDEtaSkqczp0aGlzLnRvLnkrKDEtaSkqcyk6TWF0aC5hYnModGhpcy5mcm9tLngtdGhpcy50by54KT5NYXRoLmFicyh0aGlzLmZyb20ueS10aGlzLnRvLnkpJiYodD10aGlzLmZyb20ueDx0aGlzLnRvLng/dGhpcy50by54LSgxLWkpKm46dGhpcy50by54KygxLWkpKm4sZT10aGlzLmZyb20ueSk7ZWxzZSBpZihcImhvcml6b250YWxcIj09PW8pdD10aGlzLmZyb20ueDx0aGlzLnRvLng/dGhpcy50by54LSgxLWkpKm46dGhpcy50by54KygxLWkpKm4sZT10aGlzLmZyb20ueTtlbHNlIGlmKFwidmVydGljYWxcIj09PW8pdD10aGlzLmZyb20ueCxlPXRoaXMuZnJvbS55PHRoaXMudG8ueT90aGlzLnRvLnktKDEtaSkqczp0aGlzLnRvLnkrKDEtaSkqcztlbHNlIGlmKFwiY3VydmVkQ1dcIj09PW8pe249dGhpcy50by54LXRoaXMuZnJvbS54LHM9dGhpcy5mcm9tLnktdGhpcy50by55O3ZhciByPU1hdGguc3FydChuKm4rcypzKSxhPU1hdGguUEksaD1NYXRoLmF0YW4yKHMsbiksZD0oaCsoLjUqaSsuNSkqYSklKDIqYSk7dD10aGlzLmZyb20ueCsoLjUqaSsuNSkqcipNYXRoLnNpbihkKSxlPXRoaXMuZnJvbS55KyguNSppKy41KSpyKk1hdGguY29zKGQpfWVsc2UgaWYoXCJjdXJ2ZWRDQ1dcIj09PW8pe249dGhpcy50by54LXRoaXMuZnJvbS54LHM9dGhpcy5mcm9tLnktdGhpcy50by55O3ZhciByPU1hdGguc3FydChuKm4rcypzKSxhPU1hdGguUEksaD1NYXRoLmF0YW4yKHMsbiksZD0oaCsoLjUqLWkrLjUpKmEpJSgyKmEpO3Q9dGhpcy5mcm9tLngrKC41KmkrLjUpKnIqTWF0aC5zaW4oZCksZT10aGlzLmZyb20ueSsoLjUqaSsuNSkqcipNYXRoLmNvcyhkKX1lbHNlIE1hdGguYWJzKHRoaXMuZnJvbS54LXRoaXMudG8ueCk8PU1hdGguYWJzKHRoaXMuZnJvbS55LXRoaXMudG8ueSk/dGhpcy5mcm9tLnk+PXRoaXMudG8ueT90aGlzLmZyb20ueDw9dGhpcy50by54Pyh0PXRoaXMuZnJvbS54K2kqcyxlPXRoaXMuZnJvbS55LWkqcyx0PXRoaXMudG8ueDx0P3RoaXMudG8ueDp0KTp0aGlzLmZyb20ueD50aGlzLnRvLngmJih0PXRoaXMuZnJvbS54LWkqcyxlPXRoaXMuZnJvbS55LWkqcyx0PXRoaXMudG8ueD50P3RoaXMudG8ueDp0KTp0aGlzLmZyb20ueTx0aGlzLnRvLnkmJih0aGlzLmZyb20ueDw9dGhpcy50by54Pyh0PXRoaXMuZnJvbS54K2kqcyxlPXRoaXMuZnJvbS55K2kqcyx0PXRoaXMudG8ueDx0P3RoaXMudG8ueDp0KTp0aGlzLmZyb20ueD50aGlzLnRvLngmJih0PXRoaXMuZnJvbS54LWkqcyxlPXRoaXMuZnJvbS55K2kqcyx0PXRoaXMudG8ueD50P3RoaXMudG8ueDp0KSk6TWF0aC5hYnModGhpcy5mcm9tLngtdGhpcy50by54KT5NYXRoLmFicyh0aGlzLmZyb20ueS10aGlzLnRvLnkpJiYodGhpcy5mcm9tLnk+PXRoaXMudG8ueT90aGlzLmZyb20ueDw9dGhpcy50by54Pyh0PXRoaXMuZnJvbS54K2kqbixlPXRoaXMuZnJvbS55LWkqbixlPXRoaXMudG8ueT5lP3RoaXMudG8ueTplKTp0aGlzLmZyb20ueD50aGlzLnRvLngmJih0PXRoaXMuZnJvbS54LWkqbixlPXRoaXMuZnJvbS55LWkqbixlPXRoaXMudG8ueT5lP3RoaXMudG8ueTplKTp0aGlzLmZyb20ueTx0aGlzLnRvLnkmJih0aGlzLmZyb20ueDw9dGhpcy50by54Pyh0PXRoaXMuZnJvbS54K2kqbixlPXRoaXMuZnJvbS55K2kqbixlPXRoaXMudG8ueTxlP3RoaXMudG8ueTplKTp0aGlzLmZyb20ueD50aGlzLnRvLngmJih0PXRoaXMuZnJvbS54LWkqbixlPXRoaXMuZnJvbS55K2kqbixlPXRoaXMudG8ueTxlP3RoaXMudG8ueTplKSkpO3JldHVybnt4OnQseTplfX19LHtrZXk6XCJfZmluZEJvcmRlclBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPD0yfHx2b2lkIDA9PT1hcmd1bWVudHNbMl0/e306YXJndW1lbnRzWzJdO3JldHVybiB0aGlzLl9maW5kQm9yZGVyUG9zaXRpb25CZXppZXIodCxlLGkudmlhKX19LHtrZXk6XCJfZ2V0RGlzdGFuY2VUb0VkZ2VcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4scyl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aDw9Nnx8dm9pZCAwPT09YXJndW1lbnRzWzZdP3RoaXMuX2dldFZpYUNvb3JkaW5hdGVzKCk6YXJndW1lbnRzWzZdO3JldHVybiB0aGlzLl9nZXREaXN0YW5jZVRvQmV6aWVyRWRnZSh0LGUsaSxvLG4scyxyKX19LHtrZXk6XCJnZXRQb2ludFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT90aGlzLl9nZXRWaWFDb29yZGluYXRlcygpOmFyZ3VtZW50c1sxXSxpPXQsbz1NYXRoLnBvdygxLWksMikqdGhpcy5mcm9tLngrMippKigxLWkpKmUueCtNYXRoLnBvdyhpLDIpKnRoaXMudG8ueCxuPU1hdGgucG93KDEtaSwyKSp0aGlzLmZyb20ueSsyKmkqKDEtaSkqZS55K01hdGgucG93KGksMikqdGhpcy50by55O3JldHVybnt4Om8seTpufX19XSksZX0oZFtcImRlZmF1bHRcIl0pO2VbXCJkZWZhdWx0XCJdPWwsdC5leHBvcnRzPWVbXCJkZWZhdWx0XCJdfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWZ1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHModCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLGE9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIG49dCxzPWUscj1pO289ITEsbnVsbD09PW4mJihuPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHMpO2lmKHZvaWQgMCE9PWEpe2lmKFwidmFsdWVcImluIGEpcmV0dXJuIGEudmFsdWU7dmFyIGg9YS5nZXQ7aWYodm9pZCAwPT09aClyZXR1cm47cmV0dXJuIGguY2FsbChyKX12YXIgZD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobik7aWYobnVsbD09PWQpcmV0dXJuO3Q9ZCxlPXMsaT1yLG89ITAsYT1kPXZvaWQgMH19LGg9aSg4NiksZD1vKGgpLGw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGksbyl7bih0aGlzLGUpLGEoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUucHJvdG90eXBlKSxcImNvbnN0cnVjdG9yXCIsdGhpcykuY2FsbCh0aGlzLHQsaSxvKX1yZXR1cm4gcyhlLHQpLHIoZSxbe2tleTpcIl9saW5lXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5iZWdpblBhdGgoKSx0Lm1vdmVUbyh0aGlzLmZyb20ueCx0aGlzLmZyb20ueSksdC5saW5lVG8odGhpcy50by54LHRoaXMudG8ueSksdGhpcy5lbmFibGVTaGFkb3codCksdC5zdHJva2UoKSx0aGlzLmRpc2FibGVTaGFkb3codCl9fSx7a2V5OlwiZ2V0UG9pbnRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm57eDooMS10KSp0aGlzLmZyb20ueCt0KnRoaXMudG8ueCx5OigxLXQpKnRoaXMuZnJvbS55K3QqdGhpcy50by55fX19LHtrZXk6XCJfZmluZEJvcmRlclBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnRvLG89dGhpcy5mcm9tO3QuaWQ9PT10aGlzLmZyb20uaWQmJihpPXRoaXMuZnJvbSxvPXRoaXMudG8pO3ZhciBuPU1hdGguYXRhbjIoaS55LW8ueSxpLngtby54KSxzPWkueC1vLngscj1pLnktby55LGE9TWF0aC5zcXJ0KHMqcytyKnIpLGg9dC5kaXN0YW5jZVRvQm9yZGVyKGUsbiksZD0oYS1oKS9hLGw9e307cmV0dXJuIGwueD0oMS1kKSpvLngrZCppLngsbC55PSgxLWQpKm8ueStkKmkueSxsfX0se2tleTpcIl9nZXREaXN0YW5jZVRvRWRnZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbixzKXtyZXR1cm4gdGhpcy5fZ2V0RGlzdGFuY2VUb0xpbmUodCxlLGksbyxuLHMpfX1dKSxlfShkW1wiZGVmYXVsdFwiXSk7ZVtcImRlZmF1bHRcIl09bCx0LmV4cG9ydHM9ZVtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvPWVbaV07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24oZSxpLG8pe3JldHVybiBpJiZ0KGUucHJvdG90eXBlLGkpLG8mJnQoZSxvKSxlfX0oKSxyPWkoOTEpLGE9byhyKSxoPWkoOTIpLGQ9byhoKSxsPWkoOTMpLHU9byhsKSxjPWkoOTQpLHA9byhjKSxmPWkoOTUpLG09byhmKSx2PWkoOTYpLGc9byh2KSx5PWkoOTcpLGI9byh5KSx3PWkoOTgpLF89byh3KSx4PWkoMSksaz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7bih0aGlzLHQpLHRoaXMuYm9keT1lLHRoaXMucGh5c2ljc0JvZHk9e3BoeXNpY3NOb2RlSW5kaWNlczpbXSxwaHlzaWNzRWRnZUluZGljZXM6W10sZm9yY2VzOnt9LHZlbG9jaXRpZXM6e319LHRoaXMucGh5c2ljc0VuYWJsZWQ9ITAsdGhpcy5zaW11bGF0aW9uSW50ZXJ2YWw9MWUzLzYwLHRoaXMucmVxdWlyZXNUaW1lb3V0PSEwLHRoaXMucHJldmlvdXNTdGF0ZXM9e30sdGhpcy5yZWZlcmVuY2VTdGF0ZT17fSx0aGlzLmZyZWV6ZUNhY2hlPXt9LHRoaXMucmVuZGVyVGltZXI9dm9pZCAwLHRoaXMuYWRhcHRpdmVUaW1lc3RlcD0hMSx0aGlzLmFkYXB0aXZlVGltZXN0ZXBFbmFibGVkPSExLHRoaXMuYWRhcHRpdmVDb3VudGVyPTAsdGhpcy5hZGFwdGl2ZUludGVydmFsPTMsdGhpcy5zdGFiaWxpemVkPSExLHRoaXMuc3RhcnRlZFN0YWJpbGl6YXRpb249ITEsdGhpcy5zdGFiaWxpemF0aW9uSXRlcmF0aW9ucz0wLHRoaXMucmVhZHk9ITEsdGhpcy5vcHRpb25zPXt9LHRoaXMuZGVmYXVsdE9wdGlvbnM9e2VuYWJsZWQ6ITAsYmFybmVzSHV0Ont0aGV0YTouNSxncmF2aXRhdGlvbmFsQ29uc3RhbnQ6LTJlMyxjZW50cmFsR3Jhdml0eTouMyxzcHJpbmdMZW5ndGg6OTUsc3ByaW5nQ29uc3RhbnQ6LjA0LGRhbXBpbmc6LjA5LGF2b2lkT3ZlcmxhcDowfSxmb3JjZUF0bGFzMkJhc2VkOnt0aGV0YTouNSxncmF2aXRhdGlvbmFsQ29uc3RhbnQ6LTUwLGNlbnRyYWxHcmF2aXR5Oi4wMSxzcHJpbmdDb25zdGFudDouMDgsc3ByaW5nTGVuZ3RoOjEwMCxkYW1waW5nOi40LGF2b2lkT3ZlcmxhcDowfSxyZXB1bHNpb246e2NlbnRyYWxHcmF2aXR5Oi4yLHNwcmluZ0xlbmd0aDoyMDAsc3ByaW5nQ29uc3RhbnQ6LjA1LG5vZGVEaXN0YW5jZToxMDAsZGFtcGluZzouMDksYXZvaWRPdmVybGFwOjB9LGhpZXJhcmNoaWNhbFJlcHVsc2lvbjp7Y2VudHJhbEdyYXZpdHk6MCxzcHJpbmdMZW5ndGg6MTAwLHNwcmluZ0NvbnN0YW50Oi4wMSxub2RlRGlzdGFuY2U6MTIwLGRhbXBpbmc6LjA5fSxtYXhWZWxvY2l0eTo1MCxtaW5WZWxvY2l0eTouNzUsc29sdmVyOlwiYmFybmVzSHV0XCIsc3RhYmlsaXphdGlvbjp7ZW5hYmxlZDohMCxpdGVyYXRpb25zOjFlMyx1cGRhdGVJbnRlcnZhbDo1MCxvbmx5RHluYW1pY0VkZ2VzOiExLGZpdDohMH0sdGltZXN0ZXA6LjUsYWRhcHRpdmVUaW1lc3RlcDohMH0seC5leHRlbmQodGhpcy5vcHRpb25zLHRoaXMuZGVmYXVsdE9wdGlvbnMpLHRoaXMudGltZXN0ZXA9LjUsdGhpcy5sYXlvdXRGYWlsZWQ9ITEsdGhpcy5iaW5kRXZlbnRMaXN0ZW5lcnMoKX1yZXR1cm4gcyh0LFt7a2V5OlwiYmluZEV2ZW50TGlzdGVuZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuYm9keS5lbWl0dGVyLm9uKFwiaW5pdFBoeXNpY3NcIixmdW5jdGlvbigpe3QuaW5pdFBoeXNpY3MoKX0pLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiX2xheW91dEZhaWxlZFwiLGZ1bmN0aW9uKCl7dC5sYXlvdXRGYWlsZWQ9ITB9KSx0aGlzLmJvZHkuZW1pdHRlci5vbihcInJlc2V0UGh5c2ljc1wiLGZ1bmN0aW9uKCl7dC5zdG9wU2ltdWxhdGlvbigpLHQucmVhZHk9ITF9KSx0aGlzLmJvZHkuZW1pdHRlci5vbihcImRpc2FibGVQaHlzaWNzXCIsZnVuY3Rpb24oKXt0LnBoeXNpY3NFbmFibGVkPSExLHQuc3RvcFNpbXVsYXRpb24oKX0pLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwicmVzdG9yZVBoeXNpY3NcIixmdW5jdGlvbigpe3Quc2V0T3B0aW9ucyh0Lm9wdGlvbnMpLHQucmVhZHk9PT0hMCYmdC5zdGFydFNpbXVsYXRpb24oKX0pLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwic3RhcnRTaW11bGF0aW9uXCIsZnVuY3Rpb24oKXt0LnJlYWR5PT09ITAmJnQuc3RhcnRTaW11bGF0aW9uKCl9KSx0aGlzLmJvZHkuZW1pdHRlci5vbihcInN0b3BTaW11bGF0aW9uXCIsZnVuY3Rpb24oKXt0LnN0b3BTaW11bGF0aW9uKCl9KSx0aGlzLmJvZHkuZW1pdHRlci5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe3Quc3RvcFNpbXVsYXRpb24oITEpLHQuYm9keS5lbWl0dGVyLm9mZigpfSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJfZGF0YUNoYW5nZWRcIixmdW5jdGlvbigpe3QudXBkYXRlUGh5c2ljc0RhdGEoKX0pfX0se2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXt2b2lkIDAhPT10JiYodD09PSExPyh0aGlzLm9wdGlvbnMuZW5hYmxlZD0hMSx0aGlzLnBoeXNpY3NFbmFibGVkPSExLHRoaXMuc3RvcFNpbXVsYXRpb24oKSk6KHRoaXMucGh5c2ljc0VuYWJsZWQ9ITAseC5zZWxlY3RpdmVOb3REZWVwRXh0ZW5kKFtcInN0YWJpbGl6YXRpb25cIl0sdGhpcy5vcHRpb25zLHQpLHgubWVyZ2VPcHRpb25zKHRoaXMub3B0aW9ucyx0LFwic3RhYmlsaXphdGlvblwiKSx2b2lkIDA9PT10LmVuYWJsZWQmJih0aGlzLm9wdGlvbnMuZW5hYmxlZD0hMCksdGhpcy5vcHRpb25zLmVuYWJsZWQ9PT0hMSYmKHRoaXMucGh5c2ljc0VuYWJsZWQ9ITEsdGhpcy5zdG9wU2ltdWxhdGlvbigpKSx0aGlzLnRpbWVzdGVwPXRoaXMub3B0aW9ucy50aW1lc3RlcCkpLHRoaXMuaW5pdCgpfX0se2tleTpcImluaXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O1wiZm9yY2VBdGxhczJCYXNlZFwiPT09dGhpcy5vcHRpb25zLnNvbHZlcj8odD10aGlzLm9wdGlvbnMuZm9yY2VBdGxhczJCYXNlZCx0aGlzLm5vZGVzU29sdmVyPW5ldyBiW1wiZGVmYXVsdFwiXSh0aGlzLmJvZHksdGhpcy5waHlzaWNzQm9keSx0KSx0aGlzLmVkZ2VzU29sdmVyPW5ldyBwW1wiZGVmYXVsdFwiXSh0aGlzLmJvZHksdGhpcy5waHlzaWNzQm9keSx0KSx0aGlzLmdyYXZpdHlTb2x2ZXI9bmV3IF9bXCJkZWZhdWx0XCJdKHRoaXMuYm9keSx0aGlzLnBoeXNpY3NCb2R5LHQpKTpcInJlcHVsc2lvblwiPT09dGhpcy5vcHRpb25zLnNvbHZlcj8odD10aGlzLm9wdGlvbnMucmVwdWxzaW9uLHRoaXMubm9kZXNTb2x2ZXI9bmV3IGRbXCJkZWZhdWx0XCJdKHRoaXMuYm9keSx0aGlzLnBoeXNpY3NCb2R5LHQpLHRoaXMuZWRnZXNTb2x2ZXI9bmV3IHBbXCJkZWZhdWx0XCJdKHRoaXMuYm9keSx0aGlzLnBoeXNpY3NCb2R5LHQpLHRoaXMuZ3Jhdml0eVNvbHZlcj1uZXcgZ1tcImRlZmF1bHRcIl0odGhpcy5ib2R5LHRoaXMucGh5c2ljc0JvZHksdCkpOlwiaGllcmFyY2hpY2FsUmVwdWxzaW9uXCI9PT10aGlzLm9wdGlvbnMuc29sdmVyPyh0PXRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWxSZXB1bHNpb24sdGhpcy5ub2Rlc1NvbHZlcj1uZXcgdVtcImRlZmF1bHRcIl0odGhpcy5ib2R5LHRoaXMucGh5c2ljc0JvZHksdCksdGhpcy5lZGdlc1NvbHZlcj1uZXcgbVtcImRlZmF1bHRcIl0odGhpcy5ib2R5LHRoaXMucGh5c2ljc0JvZHksdCksdGhpcy5ncmF2aXR5U29sdmVyPW5ldyBnW1wiZGVmYXVsdFwiXSh0aGlzLmJvZHksdGhpcy5waHlzaWNzQm9keSx0KSk6KHQ9dGhpcy5vcHRpb25zLmJhcm5lc0h1dCx0aGlzLm5vZGVzU29sdmVyPW5ldyBhW1wiZGVmYXVsdFwiXSh0aGlzLmJvZHksdGhpcy5waHlzaWNzQm9keSx0KSx0aGlzLmVkZ2VzU29sdmVyPW5ldyBwW1wiZGVmYXVsdFwiXSh0aGlzLmJvZHksdGhpcy5waHlzaWNzQm9keSx0KSx0aGlzLmdyYXZpdHlTb2x2ZXI9bmV3IGdbXCJkZWZhdWx0XCJdKHRoaXMuYm9keSx0aGlzLnBoeXNpY3NCb2R5LHQpKSx0aGlzLm1vZGVsT3B0aW9ucz10fX0se2tleTpcImluaXRQaHlzaWNzXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBoeXNpY3NFbmFibGVkPT09ITAmJnRoaXMub3B0aW9ucy5lbmFibGVkPT09ITA/dGhpcy5vcHRpb25zLnN0YWJpbGl6YXRpb24uZW5hYmxlZD09PSEwP3RoaXMuc3RhYmlsaXplKCk6KHRoaXMuc3RhYmlsaXplZD0hMSx0aGlzLnJlYWR5PSEwLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJmaXRcIix7fSx0aGlzLmxheW91dEZhaWxlZCksdGhpcy5zdGFydFNpbXVsYXRpb24oKSk6KHRoaXMucmVhZHk9ITAsdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcImZpdFwiKSl9fSx7a2V5Olwic3RhcnRTaW11bGF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBoeXNpY3NFbmFibGVkPT09ITAmJnRoaXMub3B0aW9ucy5lbmFibGVkPT09ITA/KHRoaXMuc3RhYmlsaXplZD0hMSx0aGlzLmFkYXB0aXZlVGltZXN0ZXA9ITEsdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXNpemVOb2Rlc1wiKSx2b2lkIDA9PT10aGlzLnZpZXdGdW5jdGlvbiYmKHRoaXMudmlld0Z1bmN0aW9uPXRoaXMuc2ltdWxhdGlvblN0ZXAuYmluZCh0aGlzKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcImluaXRSZWRyYXdcIix0aGlzLnZpZXdGdW5jdGlvbiksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9zdGFydFJlbmRlcmluZ1wiKSkpOnRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVkcmF3XCIpfX0se2tleTpcInN0b3BTaW11bGF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/ITA6YXJndW1lbnRzWzBdO3RoaXMuc3RhYmlsaXplZD0hMCx0PT09ITAmJnRoaXMuX2VtaXRTdGFiaWxpemVkKCksdm9pZCAwIT09dGhpcy52aWV3RnVuY3Rpb24mJih0aGlzLmJvZHkuZW1pdHRlci5vZmYoXCJpbml0UmVkcmF3XCIsdGhpcy52aWV3RnVuY3Rpb24pLHRoaXMudmlld0Z1bmN0aW9uPXZvaWQgMCx0PT09ITAmJnRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfc3RvcFJlbmRlcmluZ1wiKSl9fSx7a2V5Olwic2ltdWxhdGlvblN0ZXBcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PURhdGUubm93KCk7dGhpcy5waHlzaWNzVGljaygpO3ZhciBlPURhdGUubm93KCktdDsoZTwuNCp0aGlzLnNpbXVsYXRpb25JbnRlcnZhbHx8dGhpcy5ydW5Eb3VibGVTcGVlZD09PSEwKSYmdGhpcy5zdGFiaWxpemVkPT09ITEmJih0aGlzLnBoeXNpY3NUaWNrKCksdGhpcy5ydW5Eb3VibGVTcGVlZD0hMCksdGhpcy5zdGFiaWxpemVkPT09ITAmJnRoaXMuc3RvcFNpbXVsYXRpb24oKX19LHtrZXk6XCJfZW1pdFN0YWJpbGl6ZWRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/dGhpcy5zdGFiaWxpemF0aW9uSXRlcmF0aW9uczphcmd1bWVudHNbMF07XG4odGhpcy5zdGFiaWxpemF0aW9uSXRlcmF0aW9ucz4xfHx0aGlzLnN0YXJ0ZWRTdGFiaWxpemF0aW9uPT09ITApJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5ib2R5LmVtaXR0ZXIuZW1pdChcInN0YWJpbGl6ZWRcIix7aXRlcmF0aW9uczplfSksdC5zdGFydGVkU3RhYmlsaXphdGlvbj0hMSx0LnN0YWJpbGl6YXRpb25JdGVyYXRpb25zPTB9LDApfX0se2tleTpcInBoeXNpY3NUaWNrXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXJ0ZWRTdGFiaWxpemF0aW9uPT09ITEmJih0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwic3RhcnRTdGFiaWxpemluZ1wiKSx0aGlzLnN0YXJ0ZWRTdGFiaWxpemF0aW9uPSEwKSx0aGlzLnN0YWJpbGl6ZWQ9PT0hMSl7aWYodGhpcy5hZGFwdGl2ZVRpbWVzdGVwPT09ITAmJnRoaXMuYWRhcHRpdmVUaW1lc3RlcEVuYWJsZWQ9PT0hMCl7dmFyIHQ9MS4yO3RoaXMuYWRhcHRpdmVDb3VudGVyJXRoaXMuYWRhcHRpdmVJbnRlcnZhbD09PTA/KHRoaXMudGltZXN0ZXA9Mip0aGlzLnRpbWVzdGVwLHRoaXMuY2FsY3VsYXRlRm9yY2VzKCksdGhpcy5tb3ZlTm9kZXMoKSx0aGlzLnJldmVydCgpLHRoaXMudGltZXN0ZXA9LjUqdGhpcy50aW1lc3RlcCx0aGlzLmNhbGN1bGF0ZUZvcmNlcygpLHRoaXMubW92ZU5vZGVzKCksdGhpcy5jYWxjdWxhdGVGb3JjZXMoKSx0aGlzLm1vdmVOb2RlcygpLHRoaXMuX2V2YWx1YXRlU3RlcFF1YWxpdHkoKT09PSEwP3RoaXMudGltZXN0ZXA9dCp0aGlzLnRpbWVzdGVwOnRoaXMudGltZXN0ZXAvdDx0aGlzLm9wdGlvbnMudGltZXN0ZXA/dGhpcy50aW1lc3RlcD10aGlzLm9wdGlvbnMudGltZXN0ZXA6KHRoaXMuYWRhcHRpdmVDb3VudGVyPS0xLHRoaXMudGltZXN0ZXA9TWF0aC5tYXgodGhpcy5vcHRpb25zLnRpbWVzdGVwLHRoaXMudGltZXN0ZXAvdCkpKToodGhpcy5jYWxjdWxhdGVGb3JjZXMoKSx0aGlzLm1vdmVOb2RlcygpKSx0aGlzLmFkYXB0aXZlQ291bnRlcis9MX1lbHNlIHRoaXMudGltZXN0ZXA9dGhpcy5vcHRpb25zLnRpbWVzdGVwLHRoaXMuY2FsY3VsYXRlRm9yY2VzKCksdGhpcy5tb3ZlTm9kZXMoKTt0aGlzLnN0YWJpbGl6ZWQ9PT0hMCYmdGhpcy5yZXZlcnQoKSx0aGlzLnN0YWJpbGl6YXRpb25JdGVyYXRpb25zKyt9fX0se2tleTpcInVwZGF0ZVBoeXNpY3NEYXRhXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBoeXNpY3NCb2R5LmZvcmNlcz17fSx0aGlzLnBoeXNpY3NCb2R5LnBoeXNpY3NOb2RlSW5kaWNlcz1bXSx0aGlzLnBoeXNpY3NCb2R5LnBoeXNpY3NFZGdlSW5kaWNlcz1bXTt2YXIgdD10aGlzLmJvZHkubm9kZXMsZT10aGlzLmJvZHkuZWRnZXM7Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmdFtpXS5vcHRpb25zLnBoeXNpY3M9PT0hMCYmdGhpcy5waHlzaWNzQm9keS5waHlzaWNzTm9kZUluZGljZXMucHVzaChpKTtmb3IodmFyIG8gaW4gZSllLmhhc093blByb3BlcnR5KG8pJiZlW29dLm9wdGlvbnMucGh5c2ljcz09PSEwJiZ0aGlzLnBoeXNpY3NCb2R5LnBoeXNpY3NFZGdlSW5kaWNlcy5wdXNoKG8pO2Zvcih2YXIgbj0wO248dGhpcy5waHlzaWNzQm9keS5waHlzaWNzTm9kZUluZGljZXMubGVuZ3RoO24rKyl7dmFyIGk9dGhpcy5waHlzaWNzQm9keS5waHlzaWNzTm9kZUluZGljZXNbbl07dGhpcy5waHlzaWNzQm9keS5mb3JjZXNbaV09e3g6MCx5OjB9LHZvaWQgMD09PXRoaXMucGh5c2ljc0JvZHkudmVsb2NpdGllc1tpXSYmKHRoaXMucGh5c2ljc0JvZHkudmVsb2NpdGllc1tpXT17eDowLHk6MH0pfWZvcih2YXIgaSBpbiB0aGlzLnBoeXNpY3NCb2R5LnZlbG9jaXRpZXMpdm9pZCAwPT09dFtpXSYmZGVsZXRlIHRoaXMucGh5c2ljc0JvZHkudmVsb2NpdGllc1tpXX19LHtrZXk6XCJyZXZlcnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PU9iamVjdC5rZXlzKHRoaXMucHJldmlvdXNTdGF0ZXMpLGU9dGhpcy5ib2R5Lm5vZGVzLGk9dGhpcy5waHlzaWNzQm9keS52ZWxvY2l0aWVzO3RoaXMucmVmZXJlbmNlU3RhdGU9e307Zm9yKHZhciBvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBuPXRbb107dm9pZCAwIT09ZVtuXT9lW25dLm9wdGlvbnMucGh5c2ljcz09PSEwJiYodGhpcy5yZWZlcmVuY2VTdGF0ZVtuXT17cG9zaXRpb25zOnt4OmVbbl0ueCx5OmVbbl0ueX19LGlbbl0ueD10aGlzLnByZXZpb3VzU3RhdGVzW25dLnZ4LGlbbl0ueT10aGlzLnByZXZpb3VzU3RhdGVzW25dLnZ5LGVbbl0ueD10aGlzLnByZXZpb3VzU3RhdGVzW25dLngsZVtuXS55PXRoaXMucHJldmlvdXNTdGF0ZXNbbl0ueSk6ZGVsZXRlIHRoaXMucHJldmlvdXNTdGF0ZXNbbl19fX0se2tleTpcIl9ldmFsdWF0ZVN0ZXBRdWFsaXR5XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD12b2lkIDAsZT12b2lkIDAsaT12b2lkIDAsbz10aGlzLmJvZHkubm9kZXMsbj10aGlzLnJlZmVyZW5jZVN0YXRlLHM9LjM7Zm9yKHZhciByIGluIHRoaXMucmVmZXJlbmNlU3RhdGUpaWYodGhpcy5yZWZlcmVuY2VTdGF0ZS5oYXNPd25Qcm9wZXJ0eShyKSYmdm9pZCAwIT09b1tyXSYmKHQ9b1tyXS54LW5bcl0ucG9zaXRpb25zLngsZT1vW3JdLnktbltyXS5wb3NpdGlvbnMueSxpPU1hdGguc3FydChNYXRoLnBvdyh0LDIpK01hdGgucG93KGUsMikpLGk+cykpcmV0dXJuITE7cmV0dXJuITB9fSx7a2V5OlwibW92ZU5vZGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5waHlzaWNzQm9keS5waHlzaWNzTm9kZUluZGljZXMsZT10aGlzLm9wdGlvbnMubWF4VmVsb2NpdHk/dGhpcy5vcHRpb25zLm1heFZlbG9jaXR5OjFlOSxpPTAsbz0wLG49NSxzPTA7czx0Lmxlbmd0aDtzKyspe3ZhciByPXRbc10sYT10aGlzLl9wZXJmb3JtU3RlcChyLGUpO2k9TWF0aC5tYXgoaSxhKSxvKz1hfXRoaXMuYWRhcHRpdmVUaW1lc3RlcEVuYWJsZWQ9by90Lmxlbmd0aDxuLHRoaXMuc3RhYmlsaXplZD1pPHRoaXMub3B0aW9ucy5taW5WZWxvY2l0eX19LHtrZXk6XCJfcGVyZm9ybVN0ZXBcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuYm9keS5ub2Rlc1t0XSxvPXRoaXMudGltZXN0ZXAsbj10aGlzLnBoeXNpY3NCb2R5LmZvcmNlcyxzPXRoaXMucGh5c2ljc0JvZHkudmVsb2NpdGllcztpZih0aGlzLnByZXZpb3VzU3RhdGVzW3RdPXt4OmkueCx5OmkueSx2eDpzW3RdLngsdnk6c1t0XS55fSxpLm9wdGlvbnMuZml4ZWQueD09PSExKXt2YXIgcj10aGlzLm1vZGVsT3B0aW9ucy5kYW1waW5nKnNbdF0ueCxhPShuW3RdLngtcikvaS5vcHRpb25zLm1hc3M7c1t0XS54Kz1hKm8sc1t0XS54PU1hdGguYWJzKHNbdF0ueCk+ZT9zW3RdLng+MD9lOi1lOnNbdF0ueCxpLngrPXNbdF0ueCpvfWVsc2Ugblt0XS54PTAsc1t0XS54PTA7aWYoaS5vcHRpb25zLmZpeGVkLnk9PT0hMSl7dmFyIGg9dGhpcy5tb2RlbE9wdGlvbnMuZGFtcGluZypzW3RdLnksZD0oblt0XS55LWgpL2kub3B0aW9ucy5tYXNzO3NbdF0ueSs9ZCpvLHNbdF0ueT1NYXRoLmFicyhzW3RdLnkpPmU/c1t0XS55PjA/ZTotZTpzW3RdLnksaS55Kz1zW3RdLnkqb31lbHNlIG5bdF0ueT0wLHNbdF0ueT0wO3ZhciBsPU1hdGguc3FydChNYXRoLnBvdyhzW3RdLngsMikrTWF0aC5wb3coc1t0XS55LDIpKTtyZXR1cm4gbH19LHtrZXk6XCJjYWxjdWxhdGVGb3JjZXNcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZ3Jhdml0eVNvbHZlci5zb2x2ZSgpLHRoaXMubm9kZXNTb2x2ZXIuc29sdmUoKSx0aGlzLmVkZ2VzU29sdmVyLnNvbHZlKCl9fSx7a2V5OlwiX2ZyZWV6ZU5vZGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJvZHkubm9kZXM7Zm9yKHZhciBlIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShlKSYmdFtlXS54JiZ0W2VdLnkmJih0aGlzLmZyZWV6ZUNhY2hlW2VdPXt4OnRbZV0ub3B0aW9ucy5maXhlZC54LHk6dFtlXS5vcHRpb25zLmZpeGVkLnl9LHRbZV0ub3B0aW9ucy5maXhlZC54PSEwLHRbZV0ub3B0aW9ucy5maXhlZC55PSEwKX19LHtrZXk6XCJfcmVzdG9yZUZyb3plbk5vZGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJvZHkubm9kZXM7Zm9yKHZhciBlIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShlKSYmdm9pZCAwIT09dGhpcy5mcmVlemVDYWNoZVtlXSYmKHRbZV0ub3B0aW9ucy5maXhlZC54PXRoaXMuZnJlZXplQ2FjaGVbZV0ueCx0W2VdLm9wdGlvbnMuZml4ZWQueT10aGlzLmZyZWV6ZUNhY2hlW2VdLnkpO3RoaXMuZnJlZXplQ2FjaGU9e319fSx7a2V5Olwic3RhYmlsaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdP3RoaXMub3B0aW9ucy5zdGFiaWxpemF0aW9uLml0ZXJhdGlvbnM6YXJndW1lbnRzWzBdO3JldHVyblwibnVtYmVyXCIhPXR5cGVvZiBlJiYoY29uc29sZS5sb2coXCJUaGUgc3RhYmlsaXplIG1ldGhvZCBuZWVkcyBhIG51bWVyaWMgYW1vdW50IG9mIGl0ZXJhdGlvbnMuIFN3aXRjaGluZyB0byBkZWZhdWx0OiBcIix0aGlzLm9wdGlvbnMuc3RhYmlsaXphdGlvbi5pdGVyYXRpb25zKSxlPXRoaXMub3B0aW9ucy5zdGFiaWxpemF0aW9uLml0ZXJhdGlvbnMpLDA9PT10aGlzLnBoeXNpY3NCb2R5LnBoeXNpY3NOb2RlSW5kaWNlcy5sZW5ndGg/dm9pZCh0aGlzLnJlYWR5PSEwKToodGhpcy5hZGFwdGl2ZVRpbWVzdGVwPXRoaXMub3B0aW9ucy5hZGFwdGl2ZVRpbWVzdGVwLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVzaXplTm9kZXNcIiksdGhpcy5zdG9wU2ltdWxhdGlvbigpLHRoaXMuc3RhYmlsaXplZD0hMSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX2Jsb2NrUmVkcmF3XCIpLHRoaXMudGFyZ2V0SXRlcmF0aW9ucz1lLHRoaXMub3B0aW9ucy5zdGFiaWxpemF0aW9uLm9ubHlEeW5hbWljRWRnZXM9PT0hMCYmdGhpcy5fZnJlZXplTm9kZXMoKSx0aGlzLnN0YWJpbGl6YXRpb25JdGVyYXRpb25zPTAsdm9pZCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3N0YWJpbGl6YXRpb25CYXRjaCgpfSwwKSl9fSx7a2V5OlwiX3N0YWJpbGl6YXRpb25CYXRjaFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdGFydGVkU3RhYmlsaXphdGlvbj09PSExJiYodGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcInN0YXJ0U3RhYmlsaXppbmdcIiksdGhpcy5zdGFydGVkU3RhYmlsaXphdGlvbj0hMCk7Zm9yKHZhciB0PTA7dGhpcy5zdGFiaWxpemVkPT09ITEmJnQ8dGhpcy5vcHRpb25zLnN0YWJpbGl6YXRpb24udXBkYXRlSW50ZXJ2YWwmJnRoaXMuc3RhYmlsaXphdGlvbkl0ZXJhdGlvbnM8dGhpcy50YXJnZXRJdGVyYXRpb25zOyl0aGlzLnBoeXNpY3NUaWNrKCksdCsrO3RoaXMuc3RhYmlsaXplZD09PSExJiZ0aGlzLnN0YWJpbGl6YXRpb25JdGVyYXRpb25zPHRoaXMudGFyZ2V0SXRlcmF0aW9ucz8odGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcInN0YWJpbGl6YXRpb25Qcm9ncmVzc1wiLHtpdGVyYXRpb25zOnRoaXMuc3RhYmlsaXphdGlvbkl0ZXJhdGlvbnMsdG90YWw6dGhpcy50YXJnZXRJdGVyYXRpb25zfSksc2V0VGltZW91dCh0aGlzLl9zdGFiaWxpemF0aW9uQmF0Y2guYmluZCh0aGlzKSwwKSk6dGhpcy5fZmluYWxpemVTdGFiaWxpemF0aW9uKCl9fSx7a2V5OlwiX2ZpbmFsaXplU3RhYmlsaXphdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9hbGxvd1JlZHJhd1wiKSx0aGlzLm9wdGlvbnMuc3RhYmlsaXphdGlvbi5maXQ9PT0hMCYmdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcImZpdFwiKSx0aGlzLm9wdGlvbnMuc3RhYmlsaXphdGlvbi5vbmx5RHluYW1pY0VkZ2VzPT09ITAmJnRoaXMuX3Jlc3RvcmVGcm96ZW5Ob2RlcygpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJzdGFiaWxpemF0aW9uSXRlcmF0aW9uc0RvbmVcIiksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXF1ZXN0UmVkcmF3XCIpLHRoaXMuc3RhYmlsaXplZD09PSEwP3RoaXMuX2VtaXRTdGFiaWxpemVkKCk6dGhpcy5zdGFydFNpbXVsYXRpb24oKSx0aGlzLnJlYWR5PSEwfX0se2tleTpcIl9kcmF3Rm9yY2VzXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLnBoeXNpY3NCb2R5LnBoeXNpY3NOb2RlSW5kaWNlcy5sZW5ndGg7ZSsrKXt2YXIgaT10aGlzLmJvZHkubm9kZXNbdGhpcy5waHlzaWNzQm9keS5waHlzaWNzTm9kZUluZGljZXNbZV1dLG89dGhpcy5waHlzaWNzQm9keS5mb3JjZXNbdGhpcy5waHlzaWNzQm9keS5waHlzaWNzTm9kZUluZGljZXNbZV1dLG49MjAscz0uMDMscj1NYXRoLnNxcnQoTWF0aC5wb3coby54LDIpK01hdGgucG93KG8ueCwyKSksYT1NYXRoLm1pbihNYXRoLm1heCg1LHIpLDE1KSxoPTMqYSxkPXguSFNWVG9IZXgoKDE4MC0xODAqTWF0aC5taW4oMSxNYXRoLm1heCgwLHMqcikpKS8zNjAsMSwxKTt0LmxpbmVXaWR0aD1hLHQuc3Ryb2tlU3R5bGU9ZCx0LmJlZ2luUGF0aCgpLHQubW92ZVRvKGkueCxpLnkpLHQubGluZVRvKGkueCtuKm8ueCxpLnkrbipvLnkpLHQuc3Ryb2tlKCk7dmFyIGw9TWF0aC5hdGFuMihvLnksby54KTt0LmZpbGxTdHlsZT1kLHQuYXJyb3coaS54K24qby54K01hdGguY29zKGwpKmgsaS55K24qby55K01hdGguc2luKGwpKmgsbCxoKSx0LmZpbGwoKX19fV0pLHR9KCk7ZVtcImRlZmF1bHRcIl09ayx0LmV4cG9ydHM9ZVtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvPWVbaV07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24oZSxpLG8pe3JldHVybiBpJiZ0KGUucHJvdG90eXBlLGkpLG8mJnQoZSxvKSxlfX0oKSxuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG8sbil7aSh0aGlzLHQpLHRoaXMuYm9keT1lLHRoaXMucGh5c2ljc0JvZHk9byx0aGlzLmJhcm5lc0h1dFRyZWUsdGhpcy5zZXRPcHRpb25zKG4pLHRoaXMucmFuZG9tU2VlZD01fXJldHVybiBvKHQsW3trZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb25zPXQsdGhpcy50aGV0YUludmVyc2VkPTEvdGhpcy5vcHRpb25zLnRoZXRhLHRoaXMub3ZlcmxhcEF2b2lkYW5jZUZhY3Rvcj0xLU1hdGgubWF4KDAsTWF0aC5taW4oMSx0aGlzLm9wdGlvbnMuYXZvaWRPdmVybGFwKSl9fSx7a2V5Olwic2VlZGVkUmFuZG9tXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD0xZTQqTWF0aC5zaW4odGhpcy5yYW5kb21TZWVkKyspO3JldHVybiB0LU1hdGguZmxvb3IodCl9fSx7a2V5Olwic29sdmVcIix2YWx1ZTpmdW5jdGlvbigpe2lmKDAhPT10aGlzLm9wdGlvbnMuZ3Jhdml0YXRpb25hbENvbnN0YW50JiZ0aGlzLnBoeXNpY3NCb2R5LnBoeXNpY3NOb2RlSW5kaWNlcy5sZW5ndGg+MCl7dmFyIHQ9dm9pZCAwLGU9dGhpcy5ib2R5Lm5vZGVzLGk9dGhpcy5waHlzaWNzQm9keS5waHlzaWNzTm9kZUluZGljZXMsbz1pLmxlbmd0aCxuPXRoaXMuX2Zvcm1CYXJuZXNIdXRUcmVlKGUsaSk7dGhpcy5iYXJuZXNIdXRUcmVlPW47Zm9yKHZhciBzPTA7bz5zO3MrKyl0PWVbaVtzXV0sdC5vcHRpb25zLm1hc3M+MCYmKHRoaXMuX2dldEZvcmNlQ29udHJpYnV0aW9uKG4ucm9vdC5jaGlsZHJlbi5OVyx0KSx0aGlzLl9nZXRGb3JjZUNvbnRyaWJ1dGlvbihuLnJvb3QuY2hpbGRyZW4uTkUsdCksdGhpcy5fZ2V0Rm9yY2VDb250cmlidXRpb24obi5yb290LmNoaWxkcmVuLlNXLHQpLHRoaXMuX2dldEZvcmNlQ29udHJpYnV0aW9uKG4ucm9vdC5jaGlsZHJlbi5TRSx0KSl9fX0se2tleTpcIl9nZXRGb3JjZUNvbnRyaWJ1dGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodC5jaGlsZHJlbkNvdW50PjApe3ZhciBpPXZvaWQgMCxvPXZvaWQgMCxuPXZvaWQgMDtpPXQuY2VudGVyT2ZNYXNzLngtZS54LG89dC5jZW50ZXJPZk1hc3MueS1lLnksbj1NYXRoLnNxcnQoaSppK28qbyksbip0LmNhbGNTaXplPnRoaXMudGhldGFJbnZlcnNlZD90aGlzLl9jYWxjdWxhdGVGb3JjZXMobixpLG8sZSx0KTo0PT09dC5jaGlsZHJlbkNvdW50Pyh0aGlzLl9nZXRGb3JjZUNvbnRyaWJ1dGlvbih0LmNoaWxkcmVuLk5XLGUpLHRoaXMuX2dldEZvcmNlQ29udHJpYnV0aW9uKHQuY2hpbGRyZW4uTkUsZSksdGhpcy5fZ2V0Rm9yY2VDb250cmlidXRpb24odC5jaGlsZHJlbi5TVyxlKSx0aGlzLl9nZXRGb3JjZUNvbnRyaWJ1dGlvbih0LmNoaWxkcmVuLlNFLGUpKTp0LmNoaWxkcmVuLmRhdGEuaWQhPWUuaWQmJnRoaXMuX2NhbGN1bGF0ZUZvcmNlcyhuLGksbyxlLHQpfX19LHtrZXk6XCJfY2FsY3VsYXRlRm9yY2VzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuKXswPT09dCYmKHQ9LjEsZT10KSx0aGlzLm92ZXJsYXBBdm9pZGFuY2VGYWN0b3I8MSYmKHQ9TWF0aC5tYXgoLjErdGhpcy5vdmVybGFwQXZvaWRhbmNlRmFjdG9yKm8uc2hhcGUucmFkaXVzLHQtby5zaGFwZS5yYWRpdXMpKTt2YXIgcz10aGlzLm9wdGlvbnMuZ3Jhdml0YXRpb25hbENvbnN0YW50Km4ubWFzcypvLm9wdGlvbnMubWFzcy9NYXRoLnBvdyh0LDMpLHI9ZSpzLGE9aSpzO3RoaXMucGh5c2ljc0JvZHkuZm9yY2VzW28uaWRdLngrPXIsdGhpcy5waHlzaWNzQm9keS5mb3JjZXNbby5pZF0ueSs9YX19LHtrZXk6XCJfZm9ybUJhcm5lc0h1dFRyZWVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT12b2lkIDAsbz1lLmxlbmd0aCxuPXRbZVswXV0ueCxzPXRbZVswXV0ueSxyPXRbZVswXV0ueCxhPXRbZVswXV0ueSxoPTE7bz5oO2grKyl7dmFyIGQ9dFtlW2hdXS54LGw9dFtlW2hdXS55O3RbZVtoXV0ub3B0aW9ucy5tYXNzPjAmJihuPmQmJihuPWQpLGQ+ciYmKHI9ZCkscz5sJiYocz1sKSxsPmEmJihhPWwpKX12YXIgdT1NYXRoLmFicyhyLW4pLU1hdGguYWJzKGEtcyk7dT4wPyhzLT0uNSp1LGErPS41KnUpOihuKz0uNSp1LHItPS41KnUpO3ZhciBjPTFlLTUscD1NYXRoLm1heChjLE1hdGguYWJzKHItbikpLGY9LjUqcCxtPS41KihuK3IpLHY9LjUqKHMrYSksZz17cm9vdDp7Y2VudGVyT2ZNYXNzOnt4OjAseTowfSxtYXNzOjAscmFuZ2U6e21pblg6bS1mLG1heFg6bStmLG1pblk6di1mLG1heFk6ditmfSxzaXplOnAsY2FsY1NpemU6MS9wLGNoaWxkcmVuOntkYXRhOm51bGx9LG1heFdpZHRoOjAsbGV2ZWw6MCxjaGlsZHJlbkNvdW50OjR9fTt0aGlzLl9zcGxpdEJyYW5jaChnLnJvb3QpO2Zvcih2YXIgaD0wO28+aDtoKyspaT10W2VbaF1dLGkub3B0aW9ucy5tYXNzPjAmJnRoaXMuX3BsYWNlSW5UcmVlKGcucm9vdCxpKTtyZXR1cm4gZ319LHtrZXk6XCJfdXBkYXRlQnJhbmNoTWFzc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5tYXNzK2Uub3B0aW9ucy5tYXNzLG89MS9pO3QuY2VudGVyT2ZNYXNzLng9dC5jZW50ZXJPZk1hc3MueCp0Lm1hc3MrZS54KmUub3B0aW9ucy5tYXNzLHQuY2VudGVyT2ZNYXNzLngqPW8sdC5jZW50ZXJPZk1hc3MueT10LmNlbnRlck9mTWFzcy55KnQubWFzcytlLnkqZS5vcHRpb25zLm1hc3MsdC5jZW50ZXJPZk1hc3MueSo9byx0Lm1hc3M9aTt2YXIgbj1NYXRoLm1heChNYXRoLm1heChlLmhlaWdodCxlLnJhZGl1cyksZS53aWR0aCk7dC5tYXhXaWR0aD10Lm1heFdpZHRoPG4/bjp0Lm1heFdpZHRofX0se2tleTpcIl9wbGFjZUluVHJlZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXsoMSE9aXx8dm9pZCAwPT09aSkmJnRoaXMuX3VwZGF0ZUJyYW5jaE1hc3ModCxlKSx0LmNoaWxkcmVuLk5XLnJhbmdlLm1heFg+ZS54P3QuY2hpbGRyZW4uTlcucmFuZ2UubWF4WT5lLnk/dGhpcy5fcGxhY2VJblJlZ2lvbih0LGUsXCJOV1wiKTp0aGlzLl9wbGFjZUluUmVnaW9uKHQsZSxcIlNXXCIpOnQuY2hpbGRyZW4uTlcucmFuZ2UubWF4WT5lLnk/dGhpcy5fcGxhY2VJblJlZ2lvbih0LGUsXCJORVwiKTp0aGlzLl9wbGFjZUluUmVnaW9uKHQsZSxcIlNFXCIpfX0se2tleTpcIl9wbGFjZUluUmVnaW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3N3aXRjaCh0LmNoaWxkcmVuW2ldLmNoaWxkcmVuQ291bnQpe2Nhc2UgMDp0LmNoaWxkcmVuW2ldLmNoaWxkcmVuLmRhdGE9ZSx0LmNoaWxkcmVuW2ldLmNoaWxkcmVuQ291bnQ9MSx0aGlzLl91cGRhdGVCcmFuY2hNYXNzKHQuY2hpbGRyZW5baV0sZSk7YnJlYWs7Y2FzZSAxOnQuY2hpbGRyZW5baV0uY2hpbGRyZW4uZGF0YS54PT09ZS54JiZ0LmNoaWxkcmVuW2ldLmNoaWxkcmVuLmRhdGEueT09PWUueT8oZS54Kz10aGlzLnNlZWRlZFJhbmRvbSgpLGUueSs9dGhpcy5zZWVkZWRSYW5kb20oKSk6KHRoaXMuX3NwbGl0QnJhbmNoKHQuY2hpbGRyZW5baV0pLHRoaXMuX3BsYWNlSW5UcmVlKHQuY2hpbGRyZW5baV0sZSkpO2JyZWFrO2Nhc2UgNDp0aGlzLl9wbGFjZUluVHJlZSh0LmNoaWxkcmVuW2ldLGUpfX19LHtrZXk6XCJfc3BsaXRCcmFuY2hcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1udWxsOzE9PT10LmNoaWxkcmVuQ291bnQmJihlPXQuY2hpbGRyZW4uZGF0YSx0Lm1hc3M9MCx0LmNlbnRlck9mTWFzcy54PTAsdC5jZW50ZXJPZk1hc3MueT0wKSx0LmNoaWxkcmVuQ291bnQ9NCx0LmNoaWxkcmVuLmRhdGE9bnVsbCx0aGlzLl9pbnNlcnRSZWdpb24odCxcIk5XXCIpLHRoaXMuX2luc2VydFJlZ2lvbih0LFwiTkVcIiksdGhpcy5faW5zZXJ0UmVnaW9uKHQsXCJTV1wiKSx0aGlzLl9pbnNlcnRSZWdpb24odCxcIlNFXCIpLG51bGwhPWUmJnRoaXMuX3BsYWNlSW5UcmVlKHQsZSl9fSx7a2V5OlwiX2luc2VydFJlZ2lvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dm9pZCAwLG89dm9pZCAwLG49dm9pZCAwLHM9dm9pZCAwLHI9LjUqdC5zaXplO3N3aXRjaChlKXtjYXNlXCJOV1wiOmk9dC5yYW5nZS5taW5YLG89dC5yYW5nZS5taW5YK3Isbj10LnJhbmdlLm1pblkscz10LnJhbmdlLm1pblkrcjticmVhaztjYXNlXCJORVwiOmk9dC5yYW5nZS5taW5YK3Isbz10LnJhbmdlLm1heFgsbj10LnJhbmdlLm1pblkscz10LnJhbmdlLm1pblkrcjticmVhaztjYXNlXCJTV1wiOmk9dC5yYW5nZS5taW5YLG89dC5yYW5nZS5taW5YK3Isbj10LnJhbmdlLm1pblkrcixzPXQucmFuZ2UubWF4WTticmVhaztjYXNlXCJTRVwiOmk9dC5yYW5nZS5taW5YK3Isbz10LnJhbmdlLm1heFgsbj10LnJhbmdlLm1pblkrcixzPXQucmFuZ2UubWF4WX10LmNoaWxkcmVuW2VdPXtjZW50ZXJPZk1hc3M6e3g6MCx5OjB9LG1hc3M6MCxyYW5nZTp7bWluWDppLG1heFg6byxtaW5ZOm4sbWF4WTpzfSxzaXplOi41KnQuc2l6ZSxjYWxjU2l6ZToyKnQuY2FsY1NpemUsY2hpbGRyZW46e2RhdGE6bnVsbH0sbWF4V2lkdGg6MCxsZXZlbDp0LmxldmVsKzEsY2hpbGRyZW5Db3VudDowfX19LHtrZXk6XCJfZGVidWdcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZvaWQgMCE9PXRoaXMuYmFybmVzSHV0VHJlZSYmKHQubGluZVdpZHRoPTEsdGhpcy5fZHJhd0JyYW5jaCh0aGlzLmJhcm5lc0h1dFRyZWUucm9vdCx0LGUpKX19LHtrZXk6XCJfZHJhd0JyYW5jaFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt2b2lkIDA9PT1pJiYoaT1cIiNGRjAwMDBcIiksND09PXQuY2hpbGRyZW5Db3VudCYmKHRoaXMuX2RyYXdCcmFuY2godC5jaGlsZHJlbi5OVyxlKSx0aGlzLl9kcmF3QnJhbmNoKHQuY2hpbGRyZW4uTkUsZSksdGhpcy5fZHJhd0JyYW5jaCh0LmNoaWxkcmVuLlNFLGUpLHRoaXMuX2RyYXdCcmFuY2godC5jaGlsZHJlbi5TVyxlKSksZS5zdHJva2VTdHlsZT1pLGUuYmVnaW5QYXRoKCksZS5tb3ZlVG8odC5yYW5nZS5taW5YLHQucmFuZ2UubWluWSksZS5saW5lVG8odC5yYW5nZS5tYXhYLHQucmFuZ2UubWluWSksZS5zdHJva2UoKSxlLmJlZ2luUGF0aCgpLGUubW92ZVRvKHQucmFuZ2UubWF4WCx0LnJhbmdlLm1pblkpLGUubGluZVRvKHQucmFuZ2UubWF4WCx0LnJhbmdlLm1heFkpLGUuc3Ryb2tlKCksZS5iZWdpblBhdGgoKSxlLm1vdmVUbyh0LnJhbmdlLm1heFgsdC5yYW5nZS5tYXhZKSxlLmxpbmVUbyh0LnJhbmdlLm1pblgsdC5yYW5nZS5tYXhZKSxlLnN0cm9rZSgpLGUuYmVnaW5QYXRoKCksZS5tb3ZlVG8odC5yYW5nZS5taW5YLHQucmFuZ2UubWF4WSksZS5saW5lVG8odC5yYW5nZS5taW5YLHQucmFuZ2UubWluWSksZS5zdHJva2UoKX19XSksdH0oKTtlW1wiZGVmYXVsdFwiXT1uLHQuZXhwb3J0cz1lW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbyxuKXtpKHRoaXMsdCksdGhpcy5ib2R5PWUsdGhpcy5waHlzaWNzQm9keT1vLHRoaXMuc2V0T3B0aW9ucyhuKX1yZXR1cm4gbyh0LFt7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucz10fX0se2tleTpcInNvbHZlXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQsZSxpLG8sbixzLHIsYSxoPXRoaXMuYm9keS5ub2RlcyxkPXRoaXMucGh5c2ljc0JvZHkucGh5c2ljc05vZGVJbmRpY2VzLGw9dGhpcy5waHlzaWNzQm9keS5mb3JjZXMsdT10aGlzLm9wdGlvbnMubm9kZURpc3RhbmNlLGM9LTIvMy91LHA9NC8zLGY9MDtmPGQubGVuZ3RoLTE7ZisrKXtyPWhbZFtmXV07Zm9yKHZhciBtPWYrMTttPGQubGVuZ3RoO20rKylhPWhbZFttXV0sdD1hLngtci54LGU9YS55LXIueSxpPU1hdGguc3FydCh0KnQrZSplKSwwPT09aSYmKGk9LjEqTWF0aC5yYW5kb20oKSx0PWkpLDIqdT5pJiYocz0uNSp1Pmk/MTpjKmkrcCxzLz1pLG89dCpzLG49ZSpzLGxbci5pZF0ueC09byxsW3IuaWRdLnktPW4sbFthLmlkXS54Kz1vLGxbYS5pZF0ueSs9bil9fX1dKSx0fSgpO2VbXCJkZWZhdWx0XCJdPW4sdC5leHBvcnRzPWVbXCJkZWZhdWx0XCJdfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1lW2ldO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4gaSYmdChlLnByb3RvdHlwZSxpKSxvJiZ0KGUsbyksZX19KCksbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxvLG4pe2kodGhpcyx0KSx0aGlzLmJvZHk9ZSx0aGlzLnBoeXNpY3NCb2R5PW8sdGhpcy5zZXRPcHRpb25zKG4pfXJldHVybiBvKHQsW3trZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb25zPXR9fSx7a2V5Olwic29sdmVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGUsaSxvLG4scyxyLGEsaCxkLGw9dGhpcy5ib2R5Lm5vZGVzLHU9dGhpcy5waHlzaWNzQm9keS5waHlzaWNzTm9kZUluZGljZXMsYz10aGlzLnBoeXNpY3NCb2R5LmZvcmNlcyxwPXRoaXMub3B0aW9ucy5ub2RlRGlzdGFuY2U7Zm9yKGg9MDtoPHUubGVuZ3RoLTE7aCsrKWZvcihyPWxbdVtoXV0sZD1oKzE7ZDx1Lmxlbmd0aDtkKyspaWYoYT1sW3VbZF1dLHIubGV2ZWw9PT1hLmxldmVsKXt0PWEueC1yLngsZT1hLnktci55LGk9TWF0aC5zcXJ0KHQqdCtlKmUpO3ZhciBmPS4wNTtzPXA+aT8tTWF0aC5wb3coZippLDIpK01hdGgucG93KGYqcCwyKTowLDA9PT1pP2k9LjAxOnMvPWksbz10KnMsbj1lKnMsY1tyLmlkXS54LT1vLGNbci5pZF0ueS09bixjW2EuaWRdLngrPW8sY1thLmlkXS55Kz1ufX19XSksdH0oKTtlW1wiZGVmYXVsdFwiXT1uLHQuZXhwb3J0cz1lW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbyxuKXtpKHRoaXMsdCksdGhpcy5ib2R5PWUsdGhpcy5waHlzaWNzQm9keT1vLHRoaXMuc2V0T3B0aW9ucyhuKX1yZXR1cm4gbyh0LFt7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucz10fX0se2tleTpcInNvbHZlXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dm9pZCAwLGU9dm9pZCAwLGk9dGhpcy5waHlzaWNzQm9keS5waHlzaWNzRWRnZUluZGljZXMsbz10aGlzLmJvZHkuZWRnZXMsbj12b2lkIDAscz12b2lkIDAscj12b2lkIDAsYT0wO2E8aS5sZW5ndGg7YSsrKWU9b1tpW2FdXSxlLmNvbm5lY3RlZD09PSEwJiZlLnRvSWQhPT1lLmZyb21JZCYmdm9pZCAwIT09dGhpcy5ib2R5Lm5vZGVzW2UudG9JZF0mJnZvaWQgMCE9PXRoaXMuYm9keS5ub2Rlc1tlLmZyb21JZF0mJih2b2lkIDAhPT1lLmVkZ2VUeXBlLnZpYT8odD12b2lkIDA9PT1lLm9wdGlvbnMubGVuZ3RoP3RoaXMub3B0aW9ucy5zcHJpbmdMZW5ndGg6ZS5vcHRpb25zLmxlbmd0aCxuPWUudG8scz1lLmVkZ2VUeXBlLnZpYSxyPWUuZnJvbSx0aGlzLl9jYWxjdWxhdGVTcHJpbmdGb3JjZShuLHMsLjUqdCksdGhpcy5fY2FsY3VsYXRlU3ByaW5nRm9yY2UocyxyLC41KnQpKToodD12b2lkIDA9PT1lLm9wdGlvbnMubGVuZ3RoPzEuNSp0aGlzLm9wdGlvbnMuc3ByaW5nTGVuZ3RoOmUub3B0aW9ucy5sZW5ndGgsdGhpcy5fY2FsY3VsYXRlU3ByaW5nRm9yY2UoZS5mcm9tLGUudG8sdCkpKX19LHtrZXk6XCJfY2FsY3VsYXRlU3ByaW5nRm9yY2VcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dmFyIG89dC54LWUueCxuPXQueS1lLnkscz1NYXRoLm1heChNYXRoLnNxcnQobypvK24qbiksLjAxKSxyPXRoaXMub3B0aW9ucy5zcHJpbmdDb25zdGFudCooaS1zKS9zLGE9bypyLGg9bipyO3ZvaWQgMCE9PXRoaXMucGh5c2ljc0JvZHkuZm9yY2VzW3QuaWRdJiYodGhpcy5waHlzaWNzQm9keS5mb3JjZXNbdC5pZF0ueCs9YSx0aGlzLnBoeXNpY3NCb2R5LmZvcmNlc1t0LmlkXS55Kz1oKSx2b2lkIDAhPT10aGlzLnBoeXNpY3NCb2R5LmZvcmNlc1tlLmlkXSYmKHRoaXMucGh5c2ljc0JvZHkuZm9yY2VzW2UuaWRdLngtPWEsdGhpcy5waHlzaWNzQm9keS5mb3JjZXNbZS5pZF0ueS09aCl9fV0pLHR9KCk7ZVtcImRlZmF1bHRcIl09bix0LmV4cG9ydHM9ZVtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvPWVbaV07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24oZSxpLG8pe3JldHVybiBpJiZ0KGUucHJvdG90eXBlLGkpLG8mJnQoZSxvKSxlfX0oKSxuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG8sbil7aSh0aGlzLHQpLHRoaXMuYm9keT1lLHRoaXMucGh5c2ljc0JvZHk9byx0aGlzLnNldE9wdGlvbnMobil9cmV0dXJuIG8odCxbe2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLm9wdGlvbnM9dH19LHtrZXk6XCJzb2x2ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0LGUsaSxvLG4scyxyLGEsaD10aGlzLmJvZHkuZWRnZXMsZD0uNSxsPXRoaXMucGh5c2ljc0JvZHkucGh5c2ljc0VkZ2VJbmRpY2VzLHU9dGhpcy5waHlzaWNzQm9keS5waHlzaWNzTm9kZUluZGljZXMsYz10aGlzLnBoeXNpY3NCb2R5LmZvcmNlcyxwPTA7cDx1Lmxlbmd0aDtwKyspe3ZhciBmPXVbcF07Y1tmXS5zcHJpbmdGeD0wLGNbZl0uc3ByaW5nRnk9MH1mb3IodmFyIHA9MDtwPGwubGVuZ3RoO3ArKyllPWhbbFtwXV0sZS5jb25uZWN0ZWQ9PT0hMCYmKHQ9dm9pZCAwPT09ZS5vcHRpb25zLmxlbmd0aD90aGlzLm9wdGlvbnMuc3ByaW5nTGVuZ3RoOmUub3B0aW9ucy5sZW5ndGgsaT1lLmZyb20ueC1lLnRvLngsbz1lLmZyb20ueS1lLnRvLnksYT1NYXRoLnNxcnQoaSppK28qbyksYT0wPT09YT8uMDE6YSxyPXRoaXMub3B0aW9ucy5zcHJpbmdDb25zdGFudCoodC1hKS9hLG49aSpyLHM9bypyLGUudG8ubGV2ZWwhPWUuZnJvbS5sZXZlbD8odm9pZCAwIT09Y1tlLnRvSWRdJiYoY1tlLnRvSWRdLnNwcmluZ0Z4LT1uLGNbZS50b0lkXS5zcHJpbmdGeS09cyksdm9pZCAwIT09Y1tlLmZyb21JZF0mJihjW2UuZnJvbUlkXS5zcHJpbmdGeCs9bixjW2UuZnJvbUlkXS5zcHJpbmdGeSs9cykpOih2b2lkIDAhPT1jW2UudG9JZF0mJihjW2UudG9JZF0ueC09ZCpuLGNbZS50b0lkXS55LT1kKnMpLHZvaWQgMCE9PWNbZS5mcm9tSWRdJiYoY1tlLmZyb21JZF0ueCs9ZCpuLGNbZS5mcm9tSWRdLnkrPWQqcykpKTtmb3IodmFyIG0sdixyPTEscD0wO3A8dS5sZW5ndGg7cCsrKXt2YXIgZj11W3BdO209TWF0aC5taW4ocixNYXRoLm1heCgtcixjW2ZdLnNwcmluZ0Z4KSksdj1NYXRoLm1pbihyLE1hdGgubWF4KC1yLGNbZl0uc3ByaW5nRnkpKSxjW2ZdLngrPW0sY1tmXS55Kz12fWZvcih2YXIgZz0wLHk9MCxwPTA7cDx1Lmxlbmd0aDtwKyspe3ZhciBmPXVbcF07Zys9Y1tmXS54LHkrPWNbZl0ueX1mb3IodmFyIGI9Zy91Lmxlbmd0aCx3PXkvdS5sZW5ndGgscD0wO3A8dS5sZW5ndGg7cCsrKXt2YXIgZj11W3BdO2NbZl0ueC09YixjW2ZdLnktPXd9fX1dKSx0fSgpO2VbXCJkZWZhdWx0XCJdPW4sdC5leHBvcnRzPWVbXCJkZWZhdWx0XCJdfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1lW2ldO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4gaSYmdChlLnByb3RvdHlwZSxpKSxvJiZ0KGUsbyksZX19KCksbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxvLG4pe2kodGhpcyx0KSx0aGlzLmJvZHk9ZSx0aGlzLnBoeXNpY3NCb2R5PW8sdGhpcy5zZXRPcHRpb25zKG4pfXJldHVybiBvKHQsW3trZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb25zPXR9fSx7a2V5Olwic29sdmVcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD12b2lkIDAsZT12b2lkIDAsaT12b2lkIDAsbz12b2lkIDAsbj10aGlzLmJvZHkubm9kZXMscz10aGlzLnBoeXNpY3NCb2R5LnBoeXNpY3NOb2RlSW5kaWNlcyxyPXRoaXMucGh5c2ljc0JvZHkuZm9yY2VzLGE9MDthPHMubGVuZ3RoO2ErKyl7dmFyIGg9c1thXTtvPW5baF0sdD0tby54LGU9LW8ueSxpPU1hdGguc3FydCh0KnQrZSplKSx0aGlzLl9jYWxjdWxhdGVGb3JjZXMoaSx0LGUscixvKX19fSx7a2V5OlwiX2NhbGN1bGF0ZUZvcmNlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbil7dmFyIHM9MD09PXQ/MDp0aGlzLm9wdGlvbnMuY2VudHJhbEdyYXZpdHkvdDtvW24uaWRdLng9ZSpzLG9bbi5pZF0ueT1pKnN9fV0pLHR9KCk7ZVtcImRlZmF1bHRcIl09bix0LmV4cG9ydHM9ZVtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1lW2ldO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4gaSYmdChlLnByb3RvdHlwZSxpKSxvJiZ0KGUsbyksZX19KCksYT1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBvPSEwO287KXt2YXIgbj10LHM9ZSxyPWk7bz0hMSxudWxsPT09biYmKG49RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4scyk7aWYodm9pZCAwIT09YSl7aWYoXCJ2YWx1ZVwiaW4gYSlyZXR1cm4gYS52YWx1ZTt2YXIgaD1hLmdldDtpZih2b2lkIDA9PT1oKXJldHVybjtyZXR1cm4gaC5jYWxsKHIpfXZhciBkPU9iamVjdC5nZXRQcm90b3R5cGVPZihuKTtpZihudWxsPT09ZClyZXR1cm47dD1kLGU9cyxpPXIsbz0hMCxhPWQ9dm9pZCAwfX0saD1pKDkxKSxkPW8oaCksbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsaSxvKXtuKHRoaXMsZSksYShPYmplY3QuZ2V0UHJvdG90eXBlT2YoZS5wcm90b3R5cGUpLFwiY29uc3RydWN0b3JcIix0aGlzKS5jYWxsKHRoaXMsdCxpLG8pfXJldHVybiBzKGUsdCkscihlLFt7a2V5OlwiX2NhbGN1bGF0ZUZvcmNlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbil7MD09PXQmJih0PS4xKk1hdGgucmFuZG9tKCksZT10KSx0aGlzLm92ZXJsYXBBdm9pZGFuY2VGYWN0b3I8MSYmKHQ9TWF0aC5tYXgoLjErdGhpcy5vdmVybGFwQXZvaWRhbmNlRmFjdG9yKm8uc2hhcGUucmFkaXVzLHQtby5zaGFwZS5yYWRpdXMpKTt2YXIgcz1vLmVkZ2VzLmxlbmd0aCsxLHI9dGhpcy5vcHRpb25zLmdyYXZpdGF0aW9uYWxDb25zdGFudCpuLm1hc3Mqby5vcHRpb25zLm1hc3Mqcy9NYXRoLnBvdyh0LDIpLGE9ZSpyLGg9aSpyO3RoaXMucGh5c2ljc0JvZHkuZm9yY2VzW28uaWRdLngrPWEsdGhpcy5waHlzaWNzQm9keS5mb3JjZXNbby5pZF0ueSs9aH19XSksZX0oZFtcImRlZmF1bHRcIl0pO2VbXCJkZWZhdWx0XCJdPWwsdC5leHBvcnRzPWVbXCJkZWZhdWx0XCJdfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWZ1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHModCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLGE9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIG49dCxzPWUscj1pO289ITEsbnVsbD09PW4mJihuPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHMpO2lmKHZvaWQgMCE9PWEpe2lmKFwidmFsdWVcImluIGEpcmV0dXJuIGEudmFsdWU7dmFyIGg9YS5nZXQ7aWYodm9pZCAwPT09aClyZXR1cm47cmV0dXJuIGguY2FsbChyKX12YXIgZD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobik7aWYobnVsbD09PWQpcmV0dXJuO3Q9ZCxlPXMsaT1yLG89ITAsYT1kPXZvaWQgMH19LGg9aSg5NiksZD1vKGgpLGw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGksbyl7bih0aGlzLGUpLGEoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUucHJvdG90eXBlKSxcImNvbnN0cnVjdG9yXCIsdGhpcykuY2FsbCh0aGlzLHQsaSxvKX1yZXR1cm4gcyhlLHQpLHIoZSxbe2tleTpcIl9jYWxjdWxhdGVGb3JjZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4pe2lmKHQ+MCl7dmFyIHM9bi5lZGdlcy5sZW5ndGgrMSxyPXRoaXMub3B0aW9ucy5jZW50cmFsR3Jhdml0eSpzKm4ub3B0aW9ucy5tYXNzO29bbi5pZF0ueD1lKnIsb1tuLmlkXS55PWkqcn19fV0pLGV9KGRbXCJkZWZhdWx0XCJdKTtlW1wiZGVmYXVsdFwiXT1sLHQuZXhwb3J0cz1lW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLHI9aSgxMDApLGE9byhyKSxoPWkoMTAxKSxkPW8oaCksbD1pKDEpLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBpPXRoaXM7bih0aGlzLHQpLHRoaXMuYm9keT1lLHRoaXMuY2x1c3RlcmVkTm9kZXM9e30sdGhpcy5vcHRpb25zPXt9LHRoaXMuZGVmYXVsdE9wdGlvbnM9e30sbC5leHRlbmQodGhpcy5vcHRpb25zLHRoaXMuZGVmYXVsdE9wdGlvbnMpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiX3Jlc2V0RGF0YVwiLGZ1bmN0aW9uKCl7aS5jbHVzdGVyZWROb2Rlcz17fX0pfXJldHVybiBzKHQsW3trZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7fX0se2tleTpcImNsdXN0ZXJCeUh1YnNpemVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PXQ/dD10aGlzLl9nZXRIdWJTaXplKCk6XCJvYmplY3RcIj09dHlwZW9mIHQmJihlPXRoaXMuX2NoZWNrT3B0aW9ucyh0KSx0PXRoaXMuX2dldEh1YlNpemUoKSk7Zm9yKHZhciBpPVtdLG89MDtvPHRoaXMuYm9keS5ub2RlSW5kaWNlcy5sZW5ndGg7bysrKXt2YXIgbj10aGlzLmJvZHkubm9kZXNbdGhpcy5ib2R5Lm5vZGVJbmRpY2VzW29dXTtuLmVkZ2VzLmxlbmd0aD49dCYmaS5wdXNoKG4uaWQpfWZvcih2YXIgbz0wO288aS5sZW5ndGg7bysrKXRoaXMuY2x1c3RlckJ5Q29ubmVjdGlvbihpW29dLGUsITApO3RoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfZGF0YUNoYW5nZWRcIil9fSx7a2V5OlwiY2x1c3RlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdP3t9OmFyZ3VtZW50c1swXSxlPWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT8hMDphcmd1bWVudHNbMV07aWYodm9pZCAwPT09dC5qb2luQ29uZGl0aW9uKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIGNsdXN0ZXJCeU5vZGVEYXRhIHdpdGhvdXQgYSBqb2luQ29uZGl0aW9uIGZ1bmN0aW9uIGluIHRoZSBvcHRpb25zLlwiKTt0PXRoaXMuX2NoZWNrT3B0aW9ucyh0KTtmb3IodmFyIGk9e30sbz17fSxuPTA7bjx0aGlzLmJvZHkubm9kZUluZGljZXMubGVuZ3RoO24rKyl7dmFyIHM9dGhpcy5ib2R5Lm5vZGVJbmRpY2VzW25dLHI9dGhpcy5ib2R5Lm5vZGVzW3NdLGg9YVtcImRlZmF1bHRcIl0uX2Nsb25lT3B0aW9ucyhyKTtpZih0LmpvaW5Db25kaXRpb24oaCk9PT0hMCl7aVtzXT10aGlzLmJvZHkubm9kZXNbc107Zm9yKHZhciBkPTA7ZDxyLmVkZ2VzLmxlbmd0aDtkKyspe3ZhciBsPXIuZWRnZXNbZF07bC5oaWRkZW5CeUNsdXN0ZXIhPT0hMCYmKG9bbC5pZF09bCl9fX10aGlzLl9jbHVzdGVyKGksbyx0LGUpfX0se2tleTpcImNsdXN0ZXJCeUVkZ2VDb3VudFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aDw9Mnx8dm9pZCAwPT09YXJndW1lbnRzWzJdPyEwOmFyZ3VtZW50c1syXTtlPXRoaXMuX2NoZWNrT3B0aW9ucyhlKTtmb3IodmFyIG89W10sbj17fSxzPXZvaWQgMCxyPXZvaWQgMCxoPXZvaWQgMCxkPXZvaWQgMCxsPXZvaWQgMCx1PTA7dTx0aGlzLmJvZHkubm9kZUluZGljZXMubGVuZ3RoO3UrKyl7dmFyIGM9e30scD17fTtpZihkPXRoaXMuYm9keS5ub2RlSW5kaWNlc1t1XSx2b2lkIDA9PT1uW2RdKXtsPTAsaD10aGlzLmJvZHkubm9kZXNbZF0scj1bXTtmb3IodmFyIGY9MDtmPGguZWRnZXMubGVuZ3RoO2YrKylzPWguZWRnZXNbZl0scy5oaWRkZW5CeUNsdXN0ZXIhPT0hMCYmKHMudG9JZCE9PXMuZnJvbUlkJiZsKyssci5wdXNoKHMpKTtpZihsPT09dCl7Zm9yKHZhciBtPSEwLGY9MDtmPHIubGVuZ3RoO2YrKyl7cz1yW2ZdO3ZhciB2PXRoaXMuX2dldENvbm5lY3RlZElkKHMsZCk7aWYodm9pZCAwPT09ZS5qb2luQ29uZGl0aW9uKXBbcy5pZF09cyxjW2RdPXRoaXMuYm9keS5ub2Rlc1tkXSxjW3ZdPXRoaXMuYm9keS5ub2Rlc1t2XSxuW2RdPSEwO2Vsc2V7dmFyIGc9YVtcImRlZmF1bHRcIl0uX2Nsb25lT3B0aW9ucyh0aGlzLmJvZHkubm9kZXNbZF0pO2lmKGUuam9pbkNvbmRpdGlvbihnKSE9PSEwKXttPSExO2JyZWFrfXBbcy5pZF09cyxjW2RdPXRoaXMuYm9keS5ub2Rlc1tkXSxuW2RdPSEwfX1PYmplY3Qua2V5cyhjKS5sZW5ndGg+MCYmT2JqZWN0LmtleXMocCkubGVuZ3RoPjAmJm09PT0hMCYmby5wdXNoKHtub2RlczpjLGVkZ2VzOnB9KX19fWZvcih2YXIgdT0wO3U8by5sZW5ndGg7dSsrKXRoaXMuX2NsdXN0ZXIob1t1XS5ub2RlcyxvW3VdLmVkZ2VzLGUsITEpO2k9PT0hMCYmdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhQ2hhbmdlZFwiKX19LHtrZXk6XCJjbHVzdGVyT3V0bGllcnNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPD0xfHx2b2lkIDA9PT1hcmd1bWVudHNbMV0/ITA6YXJndW1lbnRzWzFdO3RoaXMuY2x1c3RlckJ5RWRnZUNvdW50KDEsdCxlKX19LHtrZXk6XCJjbHVzdGVyQnJpZGdlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT8hMDphcmd1bWVudHNbMV07dGhpcy5jbHVzdGVyQnlFZGdlQ291bnQoMix0LGUpfX0se2tleTpcImNsdXN0ZXJCeUNvbm5lY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg8PTJ8fHZvaWQgMD09PWFyZ3VtZW50c1syXT8hMDphcmd1bWVudHNbMl07aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgRXJyb3IoXCJObyBub2RlSWQgc3VwcGxpZWQgdG8gY2x1c3RlckJ5Q29ubmVjdGlvbiFcIik7aWYodm9pZCAwPT09dGhpcy5ib2R5Lm5vZGVzW3RdKXRocm93IG5ldyBFcnJvcihcIlRoZSBub2RlSWQgZ2l2ZW4gdG8gY2x1c3RlckJ5Q29ubmVjdGlvbiBkb2VzIG5vdCBleGlzdCFcIik7dmFyIG89dGhpcy5ib2R5Lm5vZGVzW3RdO2U9dGhpcy5fY2hlY2tPcHRpb25zKGUsbyksdm9pZCAwPT09ZS5jbHVzdGVyTm9kZVByb3BlcnRpZXMueCYmKGUuY2x1c3Rlck5vZGVQcm9wZXJ0aWVzLng9by54KSx2b2lkIDA9PT1lLmNsdXN0ZXJOb2RlUHJvcGVydGllcy55JiYoZS5jbHVzdGVyTm9kZVByb3BlcnRpZXMueT1vLnkpLHZvaWQgMD09PWUuY2x1c3Rlck5vZGVQcm9wZXJ0aWVzLmZpeGVkJiYoZS5jbHVzdGVyTm9kZVByb3BlcnRpZXMuZml4ZWQ9e30sZS5jbHVzdGVyTm9kZVByb3BlcnRpZXMuZml4ZWQueD1vLm9wdGlvbnMuZml4ZWQueCxlLmNsdXN0ZXJOb2RlUHJvcGVydGllcy5maXhlZC55PW8ub3B0aW9ucy5maXhlZC55KTt2YXIgbj17fSxzPXt9LHI9by5pZCxoPWFbXCJkZWZhdWx0XCJdLl9jbG9uZU9wdGlvbnMobyk7bltyXT1vO2Zvcih2YXIgZD0wO2Q8by5lZGdlcy5sZW5ndGg7ZCsrKXt2YXIgbD1vLmVkZ2VzW2RdO2lmKGwuaGlkZGVuQnlDbHVzdGVyIT09ITApe3ZhciB1PXRoaXMuX2dldENvbm5lY3RlZElkKGwscik7aWYodm9pZCAwPT09dGhpcy5jbHVzdGVyZWROb2Rlc1t1XSlpZih1IT09cilpZih2b2lkIDA9PT1lLmpvaW5Db25kaXRpb24pc1tsLmlkXT1sLG5bdV09dGhpcy5ib2R5Lm5vZGVzW3VdO2Vsc2V7dmFyIGM9YVtcImRlZmF1bHRcIl0uX2Nsb25lT3B0aW9ucyh0aGlzLmJvZHkubm9kZXNbdV0pO2Uuam9pbkNvbmRpdGlvbihoLGMpPT09ITAmJihzW2wuaWRdPWwsblt1XT10aGlzLmJvZHkubm9kZXNbdV0pfWVsc2Ugc1tsLmlkXT1sfX10aGlzLl9jbHVzdGVyKG4scyxlLGkpfX0se2tleTpcIl9jcmVhdGVDbHVzdGVyRWRnZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvKXtmb3IodmFyIG49dm9pZCAwLHM9dm9pZCAwLHI9dm9pZCAwLGg9dm9pZCAwLGQ9dm9pZCAwLHU9dm9pZCAwLGM9T2JqZWN0LmtleXModCkscD1bXSxmPTA7ZjxjLmxlbmd0aDtmKyspe3M9Y1tmXSxyPXRbc107Zm9yKHZhciBtPTA7bTxyLmVkZ2VzLmxlbmd0aDttKyspbj1yLmVkZ2VzW21dLG4uaGlkZGVuQnlDbHVzdGVyIT09ITAmJihuLnRvSWQ9PW4uZnJvbUlkP2Vbbi5pZF09bjpuLnRvSWQ9PXM/KGg9aS5pZCxkPW4uZnJvbUlkLHU9ZCk6KGg9bi50b0lkLGQ9aS5pZCx1PWgpLHZvaWQgMD09PXRbdV0mJnAucHVzaCh7ZWRnZTpuLGZyb21JZDpkLHRvSWQ6aH0pKX1mb3IodmFyIG09MDttPHAubGVuZ3RoO20rKyl7dmFyIHY9cFttXS5lZGdlLGc9YVtcImRlZmF1bHRcIl0uX2Nsb25lT3B0aW9ucyh2LFwiZWRnZVwiKTtsLmRlZXBFeHRlbmQoZyxvKSxnLmZyb209cFttXS5mcm9tSWQsZy50bz1wW21dLnRvSWQsZy5pZD1cImNsdXN0ZXJFZGdlOlwiK2wucmFuZG9tVVVJRCgpO3ZhciB5PXRoaXMuYm9keS5mdW5jdGlvbnMuY3JlYXRlRWRnZShnKTt5LmNsdXN0ZXJpbmdFZGdlUmVwbGFjaW5nSWQ9di5pZCx0aGlzLmJvZHkuZWRnZXNbeS5pZF09eSx5LmNvbm5lY3QoKSx2LnNldE9wdGlvbnMoe3BoeXNpY3M6ITEsaGlkZGVuOiEwfSksdi5oaWRkZW5CeUNsdXN0ZXI9ITB9fX0se2tleTpcIl9jaGVja09wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT97fTphcmd1bWVudHNbMF07cmV0dXJuIHZvaWQgMD09PXQuY2x1c3RlckVkZ2VQcm9wZXJ0aWVzJiYodC5jbHVzdGVyRWRnZVByb3BlcnRpZXM9e30pLHZvaWQgMD09PXQuY2x1c3Rlck5vZGVQcm9wZXJ0aWVzJiYodC5jbHVzdGVyTm9kZVByb3BlcnRpZXM9e30pLHR9fSx7a2V5OlwiX2NsdXN0ZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dmFyIG89YXJndW1lbnRzLmxlbmd0aDw9M3x8dm9pZCAwPT09YXJndW1lbnRzWzNdPyEwOmFyZ3VtZW50c1szXTtpZighKE9iamVjdC5rZXlzKHQpLmxlbmd0aDwyKSl7Zm9yKHZhciBuIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShuKSYmdm9pZCAwIT09dGhpcy5jbHVzdGVyZWROb2Rlc1tuXSlyZXR1cm47dmFyIHM9bC5kZWVwRXh0ZW5kKHt9LGkuY2x1c3Rlck5vZGVQcm9wZXJ0aWVzKTtpZih2b2lkIDAhPT1pLnByb2Nlc3NQcm9wZXJ0aWVzKXt2YXIgcj1bXTtmb3IodmFyIG4gaW4gdClpZih0Lmhhc093blByb3BlcnR5KG4pKXt2YXIgaD1hW1wiZGVmYXVsdFwiXS5fY2xvbmVPcHRpb25zKHRbbl0pO3IucHVzaChoKX12YXIgdT1bXTtmb3IodmFyIGMgaW4gZSlpZihlLmhhc093blByb3BlcnR5KGMpJiZcImNsdXN0ZXJFZGdlOlwiIT09Yy5zdWJzdHIoMCwxMikpe3ZhciBoPWFbXCJkZWZhdWx0XCJdLl9jbG9uZU9wdGlvbnMoZVtjXSxcImVkZ2VcIik7dS5wdXNoKGgpfWlmKHM9aS5wcm9jZXNzUHJvcGVydGllcyhzLHIsdSksIXMpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHByb2Nlc3NQcm9wZXJ0aWVzIGZ1bmN0aW9uIGRvZXMgbm90IHJldHVybiBwcm9wZXJ0aWVzIVwiKX12b2lkIDA9PT1zLmlkJiYocy5pZD1cImNsdXN0ZXI6XCIrbC5yYW5kb21VVUlEKCkpO3ZhciBwPXMuaWQ7dm9pZCAwPT09cy5sYWJlbCYmKHMubGFiZWw9XCJjbHVzdGVyXCIpO3ZhciBmPXZvaWQgMDt2b2lkIDA9PT1zLngmJihmPXRoaXMuX2dldENsdXN0ZXJQb3NpdGlvbih0KSxzLng9Zi54KSx2b2lkIDA9PT1zLnkmJih2b2lkIDA9PT1mJiYoZj10aGlzLl9nZXRDbHVzdGVyUG9zaXRpb24odCkpLHMueT1mLnkpLHMuaWQ9cDt2YXIgbT10aGlzLmJvZHkuZnVuY3Rpb25zLmNyZWF0ZU5vZGUocyxkW1wiZGVmYXVsdFwiXSk7bS5pc0NsdXN0ZXI9ITAsbS5jb250YWluZWROb2Rlcz10LG0uY29udGFpbmVkRWRnZXM9ZSxtLmNsdXN0ZXJFZGdlUHJvcGVydGllcz1pLmNsdXN0ZXJFZGdlUHJvcGVydGllcyx0aGlzLmJvZHkubm9kZXNbcy5pZF09bSx0aGlzLl9jcmVhdGVDbHVzdGVyRWRnZXModCxlLHMsaS5jbHVzdGVyRWRnZVByb3BlcnRpZXMpO2Zvcih2YXIgYyBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkoYykmJnZvaWQgMCE9PXRoaXMuYm9keS5lZGdlc1tjXSl7dmFyIHY9dGhpcy5ib2R5LmVkZ2VzW2NdO3Yuc2V0T3B0aW9ucyh7cGh5c2ljczohMSxoaWRkZW46ITB9KSx2LmhpZGRlbkJ5Q2x1c3Rlcj0hMH1mb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYodGhpcy5jbHVzdGVyZWROb2Rlc1tuXT17Y2x1c3RlcklkOnMuaWQsbm9kZTp0aGlzLmJvZHkubm9kZXNbbl19LHRoaXMuYm9keS5ub2Rlc1tuXS5zZXRPcHRpb25zKHtoaWRkZW46ITAscGh5c2ljczohMX0pKTtzLmlkPXZvaWQgMCxvPT09ITAmJnRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfZGF0YUNoYW5nZWRcIil9fX0se2tleTpcImlzQ2x1c3RlclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10aGlzLmJvZHkubm9kZXNbdF0/dGhpcy5ib2R5Lm5vZGVzW3RdLmlzQ2x1c3Rlcj09PSEwOihjb25zb2xlLmxvZyhcIk5vZGUgZG9lcyBub3QgZXhpc3QuXCIpLCExKX19LHtrZXk6XCJfZ2V0Q2x1c3RlclBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPU9iamVjdC5rZXlzKHQpLGk9dFtlWzBdXS54LG89dFtlWzBdXS54LG49dFtlWzBdXS55LHM9dFtlWzBdXS55LHI9dm9pZCAwLGE9MTthPGUubGVuZ3RoO2ErKylyPXRbZVthXV0saT1yLng8aT9yLng6aSxvPXIueD5vP3IueDpvLG49ci55PG4/ci55Om4scz1yLnk+cz9yLnk6cztyZXR1cm57eDouNSooaStvKSx5Oi41KihuK3MpfX19LHtrZXk6XCJvcGVuQ2x1c3RlclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aDw9Mnx8dm9pZCAwPT09YXJndW1lbnRzWzJdPyEwOmFyZ3VtZW50c1syXTtpZih2b2lkIDA9PT10KXRocm93IG5ldyBFcnJvcihcIk5vIGNsdXN0ZXJOb2RlSWQgc3VwcGxpZWQgdG8gb3BlbkNsdXN0ZXIuXCIpO2lmKHZvaWQgMD09PXRoaXMuYm9keS5ub2Rlc1t0XSl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgY2x1c3Rlck5vZGVJZCBzdXBwbGllZCB0byBvcGVuQ2x1c3RlciBkb2VzIG5vdCBleGlzdC5cIik7aWYodm9pZCAwPT09dGhpcy5ib2R5Lm5vZGVzW3RdLmNvbnRhaW5lZE5vZGVzKXJldHVybiB2b2lkIGNvbnNvbGUubG9nKFwiVGhlIG5vZGU6XCIrdCtcIiBpcyBub3QgYSBjbHVzdGVyLlwiKTt2YXIgbz10aGlzLmJvZHkubm9kZXNbdF0sbj1vLmNvbnRhaW5lZE5vZGVzLHM9by5jb250YWluZWRFZGdlcztpZih2b2lkIDAhPT1lJiZ2b2lkIDAhPT1lLnJlbGVhc2VGdW5jdGlvbiYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5yZWxlYXNlRnVuY3Rpb24pe3ZhciByPXt9LGg9e3g6by54LHk6by55fTtmb3IodmFyIGQgaW4gbilpZihuLmhhc093blByb3BlcnR5KGQpKXt2YXIgdT10aGlzLmJvZHkubm9kZXNbZF07cltkXT17eDp1LngseTp1Lnl9fXZhciBjPWUucmVsZWFzZUZ1bmN0aW9uKGgscik7Zm9yKHZhciBkIGluIG4paWYobi5oYXNPd25Qcm9wZXJ0eShkKSl7dmFyIHU9dGhpcy5ib2R5Lm5vZGVzW2RdO3ZvaWQgMCE9PWNbZF0mJih1Lng9dm9pZCAwPT09Y1tkXS54P28ueDpjW2RdLngsdS55PXZvaWQgMD09PWNbZF0ueT9vLnk6Y1tkXS55KX19ZWxzZSBmb3IodmFyIGQgaW4gbilpZihuLmhhc093blByb3BlcnR5KGQpKXt2YXIgdT10aGlzLmJvZHkubm9kZXNbZF07dT1uW2RdLHUub3B0aW9ucy5maXhlZC54PT09ITEmJih1Lng9by54KSx1Lm9wdGlvbnMuZml4ZWQueT09PSExJiYodS55PW8ueSl9Zm9yKHZhciBkIGluIG4paWYobi5oYXNPd25Qcm9wZXJ0eShkKSl7dmFyIHU9dGhpcy5ib2R5Lm5vZGVzW2RdO3Uudng9by52eCx1LnZ5PW8udnksdS5zZXRPcHRpb25zKHtoaWRkZW46ITEscGh5c2ljczohMH0pLGRlbGV0ZSB0aGlzLmNsdXN0ZXJlZE5vZGVzW2RdfWZvcih2YXIgcD1bXSxmPTA7ZjxvLmVkZ2VzLmxlbmd0aDtmKyspcC5wdXNoKG8uZWRnZXNbZl0pO2Zvcih2YXIgZj0wO2Y8cC5sZW5ndGg7ZisrKXt2YXIgbT1wW2ZdLHY9dGhpcy5fZ2V0Q29ubmVjdGVkSWQobSx0KTtpZih2b2lkIDAhPT10aGlzLmNsdXN0ZXJlZE5vZGVzW3ZdKXt2YXIgZz10aGlzLmJvZHkubm9kZXNbdGhpcy5jbHVzdGVyZWROb2Rlc1t2XS5jbHVzdGVySWRdLHk9dGhpcy5ib2R5LmVkZ2VzW20uY2x1c3RlcmluZ0VkZ2VSZXBsYWNpbmdJZF07aWYodm9pZCAwIT09eSl7Zy5jb250YWluZWRFZGdlc1t5LmlkXT15LGRlbGV0ZSBzW3kuaWRdO3ZhciBiPXkuZnJvbUlkLHc9eS50b0lkO3kudG9JZD09dj93PXRoaXMuY2x1c3RlcmVkTm9kZXNbdl0uY2x1c3RlcklkOmI9dGhpcy5jbHVzdGVyZWROb2Rlc1t2XS5jbHVzdGVySWQ7dmFyIF89YVtcImRlZmF1bHRcIl0uX2Nsb25lT3B0aW9ucyh5LFwiZWRnZVwiKTtsLmRlZXBFeHRlbmQoXyxnLmNsdXN0ZXJFZGdlUHJvcGVydGllcyk7dmFyIHg9XCJjbHVzdGVyRWRnZTpcIitsLnJhbmRvbVVVSUQoKTtsLmRlZXBFeHRlbmQoXyx7ZnJvbTpiLHRvOncsaGlkZGVuOiExLHBoeXNpY3M6ITAsaWQ6eH0pO3ZhciBrPXRoaXMuYm9keS5mdW5jdGlvbnMuY3JlYXRlRWRnZShfKTtrLmNsdXN0ZXJpbmdFZGdlUmVwbGFjaW5nSWQ9eS5pZCx0aGlzLmJvZHkuZWRnZXNbeF09ayx0aGlzLmJvZHkuZWRnZXNbeF0uY29ubmVjdCgpfX1lbHNle3ZhciBPPXRoaXMuYm9keS5lZGdlc1ttLmNsdXN0ZXJpbmdFZGdlUmVwbGFjaW5nSWRdO3ZvaWQgMCE9PU8mJihPLnNldE9wdGlvbnMoe3BoeXNpY3M6ITAsaGlkZGVuOiExfSksTy5oaWRkZW5CeUNsdXN0ZXI9ITEpfW0uY2xlYW51cCgpLG0uZGlzY29ubmVjdCgpLGRlbGV0ZSB0aGlzLmJvZHkuZWRnZXNbbS5pZF19Zm9yKHZhciBNIGluIHMpaWYocy5oYXNPd25Qcm9wZXJ0eShNKSl7dmFyIG09c1tNXTttLnNldE9wdGlvbnMoe3BoeXNpY3M6ITAsaGlkZGVuOiExfSksbS5oaWRkZW5CeUNsdXN0ZXI9dm9pZCAwLGRlbGV0ZSBtLmhpZGRlbkJ5Q2x1c3Rlcn1kZWxldGUgdGhpcy5ib2R5Lm5vZGVzW3RdLGk9PT0hMCYmdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhQ2hhbmdlZFwiKX19LHtrZXk6XCJnZXROb2Rlc0luQ2x1c3RlclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPVtdO2lmKHRoaXMuaXNDbHVzdGVyKHQpPT09ITApe3ZhciBpPXRoaXMuYm9keS5ub2Rlc1t0XS5jb250YWluZWROb2Rlcztmb3IodmFyIG8gaW4gaSlpLmhhc093blByb3BlcnR5KG8pJiZlLnB1c2gobyl9cmV0dXJuIGV9fSx7a2V5OlwiZmluZE5vZGVcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10saT0xMDAsbz0wO3ZvaWQgMCE9PXRoaXMuY2x1c3RlcmVkTm9kZXNbdF0mJmk+bzspZS5wdXNoKHRoaXMuY2x1c3RlcmVkTm9kZXNbdF0ubm9kZSksdD10aGlzLmNsdXN0ZXJlZE5vZGVzW3RdLmNsdXN0ZXJJZCxvKys7cmV0dXJuIGUucHVzaCh0aGlzLmJvZHkubm9kZXNbdF0pLGV9fSx7a2V5OlwiX2dldENvbm5lY3RlZElkXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC50b0lkIT1lP3QudG9JZDp0LmZyb21JZCE9ZT90LmZyb21JZDp0LmZyb21JZH19LHtrZXk6XCJfZ2V0SHViU2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT0wLGk9MCxvPTAsbj0wO248dGhpcy5ib2R5Lm5vZGVJbmRpY2VzLmxlbmd0aDtuKyspe3ZhciBzPXRoaXMuYm9keS5ub2Rlc1t0aGlzLmJvZHkubm9kZUluZGljZXNbbl1dO3MuZWRnZXMubGVuZ3RoPm8mJihvPXMuZWRnZXMubGVuZ3RoKSx0Kz1zLmVkZ2VzLmxlbmd0aCxlKz1NYXRoLnBvdyhzLmVkZ2VzLmxlbmd0aCwyKSxpKz0xfXQvPWksZS89aTt2YXIgcj1lLU1hdGgucG93KHQsMiksYT1NYXRoLnNxcnQociksaD1NYXRoLmZsb29yKHQrMiphKTtyZXR1cm4gaD5vJiYoaD1vKSxofX1dKSx0fSgpO2VbXCJkZWZhdWx0XCJdPXUsdC5leHBvcnRzPWVbXCJkZWZhdWx0XCJdfSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbyh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvPWVbaV07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24oZSxpLG8pe1xucmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLHM9aSgxKSxyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe28odGhpcyx0KX1yZXR1cm4gbih0LG51bGwsW3trZXk6XCJfZ2V0UmFuZ2VcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpPWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT9bXTphcmd1bWVudHNbMV0sbz0xZTksbj0tMWU5LHM9MWU5LHI9LTFlOTtpZihpLmxlbmd0aD4wKWZvcih2YXIgYT0wO2E8aS5sZW5ndGg7YSsrKWU9dFtpW2FdXSxzPmUuc2hhcGUuYm91bmRpbmdCb3gubGVmdCYmKHM9ZS5zaGFwZS5ib3VuZGluZ0JveC5sZWZ0KSxyPGUuc2hhcGUuYm91bmRpbmdCb3gucmlnaHQmJihyPWUuc2hhcGUuYm91bmRpbmdCb3gucmlnaHQpLG8+ZS5zaGFwZS5ib3VuZGluZ0JveC50b3AmJihvPWUuc2hhcGUuYm91bmRpbmdCb3gudG9wKSxuPGUuc2hhcGUuYm91bmRpbmdCb3guYm90dG9tJiYobj1lLnNoYXBlLmJvdW5kaW5nQm94LmJvdHRvbSk7cmV0dXJuIDFlOT09PXMmJi0xZTk9PT1yJiYxZTk9PT1vJiYtMWU5PT09biYmKG89MCxuPTAscz0wLHI9MCkse21pblg6cyxtYXhYOnIsbWluWTpvLG1heFk6bn19fSx7a2V5OlwiX2dldFJhbmdlQ29yZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLGk9YXJndW1lbnRzLmxlbmd0aDw9MXx8dm9pZCAwPT09YXJndW1lbnRzWzFdP1tdOmFyZ3VtZW50c1sxXSxvPTFlOSxuPS0xZTkscz0xZTkscj0tMWU5O2lmKGkubGVuZ3RoPjApZm9yKHZhciBhPTA7YTxpLmxlbmd0aDthKyspZT10W2lbYV1dLHM+ZS54JiYocz1lLngpLHI8ZS54JiYocj1lLngpLG8+ZS55JiYobz1lLnkpLG48ZS55JiYobj1lLnkpO3JldHVybiAxZTk9PT1zJiYtMWU5PT09ciYmMWU5PT09byYmLTFlOT09PW4mJihvPTAsbj0wLHM9MCxyPTApLHttaW5YOnMsbWF4WDpyLG1pblk6byxtYXhZOm59fX0se2tleTpcIl9maW5kQ2VudGVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJue3g6LjUqKHQubWF4WCt0Lm1pblgpLHk6LjUqKHQubWF4WSt0Lm1pblkpfX19LHtrZXk6XCJfY2xvbmVPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT17fTtyZXR1cm4gdm9pZCAwPT09ZXx8XCJub2RlXCI9PT1lPyhzLmRlZXBFeHRlbmQoaSx0Lm9wdGlvbnMsITApLGkueD10LngsaS55PXQueSxpLmFtb3VudE9mQ29ubmVjdGlvbnM9dC5lZGdlcy5sZW5ndGgpOnMuZGVlcEV4dGVuZChpLHQub3B0aW9ucywhMCksaX19XSksdH0oKTtlW1wiZGVmYXVsdFwiXT1yLHQuZXhwb3J0cz1lW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBzKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbz0hMDtvOyl7dmFyIG49dCxzPWUscj1pO289ITEsbnVsbD09PW4mJihuPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHMpO2lmKHZvaWQgMCE9PWEpe2lmKFwidmFsdWVcImluIGEpcmV0dXJuIGEudmFsdWU7dmFyIGg9YS5nZXQ7aWYodm9pZCAwPT09aClyZXR1cm47cmV0dXJuIGguY2FsbChyKX12YXIgZD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobik7aWYobnVsbD09PWQpcmV0dXJuO3Q9ZCxlPXMsaT1yLG89ITAsYT1kPXZvaWQgMH19LGE9aSg2MiksaD1vKGEpLGQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGksbyxzLGEpe24odGhpcyxlKSxyKE9iamVjdC5nZXRQcm90b3R5cGVPZihlLnByb3RvdHlwZSksXCJjb25zdHJ1Y3RvclwiLHRoaXMpLmNhbGwodGhpcyx0LGksbyxzLGEpLHRoaXMuaXNDbHVzdGVyPSEwLHRoaXMuY29udGFpbmVkTm9kZXM9e30sdGhpcy5jb250YWluZWRFZGdlcz17fX1yZXR1cm4gcyhlLHQpLGV9KGhbXCJkZWZhdWx0XCJdKTtlW1wiZGVmYXVsdFwiXT1kLHQuZXhwb3J0cz1lW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1lW2ldO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKGUsaSxvKXtyZXR1cm4gaSYmdChlLnByb3RvdHlwZSxpKSxvJiZ0KGUsbyksZX19KCk7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lKTt2YXIgcz1pKDEpLHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSl7byh0aGlzLHQpLHRoaXMuYm9keT1lLHRoaXMuY2FudmFzPWksdGhpcy5yZWRyYXdSZXF1ZXN0ZWQ9ITEsdGhpcy5yZW5kZXJUaW1lcj12b2lkIDAsdGhpcy5yZXF1aXJlc1RpbWVvdXQ9ITAsdGhpcy5yZW5kZXJpbmdBY3RpdmU9ITEsdGhpcy5yZW5kZXJSZXF1ZXN0cz0wLHRoaXMucGl4ZWxSYXRpbz12b2lkIDAsdGhpcy5hbGxvd1JlZHJhdz0hMCx0aGlzLmRyYWdnaW5nPSExLHRoaXMub3B0aW9ucz17fSx0aGlzLmRlZmF1bHRPcHRpb25zPXtoaWRlRWRnZXNPbkRyYWc6ITEsaGlkZU5vZGVzT25EcmFnOiExfSxzLmV4dGVuZCh0aGlzLm9wdGlvbnMsdGhpcy5kZWZhdWx0T3B0aW9ucyksdGhpcy5fZGV0ZXJtaW5lQnJvd3Nlck1ldGhvZCgpLHRoaXMuYmluZEV2ZW50TGlzdGVuZXJzKCl9cmV0dXJuIG4odCxbe2tleTpcImJpbmRFdmVudExpc3RlbmVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmJvZHkuZW1pdHRlci5vbihcImRyYWdTdGFydFwiLGZ1bmN0aW9uKCl7dC5kcmFnZ2luZz0hMH0pLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiZHJhZ0VuZFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHQuZHJhZ2dpbmc9ITF9KSx0aGlzLmJvZHkuZW1pdHRlci5vbihcIl9yZXNpemVOb2Rlc1wiLGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3Jlc2l6ZU5vZGVzKCl9KSx0aGlzLmJvZHkuZW1pdHRlci5vbihcIl9yZWRyYXdcIixmdW5jdGlvbigpe3QucmVuZGVyaW5nQWN0aXZlPT09ITEmJnQuX3JlZHJhdygpfSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJfYmxvY2tSZWRyYXdcIixmdW5jdGlvbigpe3QuYWxsb3dSZWRyYXc9ITF9KSx0aGlzLmJvZHkuZW1pdHRlci5vbihcIl9hbGxvd1JlZHJhd1wiLGZ1bmN0aW9uKCl7dC5hbGxvd1JlZHJhdz0hMCx0LnJlZHJhd1JlcXVlc3RlZD0hMX0pLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiX3JlcXVlc3RSZWRyYXdcIix0aGlzLl9yZXF1ZXN0UmVkcmF3LmJpbmQodGhpcykpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiX3N0YXJ0UmVuZGVyaW5nXCIsZnVuY3Rpb24oKXt0LnJlbmRlclJlcXVlc3RzKz0xLHQucmVuZGVyaW5nQWN0aXZlPSEwLHQuX3N0YXJ0UmVuZGVyaW5nKCl9KSx0aGlzLmJvZHkuZW1pdHRlci5vbihcIl9zdG9wUmVuZGVyaW5nXCIsZnVuY3Rpb24oKXt0LnJlbmRlclJlcXVlc3RzLT0xLHQucmVuZGVyaW5nQWN0aXZlPXQucmVuZGVyUmVxdWVzdHM+MCx0LnJlbmRlclRpbWVyPXZvaWQgMH0pLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7dC5yZW5kZXJSZXF1ZXN0cz0wLHQuYWxsb3dSZWRyYXc9ITEsdC5yZW5kZXJpbmdBY3RpdmU9ITEsdC5yZXF1aXJlc1RpbWVvdXQ9PT0hMD9jbGVhclRpbWVvdXQodC5yZW5kZXJUaW1lcik6Y2FuY2VsQW5pbWF0aW9uRnJhbWUodC5yZW5kZXJUaW1lciksdC5ib2R5LmVtaXR0ZXIub2ZmKCl9KX19LHtrZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodm9pZCAwIT09dCl7dmFyIGU9W1wiaGlkZUVkZ2VzT25EcmFnXCIsXCJoaWRlTm9kZXNPbkRyYWdcIl07cy5zZWxlY3RpdmVEZWVwRXh0ZW5kKGUsdGhpcy5vcHRpb25zLHQpfX19LHtrZXk6XCJfc3RhcnRSZW5kZXJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucmVuZGVyaW5nQWN0aXZlPT09ITAmJnZvaWQgMD09PXRoaXMucmVuZGVyVGltZXImJih0aGlzLnJlcXVpcmVzVGltZW91dD09PSEwP3RoaXMucmVuZGVyVGltZXI9d2luZG93LnNldFRpbWVvdXQodGhpcy5fcmVuZGVyU3RlcC5iaW5kKHRoaXMpLHRoaXMuc2ltdWxhdGlvbkludGVydmFsKTp0aGlzLnJlbmRlclRpbWVyPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fcmVuZGVyU3RlcC5iaW5kKHRoaXMpKSl9fSx7a2V5OlwiX3JlbmRlclN0ZXBcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucmVuZGVyaW5nQWN0aXZlPT09ITAmJih0aGlzLnJlbmRlclRpbWVyPXZvaWQgMCx0aGlzLnJlcXVpcmVzVGltZW91dD09PSEwJiZ0aGlzLl9zdGFydFJlbmRlcmluZygpLHRoaXMuX3JlZHJhdygpLHRoaXMucmVxdWlyZXNUaW1lb3V0PT09ITEmJnRoaXMuX3N0YXJ0UmVuZGVyaW5nKCkpfX0se2tleTpcInJlZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcInNldFNpemVcIiksdGhpcy5fcmVkcmF3KCl9fSx7a2V5OlwiX3JlcXVlc3RSZWRyYXdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5yZWRyYXdSZXF1ZXN0ZWQhPT0hMCYmdGhpcy5yZW5kZXJpbmdBY3RpdmU9PT0hMSYmdGhpcy5hbGxvd1JlZHJhdz09PSEwJiYodGhpcy5yZWRyYXdSZXF1ZXN0ZWQ9ITAsdGhpcy5yZXF1aXJlc1RpbWVvdXQ9PT0hMD93aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe3QuX3JlZHJhdyghMSl9LDApOndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXt0Ll9yZWRyYXcoITEpfSkpfX0se2tleTpcIl9yZWRyYXdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT8hMTphcmd1bWVudHNbMF07aWYodGhpcy5hbGxvd1JlZHJhdz09PSEwKXt0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiaW5pdFJlZHJhd1wiKSx0aGlzLnJlZHJhd1JlcXVlc3RlZD0hMTt2YXIgZT10aGlzLmNhbnZhcy5mcmFtZS5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpOygwPT09dGhpcy5jYW52YXMuZnJhbWUuY2FudmFzLndpZHRofHwwPT09dGhpcy5jYW52YXMuZnJhbWUuY2FudmFzLmhlaWdodCkmJnRoaXMuY2FudmFzLnNldFNpemUoKSx0aGlzLnBpeGVsUmF0aW89KHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxKS8oZS53ZWJraXRCYWNraW5nU3RvcmVQaXhlbFJhdGlvfHxlLm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW98fGUubXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvfHxlLm9CYWNraW5nU3RvcmVQaXhlbFJhdGlvfHxlLmJhY2tpbmdTdG9yZVBpeGVsUmF0aW98fDEpLGUuc2V0VHJhbnNmb3JtKHRoaXMucGl4ZWxSYXRpbywwLDAsdGhpcy5waXhlbFJhdGlvLDAsMCk7dmFyIGk9dGhpcy5jYW52YXMuZnJhbWUuY2FudmFzLmNsaWVudFdpZHRoLG89dGhpcy5jYW52YXMuZnJhbWUuY2FudmFzLmNsaWVudEhlaWdodDtpZihlLmNsZWFyUmVjdCgwLDAsaSxvKSwwPT09dGhpcy5jYW52YXMuZnJhbWUuY2xpZW50V2lkdGgpcmV0dXJuO2Uuc2F2ZSgpLGUudHJhbnNsYXRlKHRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLngsdGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb24ueSksZS5zY2FsZSh0aGlzLmJvZHkudmlldy5zY2FsZSx0aGlzLmJvZHkudmlldy5zY2FsZSksZS5iZWdpblBhdGgoKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiYmVmb3JlRHJhd2luZ1wiLGUpLGUuY2xvc2VQYXRoKCksdD09PSExJiYodGhpcy5kcmFnZ2luZz09PSExfHx0aGlzLmRyYWdnaW5nPT09ITAmJnRoaXMub3B0aW9ucy5oaWRlRWRnZXNPbkRyYWc9PT0hMSkmJnRoaXMuX2RyYXdFZGdlcyhlKSwodGhpcy5kcmFnZ2luZz09PSExfHx0aGlzLmRyYWdnaW5nPT09ITAmJnRoaXMub3B0aW9ucy5oaWRlTm9kZXNPbkRyYWc9PT0hMSkmJnRoaXMuX2RyYXdOb2RlcyhlLHQpLHRoaXMuY29udHJvbE5vZGVzQWN0aXZlPT09ITAmJnRoaXMuX2RyYXdDb250cm9sTm9kZXMoZSksZS5iZWdpblBhdGgoKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiYWZ0ZXJEcmF3aW5nXCIsZSksZS5jbG9zZVBhdGgoKSxlLnJlc3RvcmUoKSx0PT09ITAmJmUuY2xlYXJSZWN0KDAsMCxpLG8pfX19LHtrZXk6XCJfcmVzaXplTm9kZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7dm9pZCAwPT09dGhpcy5waXhlbFJhdGlvJiYodGhpcy5waXhlbFJhdGlvPSh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSkvKHQud2Via2l0QmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8dC5tb3pCYWNraW5nU3RvcmVQaXhlbFJhdGlvfHx0Lm1zQmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8dC5vQmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8dC5iYWNraW5nU3RvcmVQaXhlbFJhdGlvfHwxKSksdC5zZXRUcmFuc2Zvcm0odGhpcy5waXhlbFJhdGlvLDAsMCx0aGlzLnBpeGVsUmF0aW8sMCwwKSx0LnNhdmUoKSx0LnRyYW5zbGF0ZSh0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbi54LHRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLnkpLHQuc2NhbGUodGhpcy5ib2R5LnZpZXcuc2NhbGUsdGhpcy5ib2R5LnZpZXcuc2NhbGUpO3ZhciBlPXRoaXMuYm9keS5ub2RlcyxpPXZvaWQgMDtmb3IodmFyIG8gaW4gZSllLmhhc093blByb3BlcnR5KG8pJiYoaT1lW29dLGkucmVzaXplKHQpLGkudXBkYXRlQm91bmRpbmdCb3godCxpLnNlbGVjdGVkKSk7dC5yZXN0b3JlKCl9fSx7a2V5OlwiX2RyYXdOb2Rlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoPD0xfHx2b2lkIDA9PT1hcmd1bWVudHNbMV0/ITE6YXJndW1lbnRzWzFdLGk9dGhpcy5ib2R5Lm5vZGVzLG89dGhpcy5ib2R5Lm5vZGVJbmRpY2VzLG49dm9pZCAwLHM9W10scj0yMCxhPXRoaXMuY2FudmFzLkRPTXRvQ2FudmFzKHt4Oi1yLHk6LXJ9KSxoPXRoaXMuY2FudmFzLkRPTXRvQ2FudmFzKHt4OnRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aCtyLHk6dGhpcy5jYW52YXMuZnJhbWUuY2FudmFzLmNsaWVudEhlaWdodCtyfSksZD17dG9wOmEueSxsZWZ0OmEueCxib3R0b206aC55LHJpZ2h0OmgueH0sbD0wO2w8by5sZW5ndGg7bCsrKW49aVtvW2xdXSxuLmlzU2VsZWN0ZWQoKT9zLnB1c2gob1tsXSk6ZT09PSEwP24uZHJhdyh0KTpuLmlzQm91bmRpbmdCb3hPdmVybGFwcGluZ1dpdGgoZCk9PT0hMD9uLmRyYXcodCk6bi51cGRhdGVCb3VuZGluZ0JveCh0LG4uc2VsZWN0ZWQpO2Zvcih2YXIgbD0wO2w8cy5sZW5ndGg7bCsrKW49aVtzW2xdXSxuLmRyYXcodCl9fSx7a2V5OlwiX2RyYXdFZGdlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmJvZHkuZWRnZXMsaT10aGlzLmJvZHkuZWRnZUluZGljZXMsbz12b2lkIDAsbj0wO248aS5sZW5ndGg7bisrKW89ZVtpW25dXSxvLmNvbm5lY3RlZD09PSEwJiZvLmRyYXcodCl9fSx7a2V5OlwiX2RyYXdDb250cm9sTm9kZXNcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5ib2R5LmVkZ2VzLGk9dGhpcy5ib2R5LmVkZ2VJbmRpY2VzLG89dm9pZCAwLG49MDtuPGkubGVuZ3RoO24rKylvPWVbaVtuXV0sby5fZHJhd0NvbnRyb2xOb2Rlcyh0KX19LHtrZXk6XCJfZGV0ZXJtaW5lQnJvd3Nlck1ldGhvZFwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyl7dmFyIHQ9bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO3RoaXMucmVxdWlyZXNUaW1lb3V0PSExLC0xIT10LmluZGV4T2YoXCJtc2llIDkuMFwiKT90aGlzLnJlcXVpcmVzVGltZW91dD0hMDotMSE9dC5pbmRleE9mKFwic2FmYXJpXCIpJiZ0LmluZGV4T2YoXCJjaHJvbWVcIik8PS0xJiYodGhpcy5yZXF1aXJlc1RpbWVvdXQ9ITApfWVsc2UgdGhpcy5yZXF1aXJlc1RpbWVvdXQ9ITB9fV0pLHR9KCk7ZVtcImRlZmF1bHRcIl09cix0LmV4cG9ydHM9ZVtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLHM9aSgyMCkscj1pKDI1KSxhPWkoMSksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7byh0aGlzLHQpLHRoaXMuYm9keT1lLHRoaXMucGl4ZWxSYXRpbz0xLHRoaXMucmVzaXplVGltZXI9dm9pZCAwLHRoaXMucmVzaXplRnVuY3Rpb249dGhpcy5fb25SZXNpemUuYmluZCh0aGlzKSx0aGlzLmNhbWVyYVN0YXRlPXt9LHRoaXMub3B0aW9ucz17fSx0aGlzLmRlZmF1bHRPcHRpb25zPXthdXRvUmVzaXplOiEwLGhlaWdodDpcIjEwMCVcIix3aWR0aDpcIjEwMCVcIn0sYS5leHRlbmQodGhpcy5vcHRpb25zLHRoaXMuZGVmYXVsdE9wdGlvbnMpLHRoaXMuYmluZEV2ZW50TGlzdGVuZXJzKCl9cmV0dXJuIG4odCxbe2tleTpcImJpbmRFdmVudExpc3RlbmVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmJvZHkuZW1pdHRlci5vbmNlKFwicmVzaXplXCIsZnVuY3Rpb24oZSl7MCE9PWUud2lkdGgmJih0LmJvZHkudmlldy50cmFuc2xhdGlvbi54PS41KmUud2lkdGgpLDAhPT1lLmhlaWdodCYmKHQuYm9keS52aWV3LnRyYW5zbGF0aW9uLnk9LjUqZS5oZWlnaHQpfSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJzZXRTaXplXCIsdGhpcy5zZXRTaXplLmJpbmQodGhpcykpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7dC5oYW1tZXJGcmFtZS5kZXN0cm95KCksdC5oYW1tZXIuZGVzdHJveSgpLHQuX2NsZWFuVXAoKX0pfX0se2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKHZvaWQgMCE9PXQpe3ZhciBpPVtcIndpZHRoXCIsXCJoZWlnaHRcIixcImF1dG9SZXNpemVcIl07YS5zZWxlY3RpdmVEZWVwRXh0ZW5kKGksdGhpcy5vcHRpb25zLHQpfXRoaXMub3B0aW9ucy5hdXRvUmVzaXplPT09ITAmJih0aGlzLl9jbGVhblVwKCksdGhpcy5yZXNpemVUaW1lcj1zZXRJbnRlcnZhbChmdW5jdGlvbigpe3ZhciB0PWUuc2V0U2l6ZSgpO3Q9PT0hMCYmZS5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXF1ZXN0UmVkcmF3XCIpfSwxZTMpLHRoaXMucmVzaXplRnVuY3Rpb249dGhpcy5fb25SZXNpemUuYmluZCh0aGlzKSxhLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LFwicmVzaXplXCIsdGhpcy5yZXNpemVGdW5jdGlvbikpfX0se2tleTpcIl9jbGVhblVwXCIsdmFsdWU6ZnVuY3Rpb24oKXt2b2lkIDAhPT10aGlzLnJlc2l6ZVRpbWVyJiZjbGVhckludGVydmFsKHRoaXMucmVzaXplVGltZXIpLGEucmVtb3ZlRXZlbnRMaXN0ZW5lcih3aW5kb3csXCJyZXNpemVcIix0aGlzLnJlc2l6ZUZ1bmN0aW9uKSx0aGlzLnJlc2l6ZUZ1bmN0aW9uPXZvaWQgMH19LHtrZXk6XCJfb25SZXNpemVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2V0U2l6ZSgpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVkcmF3XCIpfX0se2tleTpcIl9nZXRDYW1lcmFTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdP3RoaXMucGl4ZWxSYXRpbzphcmd1bWVudHNbMF07dGhpcy5jYW1lcmFTdGF0ZS5wcmV2aW91c1dpZHRoPXRoaXMuZnJhbWUuY2FudmFzLndpZHRoL3QsdGhpcy5jYW1lcmFTdGF0ZS5wcmV2aW91c0hlaWdodD10aGlzLmZyYW1lLmNhbnZhcy5oZWlnaHQvdCx0aGlzLmNhbWVyYVN0YXRlLnNjYWxlPXRoaXMuYm9keS52aWV3LnNjYWxlLHRoaXMuY2FtZXJhU3RhdGUucG9zaXRpb249dGhpcy5ET010b0NhbnZhcyh7eDouNSp0aGlzLmZyYW1lLmNhbnZhcy53aWR0aC90LHk6LjUqdGhpcy5mcmFtZS5jYW52YXMuaGVpZ2h0L3R9KX19LHtrZXk6XCJfc2V0Q2FtZXJhU3RhdGVcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHZvaWQgMCE9PXRoaXMuY2FtZXJhU3RhdGUuc2NhbGUmJjAhPT10aGlzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aCYmMCE9PXRoaXMuZnJhbWUuY2FudmFzLmNsaWVudEhlaWdodCYmMCE9PXRoaXMucGl4ZWxSYXRpbyYmdGhpcy5jYW1lcmFTdGF0ZS5wcmV2aW91c1dpZHRoPjApe3RoaXMuYm9keS52aWV3LnNjYWxlPXRoaXMuY2FtZXJhU3RhdGUuc2NhbGUqTWF0aC5taW4odGhpcy5mcmFtZS5jYW52YXMud2lkdGgvdGhpcy5waXhlbFJhdGlvL3RoaXMuY2FtZXJhU3RhdGUucHJldmlvdXNXaWR0aCx0aGlzLmZyYW1lLmNhbnZhcy5oZWlnaHQvdGhpcy5waXhlbFJhdGlvL3RoaXMuY2FtZXJhU3RhdGUucHJldmlvdXNIZWlnaHQpO3ZhciB0PXRoaXMuRE9NdG9DYW52YXMoe3g6LjUqdGhpcy5mcmFtZS5jYW52YXMuY2xpZW50V2lkdGgseTouNSp0aGlzLmZyYW1lLmNhbnZhcy5jbGllbnRIZWlnaHR9KSxlPXt4OnQueC10aGlzLmNhbWVyYVN0YXRlLnBvc2l0aW9uLngseTp0LnktdGhpcy5jYW1lcmFTdGF0ZS5wb3NpdGlvbi55fTt0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbi54Kz1lLngqdGhpcy5ib2R5LnZpZXcuc2NhbGUsdGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb24ueSs9ZS55KnRoaXMuYm9keS52aWV3LnNjYWxlfX19LHtrZXk6XCJfcHJlcGFyZVZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpcmV0dXJuIHQrXCJweFwiO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXtpZigtMSE9PXQuaW5kZXhPZihcIiVcIil8fC0xIT09dC5pbmRleE9mKFwicHhcIikpcmV0dXJuIHQ7aWYoLTE9PT10LmluZGV4T2YoXCIlXCIpKXJldHVybiB0K1wicHhcIn10aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgdXNlIHRoZSB2YWx1ZSBzdXBwbGllZCBmb3Igd2lkdGggb3IgaGVpZ2h0OlwiK3QpfX0se2tleTpcIl9jcmVhdGVcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcig7dGhpcy5ib2R5LmNvbnRhaW5lci5oYXNDaGlsZE5vZGVzKCk7KXRoaXMuYm9keS5jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5ib2R5LmNvbnRhaW5lci5maXJzdENoaWxkKTtpZih0aGlzLmZyYW1lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5mcmFtZS5jbGFzc05hbWU9XCJ2aXMtbmV0d29ya1wiLHRoaXMuZnJhbWUuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLHRoaXMuZnJhbWUuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIix0aGlzLmZyYW1lLnRhYkluZGV4PTkwMCx0aGlzLmZyYW1lLmNhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHRoaXMuZnJhbWUuY2FudmFzLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIix0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuZnJhbWUuY2FudmFzKSx0aGlzLmZyYW1lLmNhbnZhcy5nZXRDb250ZXh0KXt2YXIgdD10aGlzLmZyYW1lLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7dGhpcy5waXhlbFJhdGlvPSh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSkvKHQud2Via2l0QmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8dC5tb3pCYWNraW5nU3RvcmVQaXhlbFJhdGlvfHx0Lm1zQmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8dC5vQmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8dC5iYWNraW5nU3RvcmVQaXhlbFJhdGlvfHwxKSx0aGlzLmZyYW1lLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikuc2V0VHJhbnNmb3JtKHRoaXMucGl4ZWxSYXRpbywwLDAsdGhpcy5waXhlbFJhdGlvLDAsMCl9ZWxzZXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO2Uuc3R5bGUuY29sb3I9XCJyZWRcIixlLnN0eWxlLmZvbnRXZWlnaHQ9XCJib2xkXCIsZS5zdHlsZS5wYWRkaW5nPVwiMTBweFwiLGUuaW5uZXJIVE1MPVwiRXJyb3I6IHlvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IEhUTUwgY2FudmFzXCIsdGhpcy5mcmFtZS5jYW52YXMuYXBwZW5kQ2hpbGQoZSl9dGhpcy5ib2R5LmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmZyYW1lKSx0aGlzLmJvZHkudmlldy5zY2FsZT0xLHRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uPXt4Oi41KnRoaXMuZnJhbWUuY2FudmFzLmNsaWVudFdpZHRoLHk6LjUqdGhpcy5mcmFtZS5jYW52YXMuY2xpZW50SGVpZ2h0fSx0aGlzLl9iaW5kSGFtbWVyKCl9fSx7a2V5OlwiX2JpbmRIYW1tZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dm9pZCAwIT09dGhpcy5oYW1tZXImJnRoaXMuaGFtbWVyLmRlc3Ryb3koKSx0aGlzLmRyYWc9e30sdGhpcy5waW5jaD17fSx0aGlzLmhhbW1lcj1uZXcgcyh0aGlzLmZyYW1lLmNhbnZhcyksdGhpcy5oYW1tZXIuZ2V0KFwicGluY2hcIikuc2V0KHtlbmFibGU6ITB9KSx0aGlzLmhhbW1lci5nZXQoXCJwYW5cIikuc2V0KHt0aHJlc2hvbGQ6NSxkaXJlY3Rpb246MzB9KSxyLm9uVG91Y2godGhpcy5oYW1tZXIsZnVuY3Rpb24oZSl7dC5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uVG91Y2goZSl9KSx0aGlzLmhhbW1lci5vbihcInRhcFwiLGZ1bmN0aW9uKGUpe3QuYm9keS5ldmVudExpc3RlbmVycy5vblRhcChlKX0pLHRoaXMuaGFtbWVyLm9uKFwiZG91YmxldGFwXCIsZnVuY3Rpb24oZSl7dC5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uRG91YmxlVGFwKGUpfSksdGhpcy5oYW1tZXIub24oXCJwcmVzc1wiLGZ1bmN0aW9uKGUpe3QuYm9keS5ldmVudExpc3RlbmVycy5vbkhvbGQoZSl9KSx0aGlzLmhhbW1lci5vbihcInBhbnN0YXJ0XCIsZnVuY3Rpb24oZSl7dC5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uRHJhZ1N0YXJ0KGUpfSksdGhpcy5oYW1tZXIub24oXCJwYW5tb3ZlXCIsZnVuY3Rpb24oZSl7dC5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uRHJhZyhlKX0pLHRoaXMuaGFtbWVyLm9uKFwicGFuZW5kXCIsZnVuY3Rpb24oZSl7dC5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uRHJhZ0VuZChlKX0pLHRoaXMuaGFtbWVyLm9uKFwicGluY2hcIixmdW5jdGlvbihlKXt0LmJvZHkuZXZlbnRMaXN0ZW5lcnMub25QaW5jaChlKX0pLHRoaXMuZnJhbWUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXdoZWVsXCIsZnVuY3Rpb24oZSl7dC5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uTW91c2VXaGVlbChlKX0pLHRoaXMuZnJhbWUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Nb3VzZVNjcm9sbFwiLGZ1bmN0aW9uKGUpe3QuYm9keS5ldmVudExpc3RlbmVycy5vbk1vdXNlV2hlZWwoZSl9KSx0aGlzLmZyYW1lLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsZnVuY3Rpb24oZSl7dC5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uTW91c2VNb3ZlKGUpfSksdGhpcy5mcmFtZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsZnVuY3Rpb24oZSl7dC5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uQ29udGV4dChlKX0pLHRoaXMuaGFtbWVyRnJhbWU9bmV3IHModGhpcy5mcmFtZSksci5vblJlbGVhc2UodGhpcy5oYW1tZXJGcmFtZSxmdW5jdGlvbihlKXt0LmJvZHkuZXZlbnRMaXN0ZW5lcnMub25SZWxlYXNlKGUpfSl9fSx7a2V5Olwic2V0U2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdP3RoaXMub3B0aW9ucy53aWR0aDphcmd1bWVudHNbMF0sZT1hcmd1bWVudHMubGVuZ3RoPD0xfHx2b2lkIDA9PT1hcmd1bWVudHNbMV0/dGhpcy5vcHRpb25zLmhlaWdodDphcmd1bWVudHNbMV07dD10aGlzLl9wcmVwYXJlVmFsdWUodCksZT10aGlzLl9wcmVwYXJlVmFsdWUoZSk7dmFyIGk9ITEsbz10aGlzLmZyYW1lLmNhbnZhcy53aWR0aCxuPXRoaXMuZnJhbWUuY2FudmFzLmhlaWdodCxzPXRoaXMuZnJhbWUuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSxyPXRoaXMucGl4ZWxSYXRpbztyZXR1cm4gdGhpcy5waXhlbFJhdGlvPSh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSkvKHMud2Via2l0QmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8cy5tb3pCYWNraW5nU3RvcmVQaXhlbFJhdGlvfHxzLm1zQmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8cy5vQmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8cy5iYWNraW5nU3RvcmVQaXhlbFJhdGlvfHwxKSx0IT10aGlzLm9wdGlvbnMud2lkdGh8fGUhPXRoaXMub3B0aW9ucy5oZWlnaHR8fHRoaXMuZnJhbWUuc3R5bGUud2lkdGghPXR8fHRoaXMuZnJhbWUuc3R5bGUuaGVpZ2h0IT1lPyh0aGlzLl9nZXRDYW1lcmFTdGF0ZShyKSx0aGlzLmZyYW1lLnN0eWxlLndpZHRoPXQsdGhpcy5mcmFtZS5zdHlsZS5oZWlnaHQ9ZSx0aGlzLmZyYW1lLmNhbnZhcy5zdHlsZS53aWR0aD1cIjEwMCVcIix0aGlzLmZyYW1lLmNhbnZhcy5zdHlsZS5oZWlnaHQ9XCIxMDAlXCIsdGhpcy5mcmFtZS5jYW52YXMud2lkdGg9TWF0aC5yb3VuZCh0aGlzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aCp0aGlzLnBpeGVsUmF0aW8pLHRoaXMuZnJhbWUuY2FudmFzLmhlaWdodD1NYXRoLnJvdW5kKHRoaXMuZnJhbWUuY2FudmFzLmNsaWVudEhlaWdodCp0aGlzLnBpeGVsUmF0aW8pLHRoaXMub3B0aW9ucy53aWR0aD10LHRoaXMub3B0aW9ucy5oZWlnaHQ9ZSxpPSEwKTooKHRoaXMuZnJhbWUuY2FudmFzLndpZHRoIT1NYXRoLnJvdW5kKHRoaXMuZnJhbWUuY2FudmFzLmNsaWVudFdpZHRoKnRoaXMucGl4ZWxSYXRpbyl8fHRoaXMuZnJhbWUuY2FudmFzLmhlaWdodCE9TWF0aC5yb3VuZCh0aGlzLmZyYW1lLmNhbnZhcy5jbGllbnRIZWlnaHQqdGhpcy5waXhlbFJhdGlvKSkmJnRoaXMuX2dldENhbWVyYVN0YXRlKHIpLHRoaXMuZnJhbWUuY2FudmFzLndpZHRoIT1NYXRoLnJvdW5kKHRoaXMuZnJhbWUuY2FudmFzLmNsaWVudFdpZHRoKnRoaXMucGl4ZWxSYXRpbykmJih0aGlzLmZyYW1lLmNhbnZhcy53aWR0aD1NYXRoLnJvdW5kKHRoaXMuZnJhbWUuY2FudmFzLmNsaWVudFdpZHRoKnRoaXMucGl4ZWxSYXRpbyksaT0hMCksdGhpcy5mcmFtZS5jYW52YXMuaGVpZ2h0IT1NYXRoLnJvdW5kKHRoaXMuZnJhbWUuY2FudmFzLmNsaWVudEhlaWdodCp0aGlzLnBpeGVsUmF0aW8pJiYodGhpcy5mcmFtZS5jYW52YXMuaGVpZ2h0PU1hdGgucm91bmQodGhpcy5mcmFtZS5jYW52YXMuY2xpZW50SGVpZ2h0KnRoaXMucGl4ZWxSYXRpbyksaT0hMCkpLGk9PT0hMCYmKHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJyZXNpemVcIix7d2lkdGg6TWF0aC5yb3VuZCh0aGlzLmZyYW1lLmNhbnZhcy53aWR0aC90aGlzLnBpeGVsUmF0aW8pLGhlaWdodDpNYXRoLnJvdW5kKHRoaXMuZnJhbWUuY2FudmFzLmhlaWdodC90aGlzLnBpeGVsUmF0aW8pLG9sZFdpZHRoOk1hdGgucm91bmQoby90aGlzLnBpeGVsUmF0aW8pLG9sZEhlaWdodDpNYXRoLnJvdW5kKG4vdGhpcy5waXhlbFJhdGlvKX0pLHRoaXMuX3NldENhbWVyYVN0YXRlKCkpLGl9fSx7a2V5OlwiX1hjb252ZXJ0RE9NdG9DYW52YXNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4odC10aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbi54KS90aGlzLmJvZHkudmlldy5zY2FsZX19LHtrZXk6XCJfWGNvbnZlcnRDYW52YXNUb0RPTVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0KnRoaXMuYm9keS52aWV3LnNjYWxlK3RoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLnh9fSx7a2V5OlwiX1ljb252ZXJ0RE9NdG9DYW52YXNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4odC10aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbi55KS90aGlzLmJvZHkudmlldy5zY2FsZX19LHtrZXk6XCJfWWNvbnZlcnRDYW52YXNUb0RPTVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0KnRoaXMuYm9keS52aWV3LnNjYWxlK3RoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLnl9fSx7a2V5OlwiY2FudmFzVG9ET01cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm57eDp0aGlzLl9YY29udmVydENhbnZhc1RvRE9NKHQueCkseTp0aGlzLl9ZY29udmVydENhbnZhc1RvRE9NKHQueSl9fX0se2tleTpcIkRPTXRvQ2FudmFzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJue3g6dGhpcy5fWGNvbnZlcnRET010b0NhbnZhcyh0LngpLHk6dGhpcy5fWWNvbnZlcnRET010b0NhbnZhcyh0LnkpfX19XSksdH0oKTtlW1wiZGVmYXVsdFwiXT1oLHQuZXhwb3J0cz1lW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLHI9aSgxMDApLGE9byhyKSxoPWkoMSksZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpKXt2YXIgbz10aGlzO24odGhpcyx0KSx0aGlzLmJvZHk9ZSx0aGlzLmNhbnZhcz1pLHRoaXMuYW5pbWF0aW9uU3BlZWQ9MS90aGlzLnJlbmRlclJlZnJlc2hSYXRlLHRoaXMuYW5pbWF0aW9uRWFzaW5nRnVuY3Rpb249XCJlYXNlSW5PdXRRdWludFwiLHRoaXMuZWFzaW5nVGltZT0wLHRoaXMuc291cmNlU2NhbGU9MCx0aGlzLnRhcmdldFNjYWxlPTAsdGhpcy5zb3VyY2VUcmFuc2xhdGlvbj0wLHRoaXMudGFyZ2V0VHJhbnNsYXRpb249MCx0aGlzLmxvY2tlZE9uTm9kZUlkPXZvaWQgMCx0aGlzLmxvY2tlZE9uTm9kZU9mZnNldD12b2lkIDAsdGhpcy50b3VjaFRpbWU9MCx0aGlzLnZpZXdGdW5jdGlvbj12b2lkIDAsdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJmaXRcIix0aGlzLmZpdC5iaW5kKHRoaXMpKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcImFuaW1hdGlvbkZpbmlzaGVkXCIsZnVuY3Rpb24oKXtvLmJvZHkuZW1pdHRlci5lbWl0KFwiX3N0b3BSZW5kZXJpbmdcIil9KSx0aGlzLmJvZHkuZW1pdHRlci5vbihcInVubG9ja05vZGVcIix0aGlzLnJlbGVhc2VOb2RlLmJpbmQodGhpcykpfXJldHVybiBzKHQsW3trZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/e306YXJndW1lbnRzWzBdO3RoaXMub3B0aW9ucz10fX0se2tleTpcImZpdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdP3tub2RlczpbXX06YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzLmxlbmd0aDw9MXx8dm9pZCAwPT09YXJndW1lbnRzWzFdPyExOmFyZ3VtZW50c1sxXSxpPXZvaWQgMCxvPXZvaWQgMDtpZigodm9pZCAwPT09dC5ub2Rlc3x8MD09PXQubm9kZXMubGVuZ3RoKSYmKHQubm9kZXM9dGhpcy5ib2R5Lm5vZGVJbmRpY2VzKSxlPT09ITApe3ZhciBuPTA7Zm9yKHZhciBzIGluIHRoaXMuYm9keS5ub2RlcylpZih0aGlzLmJvZHkubm9kZXMuaGFzT3duUHJvcGVydHkocykpe3ZhciByPXRoaXMuYm9keS5ub2Rlc1tzXTtyLnByZWRlZmluZWRQb3NpdGlvbj09PSEwJiYobis9MSl9aWYobj4uNSp0aGlzLmJvZHkubm9kZUluZGljZXMubGVuZ3RoKXJldHVybiB2b2lkIHRoaXMuZml0KHQsITEpO2k9YVtcImRlZmF1bHRcIl0uX2dldFJhbmdlKHRoaXMuYm9keS5ub2Rlcyx0Lm5vZGVzKTt2YXIgaD10aGlzLmJvZHkubm9kZUluZGljZXMubGVuZ3RoO289MTIuNjYyLyhoKzcuNDE0NykrLjA5NjQ4MjI7dmFyIGQ9TWF0aC5taW4odGhpcy5jYW52YXMuZnJhbWUuY2FudmFzLmNsaWVudFdpZHRoLzYwMCx0aGlzLmNhbnZhcy5mcmFtZS5jYW52YXMuY2xpZW50SGVpZ2h0LzYwMCk7byo9ZH1lbHNle3RoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVzaXplTm9kZXNcIiksaT1hW1wiZGVmYXVsdFwiXS5fZ2V0UmFuZ2UodGhpcy5ib2R5Lm5vZGVzLHQubm9kZXMpO3ZhciBsPTEuMSpNYXRoLmFicyhpLm1heFgtaS5taW5YKSx1PTEuMSpNYXRoLmFicyhpLm1heFktaS5taW5ZKSxjPXRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aC9sLHA9dGhpcy5jYW52YXMuZnJhbWUuY2FudmFzLmNsaWVudEhlaWdodC91O289cD49Yz9jOnB9bz4xP289MTowPT09byYmKG89MSk7dmFyIGY9YVtcImRlZmF1bHRcIl0uX2ZpbmRDZW50ZXIoaSksbT17cG9zaXRpb246ZixzY2FsZTpvLGFuaW1hdGlvbjp0LmFuaW1hdGlvbn07dGhpcy5tb3ZlVG8obSl9fSx7a2V5OlwiZm9jdXNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPD0xfHx2b2lkIDA9PT1hcmd1bWVudHNbMV0/e306YXJndW1lbnRzWzFdO2lmKHZvaWQgMCE9PXRoaXMuYm9keS5ub2Rlc1t0XSl7dmFyIGk9e3g6dGhpcy5ib2R5Lm5vZGVzW3RdLngseTp0aGlzLmJvZHkubm9kZXNbdF0ueX07ZS5wb3NpdGlvbj1pLGUubG9ja2VkT25Ob2RlPXQsdGhpcy5tb3ZlVG8oZSl9ZWxzZSBjb25zb2xlLmxvZyhcIk5vZGU6IFwiK3QrXCIgY2Fubm90IGJlIGZvdW5kLlwiKX19LHtrZXk6XCJtb3ZlVG9cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dD92b2lkKHQ9e30pOih2b2lkIDA9PT10Lm9mZnNldCYmKHQub2Zmc2V0PXt4OjAseTowfSksdm9pZCAwPT09dC5vZmZzZXQueCYmKHQub2Zmc2V0Lng9MCksdm9pZCAwPT09dC5vZmZzZXQueSYmKHQub2Zmc2V0Lnk9MCksdm9pZCAwPT09dC5zY2FsZSYmKHQuc2NhbGU9dGhpcy5ib2R5LnZpZXcuc2NhbGUpLHZvaWQgMD09PXQucG9zaXRpb24mJih0LnBvc2l0aW9uPXRoaXMuZ2V0Vmlld1Bvc2l0aW9uKCkpLHZvaWQgMD09PXQuYW5pbWF0aW9uJiYodC5hbmltYXRpb249e2R1cmF0aW9uOjB9KSx0LmFuaW1hdGlvbj09PSExJiYodC5hbmltYXRpb249e2R1cmF0aW9uOjB9KSx0LmFuaW1hdGlvbj09PSEwJiYodC5hbmltYXRpb249e30pLHZvaWQgMD09PXQuYW5pbWF0aW9uLmR1cmF0aW9uJiYodC5hbmltYXRpb24uZHVyYXRpb249MWUzKSx2b2lkIDA9PT10LmFuaW1hdGlvbi5lYXNpbmdGdW5jdGlvbiYmKHQuYW5pbWF0aW9uLmVhc2luZ0Z1bmN0aW9uPVwiZWFzZUluT3V0UXVhZFwiKSx2b2lkIHRoaXMuYW5pbWF0ZVZpZXcodCkpfX0se2tleTpcImFuaW1hdGVWaWV3XCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodm9pZCAwIT09dCl7dGhpcy5hbmltYXRpb25FYXNpbmdGdW5jdGlvbj10LmFuaW1hdGlvbi5lYXNpbmdGdW5jdGlvbix0aGlzLnJlbGVhc2VOb2RlKCksdC5sb2NrZWQ9PT0hMCYmKHRoaXMubG9ja2VkT25Ob2RlSWQ9dC5sb2NrZWRPbk5vZGUsdGhpcy5sb2NrZWRPbk5vZGVPZmZzZXQ9dC5vZmZzZXQpLDAhPXRoaXMuZWFzaW5nVGltZSYmdGhpcy5fdHJhbnNpdGlvblJlZHJhdyghMCksdGhpcy5zb3VyY2VTY2FsZT10aGlzLmJvZHkudmlldy5zY2FsZSx0aGlzLnNvdXJjZVRyYW5zbGF0aW9uPXRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLHRoaXMudGFyZ2V0U2NhbGU9dC5zY2FsZSx0aGlzLmJvZHkudmlldy5zY2FsZT10aGlzLnRhcmdldFNjYWxlO3ZhciBlPXRoaXMuY2FudmFzLkRPTXRvQ2FudmFzKHt4Oi41KnRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aCx5Oi41KnRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcy5jbGllbnRIZWlnaHR9KSxpPXt4OmUueC10LnBvc2l0aW9uLngseTplLnktdC5wb3NpdGlvbi55fTt0aGlzLnRhcmdldFRyYW5zbGF0aW9uPXt4OnRoaXMuc291cmNlVHJhbnNsYXRpb24ueCtpLngqdGhpcy50YXJnZXRTY2FsZSt0Lm9mZnNldC54LHk6dGhpcy5zb3VyY2VUcmFuc2xhdGlvbi55K2kueSp0aGlzLnRhcmdldFNjYWxlK3Qub2Zmc2V0Lnl9LDA9PT10LmFuaW1hdGlvbi5kdXJhdGlvbj92b2lkIDAhPXRoaXMubG9ja2VkT25Ob2RlSWQ/KHRoaXMudmlld0Z1bmN0aW9uPXRoaXMuX2xvY2tlZFJlZHJhdy5iaW5kKHRoaXMpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiaW5pdFJlZHJhd1wiLHRoaXMudmlld0Z1bmN0aW9uKSk6KHRoaXMuYm9keS52aWV3LnNjYWxlPXRoaXMudGFyZ2V0U2NhbGUsdGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb249dGhpcy50YXJnZXRUcmFuc2xhdGlvbix0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3JlcXVlc3RSZWRyYXdcIikpOih0aGlzLmFuaW1hdGlvblNwZWVkPTEvKDYwKnQuYW5pbWF0aW9uLmR1cmF0aW9uKi4wMDEpfHwxLzYwLHRoaXMuYW5pbWF0aW9uRWFzaW5nRnVuY3Rpb249dC5hbmltYXRpb24uZWFzaW5nRnVuY3Rpb24sdGhpcy52aWV3RnVuY3Rpb249dGhpcy5fdHJhbnNpdGlvblJlZHJhdy5iaW5kKHRoaXMpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiaW5pdFJlZHJhd1wiLHRoaXMudmlld0Z1bmN0aW9uKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3N0YXJ0UmVuZGVyaW5nXCIpKX19fSx7a2V5OlwiX2xvY2tlZFJlZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9e3g6dGhpcy5ib2R5Lm5vZGVzW3RoaXMubG9ja2VkT25Ob2RlSWRdLngseTp0aGlzLmJvZHkubm9kZXNbdGhpcy5sb2NrZWRPbk5vZGVJZF0ueX0sZT10aGlzLmNhbnZhcy5ET010b0NhbnZhcyh7eDouNSp0aGlzLmNhbnZhcy5mcmFtZS5jYW52YXMuY2xpZW50V2lkdGgseTouNSp0aGlzLmNhbnZhcy5mcmFtZS5jYW52YXMuY2xpZW50SGVpZ2h0fSksaT17eDplLngtdC54LHk6ZS55LXQueX0sbz10aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbixuPXt4Om8ueCtpLngqdGhpcy5ib2R5LnZpZXcuc2NhbGUrdGhpcy5sb2NrZWRPbk5vZGVPZmZzZXQueCx5Om8ueStpLnkqdGhpcy5ib2R5LnZpZXcuc2NhbGUrdGhpcy5sb2NrZWRPbk5vZGVPZmZzZXQueX07dGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb249bn19LHtrZXk6XCJyZWxlYXNlTm9kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dm9pZCAwIT09dGhpcy5sb2NrZWRPbk5vZGVJZCYmdm9pZCAwIT09dGhpcy52aWV3RnVuY3Rpb24mJih0aGlzLmJvZHkuZW1pdHRlci5vZmYoXCJpbml0UmVkcmF3XCIsdGhpcy52aWV3RnVuY3Rpb24pLHRoaXMubG9ja2VkT25Ob2RlSWQ9dm9pZCAwLHRoaXMubG9ja2VkT25Ob2RlT2Zmc2V0PXZvaWQgMCl9fSx7a2V5OlwiX3RyYW5zaXRpb25SZWRyYXdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT8hMTphcmd1bWVudHNbMF07dGhpcy5lYXNpbmdUaW1lKz10aGlzLmFuaW1hdGlvblNwZWVkLHRoaXMuZWFzaW5nVGltZT10PT09ITA/MTp0aGlzLmVhc2luZ1RpbWU7dmFyIGU9aC5lYXNpbmdGdW5jdGlvbnNbdGhpcy5hbmltYXRpb25FYXNpbmdGdW5jdGlvbl0odGhpcy5lYXNpbmdUaW1lKTt0aGlzLmJvZHkudmlldy5zY2FsZT10aGlzLnNvdXJjZVNjYWxlKyh0aGlzLnRhcmdldFNjYWxlLXRoaXMuc291cmNlU2NhbGUpKmUsdGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb249e3g6dGhpcy5zb3VyY2VUcmFuc2xhdGlvbi54Kyh0aGlzLnRhcmdldFRyYW5zbGF0aW9uLngtdGhpcy5zb3VyY2VUcmFuc2xhdGlvbi54KSplLHk6dGhpcy5zb3VyY2VUcmFuc2xhdGlvbi55Kyh0aGlzLnRhcmdldFRyYW5zbGF0aW9uLnktdGhpcy5zb3VyY2VUcmFuc2xhdGlvbi55KSplfSx0aGlzLmVhc2luZ1RpbWU+PTEmJih0aGlzLmJvZHkuZW1pdHRlci5vZmYoXCJpbml0UmVkcmF3XCIsdGhpcy52aWV3RnVuY3Rpb24pLHRoaXMuZWFzaW5nVGltZT0wLHZvaWQgMCE9dGhpcy5sb2NrZWRPbk5vZGVJZCYmKHRoaXMudmlld0Z1bmN0aW9uPXRoaXMuX2xvY2tlZFJlZHJhdy5iaW5kKHRoaXMpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiaW5pdFJlZHJhd1wiLHRoaXMudmlld0Z1bmN0aW9uKSksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcImFuaW1hdGlvbkZpbmlzaGVkXCIpKX19LHtrZXk6XCJnZXRTY2FsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9keS52aWV3LnNjYWxlfX0se2tleTpcImdldFZpZXdQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FudmFzLkRPTXRvQ2FudmFzKHt4Oi41KnRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aCx5Oi41KnRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcy5jbGllbnRIZWlnaHR9KX19XSksdH0oKTtlW1wiZGVmYXVsdFwiXT1kLHQuZXhwb3J0cz1lW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG8odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLHI9aSgxMDYpLGE9byhyKSxoPWkoMTA3KSxkPW8oaCksbD1pKDEpLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSxvKXtuKHRoaXMsdCksdGhpcy5ib2R5PWUsdGhpcy5jYW52YXM9aSx0aGlzLnNlbGVjdGlvbkhhbmRsZXI9byx0aGlzLm5hdmlnYXRpb25IYW5kbGVyPW5ldyBhW1wiZGVmYXVsdFwiXShlLGkpLHRoaXMuYm9keS5ldmVudExpc3RlbmVycy5vblRhcD10aGlzLm9uVGFwLmJpbmQodGhpcyksdGhpcy5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uVG91Y2g9dGhpcy5vblRvdWNoLmJpbmQodGhpcyksdGhpcy5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uRG91YmxlVGFwPXRoaXMub25Eb3VibGVUYXAuYmluZCh0aGlzKSx0aGlzLmJvZHkuZXZlbnRMaXN0ZW5lcnMub25Ib2xkPXRoaXMub25Ib2xkLmJpbmQodGhpcyksdGhpcy5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uRHJhZ1N0YXJ0PXRoaXMub25EcmFnU3RhcnQuYmluZCh0aGlzKSx0aGlzLmJvZHkuZXZlbnRMaXN0ZW5lcnMub25EcmFnPXRoaXMub25EcmFnLmJpbmQodGhpcyksdGhpcy5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uRHJhZ0VuZD10aGlzLm9uRHJhZ0VuZC5iaW5kKHRoaXMpLHRoaXMuYm9keS5ldmVudExpc3RlbmVycy5vbk1vdXNlV2hlZWw9dGhpcy5vbk1vdXNlV2hlZWwuYmluZCh0aGlzKSx0aGlzLmJvZHkuZXZlbnRMaXN0ZW5lcnMub25QaW5jaD10aGlzLm9uUGluY2guYmluZCh0aGlzKSx0aGlzLmJvZHkuZXZlbnRMaXN0ZW5lcnMub25Nb3VzZU1vdmU9dGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpLHRoaXMuYm9keS5ldmVudExpc3RlbmVycy5vblJlbGVhc2U9dGhpcy5vblJlbGVhc2UuYmluZCh0aGlzKSx0aGlzLmJvZHkuZXZlbnRMaXN0ZW5lcnMub25Db250ZXh0PXRoaXMub25Db250ZXh0LmJpbmQodGhpcyksdGhpcy50b3VjaFRpbWU9MCx0aGlzLmRyYWc9e30sdGhpcy5waW5jaD17fSx0aGlzLnBvcHVwPXZvaWQgMCx0aGlzLnBvcHVwT2JqPXZvaWQgMCx0aGlzLnBvcHVwVGltZXI9dm9pZCAwLHRoaXMuYm9keS5mdW5jdGlvbnMuZ2V0UG9pbnRlcj10aGlzLmdldFBvaW50ZXIuYmluZCh0aGlzKSx0aGlzLm9wdGlvbnM9e30sdGhpcy5kZWZhdWx0T3B0aW9ucz17ZHJhZ05vZGVzOiEwLGRyYWdWaWV3OiEwLGhvdmVyOiExLGtleWJvYXJkOntlbmFibGVkOiExLHNwZWVkOnt4OjEwLHk6MTAsem9vbTouMDJ9LGJpbmRUb1dpbmRvdzohMH0sbmF2aWdhdGlvbkJ1dHRvbnM6ITEsdG9vbHRpcERlbGF5OjMwMCx6b29tVmlldzohMH0sbC5leHRlbmQodGhpcy5vcHRpb25zLHRoaXMuZGVmYXVsdE9wdGlvbnMpLHRoaXMuYmluZEV2ZW50TGlzdGVuZXJzKCl9cmV0dXJuIHModCxbe2tleTpcImJpbmRFdmVudExpc3RlbmVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmJvZHkuZW1pdHRlci5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0LnBvcHVwVGltZXIpLGRlbGV0ZSB0LmJvZHkuZnVuY3Rpb25zLmdldFBvaW50ZXJ9KX19LHtrZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodm9pZCAwIT09dCl7dmFyIGU9W1wiaGlkZUVkZ2VzT25EcmFnXCIsXCJoaWRlTm9kZXNPbkRyYWdcIixcImtleWJvYXJkXCIsXCJtdWx0aXNlbGVjdFwiLFwic2VsZWN0YWJsZVwiLFwic2VsZWN0Q29ubmVjdGVkRWRnZXNcIl07bC5zZWxlY3RpdmVOb3REZWVwRXh0ZW5kKGUsdGhpcy5vcHRpb25zLHQpLGwubWVyZ2VPcHRpb25zKHRoaXMub3B0aW9ucyx0LFwia2V5Ym9hcmRcIiksdC50b29sdGlwJiYobC5leHRlbmQodGhpcy5vcHRpb25zLnRvb2x0aXAsdC50b29sdGlwKSx0LnRvb2x0aXAuY29sb3ImJih0aGlzLm9wdGlvbnMudG9vbHRpcC5jb2xvcj1sLnBhcnNlQ29sb3IodC50b29sdGlwLmNvbG9yKSkpfXRoaXMubmF2aWdhdGlvbkhhbmRsZXIuc2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpfX0se2tleTpcImdldFBvaW50ZXJcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm57eDp0LngtbC5nZXRBYnNvbHV0ZUxlZnQodGhpcy5jYW52YXMuZnJhbWUuY2FudmFzKSx5OnQueS1sLmdldEFic29sdXRlVG9wKHRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcyl9fX0se2tleTpcIm9uVG91Y2hcIix2YWx1ZTpmdW5jdGlvbih0KXsobmV3IERhdGUpLnZhbHVlT2YoKS10aGlzLnRvdWNoVGltZT41MCYmKHRoaXMuZHJhZy5wb2ludGVyPXRoaXMuZ2V0UG9pbnRlcih0LmNlbnRlciksdGhpcy5kcmFnLnBpbmNoZWQ9ITEsdGhpcy5waW5jaC5zY2FsZT10aGlzLmJvZHkudmlldy5zY2FsZSx0aGlzLnRvdWNoVGltZT0obmV3IERhdGUpLnZhbHVlT2YoKSl9fSx7a2V5Olwib25UYXBcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFBvaW50ZXIodC5jZW50ZXIpLGk9dGhpcy5zZWxlY3Rpb25IYW5kbGVyLm9wdGlvbnMubXVsdGlzZWxlY3QmJih0LmNoYW5nZWRQb2ludGVyc1swXS5jdHJsS2V5fHx0LmNoYW5nZWRQb2ludGVyc1swXS5tZXRhS2V5KTt0aGlzLmNoZWNrU2VsZWN0aW9uQ2hhbmdlcyhlLHQsaSksdGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9nZW5lcmF0ZUNsaWNrRXZlbnQoXCJjbGlja1wiLHQsZSl9fSx7a2V5Olwib25Eb3VibGVUYXBcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFBvaW50ZXIodC5jZW50ZXIpO3RoaXMuc2VsZWN0aW9uSGFuZGxlci5fZ2VuZXJhdGVDbGlja0V2ZW50KFwiZG91YmxlQ2xpY2tcIix0LGUpfX0se2tleTpcIm9uSG9sZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0UG9pbnRlcih0LmNlbnRlciksaT10aGlzLnNlbGVjdGlvbkhhbmRsZXIub3B0aW9ucy5tdWx0aXNlbGVjdDt0aGlzLmNoZWNrU2VsZWN0aW9uQ2hhbmdlcyhlLHQsaSksdGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9nZW5lcmF0ZUNsaWNrRXZlbnQoXCJjbGlja1wiLHQsZSksdGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9nZW5lcmF0ZUNsaWNrRXZlbnQoXCJob2xkXCIsdCxlKX19LHtrZXk6XCJvblJlbGVhc2VcIix2YWx1ZTpmdW5jdGlvbih0KXtpZigobmV3IERhdGUpLnZhbHVlT2YoKS10aGlzLnRvdWNoVGltZT4xMCl7dmFyIGU9dGhpcy5nZXRQb2ludGVyKHQuY2VudGVyKTt0aGlzLnNlbGVjdGlvbkhhbmRsZXIuX2dlbmVyYXRlQ2xpY2tFdmVudChcInJlbGVhc2VcIix0LGUpLHRoaXMudG91Y2hUaW1lPShuZXcgRGF0ZSkudmFsdWVPZigpfX19LHtrZXk6XCJvbkNvbnRleHRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFBvaW50ZXIoe3g6dC5jbGllbnRYLHk6dC5jbGllbnRZfSk7dGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9nZW5lcmF0ZUNsaWNrRXZlbnQoXCJvbmNvbnRleHRcIix0LGUpfX0se2tleTpcImNoZWNrU2VsZWN0aW9uQ2hhbmdlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aDw9Mnx8dm9pZCAwPT09YXJndW1lbnRzWzJdPyExOmFyZ3VtZW50c1syXSxvPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5fZ2V0U2VsZWN0ZWRFZGdlQ291bnQoKSxuPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5fZ2V0U2VsZWN0ZWROb2RlQ291bnQoKSxzPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXRTZWxlY3Rpb24oKSxyPXZvaWQgMDtyPWk9PT0hMD90aGlzLnNlbGVjdGlvbkhhbmRsZXIuc2VsZWN0QWRkaXRpb25hbE9uUG9pbnQodCk6dGhpcy5zZWxlY3Rpb25IYW5kbGVyLnNlbGVjdE9uUG9pbnQodCk7dmFyIGE9dGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9nZXRTZWxlY3RlZEVkZ2VDb3VudCgpLGg9dGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9nZXRTZWxlY3RlZE5vZGVDb3VudCgpLGQ9dGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdldFNlbGVjdGlvbigpLGw9dGhpcy5fZGV0ZXJtaW5lSWZEaWZmZXJlbnQocyxkKSx1PWwubm9kZXNDaGFuZ2VzLGM9bC5lZGdlc0NoYW5nZXMscD0hMTtoLW4+MD8odGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9nZW5lcmF0ZUNsaWNrRXZlbnQoXCJzZWxlY3ROb2RlXCIsZSx0KSxyPSEwLHA9ITApOjA+aC1uPyh0aGlzLnNlbGVjdGlvbkhhbmRsZXIuX2dlbmVyYXRlQ2xpY2tFdmVudChcImRlc2VsZWN0Tm9kZVwiLGUsdCxzKSxyPSEwKTpoPT09biYmdT09PSEwJiYodGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9nZW5lcmF0ZUNsaWNrRXZlbnQoXCJkZXNlbGVjdE5vZGVcIixlLHQscyksdGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9nZW5lcmF0ZUNsaWNrRXZlbnQoXCJzZWxlY3ROb2RlXCIsZSx0KSxwPSEwLHI9ITApLGEtbz4wJiZwPT09ITE/KHRoaXMuc2VsZWN0aW9uSGFuZGxlci5fZ2VuZXJhdGVDbGlja0V2ZW50KFwic2VsZWN0RWRnZVwiLGUsdCkscj0hMCk6MD5hLW8/KHRoaXMuc2VsZWN0aW9uSGFuZGxlci5fZ2VuZXJhdGVDbGlja0V2ZW50KFwiZGVzZWxlY3RFZGdlXCIsZSx0LHMpLHI9ITApOmE9PT1vJiZjPT09ITAmJih0aGlzLnNlbGVjdGlvbkhhbmRsZXIuX2dlbmVyYXRlQ2xpY2tFdmVudChcImRlc2VsZWN0RWRnZVwiLGUsdCxzKSx0aGlzLnNlbGVjdGlvbkhhbmRsZXIuX2dlbmVyYXRlQ2xpY2tFdmVudChcInNlbGVjdEVkZ2VcIixlLHQpLHI9ITApLHI9PT0hMCYmdGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9nZW5lcmF0ZUNsaWNrRXZlbnQoXCJzZWxlY3RcIixlLHQpfX0se2tleTpcIl9kZXRlcm1pbmVJZkRpZmZlcmVudFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPSExLG89ITEsbj0wO248dC5ub2Rlcy5sZW5ndGg7bisrKS0xPT09ZS5ub2Rlcy5pbmRleE9mKHQubm9kZXNbbl0pJiYoaT0hMCk7Zm9yKHZhciBuPTA7bjxlLm5vZGVzLmxlbmd0aDtuKyspLTE9PT10Lm5vZGVzLmluZGV4T2YodC5ub2Rlc1tuXSkmJihpPSEwKTtmb3IodmFyIG49MDtuPHQuZWRnZXMubGVuZ3RoO24rKyktMT09PWUuZWRnZXMuaW5kZXhPZih0LmVkZ2VzW25dKSYmKG89ITApO2Zvcih2YXIgbj0wO248ZS5lZGdlcy5sZW5ndGg7bisrKS0xPT09dC5lZGdlcy5pbmRleE9mKHQuZWRnZXNbbl0pJiYobz0hMCk7cmV0dXJue25vZGVzQ2hhbmdlczppLGVkZ2VzQ2hhbmdlczpvfX19LHtrZXk6XCJvbkRyYWdTdGFydFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZvaWQgMD09PXRoaXMuZHJhZy5wb2ludGVyJiZ0aGlzLm9uVG91Y2godCk7dmFyIGU9dGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdldE5vZGVBdCh0aGlzLmRyYWcucG9pbnRlcik7aWYodGhpcy5kcmFnLmRyYWdnaW5nPSEwLHRoaXMuZHJhZy5zZWxlY3Rpb249W10sdGhpcy5kcmFnLnRyYW5zbGF0aW9uPWwuZXh0ZW5kKHt9LHRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uKSx0aGlzLmRyYWcubm9kZUlkPXZvaWQgMCx2b2lkIDAhPT1lJiZ0aGlzLm9wdGlvbnMuZHJhZ05vZGVzPT09ITApe3RoaXMuZHJhZy5ub2RlSWQ9ZS5pZCxlLmlzU2VsZWN0ZWQoKT09PSExJiYodGhpcy5zZWxlY3Rpb25IYW5kbGVyLnVuc2VsZWN0QWxsKCksdGhpcy5zZWxlY3Rpb25IYW5kbGVyLnNlbGVjdE9iamVjdChlKSksdGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9nZW5lcmF0ZUNsaWNrRXZlbnQoXCJkcmFnU3RhcnRcIix0LHRoaXMuZHJhZy5wb2ludGVyKTt2YXIgaT10aGlzLnNlbGVjdGlvbkhhbmRsZXIuc2VsZWN0aW9uT2JqLm5vZGVzO2Zvcih2YXIgbyBpbiBpKWlmKGkuaGFzT3duUHJvcGVydHkobykpe3ZhciBuPWlbb10scz17aWQ6bi5pZCxub2RlOm4seDpuLngseTpuLnkseEZpeGVkOm4ub3B0aW9ucy5maXhlZC54LHlGaXhlZDpuLm9wdGlvbnMuZml4ZWQueX07bi5vcHRpb25zLmZpeGVkLng9ITAsbi5vcHRpb25zLmZpeGVkLnk9ITAsdGhpcy5kcmFnLnNlbGVjdGlvbi5wdXNoKHMpfX1lbHNlIHRoaXMuc2VsZWN0aW9uSGFuZGxlci5fZ2VuZXJhdGVDbGlja0V2ZW50KFwiZHJhZ1N0YXJ0XCIsdCx0aGlzLmRyYWcucG9pbnRlcix2b2lkIDAsITApfX0se2tleTpcIm9uRHJhZ1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodGhpcy5kcmFnLnBpbmNoZWQhPT0hMCl7dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcInVubG9ja05vZGVcIik7dmFyIGk9dGhpcy5nZXRQb2ludGVyKHQuY2VudGVyKSxvPXRoaXMuZHJhZy5zZWxlY3Rpb247aWYobyYmby5sZW5ndGgmJnRoaXMub3B0aW9ucy5kcmFnTm9kZXM9PT0hMCkhZnVuY3Rpb24oKXtlLnNlbGVjdGlvbkhhbmRsZXIuX2dlbmVyYXRlQ2xpY2tFdmVudChcImRyYWdnaW5nXCIsdCxpKTt2YXIgbj1pLngtZS5kcmFnLnBvaW50ZXIueCxzPWkueS1lLmRyYWcucG9pbnRlci55O28uZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgaT10Lm5vZGU7dC54Rml4ZWQ9PT0hMSYmKGkueD1lLmNhbnZhcy5fWGNvbnZlcnRET010b0NhbnZhcyhlLmNhbnZhcy5fWGNvbnZlcnRDYW52YXNUb0RPTSh0LngpK24pKSx0LnlGaXhlZD09PSExJiYoaS55PWUuY2FudmFzLl9ZY29udmVydERPTXRvQ2FudmFzKGUuY2FudmFzLl9ZY29udmVydENhbnZhc1RvRE9NKHQueSkrcykpfSksZS5ib2R5LmVtaXR0ZXIuZW1pdChcInN0YXJ0U2ltdWxhdGlvblwiKX0oKTtlbHNlIGlmKHRoaXMub3B0aW9ucy5kcmFnVmlldz09PSEwKXtpZih0aGlzLnNlbGVjdGlvbkhhbmRsZXIuX2dlbmVyYXRlQ2xpY2tFdmVudChcImRyYWdnaW5nXCIsdCxpLHZvaWQgMCwhMCksdm9pZCAwPT09dGhpcy5kcmFnLnBvaW50ZXIpcmV0dXJuIHZvaWQgdGhpcy5vbkRyYWdTdGFydCh0KTt2YXIgbj1pLngtdGhpcy5kcmFnLnBvaW50ZXIueCxzPWkueS10aGlzLmRyYWcucG9pbnRlci55O3RoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uPXt4OnRoaXMuZHJhZy50cmFuc2xhdGlvbi54K24seTp0aGlzLmRyYWcudHJhbnNsYXRpb24ueStzfSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3JlZHJhd1wiKX19fX0se2tleTpcIm9uRHJhZ0VuZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZHJhZy5kcmFnZ2luZz0hMTt2YXIgZT10aGlzLmRyYWcuc2VsZWN0aW9uO2UmJmUubGVuZ3RoPyhlLmZvckVhY2goZnVuY3Rpb24odCl7dC5ub2RlLm9wdGlvbnMuZml4ZWQueD10LnhGaXhlZCx0Lm5vZGUub3B0aW9ucy5maXhlZC55PXQueUZpeGVkfSksdGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9nZW5lcmF0ZUNsaWNrRXZlbnQoXCJkcmFnRW5kXCIsdCx0aGlzLmdldFBvaW50ZXIodC5jZW50ZXIpKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwic3RhcnRTaW11bGF0aW9uXCIpKToodGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9nZW5lcmF0ZUNsaWNrRXZlbnQoXCJkcmFnRW5kXCIsdCx0aGlzLmdldFBvaW50ZXIodC5jZW50ZXIpLHZvaWQgMCwhMCksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXF1ZXN0UmVkcmF3XCIpKX19LHtrZXk6XCJvblBpbmNoXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRQb2ludGVyKHQuY2VudGVyKTt0aGlzLmRyYWcucGluY2hlZD0hMCx2b2lkIDA9PT10aGlzLnBpbmNoLnNjYWxlJiYodGhpcy5waW5jaC5zY2FsZT0xKTt2YXIgaT10aGlzLnBpbmNoLnNjYWxlKnQuc2NhbGU7dGhpcy56b29tKGksZSl9fSx7a2V5Olwiem9vbVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5vcHRpb25zLnpvb21WaWV3PT09ITApe3ZhciBpPXRoaXMuYm9keS52aWV3LnNjYWxlOzFlLTU+dCYmKHQ9MWUtNSksdD4xMCYmKHQ9MTApO3ZhciBvPXZvaWQgMDt2b2lkIDAhPT10aGlzLmRyYWcmJnRoaXMuZHJhZy5kcmFnZ2luZz09PSEwJiYobz10aGlzLmNhbnZhcy5ET010b0NhbnZhcyh0aGlzLmRyYWcucG9pbnRlcikpO3ZhciBuPXRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLHM9dC9pLHI9KDEtcykqZS54K24ueCpzLGE9KDEtcykqZS55K24ueSpzO2lmKHRoaXMuYm9keS52aWV3LnNjYWxlPXQsdGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb249e3g6cix5OmF9LHZvaWQgMCE9byl7dmFyIGg9dGhpcy5jYW52YXMuY2FudmFzVG9ET00obyk7dGhpcy5kcmFnLnBvaW50ZXIueD1oLngsdGhpcy5kcmFnLnBvaW50ZXIueT1oLnl9dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXF1ZXN0UmVkcmF3XCIpLHQ+aT90aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiem9vbVwiLHtkaXJlY3Rpb246XCIrXCIsc2NhbGU6dGhpcy5ib2R5LnZpZXcuc2NhbGV9KTp0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiem9vbVwiLHtkaXJlY3Rpb246XCItXCIsc2NhbGU6dGhpcy5ib2R5LnZpZXcuc2NhbGV9KX19fSx7a2V5Olwib25Nb3VzZVdoZWVsXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9MDtpZih0LndoZWVsRGVsdGE/ZT10LndoZWVsRGVsdGEvMTIwOnQuZGV0YWlsJiYoZT0tdC5kZXRhaWwvMyksMCE9PWUpe3ZhciBpPXRoaXMuYm9keS52aWV3LnNjYWxlLG89ZS8xMDswPmUmJihvLz0xLW8pLGkqPTErbzt2YXIgbj10aGlzLmdldFBvaW50ZXIoe3g6dC5jbGllbnRYLHk6dC5jbGllbnRZfSk7dGhpcy56b29tKGksbil9dC5wcmV2ZW50RGVmYXVsdCgpfX0se2tleTpcIm9uTW91c2VNb3ZlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPXRoaXMuZ2V0UG9pbnRlcih7eDp0LmNsaWVudFgseTp0LmNsaWVudFl9KSxvPSExO2lmKHZvaWQgMCE9PXRoaXMucG9wdXAmJih0aGlzLnBvcHVwLmhpZGRlbj09PSExJiZ0aGlzLl9jaGVja0hpZGVQb3B1cChpKSx0aGlzLnBvcHVwLmhpZGRlbj09PSExJiYobz0hMCx0aGlzLnBvcHVwLnNldFBvc2l0aW9uKGkueCszLGkueS01KSx0aGlzLnBvcHVwLnNob3coKSkpLHRoaXMub3B0aW9ucy5rZXlib2FyZC5iaW5kVG9XaW5kb3c9PT0hMSYmdGhpcy5vcHRpb25zLmtleWJvYXJkLmVuYWJsZWQ9PT0hMCYmdGhpcy5jYW52YXMuZnJhbWUuZm9jdXMoKSxvPT09ITEmJih2b2lkIDAhPT10aGlzLnBvcHVwVGltZXImJihjbGVhckludGVydmFsKHRoaXMucG9wdXBUaW1lciksdGhpcy5wb3B1cFRpbWVyPXZvaWQgMCksdGhpcy5kcmFnLmRyYWdnaW5nfHwodGhpcy5wb3B1cFRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbnJldHVybiBlLl9jaGVja1Nob3dQb3B1cChpKX0sdGhpcy5vcHRpb25zLnRvb2x0aXBEZWxheSkpKSx0aGlzLm9wdGlvbnMuaG92ZXI9PT0hMCl7dmFyIG49dGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdldE5vZGVBdChpKTt2b2lkIDA9PT1uJiYobj10aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2V0RWRnZUF0KGkpKSx0aGlzLnNlbGVjdGlvbkhhbmRsZXIuaG92ZXJPYmplY3Qobil9fX0se2tleTpcIl9jaGVja1Nob3dQb3B1cFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2FudmFzLl9YY29udmVydERPTXRvQ2FudmFzKHQueCksaT10aGlzLmNhbnZhcy5fWWNvbnZlcnRET010b0NhbnZhcyh0LnkpLG89e2xlZnQ6ZSx0b3A6aSxyaWdodDplLGJvdHRvbTppfSxuPXZvaWQgMD09PXRoaXMucG9wdXBPYmo/dm9pZCAwOnRoaXMucG9wdXBPYmouaWQscz0hMSxyPVwibm9kZVwiO2lmKHZvaWQgMD09PXRoaXMucG9wdXBPYmope2Zvcih2YXIgYT10aGlzLmJvZHkubm9kZUluZGljZXMsaD10aGlzLmJvZHkubm9kZXMsbD12b2lkIDAsdT1bXSxjPTA7YzxhLmxlbmd0aDtjKyspbD1oW2FbY11dLGwuaXNPdmVybGFwcGluZ1dpdGgobyk9PT0hMCYmdm9pZCAwIT09bC5nZXRUaXRsZSgpJiZ1LnB1c2goYVtjXSk7dS5sZW5ndGg+MCYmKHRoaXMucG9wdXBPYmo9aFt1W3UubGVuZ3RoLTFdXSxzPSEwKX1pZih2b2lkIDA9PT10aGlzLnBvcHVwT2JqJiZzPT09ITEpe2Zvcih2YXIgcD10aGlzLmJvZHkuZWRnZUluZGljZXMsZj10aGlzLmJvZHkuZWRnZXMsbT12b2lkIDAsdj1bXSxjPTA7YzxwLmxlbmd0aDtjKyspbT1mW3BbY11dLG0uaXNPdmVybGFwcGluZ1dpdGgobyk9PT0hMCYmbS5jb25uZWN0ZWQ9PT0hMCYmdm9pZCAwIT09bS5nZXRUaXRsZSgpJiZ2LnB1c2gocFtjXSk7di5sZW5ndGg+MCYmKHRoaXMucG9wdXBPYmo9Zlt2W3YubGVuZ3RoLTFdXSxyPVwiZWRnZVwiKX12b2lkIDAhPT10aGlzLnBvcHVwT2JqP3RoaXMucG9wdXBPYmouaWQhPT1uJiYodm9pZCAwPT09dGhpcy5wb3B1cCYmKHRoaXMucG9wdXA9bmV3IGRbXCJkZWZhdWx0XCJdKHRoaXMuY2FudmFzLmZyYW1lKSksdGhpcy5wb3B1cC5wb3B1cFRhcmdldFR5cGU9cix0aGlzLnBvcHVwLnBvcHVwVGFyZ2V0SWQ9dGhpcy5wb3B1cE9iai5pZCx0aGlzLnBvcHVwLnNldFBvc2l0aW9uKHQueCszLHQueS01KSx0aGlzLnBvcHVwLnNldFRleHQodGhpcy5wb3B1cE9iai5nZXRUaXRsZSgpKSx0aGlzLnBvcHVwLnNob3coKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwic2hvd1BvcHVwXCIsdGhpcy5wb3B1cE9iai5pZCkpOnZvaWQgMCE9PXRoaXMucG9wdXAmJih0aGlzLnBvcHVwLmhpZGUoKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiaGlkZVBvcHVwXCIpKX19LHtrZXk6XCJfY2hlY2tIaWRlUG9wdXBcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnNlbGVjdGlvbkhhbmRsZXIuX3BvaW50ZXJUb1Bvc2l0aW9uT2JqZWN0KHQpLGk9ITE7aWYoXCJub2RlXCI9PT10aGlzLnBvcHVwLnBvcHVwVGFyZ2V0VHlwZSl7aWYodm9pZCAwIT09dGhpcy5ib2R5Lm5vZGVzW3RoaXMucG9wdXAucG9wdXBUYXJnZXRJZF0mJihpPXRoaXMuYm9keS5ub2Rlc1t0aGlzLnBvcHVwLnBvcHVwVGFyZ2V0SWRdLmlzT3ZlcmxhcHBpbmdXaXRoKGUpLGk9PT0hMCkpe3ZhciBvPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXROb2RlQXQodCk7aT1vLmlkPT09dGhpcy5wb3B1cC5wb3B1cFRhcmdldElkfX1lbHNlIHZvaWQgMD09PXRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXROb2RlQXQodCkmJnZvaWQgMCE9PXRoaXMuYm9keS5lZGdlc1t0aGlzLnBvcHVwLnBvcHVwVGFyZ2V0SWRdJiYoaT10aGlzLmJvZHkuZWRnZXNbdGhpcy5wb3B1cC5wb3B1cFRhcmdldElkXS5pc092ZXJsYXBwaW5nV2l0aChlKSk7aT09PSExJiYodGhpcy5wb3B1cE9iaj12b2lkIDAsdGhpcy5wb3B1cC5oaWRlKCksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcImhpZGVQb3B1cFwiKSl9fV0pLHR9KCk7ZVtcImRlZmF1bHRcIl09dSx0LmV4cG9ydHM9ZVtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLHM9KGkoMSksaSgyMCkpLHI9aSgyNSksYT1pKDQxKSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLGkpe3ZhciBuPXRoaXM7byh0aGlzLHQpLHRoaXMuYm9keT1lLHRoaXMuY2FudmFzPWksdGhpcy5pY29uc0NyZWF0ZWQ9ITEsdGhpcy5uYXZpZ2F0aW9uSGFtbWVycz1bXSx0aGlzLmJvdW5kRnVuY3Rpb25zPXt9LHRoaXMudG91Y2hUaW1lPTAsdGhpcy5hY3RpdmF0ZWQ9ITEsdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJhY3RpdmF0ZVwiLGZ1bmN0aW9uKCl7bi5hY3RpdmF0ZWQ9ITAsbi5jb25maWd1cmVLZXlib2FyZEJpbmRpbmdzKCl9KSx0aGlzLmJvZHkuZW1pdHRlci5vbihcImRlYWN0aXZhdGVcIixmdW5jdGlvbigpe24uYWN0aXZhdGVkPSExLG4uY29uZmlndXJlS2V5Ym9hcmRCaW5kaW5ncygpfSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXt2b2lkIDAhPT1uLmtleWNoYXJtJiZuLmtleWNoYXJtLmRlc3Ryb3koKX0pLHRoaXMub3B0aW9ucz17fX1yZXR1cm4gbih0LFt7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXQmJih0aGlzLm9wdGlvbnM9dCx0aGlzLmNyZWF0ZSgpKX19LHtrZXk6XCJjcmVhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5uYXZpZ2F0aW9uQnV0dG9ucz09PSEwP3RoaXMuaWNvbnNDcmVhdGVkPT09ITEmJnRoaXMubG9hZE5hdmlnYXRpb25FbGVtZW50cygpOnRoaXMuaWNvbnNDcmVhdGVkPT09ITAmJnRoaXMuY2xlYW5OYXZpZ2F0aW9uKCksdGhpcy5jb25maWd1cmVLZXlib2FyZEJpbmRpbmdzKCl9fSx7a2V5OlwiY2xlYW5OYXZpZ2F0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZigwIT10aGlzLm5hdmlnYXRpb25IYW1tZXJzLmxlbmd0aCl7Zm9yKHZhciB0PTA7dDx0aGlzLm5hdmlnYXRpb25IYW1tZXJzLmxlbmd0aDt0KyspdGhpcy5uYXZpZ2F0aW9uSGFtbWVyc1t0XS5kZXN0cm95KCk7dGhpcy5uYXZpZ2F0aW9uSGFtbWVycz1bXX10aGlzLm5hdmlnYXRpb25ET00mJnRoaXMubmF2aWdhdGlvbkRPTS53cmFwcGVyJiZ0aGlzLm5hdmlnYXRpb25ET00ud3JhcHBlci5wYXJlbnROb2RlJiZ0aGlzLm5hdmlnYXRpb25ET00ud3JhcHBlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMubmF2aWdhdGlvbkRPTS53cmFwcGVyKSx0aGlzLmljb25zQ3JlYXRlZD0hMX19LHtrZXk6XCJsb2FkTmF2aWdhdGlvbkVsZW1lbnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuY2xlYW5OYXZpZ2F0aW9uKCksdGhpcy5uYXZpZ2F0aW9uRE9NPXt9O3ZhciBlPVtcInVwXCIsXCJkb3duXCIsXCJsZWZ0XCIsXCJyaWdodFwiLFwiem9vbUluXCIsXCJ6b29tT3V0XCIsXCJ6b29tRXh0ZW5kc1wiXSxpPVtcIl9tb3ZlVXBcIixcIl9tb3ZlRG93blwiLFwiX21vdmVMZWZ0XCIsXCJfbW92ZVJpZ2h0XCIsXCJfem9vbUluXCIsXCJfem9vbU91dFwiLFwiX2ZpdFwiXTt0aGlzLm5hdmlnYXRpb25ET00ud3JhcHBlcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMubmF2aWdhdGlvbkRPTS53cmFwcGVyLmNsYXNzTmFtZT1cInZpcy1uYXZpZ2F0aW9uXCIsdGhpcy5jYW52YXMuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5uYXZpZ2F0aW9uRE9NLndyYXBwZXIpO2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKXt0aGlzLm5hdmlnYXRpb25ET01bZVtvXV09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLm5hdmlnYXRpb25ET01bZVtvXV0uY2xhc3NOYW1lPVwidmlzLWJ1dHRvbiB2aXMtXCIrZVtvXSx0aGlzLm5hdmlnYXRpb25ET00ud3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLm5hdmlnYXRpb25ET01bZVtvXV0pO3ZhciBuPW5ldyBzKHRoaXMubmF2aWdhdGlvbkRPTVtlW29dXSk7XCJfZml0XCI9PT1pW29dP3Iub25Ub3VjaChuLHRoaXMuX2ZpdC5iaW5kKHRoaXMpKTpyLm9uVG91Y2gobix0aGlzLmJpbmRUb1JlZHJhdy5iaW5kKHRoaXMsaVtvXSkpLHRoaXMubmF2aWdhdGlvbkhhbW1lcnMucHVzaChuKX12YXIgYT1uZXcgcyh0aGlzLmNhbnZhcy5mcmFtZSk7ci5vblJlbGVhc2UoYSxmdW5jdGlvbigpe3QuX3N0b3BNb3ZlbWVudCgpfSksdGhpcy5uYXZpZ2F0aW9uSGFtbWVycy5wdXNoKGEpLHRoaXMuaWNvbnNDcmVhdGVkPSEwfX0se2tleTpcImJpbmRUb1JlZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZvaWQgMD09PXRoaXMuYm91bmRGdW5jdGlvbnNbdF0mJih0aGlzLmJvdW5kRnVuY3Rpb25zW3RdPXRoaXNbdF0uYmluZCh0aGlzKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcImluaXRSZWRyYXdcIix0aGlzLmJvdW5kRnVuY3Rpb25zW3RdKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3N0YXJ0UmVuZGVyaW5nXCIpKX19LHtrZXk6XCJ1bmJpbmRGcm9tUmVkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCl7dm9pZCAwIT09dGhpcy5ib3VuZEZ1bmN0aW9uc1t0XSYmKHRoaXMuYm9keS5lbWl0dGVyLm9mZihcImluaXRSZWRyYXdcIix0aGlzLmJvdW5kRnVuY3Rpb25zW3RdKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3N0b3BSZW5kZXJpbmdcIiksZGVsZXRlIHRoaXMuYm91bmRGdW5jdGlvbnNbdF0pfX0se2tleTpcIl9maXRcIix2YWx1ZTpmdW5jdGlvbigpeyhuZXcgRGF0ZSkudmFsdWVPZigpLXRoaXMudG91Y2hUaW1lPjcwMCYmKHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJmaXRcIix7ZHVyYXRpb246NzAwfSksdGhpcy50b3VjaFRpbWU9KG5ldyBEYXRlKS52YWx1ZU9mKCkpfX0se2tleTpcIl9zdG9wTW92ZW1lbnRcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLmJvdW5kRnVuY3Rpb25zKXRoaXMuYm91bmRGdW5jdGlvbnMuaGFzT3duUHJvcGVydHkodCkmJih0aGlzLmJvZHkuZW1pdHRlci5vZmYoXCJpbml0UmVkcmF3XCIsdGhpcy5ib3VuZEZ1bmN0aW9uc1t0XSksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9zdG9wUmVuZGVyaW5nXCIpKTt0aGlzLmJvdW5kRnVuY3Rpb25zPXt9fX0se2tleTpcIl9tb3ZlVXBcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLnkrPXRoaXMub3B0aW9ucy5rZXlib2FyZC5zcGVlZC55fX0se2tleTpcIl9tb3ZlRG93blwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb24ueS09dGhpcy5vcHRpb25zLmtleWJvYXJkLnNwZWVkLnl9fSx7a2V5OlwiX21vdmVMZWZ0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbi54Kz10aGlzLm9wdGlvbnMua2V5Ym9hcmQuc3BlZWQueH19LHtrZXk6XCJfbW92ZVJpZ2h0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbi54LT10aGlzLm9wdGlvbnMua2V5Ym9hcmQuc3BlZWQueH19LHtrZXk6XCJfem9vbUluXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmJvZHkudmlldy5zY2FsZSo9MSt0aGlzLm9wdGlvbnMua2V5Ym9hcmQuc3BlZWQuem9vbSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiem9vbVwiLHtkaXJlY3Rpb246XCIrXCIsc2NhbGU6dGhpcy5ib2R5LnZpZXcuc2NhbGV9KX19LHtrZXk6XCJfem9vbU91dFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5ib2R5LnZpZXcuc2NhbGUvPTErdGhpcy5vcHRpb25zLmtleWJvYXJkLnNwZWVkLnpvb20sdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcInpvb21cIix7ZGlyZWN0aW9uOlwiLVwiLHNjYWxlOnRoaXMuYm9keS52aWV3LnNjYWxlfSl9fSx7a2V5OlwiY29uZmlndXJlS2V5Ym9hcmRCaW5kaW5nc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt2b2lkIDAhPT10aGlzLmtleWNoYXJtJiZ0aGlzLmtleWNoYXJtLmRlc3Ryb3koKSx0aGlzLm9wdGlvbnMua2V5Ym9hcmQuZW5hYmxlZD09PSEwJiYodGhpcy5vcHRpb25zLmtleWJvYXJkLmJpbmRUb1dpbmRvdz09PSEwP3RoaXMua2V5Y2hhcm09YSh7Y29udGFpbmVyOndpbmRvdyxwcmV2ZW50RGVmYXVsdDohMH0pOnRoaXMua2V5Y2hhcm09YSh7Y29udGFpbmVyOnRoaXMuY2FudmFzLmZyYW1lLHByZXZlbnREZWZhdWx0OiEwfSksdGhpcy5rZXljaGFybS5yZXNldCgpLHRoaXMuYWN0aXZhdGVkPT09ITAmJih0aGlzLmtleWNoYXJtLmJpbmQoXCJ1cFwiLGZ1bmN0aW9uKCl7dC5iaW5kVG9SZWRyYXcoXCJfbW92ZVVwXCIpfSxcImtleWRvd25cIiksdGhpcy5rZXljaGFybS5iaW5kKFwiZG93blwiLGZ1bmN0aW9uKCl7dC5iaW5kVG9SZWRyYXcoXCJfbW92ZURvd25cIil9LFwia2V5ZG93blwiKSx0aGlzLmtleWNoYXJtLmJpbmQoXCJsZWZ0XCIsZnVuY3Rpb24oKXt0LmJpbmRUb1JlZHJhdyhcIl9tb3ZlTGVmdFwiKX0sXCJrZXlkb3duXCIpLHRoaXMua2V5Y2hhcm0uYmluZChcInJpZ2h0XCIsZnVuY3Rpb24oKXt0LmJpbmRUb1JlZHJhdyhcIl9tb3ZlUmlnaHRcIil9LFwia2V5ZG93blwiKSx0aGlzLmtleWNoYXJtLmJpbmQoXCI9XCIsZnVuY3Rpb24oKXt0LmJpbmRUb1JlZHJhdyhcIl96b29tSW5cIil9LFwia2V5ZG93blwiKSx0aGlzLmtleWNoYXJtLmJpbmQoXCJudW0rXCIsZnVuY3Rpb24oKXt0LmJpbmRUb1JlZHJhdyhcIl96b29tSW5cIil9LFwia2V5ZG93blwiKSx0aGlzLmtleWNoYXJtLmJpbmQoXCJudW0tXCIsZnVuY3Rpb24oKXt0LmJpbmRUb1JlZHJhdyhcIl96b29tT3V0XCIpfSxcImtleWRvd25cIiksdGhpcy5rZXljaGFybS5iaW5kKFwiLVwiLGZ1bmN0aW9uKCl7dC5iaW5kVG9SZWRyYXcoXCJfem9vbU91dFwiKX0sXCJrZXlkb3duXCIpLHRoaXMua2V5Y2hhcm0uYmluZChcIltcIixmdW5jdGlvbigpe3QuYmluZFRvUmVkcmF3KFwiX3pvb21PdXRcIil9LFwia2V5ZG93blwiKSx0aGlzLmtleWNoYXJtLmJpbmQoXCJdXCIsZnVuY3Rpb24oKXt0LmJpbmRUb1JlZHJhdyhcIl96b29tSW5cIil9LFwia2V5ZG93blwiKSx0aGlzLmtleWNoYXJtLmJpbmQoXCJwYWdldXBcIixmdW5jdGlvbigpe3QuYmluZFRvUmVkcmF3KFwiX3pvb21JblwiKX0sXCJrZXlkb3duXCIpLHRoaXMua2V5Y2hhcm0uYmluZChcInBhZ2Vkb3duXCIsZnVuY3Rpb24oKXt0LmJpbmRUb1JlZHJhdyhcIl96b29tT3V0XCIpfSxcImtleWRvd25cIiksdGhpcy5rZXljaGFybS5iaW5kKFwidXBcIixmdW5jdGlvbigpe3QudW5iaW5kRnJvbVJlZHJhdyhcIl9tb3ZlVXBcIil9LFwia2V5dXBcIiksdGhpcy5rZXljaGFybS5iaW5kKFwiZG93blwiLGZ1bmN0aW9uKCl7dC51bmJpbmRGcm9tUmVkcmF3KFwiX21vdmVEb3duXCIpfSxcImtleXVwXCIpLHRoaXMua2V5Y2hhcm0uYmluZChcImxlZnRcIixmdW5jdGlvbigpe3QudW5iaW5kRnJvbVJlZHJhdyhcIl9tb3ZlTGVmdFwiKX0sXCJrZXl1cFwiKSx0aGlzLmtleWNoYXJtLmJpbmQoXCJyaWdodFwiLGZ1bmN0aW9uKCl7dC51bmJpbmRGcm9tUmVkcmF3KFwiX21vdmVSaWdodFwiKX0sXCJrZXl1cFwiKSx0aGlzLmtleWNoYXJtLmJpbmQoXCI9XCIsZnVuY3Rpb24oKXt0LnVuYmluZEZyb21SZWRyYXcoXCJfem9vbUluXCIpfSxcImtleXVwXCIpLHRoaXMua2V5Y2hhcm0uYmluZChcIm51bStcIixmdW5jdGlvbigpe3QudW5iaW5kRnJvbVJlZHJhdyhcIl96b29tSW5cIil9LFwia2V5dXBcIiksdGhpcy5rZXljaGFybS5iaW5kKFwibnVtLVwiLGZ1bmN0aW9uKCl7dC51bmJpbmRGcm9tUmVkcmF3KFwiX3pvb21PdXRcIil9LFwia2V5dXBcIiksdGhpcy5rZXljaGFybS5iaW5kKFwiLVwiLGZ1bmN0aW9uKCl7dC51bmJpbmRGcm9tUmVkcmF3KFwiX3pvb21PdXRcIil9LFwia2V5dXBcIiksdGhpcy5rZXljaGFybS5iaW5kKFwiW1wiLGZ1bmN0aW9uKCl7dC51bmJpbmRGcm9tUmVkcmF3KFwiX3pvb21PdXRcIil9LFwia2V5dXBcIiksdGhpcy5rZXljaGFybS5iaW5kKFwiXVwiLGZ1bmN0aW9uKCl7dC51bmJpbmRGcm9tUmVkcmF3KFwiX3pvb21JblwiKX0sXCJrZXl1cFwiKSx0aGlzLmtleWNoYXJtLmJpbmQoXCJwYWdldXBcIixmdW5jdGlvbigpe3QudW5iaW5kRnJvbVJlZHJhdyhcIl96b29tSW5cIil9LFwia2V5dXBcIiksdGhpcy5rZXljaGFybS5iaW5kKFwicGFnZWRvd25cIixmdW5jdGlvbigpe3QudW5iaW5kRnJvbVJlZHJhdyhcIl96b29tT3V0XCIpfSxcImtleXVwXCIpKSl9fV0pLHR9KCk7ZVtcImRlZmF1bHRcIl09aCx0LmV4cG9ydHM9ZVtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvPWVbaV07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24oZSxpLG8pe3JldHVybiBpJiZ0KGUucHJvdG90eXBlLGkpLG8mJnQoZSxvKSxlfX0oKSxuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtpKHRoaXMsdCksdGhpcy5jb250YWluZXI9ZSx0aGlzLng9MCx0aGlzLnk9MCx0aGlzLnBhZGRpbmc9NSx0aGlzLmhpZGRlbj0hMSx0aGlzLmZyYW1lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5mcmFtZS5jbGFzc05hbWU9XCJ2aXMtbmV0d29yay10b29sdGlwXCIsdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5mcmFtZSl9cmV0dXJuIG8odCxbe2tleTpcInNldFBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLng9cGFyc2VJbnQodCksdGhpcy55PXBhcnNlSW50KGUpfX0se2tleTpcInNldFRleHRcIix2YWx1ZTpmdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgRWxlbWVudD8odGhpcy5mcmFtZS5pbm5lckhUTUw9XCJcIix0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHQpKTp0aGlzLmZyYW1lLmlubmVySFRNTD10fX0se2tleTpcInNob3dcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10JiYodD0hMCksdD09PSEwKXt2YXIgZT10aGlzLmZyYW1lLmNsaWVudEhlaWdodCxpPXRoaXMuZnJhbWUuY2xpZW50V2lkdGgsbz10aGlzLmZyYW1lLnBhcmVudE5vZGUuY2xpZW50SGVpZ2h0LG49dGhpcy5mcmFtZS5wYXJlbnROb2RlLmNsaWVudFdpZHRoLHM9dGhpcy55LWU7cytlK3RoaXMucGFkZGluZz5vJiYocz1vLWUtdGhpcy5wYWRkaW5nKSxzPHRoaXMucGFkZGluZyYmKHM9dGhpcy5wYWRkaW5nKTt2YXIgcj10aGlzLng7citpK3RoaXMucGFkZGluZz5uJiYocj1uLWktdGhpcy5wYWRkaW5nKSxyPHRoaXMucGFkZGluZyYmKHI9dGhpcy5wYWRkaW5nKSx0aGlzLmZyYW1lLnN0eWxlLmxlZnQ9citcInB4XCIsdGhpcy5mcmFtZS5zdHlsZS50b3A9cytcInB4XCIsdGhpcy5mcmFtZS5zdHlsZS52aXNpYmlsaXR5PVwidmlzaWJsZVwiLHRoaXMuaGlkZGVuPSExfWVsc2UgdGhpcy5oaWRlKCl9fSx7a2V5OlwiaGlkZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5oaWRkZW49ITAsdGhpcy5mcmFtZS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCJ9fV0pLHR9KCk7ZVtcImRlZmF1bHRcIl09bix0LmV4cG9ydHM9ZVtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLHM9aSg2Mikscj1pKDgyKSxhPWkoMSksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpKXt2YXIgbj10aGlzO28odGhpcyx0KSx0aGlzLmJvZHk9ZSx0aGlzLmNhbnZhcz1pLHRoaXMuc2VsZWN0aW9uT2JqPXtub2RlczpbXSxlZGdlczpbXX0sdGhpcy5ob3Zlck9iaj17bm9kZXM6e30sZWRnZXM6e319LHRoaXMub3B0aW9ucz17fSx0aGlzLmRlZmF1bHRPcHRpb25zPXttdWx0aXNlbGVjdDohMSxzZWxlY3RhYmxlOiEwLHNlbGVjdENvbm5lY3RlZEVkZ2VzOiEwLGhvdmVyQ29ubmVjdGVkRWRnZXM6ITB9LGEuZXh0ZW5kKHRoaXMub3B0aW9ucyx0aGlzLmRlZmF1bHRPcHRpb25zKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcIl9kYXRhQ2hhbmdlZFwiLGZ1bmN0aW9uKCl7bi51cGRhdGVTZWxlY3Rpb24oKX0pfXJldHVybiBuKHQsW3trZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodm9pZCAwIT09dCl7dmFyIGU9W1wibXVsdGlzZWxlY3RcIixcImhvdmVyQ29ubmVjdGVkRWRnZXNcIixcInNlbGVjdGFibGVcIixcInNlbGVjdENvbm5lY3RlZEVkZ2VzXCJdO2Euc2VsZWN0aXZlRGVlcEV4dGVuZChlLHRoaXMub3B0aW9ucyx0KX19fSx7a2V5Olwic2VsZWN0T25Qb2ludFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSExO2lmKHRoaXMub3B0aW9ucy5zZWxlY3RhYmxlPT09ITApe3ZhciBpPXRoaXMuZ2V0Tm9kZUF0KHQpfHx0aGlzLmdldEVkZ2VBdCh0KTt0aGlzLnVuc2VsZWN0QWxsKCksdm9pZCAwIT09aSYmKGU9dGhpcy5zZWxlY3RPYmplY3QoaSkpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVxdWVzdFJlZHJhd1wiKX1yZXR1cm4gZX19LHtrZXk6XCJzZWxlY3RBZGRpdGlvbmFsT25Qb2ludFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSExO2lmKHRoaXMub3B0aW9ucy5zZWxlY3RhYmxlPT09ITApe3ZhciBpPXRoaXMuZ2V0Tm9kZUF0KHQpfHx0aGlzLmdldEVkZ2VBdCh0KTt2b2lkIDAhPT1pJiYoZT0hMCxpLmlzU2VsZWN0ZWQoKT09PSEwP3RoaXMuZGVzZWxlY3RPYmplY3QoaSk6dGhpcy5zZWxlY3RPYmplY3QoaSksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXF1ZXN0UmVkcmF3XCIpKX1yZXR1cm4gZX19LHtrZXk6XCJfZ2VuZXJhdGVDbGlja0V2ZW50XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyl7dmFyIG49YXJndW1lbnRzLmxlbmd0aDw9NHx8dm9pZCAwPT09YXJndW1lbnRzWzRdPyExOmFyZ3VtZW50c1s0XSxzPXZvaWQgMDtzPW49PT0hMD97bm9kZXM6W10sZWRnZXM6W119OnRoaXMuZ2V0U2VsZWN0aW9uKCkscy5wb2ludGVyPXtET006e3g6aS54LHk6aS55fSxjYW52YXM6dGhpcy5jYW52YXMuRE9NdG9DYW52YXMoaSl9LHMuZXZlbnQ9ZSx2b2lkIDAhPT1vJiYocy5wcmV2aW91c1NlbGVjdGlvbj1vKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KHQscyl9fSx7a2V5Olwic2VsZWN0T2JqZWN0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MXx8dm9pZCAwPT09YXJndW1lbnRzWzFdP3RoaXMub3B0aW9ucy5zZWxlY3RDb25uZWN0ZWRFZGdlczphcmd1bWVudHNbMV07cmV0dXJuIHZvaWQgMCE9PXQ/KHQgaW5zdGFuY2VvZiBzJiZlPT09ITAmJnRoaXMuX3NlbGVjdENvbm5lY3RlZEVkZ2VzKHQpLHQuc2VsZWN0KCksdGhpcy5fYWRkVG9TZWxlY3Rpb24odCksITApOiExfX0se2tleTpcImRlc2VsZWN0T2JqZWN0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5pc1NlbGVjdGVkKCk9PT0hMCYmKHQuc2VsZWN0ZWQ9ITEsdGhpcy5fcmVtb3ZlRnJvbVNlbGVjdGlvbih0KSl9fSx7a2V5OlwiX2dldEFsbE5vZGVzT3ZlcmxhcHBpbmdXaXRoXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLGk9dGhpcy5ib2R5Lm5vZGVzLG89MDtvPHRoaXMuYm9keS5ub2RlSW5kaWNlcy5sZW5ndGg7bysrKXt2YXIgbj10aGlzLmJvZHkubm9kZUluZGljZXNbb107aVtuXS5pc092ZXJsYXBwaW5nV2l0aCh0KSYmZS5wdXNoKG4pfXJldHVybiBlfX0se2tleTpcIl9wb2ludGVyVG9Qb3NpdGlvbk9iamVjdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2FudmFzLkRPTXRvQ2FudmFzKHQpO3JldHVybntsZWZ0OmUueC0xLHRvcDplLnkrMSxyaWdodDplLngrMSxib3R0b206ZS55LTF9fX0se2tleTpcImdldE5vZGVBdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT8hMDphcmd1bWVudHNbMV0saT10aGlzLl9wb2ludGVyVG9Qb3NpdGlvbk9iamVjdCh0KSxvPXRoaXMuX2dldEFsbE5vZGVzT3ZlcmxhcHBpbmdXaXRoKGkpO3JldHVybiBvLmxlbmd0aD4wP2U9PT0hMD90aGlzLmJvZHkubm9kZXNbb1tvLmxlbmd0aC0xXV06b1tvLmxlbmd0aC0xXTp2b2lkIDB9fSx7a2V5OlwiX2dldEVkZ2VzT3ZlcmxhcHBpbmdXaXRoXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy5ib2R5LmVkZ2VzLG89MDtvPHRoaXMuYm9keS5lZGdlSW5kaWNlcy5sZW5ndGg7bysrKXt2YXIgbj10aGlzLmJvZHkuZWRnZUluZGljZXNbb107aVtuXS5pc092ZXJsYXBwaW5nV2l0aCh0KSYmZS5wdXNoKG4pfX19LHtrZXk6XCJfZ2V0QWxsRWRnZXNPdmVybGFwcGluZ1dpdGhcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5fZ2V0RWRnZXNPdmVybGFwcGluZ1dpdGgodCxlKSxlfX0se2tleTpcImdldEVkZ2VBdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT8hMDphcmd1bWVudHNbMV0saT10aGlzLl9wb2ludGVyVG9Qb3NpdGlvbk9iamVjdCh0KSxvPXRoaXMuX2dldEFsbEVkZ2VzT3ZlcmxhcHBpbmdXaXRoKGkpO3JldHVybiBvLmxlbmd0aD4wP2U9PT0hMD90aGlzLmJvZHkuZWRnZXNbb1tvLmxlbmd0aC0xXV06b1tvLmxlbmd0aC0xXTp2b2lkIDB9fSx7a2V5OlwiX2FkZFRvU2VsZWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIHM/dGhpcy5zZWxlY3Rpb25PYmoubm9kZXNbdC5pZF09dDp0aGlzLnNlbGVjdGlvbk9iai5lZGdlc1t0LmlkXT10fX0se2tleTpcIl9hZGRUb0hvdmVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIHM/dGhpcy5ob3Zlck9iai5ub2Rlc1t0LmlkXT10OnRoaXMuaG92ZXJPYmouZWRnZXNbdC5pZF09dH19LHtrZXk6XCJfcmVtb3ZlRnJvbVNlbGVjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiBzPyhkZWxldGUgdGhpcy5zZWxlY3Rpb25PYmoubm9kZXNbdC5pZF0sdGhpcy5fdW5zZWxlY3RDb25uZWN0ZWRFZGdlcyh0KSk6ZGVsZXRlIHRoaXMuc2VsZWN0aW9uT2JqLmVkZ2VzW3QuaWRdfX0se2tleTpcInVuc2VsZWN0QWxsXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5zZWxlY3Rpb25PYmoubm9kZXMpdGhpcy5zZWxlY3Rpb25PYmoubm9kZXMuaGFzT3duUHJvcGVydHkodCkmJnRoaXMuc2VsZWN0aW9uT2JqLm5vZGVzW3RdLnVuc2VsZWN0KCk7Zm9yKHZhciBlIGluIHRoaXMuc2VsZWN0aW9uT2JqLmVkZ2VzKXRoaXMuc2VsZWN0aW9uT2JqLmVkZ2VzLmhhc093blByb3BlcnR5KGUpJiZ0aGlzLnNlbGVjdGlvbk9iai5lZGdlc1tlXS51bnNlbGVjdCgpO3RoaXMuc2VsZWN0aW9uT2JqPXtub2Rlczp7fSxlZGdlczp7fX19fSx7a2V5OlwiX2dldFNlbGVjdGVkTm9kZUNvdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD0wO2Zvcih2YXIgZSBpbiB0aGlzLnNlbGVjdGlvbk9iai5ub2Rlcyl0aGlzLnNlbGVjdGlvbk9iai5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShlKSYmKHQrPTEpO3JldHVybiB0fX0se2tleTpcIl9nZXRTZWxlY3RlZE5vZGVcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLnNlbGVjdGlvbk9iai5ub2RlcylpZih0aGlzLnNlbGVjdGlvbk9iai5ub2Rlcy5oYXNPd25Qcm9wZXJ0eSh0KSlyZXR1cm4gdGhpcy5zZWxlY3Rpb25PYmoubm9kZXNbdF19fSx7a2V5OlwiX2dldFNlbGVjdGVkRWRnZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuc2VsZWN0aW9uT2JqLmVkZ2VzKWlmKHRoaXMuc2VsZWN0aW9uT2JqLmVkZ2VzLmhhc093blByb3BlcnR5KHQpKXJldHVybiB0aGlzLnNlbGVjdGlvbk9iai5lZGdlc1t0XX19LHtrZXk6XCJfZ2V0U2VsZWN0ZWRFZGdlQ291bnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PTA7Zm9yKHZhciBlIGluIHRoaXMuc2VsZWN0aW9uT2JqLmVkZ2VzKXRoaXMuc2VsZWN0aW9uT2JqLmVkZ2VzLmhhc093blByb3BlcnR5KGUpJiYodCs9MSk7cmV0dXJuIHR9fSx7a2V5OlwiX2dldFNlbGVjdGVkT2JqZWN0Q291bnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PTA7Zm9yKHZhciBlIGluIHRoaXMuc2VsZWN0aW9uT2JqLm5vZGVzKXRoaXMuc2VsZWN0aW9uT2JqLm5vZGVzLmhhc093blByb3BlcnR5KGUpJiYodCs9MSk7Zm9yKHZhciBpIGluIHRoaXMuc2VsZWN0aW9uT2JqLmVkZ2VzKXRoaXMuc2VsZWN0aW9uT2JqLmVkZ2VzLmhhc093blByb3BlcnR5KGkpJiYodCs9MSk7cmV0dXJuIHR9fSx7a2V5OlwiX3NlbGVjdGlvbklzRW1wdHlcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLnNlbGVjdGlvbk9iai5ub2RlcylpZih0aGlzLnNlbGVjdGlvbk9iai5ub2Rlcy5oYXNPd25Qcm9wZXJ0eSh0KSlyZXR1cm4hMTtmb3IodmFyIGUgaW4gdGhpcy5zZWxlY3Rpb25PYmouZWRnZXMpaWYodGhpcy5zZWxlY3Rpb25PYmouZWRnZXMuaGFzT3duUHJvcGVydHkoZSkpcmV0dXJuITE7cmV0dXJuITB9fSx7a2V5OlwiX2NsdXN0ZXJJblNlbGVjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuc2VsZWN0aW9uT2JqLm5vZGVzKWlmKHRoaXMuc2VsZWN0aW9uT2JqLm5vZGVzLmhhc093blByb3BlcnR5KHQpJiZ0aGlzLnNlbGVjdGlvbk9iai5ub2Rlc1t0XS5jbHVzdGVyU2l6ZT4xKXJldHVybiEwO3JldHVybiExfX0se2tleTpcIl9zZWxlY3RDb25uZWN0ZWRFZGdlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5lZGdlcy5sZW5ndGg7ZSsrKXt2YXIgaT10LmVkZ2VzW2VdO2kuc2VsZWN0KCksdGhpcy5fYWRkVG9TZWxlY3Rpb24oaSl9fX0se2tleTpcIl9ob3ZlckNvbm5lY3RlZEVkZ2VzXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0LmVkZ2VzLmxlbmd0aDtlKyspe3ZhciBpPXQuZWRnZXNbZV07aS5ob3Zlcj0hMCx0aGlzLl9hZGRUb0hvdmVyKGkpfX19LHtrZXk6XCJfdW5zZWxlY3RDb25uZWN0ZWRFZGdlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5lZGdlcy5sZW5ndGg7ZSsrKXt2YXIgaT10LmVkZ2VzW2VdO2kudW5zZWxlY3QoKSx0aGlzLl9yZW1vdmVGcm9tU2VsZWN0aW9uKGkpfX19LHtrZXk6XCJibHVyT2JqZWN0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5ob3Zlcj09PSEwJiYodC5ob3Zlcj0hMSx0IGluc3RhbmNlb2Ygcz90aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiYmx1ck5vZGVcIix7bm9kZTp0LmlkfSk6dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcImJsdXJFZGdlXCIse2VkZ2U6dC5pZH0pKX19LHtrZXk6XCJob3Zlck9iamVjdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSExO2Zvcih2YXIgaSBpbiB0aGlzLmhvdmVyT2JqLm5vZGVzKXRoaXMuaG92ZXJPYmoubm9kZXMuaGFzT3duUHJvcGVydHkoaSkmJih2b2lkIDA9PT10fHx0IGluc3RhbmNlb2YgcyYmdC5pZCE9aXx8dCBpbnN0YW5jZW9mIHIpJiYodGhpcy5ibHVyT2JqZWN0KHRoaXMuaG92ZXJPYmoubm9kZXNbaV0pLGRlbGV0ZSB0aGlzLmhvdmVyT2JqLm5vZGVzW2ldLGU9ITApO2Zvcih2YXIgbyBpbiB0aGlzLmhvdmVyT2JqLmVkZ2VzKXRoaXMuaG92ZXJPYmouZWRnZXMuaGFzT3duUHJvcGVydHkobykmJihlPT09ITA/KHRoaXMuaG92ZXJPYmouZWRnZXNbb10uaG92ZXI9ITEsZGVsZXRlIHRoaXMuaG92ZXJPYmouZWRnZXNbb10pOnZvaWQgMD09PXQmJih0aGlzLmJsdXJPYmplY3QodGhpcy5ob3Zlck9iai5lZGdlc1tvXSksZGVsZXRlIHRoaXMuaG92ZXJPYmouZWRnZXNbb10sZT0hMCkpO3ZvaWQgMCE9PXQmJih0LmhvdmVyPT09ITEmJih0LmhvdmVyPSEwLHRoaXMuX2FkZFRvSG92ZXIodCksZT0hMCx0IGluc3RhbmNlb2Ygcz90aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiaG92ZXJOb2RlXCIse25vZGU6dC5pZH0pOnRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJob3ZlckVkZ2VcIix7ZWRnZTp0LmlkfSkpLHQgaW5zdGFuY2VvZiBzJiZ0aGlzLm9wdGlvbnMuaG92ZXJDb25uZWN0ZWRFZGdlcz09PSEwJiZ0aGlzLl9ob3ZlckNvbm5lY3RlZEVkZ2VzKHQpKSxlPT09ITAmJnRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVxdWVzdFJlZHJhd1wiKX19LHtrZXk6XCJnZXRTZWxlY3Rpb25cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0U2VsZWN0ZWROb2RlcygpLGU9dGhpcy5nZXRTZWxlY3RlZEVkZ2VzKCk7cmV0dXJue25vZGVzOnQsZWRnZXM6ZX19fSx7a2V5OlwiZ2V0U2VsZWN0ZWROb2Rlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9W107aWYodGhpcy5vcHRpb25zLnNlbGVjdGFibGU9PT0hMClmb3IodmFyIGUgaW4gdGhpcy5zZWxlY3Rpb25PYmoubm9kZXMpdGhpcy5zZWxlY3Rpb25PYmoubm9kZXMuaGFzT3duUHJvcGVydHkoZSkmJnQucHVzaChlKTtyZXR1cm4gdH19LHtrZXk6XCJnZXRTZWxlY3RlZEVkZ2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1bXTtpZih0aGlzLm9wdGlvbnMuc2VsZWN0YWJsZT09PSEwKWZvcih2YXIgZSBpbiB0aGlzLnNlbGVjdGlvbk9iai5lZGdlcyl0aGlzLnNlbGVjdGlvbk9iai5lZGdlcy5oYXNPd25Qcm9wZXJ0eShlKSYmdC5wdXNoKGUpO3JldHVybiB0fX0se2tleTpcInNldFNlbGVjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT97fTphcmd1bWVudHNbMV0saT12b2lkIDAsbz12b2lkIDA7aWYoIXR8fCF0Lm5vZGVzJiYhdC5lZGdlcyl0aHJvd1wiU2VsZWN0aW9uIG11c3QgYmUgYW4gb2JqZWN0IHdpdGggbm9kZXMgYW5kL29yIGVkZ2VzIHByb3BlcnRpZXNcIjtpZigoZS51bnNlbGVjdEFsbHx8dm9pZCAwPT09ZS51bnNlbGVjdEFsbCkmJnRoaXMudW5zZWxlY3RBbGwoKSx0Lm5vZGVzKWZvcihpPTA7aTx0Lm5vZGVzLmxlbmd0aDtpKyspe289dC5ub2Rlc1tpXTt2YXIgbj10aGlzLmJvZHkubm9kZXNbb107aWYoIW4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ05vZGUgd2l0aCBpZCBcIicrbysnXCIgbm90IGZvdW5kJyk7dGhpcy5zZWxlY3RPYmplY3QobixlLmhpZ2hsaWdodEVkZ2VzKX1pZih0LmVkZ2VzKWZvcihpPTA7aTx0LmVkZ2VzLmxlbmd0aDtpKyspe289dC5lZGdlc1tpXTt2YXIgcz10aGlzLmJvZHkuZWRnZXNbb107aWYoIXMpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0VkZ2Ugd2l0aCBpZCBcIicrbysnXCIgbm90IGZvdW5kJyk7dGhpcy5zZWxlY3RPYmplY3Qocyl9dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXF1ZXN0UmVkcmF3XCIpfX0se2tleTpcInNlbGVjdE5vZGVzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MXx8dm9pZCAwPT09YXJndW1lbnRzWzFdPyEwOmFyZ3VtZW50c1sxXTtpZighdHx8dm9pZCAwPT09dC5sZW5ndGgpdGhyb3dcIlNlbGVjdGlvbiBtdXN0IGJlIGFuIGFycmF5IHdpdGggaWRzXCI7dGhpcy5zZXRTZWxlY3Rpb24oe25vZGVzOnR9LHtoaWdobGlnaHRFZGdlczplfSl9fSx7a2V5Olwic2VsZWN0RWRnZXNcIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdHx8dm9pZCAwPT09dC5sZW5ndGgpdGhyb3dcIlNlbGVjdGlvbiBtdXN0IGJlIGFuIGFycmF5IHdpdGggaWRzXCI7dGhpcy5zZXRTZWxlY3Rpb24oe2VkZ2VzOnR9KX19LHtrZXk6XCJ1cGRhdGVTZWxlY3Rpb25cIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLnNlbGVjdGlvbk9iai5ub2Rlcyl0aGlzLnNlbGVjdGlvbk9iai5ub2Rlcy5oYXNPd25Qcm9wZXJ0eSh0KSYmKHRoaXMuYm9keS5ub2Rlcy5oYXNPd25Qcm9wZXJ0eSh0KXx8ZGVsZXRlIHRoaXMuc2VsZWN0aW9uT2JqLm5vZGVzW3RdKTtmb3IodmFyIGUgaW4gdGhpcy5zZWxlY3Rpb25PYmouZWRnZXMpdGhpcy5zZWxlY3Rpb25PYmouZWRnZXMuaGFzT3duUHJvcGVydHkoZSkmJih0aGlzLmJvZHkuZWRnZXMuaGFzT3duUHJvcGVydHkoZSl8fGRlbGV0ZSB0aGlzLnNlbGVjdGlvbk9iai5lZGdlc1tlXSl9fV0pLHR9KCk7ZVtcImRlZmF1bHRcIl09aCx0LmV4cG9ydHM9ZVtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvPWVbaV07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24oZSxpLG8pe3JldHVybiBpJiZ0KGUucHJvdG90eXBlLGkpLG8mJnQoZSxvKSxlfX0oKSxyPWkoMTAwKSxhPW8ociksaD1pKDEpLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe24odGhpcyx0KSx0aGlzLmJvZHk9ZSx0aGlzLmluaXRpYWxSYW5kb21TZWVkPU1hdGgucm91bmQoMWU2Kk1hdGgucmFuZG9tKCkpLHRoaXMucmFuZG9tU2VlZD10aGlzLmluaXRpYWxSYW5kb21TZWVkLHRoaXMub3B0aW9ucz17fSx0aGlzLm9wdGlvbnNCYWNrdXA9e30sdGhpcy5kZWZhdWx0T3B0aW9ucz17cmFuZG9tU2VlZDp2b2lkIDAsaW1wcm92ZWRMYXlvdXQ6ITAsaGllcmFyY2hpY2FsOntlbmFibGVkOiExLGxldmVsU2VwYXJhdGlvbjoxNTAsZGlyZWN0aW9uOlwiVURcIixzb3J0TWV0aG9kOlwiaHVic2l6ZVwifX0saC5leHRlbmQodGhpcy5vcHRpb25zLHRoaXMuZGVmYXVsdE9wdGlvbnMpLHRoaXMubGFzdE5vZGVPbkxldmVsPXt9LHRoaXMuaGllcmFyY2hpY2FsUGFyZW50cz17fSx0aGlzLmhpZXJhcmNoaWNhbENoaWxkcmVuPXt9LHRoaXMuYmluZEV2ZW50TGlzdGVuZXJzKCl9cmV0dXJuIHModCxbe2tleTpcImJpbmRFdmVudExpc3RlbmVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmJvZHkuZW1pdHRlci5vbihcIl9kYXRhQ2hhbmdlZFwiLGZ1bmN0aW9uKCl7dC5zZXR1cEhpZXJhcmNoaWNhbExheW91dCgpfSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJfZGF0YUxvYWRlZFwiLGZ1bmN0aW9uKCl7dC5sYXlvdXROZXR3b3JrKCl9KSx0aGlzLmJvZHkuZW1pdHRlci5vbihcIl9yZXNldEhpZXJhcmNoaWNhbExheW91dFwiLGZ1bmN0aW9uKCl7dC5zZXR1cEhpZXJhcmNoaWNhbExheW91dCgpfSl9fSx7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwIT09dCl7dmFyIGk9dGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5lbmFibGVkO2lmKGguc2VsZWN0aXZlRGVlcEV4dGVuZChbXCJyYW5kb21TZWVkXCIsXCJpbXByb3ZlZExheW91dFwiXSx0aGlzLm9wdGlvbnMsdCksaC5tZXJnZU9wdGlvbnModGhpcy5vcHRpb25zLHQsXCJoaWVyYXJjaGljYWxcIiksdm9pZCAwIT09dC5yYW5kb21TZWVkJiYodGhpcy5pbml0aWFsUmFuZG9tU2VlZD10LnJhbmRvbVNlZWQpLHRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuZW5hYmxlZD09PSEwKXJldHVybiBpPT09ITAmJnRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJyZWZyZXNoXCIsITApLFwiUkxcIj09PXRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuZGlyZWN0aW9ufHxcIkRVXCI9PT10aGlzLm9wdGlvbnMuaGllcmFyY2hpY2FsLmRpcmVjdGlvbj90aGlzLm9wdGlvbnMuaGllcmFyY2hpY2FsLmxldmVsU2VwYXJhdGlvbj4wJiYodGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5sZXZlbFNlcGFyYXRpb24qPS0xKTp0aGlzLm9wdGlvbnMuaGllcmFyY2hpY2FsLmxldmVsU2VwYXJhdGlvbjwwJiYodGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5sZXZlbFNlcGFyYXRpb24qPS0xKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3Jlc2V0SGllcmFyY2hpY2FsTGF5b3V0XCIpLHRoaXMuYWRhcHRBbGxPcHRpb25zRm9ySGllcmFyY2hpY2FsTGF5b3V0KGUpO2lmKGk9PT0hMClyZXR1cm4gdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcInJlZnJlc2hcIiksaC5kZWVwRXh0ZW5kKGUsdGhpcy5vcHRpb25zQmFja3VwKX1yZXR1cm4gZX19LHtrZXk6XCJhZGFwdEFsbE9wdGlvbnNGb3JIaWVyYXJjaGljYWxMYXlvdXRcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLm9wdGlvbnMuaGllcmFyY2hpY2FsLmVuYWJsZWQ9PT0hMCl7dm9pZCAwPT09dC5waHlzaWNzfHx0LnBoeXNpY3M9PT0hMD8odC5waHlzaWNzPXtzb2x2ZXI6XCJoaWVyYXJjaGljYWxSZXB1bHNpb25cIn0sdGhpcy5vcHRpb25zQmFja3VwLnBoeXNpY3M9e3NvbHZlcjpcImJhcm5lc0h1dFwifSk6XCJvYmplY3RcIj09dHlwZW9mIHQucGh5c2ljcz8odGhpcy5vcHRpb25zQmFja3VwLnBoeXNpY3M9e3NvbHZlcjpcImJhcm5lc0h1dFwifSx2b2lkIDAhPT10LnBoeXNpY3Muc29sdmVyJiYodGhpcy5vcHRpb25zQmFja3VwLnBoeXNpY3M9e3NvbHZlcjp0LnBoeXNpY3Muc29sdmVyfSksdC5waHlzaWNzLnNvbHZlcj1cImhpZXJhcmNoaWNhbFJlcHVsc2lvblwiKTp0LnBoeXNpY3MhPT0hMSYmKHRoaXMub3B0aW9uc0JhY2t1cC5waHlzaWNzPXtzb2x2ZXI6XCJiYXJuZXNIdXRcIn0sdC5waHlzaWNzLnNvbHZlcj1cImhpZXJhcmNoaWNhbFJlcHVsc2lvblwiKTt2YXIgZT1cImhvcml6b250YWxcIjsoXCJSTFwiPT09dGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5kaXJlY3Rpb258fFwiTFJcIj09PXRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuZGlyZWN0aW9uKSYmKGU9XCJ2ZXJ0aWNhbFwiKSx2b2lkIDA9PT10LmVkZ2VzPyh0aGlzLm9wdGlvbnNCYWNrdXAuZWRnZXM9e3Ntb290aDp7ZW5hYmxlZDohMCx0eXBlOlwiZHluYW1pY1wifX0sdC5lZGdlcz17c21vb3RoOiExfSk6dm9pZCAwPT09dC5lZGdlcy5zbW9vdGg/KHRoaXMub3B0aW9uc0JhY2t1cC5lZGdlcz17c21vb3RoOntlbmFibGVkOiEwLHR5cGU6XCJkeW5hbWljXCJ9fSx0LmVkZ2VzLnNtb290aD0hMSk6XCJib29sZWFuXCI9PXR5cGVvZiB0LmVkZ2VzLnNtb290aD8odGhpcy5vcHRpb25zQmFja3VwLmVkZ2VzPXtzbW9vdGg6dC5lZGdlcy5zbW9vdGh9LHQuZWRnZXMuc21vb3RoPXtlbmFibGVkOnQuZWRnZXMuc21vb3RoLHR5cGU6ZX0pOih2b2lkIDAhPT10LmVkZ2VzLnNtb290aC50eXBlJiZcImR5bmFtaWNcIiE9PXQuZWRnZXMuc21vb3RoLnR5cGUmJihlPXQuZWRnZXMuc21vb3RoLnR5cGUpLHRoaXMub3B0aW9uc0JhY2t1cC5lZGdlcz17c21vb3RoOnZvaWQgMD09PXQuZWRnZXMuc21vb3RoLmVuYWJsZWQ/ITA6dC5lZGdlcy5zbW9vdGguZW5hYmxlZCx0eXBlOnZvaWQgMD09PXQuZWRnZXMuc21vb3RoLnR5cGU/XCJkeW5hbWljXCI6dC5lZGdlcy5zbW9vdGgudHlwZSxyb3VuZG5lc3M6dm9pZCAwPT09dC5lZGdlcy5zbW9vdGgucm91bmRuZXNzPy41OnQuZWRnZXMuc21vb3RoLnJvdW5kbmVzcyxmb3JjZURpcmVjdGlvbjp2b2lkIDA9PT10LmVkZ2VzLnNtb290aC5mb3JjZURpcmVjdGlvbj8hMTp0LmVkZ2VzLnNtb290aC5mb3JjZURpcmVjdGlvbn0sdC5lZGdlcy5zbW9vdGg9e2VuYWJsZWQ6dm9pZCAwPT09dC5lZGdlcy5zbW9vdGguZW5hYmxlZD8hMDp0LmVkZ2VzLnNtb290aC5lbmFibGVkLHR5cGU6ZSxyb3VuZG5lc3M6dm9pZCAwPT09dC5lZGdlcy5zbW9vdGgucm91bmRuZXNzPy41OnQuZWRnZXMuc21vb3RoLnJvdW5kbmVzcyxmb3JjZURpcmVjdGlvbjp2b2lkIDA9PT10LmVkZ2VzLnNtb290aC5mb3JjZURpcmVjdGlvbj8hMTp0LmVkZ2VzLnNtb290aC5mb3JjZURpcmVjdGlvbn0pLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfZm9yY2VEaXNhYmxlRHluYW1pY0N1cnZlc1wiLGUpfXJldHVybiB0fX0se2tleTpcInNlZWRlZFJhbmRvbVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9MWU0Kk1hdGguc2luKHRoaXMucmFuZG9tU2VlZCsrKTtyZXR1cm4gdC1NYXRoLmZsb29yKHQpfX0se2tleTpcInBvc2l0aW9uSW5pdGlhbGx5XCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5lbmFibGVkIT09ITApe3RoaXMucmFuZG9tU2VlZD10aGlzLmluaXRpYWxSYW5kb21TZWVkO2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgaT10W2VdLG89MSp0Lmxlbmd0aCsxMCxuPTIqTWF0aC5QSSp0aGlzLnNlZWRlZFJhbmRvbSgpO3ZvaWQgMD09PWkueCYmKGkueD1vKk1hdGguY29zKG4pKSx2b2lkIDA9PT1pLnkmJihpLnk9bypNYXRoLnNpbihuKSl9fX19LHtrZXk6XCJsYXlvdXROZXR3b3JrXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMuaGllcmFyY2hpY2FsLmVuYWJsZWQhPT0hMCYmdGhpcy5vcHRpb25zLmltcHJvdmVkTGF5b3V0PT09ITApe2Zvcih2YXIgdD0wLGU9MDtlPHRoaXMuYm9keS5ub2RlSW5kaWNlcy5sZW5ndGg7ZSsrKXt2YXIgaT10aGlzLmJvZHkubm9kZXNbdGhpcy5ib2R5Lm5vZGVJbmRpY2VzW2VdXTtpLnByZWRlZmluZWRQb3NpdGlvbj09PSEwJiYodCs9MSl9aWYodDwuNSp0aGlzLmJvZHkubm9kZUluZGljZXMubGVuZ3RoKXt2YXIgbz0xMCxuPTAscz0xMDA7aWYodGhpcy5ib2R5Lm5vZGVJbmRpY2VzLmxlbmd0aD5zKXtmb3IodmFyIHI9dGhpcy5ib2R5Lm5vZGVJbmRpY2VzLmxlbmd0aDt0aGlzLmJvZHkubm9kZUluZGljZXMubGVuZ3RoPnM7KXtuKz0xO3ZhciBhPXRoaXMuYm9keS5ub2RlSW5kaWNlcy5sZW5ndGg7biUzPT09MD90aGlzLmJvZHkubW9kdWxlcy5jbHVzdGVyaW5nLmNsdXN0ZXJCcmlkZ2VzKCk6dGhpcy5ib2R5Lm1vZHVsZXMuY2x1c3RlcmluZy5jbHVzdGVyT3V0bGllcnMoKTt2YXIgaD10aGlzLmJvZHkubm9kZUluZGljZXMubGVuZ3RoO2lmKGE9PWgmJm4lMyE9PTB8fG4+bylyZXR1cm4gdGhpcy5fZGVjbHVzdGVyQWxsKCksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9sYXlvdXRGYWlsZWRcIiksdm9pZCBjb25zb2xlLmluZm8oXCJUaGlzIG5ldHdvcmsgY291bGQgbm90IGJlIHBvc2l0aW9uZWQgYnkgdGhpcyB2ZXJzaW9uIG9mIHRoZSBpbXByb3ZlZCBsYXlvdXQgYWxnb3JpdGhtLiBQbGVhc2UgZGlzYWJsZSBpbXByb3ZlZExheW91dCBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLlwiKX10aGlzLmJvZHkubW9kdWxlcy5rYW1hZGFLYXdhaS5zZXRPcHRpb25zKHtzcHJpbmdMZW5ndGg6TWF0aC5tYXgoMTUwLDIqcil9KX10aGlzLmJvZHkubW9kdWxlcy5rYW1hZGFLYXdhaS5zb2x2ZSh0aGlzLmJvZHkubm9kZUluZGljZXMsdGhpcy5ib2R5LmVkZ2VJbmRpY2VzLCEwKSx0aGlzLl9zaGlmdFRvQ2VudGVyKCk7Zm9yKHZhciBkPTcwLGU9MDtlPHRoaXMuYm9keS5ub2RlSW5kaWNlcy5sZW5ndGg7ZSsrKXRoaXMuYm9keS5ub2Rlc1t0aGlzLmJvZHkubm9kZUluZGljZXNbZV1dLngrPSguNS10aGlzLnNlZWRlZFJhbmRvbSgpKSpkLHRoaXMuYm9keS5ub2Rlc1t0aGlzLmJvZHkubm9kZUluZGljZXNbZV1dLnkrPSguNS10aGlzLnNlZWRlZFJhbmRvbSgpKSpkO3RoaXMuX2RlY2x1c3RlckFsbCgpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVwb3NpdGlvbkJlemllck5vZGVzXCIpfX19fSx7a2V5OlwiX3NoaWZ0VG9DZW50ZXJcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1hW1wiZGVmYXVsdFwiXS5fZ2V0UmFuZ2VDb3JlKHRoaXMuYm9keS5ub2Rlcyx0aGlzLmJvZHkubm9kZUluZGljZXMpLGU9YVtcImRlZmF1bHRcIl0uX2ZpbmRDZW50ZXIodCksaT0wO2k8dGhpcy5ib2R5Lm5vZGVJbmRpY2VzLmxlbmd0aDtpKyspdGhpcy5ib2R5Lm5vZGVzW3RoaXMuYm9keS5ub2RlSW5kaWNlc1tpXV0ueC09ZS54LHRoaXMuYm9keS5ub2Rlc1t0aGlzLmJvZHkubm9kZUluZGljZXNbaV1dLnktPWUueX19LHtrZXk6XCJfZGVjbHVzdGVyQWxsXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9ITA7dD09PSEwOyl7dD0hMTtmb3IodmFyIGU9MDtlPHRoaXMuYm9keS5ub2RlSW5kaWNlcy5sZW5ndGg7ZSsrKXRoaXMuYm9keS5ub2Rlc1t0aGlzLmJvZHkubm9kZUluZGljZXNbZV1dLmlzQ2x1c3Rlcj09PSEwJiYodD0hMCx0aGlzLmJvZHkubW9kdWxlcy5jbHVzdGVyaW5nLm9wZW5DbHVzdGVyKHRoaXMuYm9keS5ub2RlSW5kaWNlc1tlXSx7fSwhMSkpO3Q9PT0hMCYmdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhQ2hhbmdlZFwiKX19fSx7a2V5OlwiZ2V0U2VlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5pdGlhbFJhbmRvbVNlZWR9fSx7a2V5Olwic2V0dXBIaWVyYXJjaGljYWxMYXlvdXRcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuZW5hYmxlZD09PSEwJiZ0aGlzLmJvZHkubm9kZUluZGljZXMubGVuZ3RoPjApe3ZhciB0PXZvaWQgMCxlPXZvaWQgMCxpPSExLG89ITE7dGhpcy5oaWVyYXJjaGljYWxMZXZlbHM9e30sdGhpcy5ub2RlU3BhY2luZz0xMDA7Zm9yKGUgaW4gdGhpcy5ib2R5Lm5vZGVzKXRoaXMuYm9keS5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShlKSYmKHQ9dGhpcy5ib2R5Lm5vZGVzW2VdLHZvaWQgMCE9PXQub3B0aW9ucy5sZXZlbD8oaT0hMCx0aGlzLmhpZXJhcmNoaWNhbExldmVsc1tlXT10Lm9wdGlvbnMubGV2ZWwpOm89ITApO2lmKG89PT0hMCYmaT09PSEwKXRocm93IG5ldyBFcnJvcihcIlRvIHVzZSB0aGUgaGllcmFyY2hpY2FsIGxheW91dCwgbm9kZXMgcmVxdWlyZSBlaXRoZXIgbm8gcHJlZGVmaW5lZCBsZXZlbHMgb3IgbGV2ZWxzIGhhdmUgdG8gYmUgZGVmaW5lZCBmb3IgYWxsIG5vZGVzLlwiKTtvPT09ITAmJihcImh1YnNpemVcIj09PXRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuc29ydE1ldGhvZD90aGlzLl9kZXRlcm1pbmVMZXZlbHNCeUh1YnNpemUoKTpcImRpcmVjdGVkXCI9PT10aGlzLm9wdGlvbnMuaGllcmFyY2hpY2FsLnNvcnRNZXRob2Q/dGhpcy5fZGV0ZXJtaW5lTGV2ZWxzRGlyZWN0ZWQoKTpcImN1c3RvbVwiPT09dGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5zb3J0TWV0aG9kJiZ0aGlzLl9kZXRlcm1pbmVMZXZlbHNDdXN0b21DYWxsYmFjaygpKTt2YXIgbj10aGlzLl9nZXREaXN0cmlidXRpb24oKTt0aGlzLl9nZW5lcmF0ZU1hcCgpLHRoaXMuX3BsYWNlTm9kZXNCeUhpZXJhcmNoeShuKSx0aGlzLl9jb25kZW5zZUhpZXJhcmNoeShuKSx0aGlzLl9zaGlmdFRvQ2VudGVyKCl9fX0se2tleTpcIl9jb25kZW5zZUhpZXJhcmNoeVwiLHZhbHVlOmZ1bmN0aW9uKHQpe319LHtrZXk6XCJfcGxhY2VOb2Rlc0J5SGllcmFyY2h5XCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5wb3NpdGlvbmVkTm9kZXM9e307Zm9yKHZhciBlIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIGk9T2JqZWN0LmtleXModFtlXSk7aT10aGlzLl9pbmRleEFycmF5VG9Ob2RlcyhpKSx0aGlzLl9zb3J0Tm9kZUFycmF5KGkpO2Zvcih2YXIgbz0wO288aS5sZW5ndGg7bysrKXt2YXIgbj1pW29dO3ZvaWQgMD09PXRoaXMucG9zaXRpb25lZE5vZGVzW24uaWRdJiYodGhpcy5fc2V0UG9zaXRpb25Gb3JIaWVyYXJjaHkobix0aGlzLm5vZGVTcGFjaW5nKm8pLHRoaXMucG9zaXRpb25lZE5vZGVzW24uaWRdPSEwLHRoaXMuX3BsYWNlQnJhbmNoTm9kZXMobi5pZCxlKSl9fX19LHtrZXk6XCJfaW5kZXhBcnJheVRvTm9kZXNcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10saT0wO2k8dC5sZW5ndGg7aSsrKWUucHVzaCh0aGlzLmJvZHkubm9kZXNbdFtpXV0pO3JldHVybiBlfX0se2tleTpcIl9nZXREaXN0cmlidXRpb25cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXt9LGU9dm9pZCAwLGk9dm9pZCAwO2ZvcihlIGluIHRoaXMuYm9keS5ub2RlcylpZih0aGlzLmJvZHkubm9kZXMuaGFzT3duUHJvcGVydHkoZSkpe2k9dGhpcy5ib2R5Lm5vZGVzW2VdO3ZhciBvPXZvaWQgMD09PXRoaXMuaGllcmFyY2hpY2FsTGV2ZWxzW2VdPzA6dGhpcy5oaWVyYXJjaGljYWxMZXZlbHNbZV07XCJVRFwiPT09dGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5kaXJlY3Rpb258fFwiRFVcIj09PXRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuZGlyZWN0aW9uPyhpLnk9dGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5sZXZlbFNlcGFyYXRpb24qbyxpLm9wdGlvbnMuZml4ZWQueT0hMCk6KGkueD10aGlzLm9wdGlvbnMuaGllcmFyY2hpY2FsLmxldmVsU2VwYXJhdGlvbipvLGkub3B0aW9ucy5maXhlZC54PSEwKSx2b2lkIDA9PT10W29dJiYodFtvXT17fSksdFtvXVtlXT1pfXJldHVybiB0fX0se2tleTpcIl9nZXRIdWJTaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD0wO2Zvcih2YXIgZSBpbiB0aGlzLmJvZHkubm9kZXMpaWYodGhpcy5ib2R5Lm5vZGVzLmhhc093blByb3BlcnR5KGUpKXt2YXIgaT10aGlzLmJvZHkubm9kZXNbZV07dm9pZCAwPT09dGhpcy5oaWVyYXJjaGljYWxMZXZlbHNbZV0mJih0PWkuZWRnZXMubGVuZ3RoPHQ/dDppLmVkZ2VzLmxlbmd0aCl9cmV0dXJuIHR9fSx7a2V5OlwiX2RldGVybWluZUxldmVsc0J5SHVic2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMsZT0xLGk9ZnVuY3Rpb24oZSxpKXt2b2lkIDA9PT10LmhpZXJhcmNoaWNhbExldmVsc1tpLmlkXSYmKHZvaWQgMD09PXQuaGllcmFyY2hpY2FsTGV2ZWxzW2UuaWRdJiYodC5oaWVyYXJjaGljYWxMZXZlbHNbZS5pZF09MCksdC5oaWVyYXJjaGljYWxMZXZlbHNbaS5pZF09dC5oaWVyYXJjaGljYWxMZXZlbHNbZS5pZF0rMSl9O2U+MCYmKGU9dGhpcy5fZ2V0SHViU2l6ZSgpLDAhPT1lKTspZm9yKHZhciBvIGluIHRoaXMuYm9keS5ub2RlcylpZih0aGlzLmJvZHkubm9kZXMuaGFzT3duUHJvcGVydHkobykpe3ZhciBuPXRoaXMuYm9keS5ub2Rlc1tvXTtuLmVkZ2VzLmxlbmd0aD09PWUmJnRoaXMuX2NyYXdsTmV0d29yayhpLG8pfX19LHtrZXk6XCJfZGV0ZXJtaW5lTGV2ZWxzQ3VzdG9tQ2FsbGJhY2tcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT0xZTUsaT1mdW5jdGlvbih0LGUsaSl7fSxvPWZ1bmN0aW9uKG8sbixzKXt2YXIgcj10LmhpZXJhcmNoaWNhbExldmVsc1tvLmlkXTt2b2lkIDA9PT1yJiYodC5oaWVyYXJjaGljYWxMZXZlbHNbby5pZF09ZSk7dmFyIGg9aShhW1wiZGVmYXVsdFwiXS5fY2xvbmVPcHRpb25zKG8sXCJub2RlXCIpLGFbXCJkZWZhdWx0XCJdLl9jbG9uZU9wdGlvbnMobixcIm5vZGVcIiksYVtcImRlZmF1bHRcIl0uX2Nsb25lT3B0aW9ucyhzLFwiZWRnZVwiKSk7dC5oaWVyYXJjaGljYWxMZXZlbHNbbi5pZF09dC5oaWVyYXJjaGljYWxMZXZlbHNbby5pZF0raH07dGhpcy5fY3Jhd2xOZXR3b3JrKG8pLHRoaXMuX3NldE1pbkxldmVsVG9aZXJvKCl9fSx7a2V5OlwiX2RldGVybWluZUxldmVsc0RpcmVjdGVkXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9MWU0LGk9ZnVuY3Rpb24oaSxvLG4pe3ZhciBzPXQuaGllcmFyY2hpY2FsTGV2ZWxzW2kuaWRdO3ZvaWQgMD09PXMmJih0LmhpZXJhcmNoaWNhbExldmVsc1tpLmlkXT1lKSxuLnRvSWQ9PW8uaWQ/dC5oaWVyYXJjaGljYWxMZXZlbHNbby5pZF09dC5oaWVyYXJjaGljYWxMZXZlbHNbaS5pZF0rMTp0LmhpZXJhcmNoaWNhbExldmVsc1tvLmlkXT10LmhpZXJhcmNoaWNhbExldmVsc1tpLmlkXS0xfTt0aGlzLl9jcmF3bE5ldHdvcmsoaSksdGhpcy5fc2V0TWluTGV2ZWxUb1plcm8oKX19LHtrZXk6XCJfc2V0TWluTGV2ZWxUb1plcm9cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PTFlOTtmb3IodmFyIGUgaW4gdGhpcy5ib2R5Lm5vZGVzKXRoaXMuYm9keS5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShlKSYmKHQ9TWF0aC5taW4odGhpcy5oaWVyYXJjaGljYWxMZXZlbHNbZV0sdCkpO2Zvcih2YXIgZSBpbiB0aGlzLmJvZHkubm9kZXMpdGhpcy5ib2R5Lm5vZGVzLmhhc093blByb3BlcnR5KGUpJiYodGhpcy5oaWVyYXJjaGljYWxMZXZlbHNbZV0tPXQpfX0se2tleTpcIl9nZW5lcmF0ZU1hcFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWZ1bmN0aW9uKGUsaSl7aWYodC5oaWVyYXJjaGljYWxMZXZlbHNbaS5pZF0+dC5oaWVyYXJjaGljYWxMZXZlbHNbZS5pZF0pe3ZhciBvPWUuaWQsbj1pLmlkO3ZvaWQgMD09PXQuaGllcmFyY2hpY2FsUGFyZW50c1tvXSYmKHQuaGllcmFyY2hpY2FsUGFyZW50c1tvXT17Y2hpbGRyZW46W10sYW1vdW50OjB9KSx0LmhpZXJhcmNoaWNhbFBhcmVudHNbb10uY2hpbGRyZW4ucHVzaChuKSx2b2lkIDA9PT10LmhpZXJhcmNoaWNhbENoaWxkcmVuW25dJiYodC5oaWVyYXJjaGljYWxDaGlsZHJlbltuXT17cGFyZW50czpbXSxhbW91bnQ6MH0pLHQuaGllcmFyY2hpY2FsQ2hpbGRyZW5bbl0ucGFyZW50cy5wdXNoKG8pfX07dGhpcy5fY3Jhd2xOZXR3b3JrKGUpfX0se2tleTpcIl9jcmF3bE5ldHdvcmtcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PXQmJih0PWZ1bmN0aW9uKCl7fSk7dmFyIGk9e30sbz1mdW5jdGlvbiByKGUpe2lmKHZvaWQgMD09PWlbZS5pZF0pe2lbZS5pZF09ITA7Zm9yKHZhciBvPXZvaWQgMCxuPTA7bjxlLmVkZ2VzLmxlbmd0aDtuKyspbz1lLmVkZ2VzW25dLnRvSWQ9PT1lLmlkP2UuZWRnZXNbbl0uZnJvbTplLmVkZ2VzW25dLnRvLGUuaWQhPT1vLmlkJiYodChlLG8sZS5lZGdlc1tuXSkscihvKSl9fTtpZih2b2lkIDA9PT1lKWZvcih2YXIgbj0wO248dGhpcy5ib2R5Lm5vZGVJbmRpY2VzLmxlbmd0aDtuKyspe3ZhciBzPXRoaXMuYm9keS5ub2Rlc1t0aGlzLmJvZHkubm9kZUluZGljZXNbbl1dO28ocyl9ZWxzZXt2YXIgcz10aGlzLmJvZHkubm9kZXNbZV07aWYodm9pZCAwPT09cylyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKFwiTm9kZSBub3QgZm91bmQ6XCIsZSk7byhzKX19fSx7a2V5OlwiX3BsYWNlQnJhbmNoTm9kZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMCE9PXRoaXMuaGllcmFyY2hpY2FsUGFyZW50c1t0XSl7Zm9yKHZhciBpPVtdLG89MDtvPHRoaXMuaGllcmFyY2hpY2FsUGFyZW50c1t0XS5jaGlsZHJlbi5sZW5ndGg7bysrKWkucHVzaCh0aGlzLmJvZHkubm9kZXNbdGhpcy5oaWVyYXJjaGljYWxQYXJlbnRzW3RdLmNoaWxkcmVuW29dXSk7dGhpcy5fc29ydE5vZGVBcnJheShpKTtmb3IodmFyIG89MDtvPGkubGVuZ3RoO28rKyl7dmFyIG49aVtvXSxzPXRoaXMuaGllcmFyY2hpY2FsTGV2ZWxzW24uaWRdO2lmKCEocz5lJiZ2b2lkIDA9PT10aGlzLnBvc2l0aW9uZWROb2Rlc1tuLmlkXSkpcmV0dXJuO3ZhciByPXZvaWQgMDtpZihyPTA9PT1vP3RoaXMuX2dldFBvc2l0aW9uRm9ySGllcmFyY2h5KHRoaXMuYm9keS5ub2Rlc1t0XSk6dGhpcy5fZ2V0UG9zaXRpb25Gb3JIaWVyYXJjaHkoaVtvLTFdKSt0aGlzLm5vZGVTcGFjaW5nLHRoaXMuX3NldFBvc2l0aW9uRm9ySGllcmFyY2h5KG4sciksdm9pZCAwIT09dGhpcy5sYXN0Tm9kZU9uTGV2ZWxbc10pe3ZhciBhPXRoaXMuX2dldFBvc2l0aW9uRm9ySGllcmFyY2h5KHRoaXMuYm9keS5ub2Rlc1t0aGlzLmxhc3ROb2RlT25MZXZlbFtzXV0pO2lmKHItYTx0aGlzLm5vZGVTcGFjaW5nKXt2YXIgaD1hK3RoaXMubm9kZVNwYWNpbmctcixkPXRoaXMuX2ZpbmRDb21tb25QYXJlbnQodGhpcy5sYXN0Tm9kZU9uTGV2ZWxbc10sbi5pZCk7dGhpcy5fc2hpZnRCbG9jayhkLndpdGhDaGlsZCxoKX19dGhpcy5sYXN0Tm9kZU9uTGV2ZWxbc109bi5pZCx0aGlzLnBvc2l0aW9uZWROb2Rlc1tuLmlkXT0hMCx0aGlzLl9wbGFjZUJyYW5jaE5vZGVzKG4uaWQscyl9Zm9yKHZhciBsPTFlOSx1PS0xZTksbz0wO288aS5sZW5ndGg7bysrKXt2YXIgYz1pW29dLmlkO2w9TWF0aC5taW4obCx0aGlzLl9nZXRQb3NpdGlvbkZvckhpZXJhcmNoeSh0aGlzLmJvZHkubm9kZXNbY10pKSx1PU1hdGgubWF4KHUsdGhpcy5fZ2V0UG9zaXRpb25Gb3JIaWVyYXJjaHkodGhpcy5ib2R5Lm5vZGVzW2NdKSl9dGhpcy5fc2V0UG9zaXRpb25Gb3JIaWVyYXJjaHkodGhpcy5ib2R5Lm5vZGVzW3RdLC41KihsK3UpKX19fSx7a2V5OlwiX3NoaWZ0QmxvY2tcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKFwiVURcIj09PXRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuZGlyZWN0aW9ufHxcIkRVXCI9PT10aGlzLm9wdGlvbnMuaGllcmFyY2hpY2FsLmRpcmVjdGlvbj90aGlzLmJvZHkubm9kZXNbdF0ueCs9ZTp0aGlzLmJvZHkubm9kZXNbdF0ueSs9ZSx2b2lkIDAhPT10aGlzLmhpZXJhcmNoaWNhbFBhcmVudHNbdF0pZm9yKHZhciBpPTA7aTx0aGlzLmhpZXJhcmNoaWNhbFBhcmVudHNbdF0uY2hpbGRyZW4ubGVuZ3RoO2krKyl0aGlzLl9zaGlmdEJsb2NrKHRoaXMuaGllcmFyY2hpY2FsUGFyZW50c1t0XS5jaGlsZHJlbltpXSxlKX19LHtrZXk6XCJfZmluZENvbW1vblBhcmVudFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcyxvPXt9LG49ZnVuY3Rpb24gcih0LGUpe2lmKHZvaWQgMCE9PWkuaGllcmFyY2hpY2FsQ2hpbGRyZW5bZV0pZm9yKHZhciBvPTA7bzxpLmhpZXJhcmNoaWNhbENoaWxkcmVuW2VdLnBhcmVudHMubGVuZ3RoO28rKyl7dmFyIG49aS5oaWVyYXJjaGljYWxDaGlsZHJlbltlXS5wYXJlbnRzW29dO3Rbbl09ITAscih0LG4pfX0scz1mdW5jdGlvbiBhKHQsZSl7aWYodm9pZCAwIT09aS5oaWVyYXJjaGljYWxDaGlsZHJlbltlXSlmb3IodmFyIG89MDtvPGkuaGllcmFyY2hpY2FsQ2hpbGRyZW5bZV0ucGFyZW50cy5sZW5ndGg7bysrKXt2YXIgbj1pLmhpZXJhcmNoaWNhbENoaWxkcmVuW2VdLnBhcmVudHNbb107aWYodm9pZCAwIT09dFtuXSlyZXR1cm57Zm91bmRQYXJlbnQ6bix3aXRoQ2hpbGQ6ZX07dmFyIHM9YSh0LG4pO2lmKG51bGwhPT1zLmZvdW5kUGFyZW50KXJldHVybiBzfXJldHVybntmb3VuZFBhcmVudDpudWxsLHdpdGhDaGlsZDplfX07cmV0dXJuIG4obyx0KSxzKG8sZSl9fSx7a2V5OlwiX3NldFBvc2l0aW9uRm9ySGllcmFyY2h5XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtcIlVEXCI9PT10aGlzLm9wdGlvbnMuaGllcmFyY2hpY2FsLmRpcmVjdGlvbnx8XCJEVVwiPT09dGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5kaXJlY3Rpb24/dC54PWU6dC55PWV9fSx7a2V5OlwiX2dldFBvc2l0aW9uRm9ySGllcmFyY2h5XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuXCJVRFwiPT09dGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5kaXJlY3Rpb258fFwiRFVcIj09PXRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuZGlyZWN0aW9uP3QueDp0Lnl9fSx7a2V5OlwiX3NvcnROb2RlQXJyYXlcIix2YWx1ZTpmdW5jdGlvbih0KXt0Lmxlbmd0aD4xJiYoXCJVRFwiPT09dGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5kaXJlY3Rpb258fFwiRFVcIj09PXRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuZGlyZWN0aW9uP3Quc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0LngtZS54fSk6dC5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQueS1lLnl9KSl9fV0pLHR9KCk7ZVtcImRlZmF1bHRcIl09ZCx0LmV4cG9ydHM9ZVtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLHM9aSgxKSxyPWkoMjApLGE9aSgyNSksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpLG4pe3ZhciByPXRoaXM7XG5vKHRoaXMsdCksdGhpcy5ib2R5PWUsdGhpcy5jYW52YXM9aSx0aGlzLnNlbGVjdGlvbkhhbmRsZXI9bix0aGlzLmVkaXRNb2RlPSExLHRoaXMubWFuaXB1bGF0aW9uRGl2PXZvaWQgMCx0aGlzLmVkaXRNb2RlRGl2PXZvaWQgMCx0aGlzLmNsb3NlRGl2PXZvaWQgMCx0aGlzLm1hbmlwdWxhdGlvbkhhbW1lcnM9W10sdGhpcy50ZW1wb3JhcnlVSUZ1bmN0aW9ucz17fSx0aGlzLnRlbXBvcmFyeUV2ZW50RnVuY3Rpb25zPVtdLHRoaXMudG91Y2hUaW1lPTAsdGhpcy50ZW1wb3JhcnlJZHM9e25vZGVzOltdLGVkZ2VzOltdfSx0aGlzLmd1aUVuYWJsZWQ9ITEsdGhpcy5pbk1vZGU9ITEsdGhpcy5zZWxlY3RlZENvbnRyb2xOb2RlPXZvaWQgMCx0aGlzLm9wdGlvbnM9e30sdGhpcy5kZWZhdWx0T3B0aW9ucz17ZW5hYmxlZDohMSxpbml0aWFsbHlBY3RpdmU6ITEsYWRkTm9kZTohMCxhZGRFZGdlOiEwLGVkaXROb2RlOnZvaWQgMCxlZGl0RWRnZTohMCxkZWxldGVOb2RlOiEwLGRlbGV0ZUVkZ2U6ITAsY29udHJvbE5vZGVTdHlsZTp7c2hhcGU6XCJkb3RcIixzaXplOjYsY29sb3I6e2JhY2tncm91bmQ6XCIjZmYwMDAwXCIsYm9yZGVyOlwiIzNjM2MzY1wiLGhpZ2hsaWdodDp7YmFja2dyb3VuZDpcIiMwN2Y5NjhcIixib3JkZXI6XCIjM2MzYzNjXCJ9fSxib3JkZXJXaWR0aDoyLGJvcmRlcldpZHRoU2VsZWN0ZWQ6Mn19LHMuZXh0ZW5kKHRoaXMub3B0aW9ucyx0aGlzLmRlZmF1bHRPcHRpb25zKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe3IuX2NsZWFuKCl9KSx0aGlzLmJvZHkuZW1pdHRlci5vbihcIl9kYXRhQ2hhbmdlZFwiLHRoaXMuX3Jlc3RvcmUuYmluZCh0aGlzKSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJfcmVzZXREYXRhXCIsdGhpcy5fcmVzdG9yZS5iaW5kKHRoaXMpKX1yZXR1cm4gbih0LFt7a2V5OlwiX3Jlc3RvcmVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaW5Nb2RlIT09ITEmJih0aGlzLm9wdGlvbnMuaW5pdGlhbGx5QWN0aXZlPT09ITA/dGhpcy5lbmFibGVFZGl0TW9kZSgpOnRoaXMuZGlzYWJsZUVkaXRNb2RlKCkpfX0se2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dm9pZCAwIT09ZSYmKHZvaWQgMCE9PWUubG9jYWxlP3RoaXMub3B0aW9ucy5sb2NhbGU9ZS5sb2NhbGU6dGhpcy5vcHRpb25zLmxvY2FsZT1pLmxvY2FsZSx2b2lkIDAhPT1lLmxvY2FsZXM/dGhpcy5vcHRpb25zLmxvY2FsZXM9ZS5sb2NhbGVzOnRoaXMub3B0aW9ucy5sb2NhbGVzPWkubG9jYWxlcyksdm9pZCAwIT09dCYmKFwiYm9vbGVhblwiPT10eXBlb2YgdD90aGlzLm9wdGlvbnMuZW5hYmxlZD10Oih0aGlzLm9wdGlvbnMuZW5hYmxlZD0hMCxzLmRlZXBFeHRlbmQodGhpcy5vcHRpb25zLHQpKSx0aGlzLm9wdGlvbnMuaW5pdGlhbGx5QWN0aXZlPT09ITAmJih0aGlzLmVkaXRNb2RlPSEwKSx0aGlzLl9zZXR1cCgpKX19LHtrZXk6XCJ0b2dnbGVFZGl0TW9kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5lZGl0TW9kZT09PSEwP3RoaXMuZGlzYWJsZUVkaXRNb2RlKCk6dGhpcy5lbmFibGVFZGl0TW9kZSgpfX0se2tleTpcImVuYWJsZUVkaXRNb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmVkaXRNb2RlPSEwLHRoaXMuX2NsZWFuKCksdGhpcy5ndWlFbmFibGVkPT09ITAmJih0aGlzLm1hbmlwdWxhdGlvbkRpdi5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0aGlzLmNsb3NlRGl2LnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHRoaXMuZWRpdE1vZGVEaXYuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLnNob3dNYW5pcHVsYXRvclRvb2xiYXIoKSl9fSx7a2V5OlwiZGlzYWJsZUVkaXRNb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmVkaXRNb2RlPSExLHRoaXMuX2NsZWFuKCksdGhpcy5ndWlFbmFibGVkPT09ITAmJih0aGlzLm1hbmlwdWxhdGlvbkRpdi5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHRoaXMuY2xvc2VEaXYuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLmVkaXRNb2RlRGl2LnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHRoaXMuX2NyZWF0ZUVkaXRCdXR0b24oKSl9fSx7a2V5Olwic2hvd01hbmlwdWxhdG9yVG9vbGJhclwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5fY2xlYW4oKSx0aGlzLm1hbmlwdWxhdGlvbkRPTT17fSx0aGlzLmd1aUVuYWJsZWQ9PT0hMCl7dGhpcy5lZGl0TW9kZT0hMCx0aGlzLm1hbmlwdWxhdGlvbkRpdi5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0aGlzLmNsb3NlRGl2LnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO3ZhciB0PXRoaXMuc2VsZWN0aW9uSGFuZGxlci5fZ2V0U2VsZWN0ZWROb2RlQ291bnQoKSxlPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5fZ2V0U2VsZWN0ZWRFZGdlQ291bnQoKSxpPXQrZSxvPXRoaXMub3B0aW9ucy5sb2NhbGVzW3RoaXMub3B0aW9ucy5sb2NhbGVdLG49ITE7dGhpcy5vcHRpb25zLmFkZE5vZGUhPT0hMSYmKHRoaXMuX2NyZWF0ZUFkZE5vZGVCdXR0b24obyksbj0hMCksdGhpcy5vcHRpb25zLmFkZEVkZ2UhPT0hMSYmKG49PT0hMD90aGlzLl9jcmVhdGVTZXBlcmF0b3IoMSk6bj0hMCx0aGlzLl9jcmVhdGVBZGRFZGdlQnV0dG9uKG8pKSwxPT09dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vcHRpb25zLmVkaXROb2RlPyhuPT09ITA/dGhpcy5fY3JlYXRlU2VwZXJhdG9yKDIpOm49ITAsdGhpcy5fY3JlYXRlRWRpdE5vZGVCdXR0b24obykpOjE9PT1lJiYwPT09dCYmdGhpcy5vcHRpb25zLmVkaXRFZGdlIT09ITEmJihuPT09ITA/dGhpcy5fY3JlYXRlU2VwZXJhdG9yKDMpOm49ITAsdGhpcy5fY3JlYXRlRWRpdEVkZ2VCdXR0b24obykpLDAhPT1pJiYodD4wJiZ0aGlzLm9wdGlvbnMuZGVsZXRlTm9kZSE9PSExPyhuPT09ITAmJnRoaXMuX2NyZWF0ZVNlcGVyYXRvcig0KSx0aGlzLl9jcmVhdGVEZWxldGVCdXR0b24obykpOjA9PT10JiZ0aGlzLm9wdGlvbnMuZGVsZXRlRWRnZSE9PSExJiYobj09PSEwJiZ0aGlzLl9jcmVhdGVTZXBlcmF0b3IoNCksdGhpcy5fY3JlYXRlRGVsZXRlQnV0dG9uKG8pKSksdGhpcy5fYmluZEhhbW1lclRvRGl2KHRoaXMuY2xvc2VEaXYsdGhpcy50b2dnbGVFZGl0TW9kZS5iaW5kKHRoaXMpKSx0aGlzLl90ZW1wb3JhcnlCaW5kRXZlbnQoXCJzZWxlY3RcIix0aGlzLnNob3dNYW5pcHVsYXRvclRvb2xiYXIuYmluZCh0aGlzKSl9dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZWRyYXdcIil9fSx7a2V5OlwiYWRkTm9kZU1vZGVcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuZWRpdE1vZGUhPT0hMCYmdGhpcy5lbmFibGVFZGl0TW9kZSgpLHRoaXMuX2NsZWFuKCksdGhpcy5pbk1vZGU9XCJhZGROb2RlXCIsdGhpcy5ndWlFbmFibGVkPT09ITApe3ZhciB0PXRoaXMub3B0aW9ucy5sb2NhbGVzW3RoaXMub3B0aW9ucy5sb2NhbGVdO3RoaXMubWFuaXB1bGF0aW9uRE9NPXt9LHRoaXMuX2NyZWF0ZUJhY2tCdXR0b24odCksdGhpcy5fY3JlYXRlU2VwZXJhdG9yKCksdGhpcy5fY3JlYXRlRGVzY3JpcHRpb24odC5hZGREZXNjcmlwdGlvbnx8dGhpcy5vcHRpb25zLmxvY2FsZXMuZW4uYWRkRGVzY3JpcHRpb24pLHRoaXMuX2JpbmRIYW1tZXJUb0Rpdih0aGlzLmNsb3NlRGl2LHRoaXMudG9nZ2xlRWRpdE1vZGUuYmluZCh0aGlzKSl9dGhpcy5fdGVtcG9yYXJ5QmluZEV2ZW50KFwiY2xpY2tcIix0aGlzLl9wZXJmb3JtQWRkTm9kZS5iaW5kKHRoaXMpKX19LHtrZXk6XCJlZGl0Tm9kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmVkaXRNb2RlIT09ITAmJnRoaXMuZW5hYmxlRWRpdE1vZGUoKSx0aGlzLl9jbGVhbigpO3ZhciBlPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5fZ2V0U2VsZWN0ZWROb2RlKCk7aWYodm9pZCAwIT09ZSl7aWYodGhpcy5pbk1vZGU9XCJlZGl0Tm9kZVwiLFwiZnVuY3Rpb25cIiE9dHlwZW9mIHRoaXMub3B0aW9ucy5lZGl0Tm9kZSl0aHJvdyBuZXcgRXJyb3IoXCJObyBmdW5jdGlvbiBoYXMgYmVlbiBjb25maWd1cmVkIHRvIGhhbmRsZSB0aGUgZWRpdGluZyBvZiBub2Rlcy5cIik7aWYoZS5pc0NsdXN0ZXIhPT0hMCl7dmFyIGk9cy5kZWVwRXh0ZW5kKHt9LGUub3B0aW9ucywhMCk7aWYoaS54PWUueCxpLnk9ZS55LDIhPT10aGlzLm9wdGlvbnMuZWRpdE5vZGUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRoZSBmdW5jdGlvbiBmb3IgZWRpdCBkb2VzIG5vdCBzdXBwb3J0IHR3byBhcmd1bWVudHMgKGRhdGEsIGNhbGxiYWNrKVwiKTt0aGlzLm9wdGlvbnMuZWRpdE5vZGUoaSxmdW5jdGlvbihlKXtudWxsIT09ZSYmdm9pZCAwIT09ZSYmXCJlZGl0Tm9kZVwiPT09dC5pbk1vZGUmJnQuYm9keS5kYXRhLm5vZGVzLmdldERhdGFTZXQoKS51cGRhdGUoZSksdC5zaG93TWFuaXB1bGF0b3JUb29sYmFyKCl9KX1lbHNlIGFsZXJ0KHRoaXMub3B0aW9ucy5sb2NhbGVzW3RoaXMub3B0aW9ucy5sb2NhbGVdLmVkaXRDbHVzdGVyRXJyb3J8fHRoaXMub3B0aW9ucy5sb2NhbGVzLmVuLmVkaXRDbHVzdGVyRXJyb3IpfWVsc2UgdGhpcy5zaG93TWFuaXB1bGF0b3JUb29sYmFyKCl9fSx7a2V5OlwiYWRkRWRnZU1vZGVcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuZWRpdE1vZGUhPT0hMCYmdGhpcy5lbmFibGVFZGl0TW9kZSgpLHRoaXMuX2NsZWFuKCksdGhpcy5pbk1vZGU9XCJhZGRFZGdlXCIsdGhpcy5ndWlFbmFibGVkPT09ITApe3ZhciB0PXRoaXMub3B0aW9ucy5sb2NhbGVzW3RoaXMub3B0aW9ucy5sb2NhbGVdO3RoaXMubWFuaXB1bGF0aW9uRE9NPXt9LHRoaXMuX2NyZWF0ZUJhY2tCdXR0b24odCksdGhpcy5fY3JlYXRlU2VwZXJhdG9yKCksdGhpcy5fY3JlYXRlRGVzY3JpcHRpb24odC5lZGdlRGVzY3JpcHRpb258fHRoaXMub3B0aW9ucy5sb2NhbGVzLmVuLmVkZ2VEZXNjcmlwdGlvbiksdGhpcy5fYmluZEhhbW1lclRvRGl2KHRoaXMuY2xvc2VEaXYsdGhpcy50b2dnbGVFZGl0TW9kZS5iaW5kKHRoaXMpKX10aGlzLl90ZW1wb3JhcnlCaW5kVUkoXCJvblRvdWNoXCIsdGhpcy5faGFuZGxlQ29ubmVjdC5iaW5kKHRoaXMpKSx0aGlzLl90ZW1wb3JhcnlCaW5kVUkoXCJvbkRyYWdFbmRcIix0aGlzLl9maW5pc2hDb25uZWN0LmJpbmQodGhpcykpLHRoaXMuX3RlbXBvcmFyeUJpbmRVSShcIm9uRHJhZ1wiLHRoaXMuX2RyYWdDb250cm9sTm9kZS5iaW5kKHRoaXMpKSx0aGlzLl90ZW1wb3JhcnlCaW5kVUkoXCJvblJlbGVhc2VcIix0aGlzLl9maW5pc2hDb25uZWN0LmJpbmQodGhpcykpLHRoaXMuX3RlbXBvcmFyeUJpbmRVSShcIm9uRHJhZ1N0YXJ0XCIsZnVuY3Rpb24oKXt9KSx0aGlzLl90ZW1wb3JhcnlCaW5kVUkoXCJvbkhvbGRcIixmdW5jdGlvbigpe30pfX0se2tleTpcImVkaXRFZGdlTW9kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLmVkaXRNb2RlIT09ITAmJnRoaXMuZW5hYmxlRWRpdE1vZGUoKSx0aGlzLl9jbGVhbigpLHRoaXMuaW5Nb2RlPVwiZWRpdEVkZ2VcIix0aGlzLmd1aUVuYWJsZWQ9PT0hMCl7dmFyIGU9dGhpcy5vcHRpb25zLmxvY2FsZXNbdGhpcy5vcHRpb25zLmxvY2FsZV07dGhpcy5tYW5pcHVsYXRpb25ET009e30sdGhpcy5fY3JlYXRlQmFja0J1dHRvbihlKSx0aGlzLl9jcmVhdGVTZXBlcmF0b3IoKSx0aGlzLl9jcmVhdGVEZXNjcmlwdGlvbihlLmVkaXRFZGdlRGVzY3JpcHRpb258fHRoaXMub3B0aW9ucy5sb2NhbGVzLmVuLmVkaXRFZGdlRGVzY3JpcHRpb24pLHRoaXMuX2JpbmRIYW1tZXJUb0Rpdih0aGlzLmNsb3NlRGl2LHRoaXMudG9nZ2xlRWRpdE1vZGUuYmluZCh0aGlzKSl9dGhpcy5lZGdlQmVpbmdFZGl0ZWRJZD10aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2V0U2VsZWN0ZWRFZGdlcygpWzBdLHZvaWQgMCE9PXRoaXMuZWRnZUJlaW5nRWRpdGVkSWQ/IWZ1bmN0aW9uKCl7dmFyIGU9dC5ib2R5LmVkZ2VzW3QuZWRnZUJlaW5nRWRpdGVkSWRdLGk9dC5fZ2V0TmV3VGFyZ2V0Tm9kZShlLmZyb20ueCxlLmZyb20ueSksbz10Ll9nZXROZXdUYXJnZXROb2RlKGUudG8ueCxlLnRvLnkpO3QudGVtcG9yYXJ5SWRzLm5vZGVzLnB1c2goaS5pZCksdC50ZW1wb3JhcnlJZHMubm9kZXMucHVzaChvLmlkKSx0LmJvZHkubm9kZXNbaS5pZF09aSx0LmJvZHkubm9kZUluZGljZXMucHVzaChpLmlkKSx0LmJvZHkubm9kZXNbby5pZF09byx0LmJvZHkubm9kZUluZGljZXMucHVzaChvLmlkKSx0Ll90ZW1wb3JhcnlCaW5kVUkoXCJvblRvdWNoXCIsdC5fY29udHJvbE5vZGVUb3VjaC5iaW5kKHQpKSx0Ll90ZW1wb3JhcnlCaW5kVUkoXCJvblRhcFwiLGZ1bmN0aW9uKCl7fSksdC5fdGVtcG9yYXJ5QmluZFVJKFwib25Ib2xkXCIsZnVuY3Rpb24oKXt9KSx0Ll90ZW1wb3JhcnlCaW5kVUkoXCJvbkRyYWdTdGFydFwiLHQuX2NvbnRyb2xOb2RlRHJhZ1N0YXJ0LmJpbmQodCkpLHQuX3RlbXBvcmFyeUJpbmRVSShcIm9uRHJhZ1wiLHQuX2NvbnRyb2xOb2RlRHJhZy5iaW5kKHQpKSx0Ll90ZW1wb3JhcnlCaW5kVUkoXCJvbkRyYWdFbmRcIix0Ll9jb250cm9sTm9kZURyYWdFbmQuYmluZCh0KSksdC5fdGVtcG9yYXJ5QmluZFVJKFwib25Nb3VzZU1vdmVcIixmdW5jdGlvbigpe30pLHQuX3RlbXBvcmFyeUJpbmRFdmVudChcImJlZm9yZURyYXdpbmdcIixmdW5jdGlvbih0KXt2YXIgbj1lLmVkZ2VUeXBlLmZpbmRCb3JkZXJQb3NpdGlvbnModCk7aS5zZWxlY3RlZD09PSExJiYoaS54PW4uZnJvbS54LGkueT1uLmZyb20ueSksby5zZWxlY3RlZD09PSExJiYoby54PW4udG8ueCxvLnk9bi50by55KX0pLHQuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVkcmF3XCIpfSgpOnRoaXMuc2hvd01hbmlwdWxhdG9yVG9vbGJhcigpfX0se2tleTpcImRlbGV0ZVNlbGVjdGVkXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZWRpdE1vZGUhPT0hMCYmdGhpcy5lbmFibGVFZGl0TW9kZSgpLHRoaXMuX2NsZWFuKCksdGhpcy5pbk1vZGU9XCJkZWxldGVcIjt2YXIgZT10aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2V0U2VsZWN0ZWROb2RlcygpLGk9dGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdldFNlbGVjdGVkRWRnZXMoKSxvPXZvaWQgMDtpZihlLmxlbmd0aD4wKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylpZih0aGlzLmJvZHkubm9kZXNbZVtuXV0uaXNDbHVzdGVyPT09ITApcmV0dXJuIHZvaWQgYWxlcnQodGhpcy5vcHRpb25zLmxvY2FsZXNbdGhpcy5vcHRpb25zLmxvY2FsZV0uZGVsZXRlQ2x1c3RlckVycm9yfHx0aGlzLm9wdGlvbnMubG9jYWxlcy5lbi5kZWxldGVDbHVzdGVyRXJyb3IpO1wiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub3B0aW9ucy5kZWxldGVOb2RlJiYobz10aGlzLm9wdGlvbnMuZGVsZXRlTm9kZSl9ZWxzZSBpLmxlbmd0aD4wJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9wdGlvbnMuZGVsZXRlRWRnZSYmKG89dGhpcy5vcHRpb25zLmRlbGV0ZUVkZ2UpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG8pe3ZhciBzPXtub2RlczplLGVkZ2VzOml9O2lmKDIhPT1vLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgZnVuY3Rpb24gZm9yIGRlbGV0ZSBkb2VzIG5vdCBzdXBwb3J0IHR3byBhcmd1bWVudHMgKGRhdGEsIGNhbGxiYWNrKVwiKTtvKHMsZnVuY3Rpb24oZSl7bnVsbCE9PWUmJnZvaWQgMCE9PWUmJlwiZGVsZXRlXCI9PT10LmluTW9kZT8odC5ib2R5LmRhdGEuZWRnZXMuZ2V0RGF0YVNldCgpLnJlbW92ZShlLmVkZ2VzKSx0LmJvZHkuZGF0YS5ub2Rlcy5nZXREYXRhU2V0KCkucmVtb3ZlKGUubm9kZXMpLHQuYm9keS5lbWl0dGVyLmVtaXQoXCJzdGFydFNpbXVsYXRpb25cIiksdC5zaG93TWFuaXB1bGF0b3JUb29sYmFyKCkpOih0LmJvZHkuZW1pdHRlci5lbWl0KFwic3RhcnRTaW11bGF0aW9uXCIpLHQuc2hvd01hbmlwdWxhdG9yVG9vbGJhcigpKX0pfWVsc2UgdGhpcy5ib2R5LmRhdGEuZWRnZXMuZ2V0RGF0YVNldCgpLnJlbW92ZShpKSx0aGlzLmJvZHkuZGF0YS5ub2Rlcy5nZXREYXRhU2V0KCkucmVtb3ZlKGUpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJzdGFydFNpbXVsYXRpb25cIiksdGhpcy5zaG93TWFuaXB1bGF0b3JUb29sYmFyKCl9fSx7a2V5OlwiX3NldHVwXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZW5hYmxlZD09PSEwPyh0aGlzLmd1aUVuYWJsZWQ9ITAsdGhpcy5fY3JlYXRlV3JhcHBlcnMoKSx0aGlzLmVkaXRNb2RlPT09ITE/dGhpcy5fY3JlYXRlRWRpdEJ1dHRvbigpOnRoaXMuc2hvd01hbmlwdWxhdG9yVG9vbGJhcigpKToodGhpcy5fcmVtb3ZlTWFuaXB1bGF0aW9uRE9NKCksdGhpcy5ndWlFbmFibGVkPSExKX19LHtrZXk6XCJfY3JlYXRlV3JhcHBlcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZvaWQgMD09PXRoaXMubWFuaXB1bGF0aW9uRGl2JiYodGhpcy5tYW5pcHVsYXRpb25EaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLm1hbmlwdWxhdGlvbkRpdi5jbGFzc05hbWU9XCJ2aXMtbWFuaXB1bGF0aW9uXCIsdGhpcy5lZGl0TW9kZT09PSEwP3RoaXMubWFuaXB1bGF0aW9uRGl2LnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiOnRoaXMubWFuaXB1bGF0aW9uRGl2LnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdGhpcy5jYW52YXMuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5tYW5pcHVsYXRpb25EaXYpKSx2b2lkIDA9PT10aGlzLmVkaXRNb2RlRGl2JiYodGhpcy5lZGl0TW9kZURpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZWRpdE1vZGVEaXYuY2xhc3NOYW1lPVwidmlzLWVkaXQtbW9kZVwiLHRoaXMuZWRpdE1vZGU9PT0hMD90aGlzLmVkaXRNb2RlRGl2LnN0eWxlLmRpc3BsYXk9XCJub25lXCI6dGhpcy5lZGl0TW9kZURpdi5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0aGlzLmNhbnZhcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLmVkaXRNb2RlRGl2KSksdm9pZCAwPT09dGhpcy5jbG9zZURpdiYmKHRoaXMuY2xvc2VEaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmNsb3NlRGl2LmNsYXNzTmFtZT1cInZpcy1jbG9zZVwiLHRoaXMuY2xvc2VEaXYuc3R5bGUuZGlzcGxheT10aGlzLm1hbmlwdWxhdGlvbkRpdi5zdHlsZS5kaXNwbGF5LHRoaXMuY2FudmFzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuY2xvc2VEaXYpKX19LHtrZXk6XCJfZ2V0TmV3VGFyZ2V0Tm9kZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9cy5kZWVwRXh0ZW5kKHt9LHRoaXMub3B0aW9ucy5jb250cm9sTm9kZVN0eWxlKTtyZXR1cm4gaS5pZD1cInRhcmdldE5vZGVcIitzLnJhbmRvbVVVSUQoKSxpLmhpZGRlbj0hMSxpLnBoeXNpY3M9ITEsaS54PXQsaS55PWUsdGhpcy5ib2R5LmZ1bmN0aW9ucy5jcmVhdGVOb2RlKGkpfX0se2tleTpcIl9jcmVhdGVFZGl0QnV0dG9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhbigpLHRoaXMubWFuaXB1bGF0aW9uRE9NPXt9LHMucmVjdXJzaXZlRE9NRGVsZXRlKHRoaXMuZWRpdE1vZGVEaXYpO3ZhciB0PXRoaXMub3B0aW9ucy5sb2NhbGVzW3RoaXMub3B0aW9ucy5sb2NhbGVdLGU9dGhpcy5fY3JlYXRlQnV0dG9uKFwiZWRpdE1vZGVcIixcInZpcy1idXR0b24gdmlzLWVkaXQgdmlzLWVkaXQtbW9kZVwiLHQuZWRpdHx8dGhpcy5vcHRpb25zLmxvY2FsZXMuZW4uZWRpdCk7dGhpcy5lZGl0TW9kZURpdi5hcHBlbmRDaGlsZChlKSx0aGlzLl9iaW5kSGFtbWVyVG9EaXYoZSx0aGlzLnRvZ2dsZUVkaXRNb2RlLmJpbmQodGhpcykpfX0se2tleTpcIl9jbGVhblwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pbk1vZGU9ITEsdGhpcy5ndWlFbmFibGVkPT09ITAmJihzLnJlY3Vyc2l2ZURPTURlbGV0ZSh0aGlzLmVkaXRNb2RlRGl2KSxzLnJlY3Vyc2l2ZURPTURlbGV0ZSh0aGlzLm1hbmlwdWxhdGlvbkRpdiksdGhpcy5fY2xlYW5NYW5pcHVsYXRvckhhbW1lcnMoKSksdGhpcy5fY2xlYW51cFRlbXBvcmFyeU5vZGVzQW5kRWRnZXMoKSx0aGlzLl91bmJpbmRUZW1wb3JhcnlVSXMoKSx0aGlzLl91bmJpbmRUZW1wb3JhcnlFdmVudHMoKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwicmVzdG9yZVBoeXNpY3NcIil9fSx7a2V5OlwiX2NsZWFuTWFuaXB1bGF0b3JIYW1tZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZigwIT10aGlzLm1hbmlwdWxhdGlvbkhhbW1lcnMubGVuZ3RoKXtmb3IodmFyIHQ9MDt0PHRoaXMubWFuaXB1bGF0aW9uSGFtbWVycy5sZW5ndGg7dCsrKXRoaXMubWFuaXB1bGF0aW9uSGFtbWVyc1t0XS5kZXN0cm95KCk7dGhpcy5tYW5pcHVsYXRpb25IYW1tZXJzPVtdfX19LHtrZXk6XCJfcmVtb3ZlTWFuaXB1bGF0aW9uRE9NXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhbigpLHMucmVjdXJzaXZlRE9NRGVsZXRlKHRoaXMubWFuaXB1bGF0aW9uRGl2KSxzLnJlY3Vyc2l2ZURPTURlbGV0ZSh0aGlzLmVkaXRNb2RlRGl2KSxzLnJlY3Vyc2l2ZURPTURlbGV0ZSh0aGlzLmNsb3NlRGl2KSx0aGlzLm1hbmlwdWxhdGlvbkRpdiYmdGhpcy5jYW52YXMuZnJhbWUucmVtb3ZlQ2hpbGQodGhpcy5tYW5pcHVsYXRpb25EaXYpLHRoaXMuZWRpdE1vZGVEaXYmJnRoaXMuY2FudmFzLmZyYW1lLnJlbW92ZUNoaWxkKHRoaXMuZWRpdE1vZGVEaXYpLHRoaXMuY2xvc2VEaXYmJnRoaXMuY2FudmFzLmZyYW1lLnJlbW92ZUNoaWxkKHRoaXMubWFuaXB1bGF0aW9uRGl2KSx0aGlzLm1hbmlwdWxhdGlvbkRpdj12b2lkIDAsdGhpcy5lZGl0TW9kZURpdj12b2lkIDAsdGhpcy5jbG9zZURpdj12b2lkIDB9fSx7a2V5OlwiX2NyZWF0ZVNlcGVyYXRvclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdPzE6YXJndW1lbnRzWzBdO3RoaXMubWFuaXB1bGF0aW9uRE9NW1wic2VwZXJhdG9yTGluZURpdlwiK3RdPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5tYW5pcHVsYXRpb25ET01bXCJzZXBlcmF0b3JMaW5lRGl2XCIrdF0uY2xhc3NOYW1lPVwidmlzLXNlcGFyYXRvci1saW5lXCIsdGhpcy5tYW5pcHVsYXRpb25EaXYuYXBwZW5kQ2hpbGQodGhpcy5tYW5pcHVsYXRpb25ET01bXCJzZXBlcmF0b3JMaW5lRGl2XCIrdF0pfX0se2tleTpcIl9jcmVhdGVBZGROb2RlQnV0dG9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY3JlYXRlQnV0dG9uKFwiYWRkTm9kZVwiLFwidmlzLWJ1dHRvbiB2aXMtYWRkXCIsdC5hZGROb2RlfHx0aGlzLm9wdGlvbnMubG9jYWxlcy5lbi5hZGROb2RlKTt0aGlzLm1hbmlwdWxhdGlvbkRpdi5hcHBlbmRDaGlsZChlKSx0aGlzLl9iaW5kSGFtbWVyVG9EaXYoZSx0aGlzLmFkZE5vZGVNb2RlLmJpbmQodGhpcykpfX0se2tleTpcIl9jcmVhdGVBZGRFZGdlQnV0dG9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY3JlYXRlQnV0dG9uKFwiYWRkRWRnZVwiLFwidmlzLWJ1dHRvbiB2aXMtY29ubmVjdFwiLHQuYWRkRWRnZXx8dGhpcy5vcHRpb25zLmxvY2FsZXMuZW4uYWRkRWRnZSk7dGhpcy5tYW5pcHVsYXRpb25EaXYuYXBwZW5kQ2hpbGQoZSksdGhpcy5fYmluZEhhbW1lclRvRGl2KGUsdGhpcy5hZGRFZGdlTW9kZS5iaW5kKHRoaXMpKX19LHtrZXk6XCJfY3JlYXRlRWRpdE5vZGVCdXR0b25cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jcmVhdGVCdXR0b24oXCJlZGl0Tm9kZVwiLFwidmlzLWJ1dHRvbiB2aXMtZWRpdFwiLHQuZWRpdE5vZGV8fHRoaXMub3B0aW9ucy5sb2NhbGVzLmVuLmVkaXROb2RlKTt0aGlzLm1hbmlwdWxhdGlvbkRpdi5hcHBlbmRDaGlsZChlKSx0aGlzLl9iaW5kSGFtbWVyVG9EaXYoZSx0aGlzLmVkaXROb2RlLmJpbmQodGhpcykpfX0se2tleTpcIl9jcmVhdGVFZGl0RWRnZUJ1dHRvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2NyZWF0ZUJ1dHRvbihcImVkaXRFZGdlXCIsXCJ2aXMtYnV0dG9uIHZpcy1lZGl0XCIsdC5lZGl0RWRnZXx8dGhpcy5vcHRpb25zLmxvY2FsZXMuZW4uZWRpdEVkZ2UpO3RoaXMubWFuaXB1bGF0aW9uRGl2LmFwcGVuZENoaWxkKGUpLHRoaXMuX2JpbmRIYW1tZXJUb0RpdihlLHRoaXMuZWRpdEVkZ2VNb2RlLmJpbmQodGhpcykpfX0se2tleTpcIl9jcmVhdGVEZWxldGVCdXR0b25cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jcmVhdGVCdXR0b24oXCJkZWxldGVcIixcInZpcy1idXR0b24gdmlzLWRlbGV0ZVwiLHQuZGVsfHx0aGlzLm9wdGlvbnMubG9jYWxlcy5lbi5kZWwpO3RoaXMubWFuaXB1bGF0aW9uRGl2LmFwcGVuZENoaWxkKGUpLHRoaXMuX2JpbmRIYW1tZXJUb0RpdihlLHRoaXMuZGVsZXRlU2VsZWN0ZWQuYmluZCh0aGlzKSl9fSx7a2V5OlwiX2NyZWF0ZUJhY2tCdXR0b25cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jcmVhdGVCdXR0b24oXCJiYWNrXCIsXCJ2aXMtYnV0dG9uIHZpcy1iYWNrXCIsdC5iYWNrfHx0aGlzLm9wdGlvbnMubG9jYWxlcy5lbi5iYWNrKTt0aGlzLm1hbmlwdWxhdGlvbkRpdi5hcHBlbmRDaGlsZChlKSx0aGlzLl9iaW5kSGFtbWVyVG9EaXYoZSx0aGlzLnNob3dNYW5pcHVsYXRvclRvb2xiYXIuYmluZCh0aGlzKSl9fSx7a2V5OlwiX2NyZWF0ZUJ1dHRvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz1hcmd1bWVudHMubGVuZ3RoPD0zfHx2b2lkIDA9PT1hcmd1bWVudHNbM10/XCJ2aXMtbGFiZWxcIjphcmd1bWVudHNbM107cmV0dXJuIHRoaXMubWFuaXB1bGF0aW9uRE9NW3QrXCJEaXZcIl09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLm1hbmlwdWxhdGlvbkRPTVt0K1wiRGl2XCJdLmNsYXNzTmFtZT1lLHRoaXMubWFuaXB1bGF0aW9uRE9NW3QrXCJMYWJlbFwiXT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMubWFuaXB1bGF0aW9uRE9NW3QrXCJMYWJlbFwiXS5jbGFzc05hbWU9byx0aGlzLm1hbmlwdWxhdGlvbkRPTVt0K1wiTGFiZWxcIl0uaW5uZXJIVE1MPWksdGhpcy5tYW5pcHVsYXRpb25ET01bdCtcIkRpdlwiXS5hcHBlbmRDaGlsZCh0aGlzLm1hbmlwdWxhdGlvbkRPTVt0K1wiTGFiZWxcIl0pLHRoaXMubWFuaXB1bGF0aW9uRE9NW3QrXCJEaXZcIl19fSx7a2V5OlwiX2NyZWF0ZURlc2NyaXB0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5tYW5pcHVsYXRpb25EaXYuYXBwZW5kQ2hpbGQodGhpcy5fY3JlYXRlQnV0dG9uKFwiZGVzY3JpcHRpb25cIixcInZpcy1idXR0b24gdmlzLW5vbmVcIix0KSl9fSx7a2V5OlwiX3RlbXBvcmFyeUJpbmRFdmVudFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy50ZW1wb3JhcnlFdmVudEZ1bmN0aW9ucy5wdXNoKHtldmVudDp0LGJvdW5kRnVuY3Rpb246ZX0pLHRoaXMuYm9keS5lbWl0dGVyLm9uKHQsZSl9fSx7a2V5OlwiX3RlbXBvcmFyeUJpbmRVSVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09dGhpcy5ib2R5LmV2ZW50TGlzdGVuZXJzW3RdKXRocm93IG5ldyBFcnJvcihcIlRoaXMgVUkgZnVuY3Rpb24gZG9lcyBub3QgZXhpc3QuIFR5cG8/IFlvdSB0cmllZDogXCIrdCtcIiBwb3NzaWJsZSBhcmU6IFwiK0pTT04uc3RyaW5naWZ5KE9iamVjdC5rZXlzKHRoaXMuYm9keS5ldmVudExpc3RlbmVycykpKTt0aGlzLnRlbXBvcmFyeVVJRnVuY3Rpb25zW3RdPXRoaXMuYm9keS5ldmVudExpc3RlbmVyc1t0XSx0aGlzLmJvZHkuZXZlbnRMaXN0ZW5lcnNbdF09ZX19LHtrZXk6XCJfdW5iaW5kVGVtcG9yYXJ5VUlzXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy50ZW1wb3JhcnlVSUZ1bmN0aW9ucyl0aGlzLnRlbXBvcmFyeVVJRnVuY3Rpb25zLmhhc093blByb3BlcnR5KHQpJiYodGhpcy5ib2R5LmV2ZW50TGlzdGVuZXJzW3RdPXRoaXMudGVtcG9yYXJ5VUlGdW5jdGlvbnNbdF0sZGVsZXRlIHRoaXMudGVtcG9yYXJ5VUlGdW5jdGlvbnNbdF0pO3RoaXMudGVtcG9yYXJ5VUlGdW5jdGlvbnM9e319fSx7a2V5OlwiX3VuYmluZFRlbXBvcmFyeUV2ZW50c1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLnRlbXBvcmFyeUV2ZW50RnVuY3Rpb25zLmxlbmd0aDt0Kyspe3ZhciBlPXRoaXMudGVtcG9yYXJ5RXZlbnRGdW5jdGlvbnNbdF0uZXZlbnQsaT10aGlzLnRlbXBvcmFyeUV2ZW50RnVuY3Rpb25zW3RdLmJvdW5kRnVuY3Rpb247dGhpcy5ib2R5LmVtaXR0ZXIub2ZmKGUsaSl9dGhpcy50ZW1wb3JhcnlFdmVudEZ1bmN0aW9ucz1bXX19LHtrZXk6XCJfYmluZEhhbW1lclRvRGl2XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1uZXcgcih0LHt9KTthLm9uVG91Y2goaSxlKSx0aGlzLm1hbmlwdWxhdGlvbkhhbW1lcnMucHVzaChpKX19LHtrZXk6XCJfY2xlYW51cFRlbXBvcmFyeU5vZGVzQW5kRWRnZXNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy50ZW1wb3JhcnlJZHMuZWRnZXMubGVuZ3RoO3QrKyl7dGhpcy5ib2R5LmVkZ2VzW3RoaXMudGVtcG9yYXJ5SWRzLmVkZ2VzW3RdXS5kaXNjb25uZWN0KCksZGVsZXRlIHRoaXMuYm9keS5lZGdlc1t0aGlzLnRlbXBvcmFyeUlkcy5lZGdlc1t0XV07dmFyIGU9dGhpcy5ib2R5LmVkZ2VJbmRpY2VzLmluZGV4T2YodGhpcy50ZW1wb3JhcnlJZHMuZWRnZXNbdF0pOy0xIT09ZSYmdGhpcy5ib2R5LmVkZ2VJbmRpY2VzLnNwbGljZShlLDEpfWZvcih2YXIgdD0wO3Q8dGhpcy50ZW1wb3JhcnlJZHMubm9kZXMubGVuZ3RoO3QrKyl7ZGVsZXRlIHRoaXMuYm9keS5ub2Rlc1t0aGlzLnRlbXBvcmFyeUlkcy5ub2Rlc1t0XV07dmFyIGk9dGhpcy5ib2R5Lm5vZGVJbmRpY2VzLmluZGV4T2YodGhpcy50ZW1wb3JhcnlJZHMubm9kZXNbdF0pOy0xIT09aSYmdGhpcy5ib2R5Lm5vZGVJbmRpY2VzLnNwbGljZShpLDEpfXRoaXMudGVtcG9yYXJ5SWRzPXtub2RlczpbXSxlZGdlczpbXX19fSx7a2V5OlwiX2NvbnRyb2xOb2RlVG91Y2hcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnNlbGVjdGlvbkhhbmRsZXIudW5zZWxlY3RBbGwoKSx0aGlzLmxhc3RUb3VjaD10aGlzLmJvZHkuZnVuY3Rpb25zLmdldFBvaW50ZXIodC5jZW50ZXIpLHRoaXMubGFzdFRvdWNoLnRyYW5zbGF0aW9uPXMuZXh0ZW5kKHt9LHRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uKX19LHtrZXk6XCJfY29udHJvbE5vZGVEcmFnU3RhcnRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmxhc3RUb3VjaCxpPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5fcG9pbnRlclRvUG9zaXRpb25PYmplY3QoZSksbz10aGlzLmJvZHkubm9kZXNbdGhpcy50ZW1wb3JhcnlJZHMubm9kZXNbMF1dLG49dGhpcy5ib2R5Lm5vZGVzW3RoaXMudGVtcG9yYXJ5SWRzLm5vZGVzWzFdXSxzPXRoaXMuYm9keS5lZGdlc1t0aGlzLmVkZ2VCZWluZ0VkaXRlZElkXTt0aGlzLnNlbGVjdGVkQ29udHJvbE5vZGU9dm9pZCAwO3ZhciByPW8uaXNPdmVybGFwcGluZ1dpdGgoaSksYT1uLmlzT3ZlcmxhcHBpbmdXaXRoKGkpO3I9PT0hMD8odGhpcy5zZWxlY3RlZENvbnRyb2xOb2RlPW8scy5lZGdlVHlwZS5mcm9tPW8pOmE9PT0hMCYmKHRoaXMuc2VsZWN0ZWRDb250cm9sTm9kZT1uLHMuZWRnZVR5cGUudG89biksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZWRyYXdcIil9fSx7a2V5OlwiX2NvbnRyb2xOb2RlRHJhZ1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJkaXNhYmxlUGh5c2ljc1wiKTt2YXIgZT10aGlzLmJvZHkuZnVuY3Rpb25zLmdldFBvaW50ZXIodC5jZW50ZXIpLGk9dGhpcy5jYW52YXMuRE9NdG9DYW52YXMoZSk7aWYodm9pZCAwIT09dGhpcy5zZWxlY3RlZENvbnRyb2xOb2RlKXRoaXMuc2VsZWN0ZWRDb250cm9sTm9kZS54PWkueCx0aGlzLnNlbGVjdGVkQ29udHJvbE5vZGUueT1pLnk7ZWxzZXt2YXIgbz1lLngtdGhpcy5sYXN0VG91Y2gueCxuPWUueS10aGlzLmxhc3RUb3VjaC55O3RoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uPXt4OnRoaXMubGFzdFRvdWNoLnRyYW5zbGF0aW9uLngrbyx5OnRoaXMubGFzdFRvdWNoLnRyYW5zbGF0aW9uLnkrbn19dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZWRyYXdcIil9fSx7a2V5OlwiX2NvbnRyb2xOb2RlRHJhZ0VuZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYm9keS5mdW5jdGlvbnMuZ2V0UG9pbnRlcih0LmNlbnRlciksaT10aGlzLnNlbGVjdGlvbkhhbmRsZXIuX3BvaW50ZXJUb1Bvc2l0aW9uT2JqZWN0KGUpLG89dGhpcy5ib2R5LmVkZ2VzW3RoaXMuZWRnZUJlaW5nRWRpdGVkSWRdO2lmKHZvaWQgMCE9PXRoaXMuc2VsZWN0ZWRDb250cm9sTm9kZSl7Zm9yKHZhciBuPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5fZ2V0QWxsTm9kZXNPdmVybGFwcGluZ1dpdGgoaSkscz12b2lkIDAscj1uLmxlbmd0aC0xO3I+PTA7ci0tKWlmKG5bcl0hPT10aGlzLnNlbGVjdGVkQ29udHJvbE5vZGUuaWQpe3M9dGhpcy5ib2R5Lm5vZGVzW25bcl1dO2JyZWFrfWlmKHZvaWQgMCE9PXMmJnZvaWQgMCE9PXRoaXMuc2VsZWN0ZWRDb250cm9sTm9kZSlpZihzLmlzQ2x1c3Rlcj09PSEwKWFsZXJ0KHRoaXMub3B0aW9ucy5sb2NhbGVzW3RoaXMub3B0aW9ucy5sb2NhbGVdLmNyZWF0ZUVkZ2VFcnJvcnx8dGhpcy5vcHRpb25zLmxvY2FsZXMuZW4uY3JlYXRlRWRnZUVycm9yKTtlbHNle3ZhciBhPXRoaXMuYm9keS5ub2Rlc1t0aGlzLnRlbXBvcmFyeUlkcy5ub2Rlc1swXV07dGhpcy5zZWxlY3RlZENvbnRyb2xOb2RlLmlkPT09YS5pZD90aGlzLl9wZXJmb3JtRWRpdEVkZ2Uocy5pZCxvLnRvLmlkKTp0aGlzLl9wZXJmb3JtRWRpdEVkZ2Uoby5mcm9tLmlkLHMuaWQpfWVsc2Ugby51cGRhdGVFZGdlVHlwZSgpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJyZXN0b3JlUGh5c2ljc1wiKTt0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3JlZHJhd1wiKX19fSx7a2V5OlwiX2hhbmRsZUNvbm5lY3RcIix2YWx1ZTpmdW5jdGlvbih0KXtpZigobmV3IERhdGUpLnZhbHVlT2YoKS10aGlzLnRvdWNoVGltZT4xMDApe3RoaXMubGFzdFRvdWNoPXRoaXMuYm9keS5mdW5jdGlvbnMuZ2V0UG9pbnRlcih0LmNlbnRlciksdGhpcy5sYXN0VG91Y2gudHJhbnNsYXRpb249cy5leHRlbmQoe30sdGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb24pO3ZhciBlPXRoaXMubGFzdFRvdWNoLGk9dGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdldE5vZGVBdChlKTtpZih2b2lkIDAhPT1pKWlmKGkuaXNDbHVzdGVyPT09ITApYWxlcnQodGhpcy5vcHRpb25zLmxvY2FsZXNbdGhpcy5vcHRpb25zLmxvY2FsZV0uY3JlYXRlRWRnZUVycm9yfHx0aGlzLm9wdGlvbnMubG9jYWxlcy5lbi5jcmVhdGVFZGdlRXJyb3IpO2Vsc2V7dmFyIG89dGhpcy5fZ2V0TmV3VGFyZ2V0Tm9kZShpLngsaS55KTt0aGlzLmJvZHkubm9kZXNbby5pZF09byx0aGlzLmJvZHkubm9kZUluZGljZXMucHVzaChvLmlkKTt2YXIgbj10aGlzLmJvZHkuZnVuY3Rpb25zLmNyZWF0ZUVkZ2Uoe2lkOlwiY29ubmVjdGlvbkVkZ2VcIitzLnJhbmRvbVVVSUQoKSxmcm9tOmkuaWQsdG86by5pZCxwaHlzaWNzOiExLHNtb290aDp7ZW5hYmxlZDohMCx0eXBlOlwiY29udGludW91c1wiLHJvdW5kbmVzczouNX19KTt0aGlzLmJvZHkuZWRnZXNbbi5pZF09bix0aGlzLmJvZHkuZWRnZUluZGljZXMucHVzaChuLmlkKSx0aGlzLnRlbXBvcmFyeUlkcy5ub2Rlcy5wdXNoKG8uaWQpLHRoaXMudGVtcG9yYXJ5SWRzLmVkZ2VzLnB1c2gobi5pZCl9dGhpcy50b3VjaFRpbWU9KG5ldyBEYXRlKS52YWx1ZU9mKCl9fX0se2tleTpcIl9kcmFnQ29udHJvbE5vZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmJvZHkuZnVuY3Rpb25zLmdldFBvaW50ZXIodC5jZW50ZXIpO2lmKHZvaWQgMCE9PXRoaXMudGVtcG9yYXJ5SWRzLm5vZGVzWzBdKXt2YXIgaT10aGlzLmJvZHkubm9kZXNbdGhpcy50ZW1wb3JhcnlJZHMubm9kZXNbMF1dO2kueD10aGlzLmNhbnZhcy5fWGNvbnZlcnRET010b0NhbnZhcyhlLngpLGkueT10aGlzLmNhbnZhcy5fWWNvbnZlcnRET010b0NhbnZhcyhlLnkpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVkcmF3XCIpfWVsc2V7dmFyIG89ZS54LXRoaXMubGFzdFRvdWNoLngsbj1lLnktdGhpcy5sYXN0VG91Y2gueTt0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbj17eDp0aGlzLmxhc3RUb3VjaC50cmFuc2xhdGlvbi54K28seTp0aGlzLmxhc3RUb3VjaC50cmFuc2xhdGlvbi55K259fX19LHtrZXk6XCJfZmluaXNoQ29ubmVjdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYm9keS5mdW5jdGlvbnMuZ2V0UG9pbnRlcih0LmNlbnRlciksaT10aGlzLnNlbGVjdGlvbkhhbmRsZXIuX3BvaW50ZXJUb1Bvc2l0aW9uT2JqZWN0KGUpLG89dm9pZCAwO3ZvaWQgMCE9PXRoaXMudGVtcG9yYXJ5SWRzLmVkZ2VzWzBdJiYobz10aGlzLmJvZHkuZWRnZXNbdGhpcy50ZW1wb3JhcnlJZHMuZWRnZXNbMF1dLmZyb21JZCk7Zm9yKHZhciBuPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5fZ2V0QWxsTm9kZXNPdmVybGFwcGluZ1dpdGgoaSkscz12b2lkIDAscj1uLmxlbmd0aC0xO3I+PTA7ci0tKWlmKC0xPT09dGhpcy50ZW1wb3JhcnlJZHMubm9kZXMuaW5kZXhPZihuW3JdKSl7cz10aGlzLmJvZHkubm9kZXNbbltyXV07YnJlYWt9dGhpcy5fY2xlYW51cFRlbXBvcmFyeU5vZGVzQW5kRWRnZXMoKSx2b2lkIDAhPT1zJiYocy5pc0NsdXN0ZXI9PT0hMD9hbGVydCh0aGlzLm9wdGlvbnMubG9jYWxlc1t0aGlzLm9wdGlvbnMubG9jYWxlXS5jcmVhdGVFZGdlRXJyb3J8fHRoaXMub3B0aW9ucy5sb2NhbGVzLmVuLmNyZWF0ZUVkZ2VFcnJvcik6dm9pZCAwIT09dGhpcy5ib2R5Lm5vZGVzW29dJiZ2b2lkIDAhPT10aGlzLmJvZHkubm9kZXNbcy5pZF0mJnRoaXMuX3BlcmZvcm1BZGRFZGdlKG8scy5pZCkpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVkcmF3XCIpfX0se2tleTpcIl9wZXJmb3JtQWRkTm9kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT17aWQ6cy5yYW5kb21VVUlEKCkseDp0LnBvaW50ZXIuY2FudmFzLngseTp0LnBvaW50ZXIuY2FudmFzLnksbGFiZWw6XCJuZXdcIn07aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vcHRpb25zLmFkZE5vZGUpe2lmKDIhPT10aGlzLm9wdGlvbnMuYWRkTm9kZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVGhlIGZ1bmN0aW9uIGZvciBhZGQgZG9lcyBub3Qgc3VwcG9ydCB0d28gYXJndW1lbnRzIChkYXRhLGNhbGxiYWNrKVwiKTt0aGlzLm9wdGlvbnMuYWRkTm9kZShpLGZ1bmN0aW9uKHQpe251bGwhPT10JiZ2b2lkIDAhPT10JiZcImFkZE5vZGVcIj09PWUuaW5Nb2RlJiYoZS5ib2R5LmRhdGEubm9kZXMuZ2V0RGF0YVNldCgpLmFkZCh0KSxlLnNob3dNYW5pcHVsYXRvclRvb2xiYXIoKSl9KX1lbHNlIHRoaXMuYm9keS5kYXRhLm5vZGVzLmdldERhdGFTZXQoKS5hZGQoaSksdGhpcy5zaG93TWFuaXB1bGF0b3JUb29sYmFyKCl9fSx7a2V5OlwiX3BlcmZvcm1BZGRFZGdlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLG89e2Zyb206dCx0bzplfTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9wdGlvbnMuYWRkRWRnZSl7aWYoMiE9PXRoaXMub3B0aW9ucy5hZGRFZGdlLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgZnVuY3Rpb24gZm9yIGNvbm5lY3QgZG9lcyBub3Qgc3VwcG9ydCB0d28gYXJndW1lbnRzIChkYXRhLGNhbGxiYWNrKVwiKTt0aGlzLm9wdGlvbnMuYWRkRWRnZShvLGZ1bmN0aW9uKHQpe251bGwhPT10JiZ2b2lkIDAhPT10JiZcImFkZEVkZ2VcIj09PWkuaW5Nb2RlJiYoaS5ib2R5LmRhdGEuZWRnZXMuZ2V0RGF0YVNldCgpLmFkZCh0KSxpLnNlbGVjdGlvbkhhbmRsZXIudW5zZWxlY3RBbGwoKSxpLnNob3dNYW5pcHVsYXRvclRvb2xiYXIoKSl9KX1lbHNlIHRoaXMuYm9keS5kYXRhLmVkZ2VzLmdldERhdGFTZXQoKS5hZGQobyksdGhpcy5zZWxlY3Rpb25IYW5kbGVyLnVuc2VsZWN0QWxsKCksdGhpcy5zaG93TWFuaXB1bGF0b3JUb29sYmFyKCl9fSx7a2V5OlwiX3BlcmZvcm1FZGl0RWRnZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcyxvPXtpZDp0aGlzLmVkZ2VCZWluZ0VkaXRlZElkLGZyb206dCx0bzplfTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9wdGlvbnMuZWRpdEVkZ2Upe2lmKDIhPT10aGlzLm9wdGlvbnMuZWRpdEVkZ2UubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRoZSBmdW5jdGlvbiBmb3IgZWRpdCBkb2VzIG5vdCBzdXBwb3J0IHR3byBhcmd1bWVudHMgKGRhdGEsIGNhbGxiYWNrKVwiKTt0aGlzLm9wdGlvbnMuZWRpdEVkZ2UobyxmdW5jdGlvbih0KXtudWxsPT09dHx8dm9pZCAwPT09dHx8XCJlZGl0RWRnZVwiIT09aS5pbk1vZGU/KGkuYm9keS5lZGdlc1tvLmlkXS51cGRhdGVFZGdlVHlwZSgpLGkuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVkcmF3XCIpKTooaS5ib2R5LmRhdGEuZWRnZXMuZ2V0RGF0YVNldCgpLnVwZGF0ZSh0KSxpLnNlbGVjdGlvbkhhbmRsZXIudW5zZWxlY3RBbGwoKSxpLnNob3dNYW5pcHVsYXRvclRvb2xiYXIoKSl9KX1lbHNlIHRoaXMuYm9keS5kYXRhLmVkZ2VzLmdldERhdGFTZXQoKS51cGRhdGUobyksdGhpcy5zZWxlY3Rpb25IYW5kbGVyLnVuc2VsZWN0QWxsKCksdGhpcy5zaG93TWFuaXB1bGF0b3JUb29sYmFyKCl9fV0pLHR9KCk7ZVtcImRlZmF1bHRcIl09aCx0LmV4cG9ydHM9ZVtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9XCJzdHJpbmdcIixvPVwiYm9vbGVhblwiLG49XCJudW1iZXJcIixzPVwiYXJyYXlcIixyPVwib2JqZWN0XCIsYT1cImRvbVwiLGg9XCJhbnlcIixkPXtjb25maWd1cmU6e2VuYWJsZWQ6e1wiYm9vbGVhblwiOm99LGZpbHRlcjp7XCJib29sZWFuXCI6byxzdHJpbmc6aSxhcnJheTpzLFwiZnVuY3Rpb25cIjpcImZ1bmN0aW9uXCJ9LGNvbnRhaW5lcjp7ZG9tOmF9LHNob3dCdXR0b246e1wiYm9vbGVhblwiOm99LF9fdHlwZV9fOntvYmplY3Q6cixcImJvb2xlYW5cIjpvLHN0cmluZzppLGFycmF5OnMsXCJmdW5jdGlvblwiOlwiZnVuY3Rpb25cIn19LGVkZ2VzOnthcnJvd3M6e3RvOntlbmFibGVkOntcImJvb2xlYW5cIjpvfSxzY2FsZUZhY3Rvcjp7bnVtYmVyOm59LF9fdHlwZV9fOntvYmplY3Q6cixcImJvb2xlYW5cIjpvfX0sbWlkZGxlOntlbmFibGVkOntcImJvb2xlYW5cIjpvfSxzY2FsZUZhY3Rvcjp7bnVtYmVyOm59LF9fdHlwZV9fOntvYmplY3Q6cixcImJvb2xlYW5cIjpvfX0sZnJvbTp7ZW5hYmxlZDp7XCJib29sZWFuXCI6b30sc2NhbGVGYWN0b3I6e251bWJlcjpufSxfX3R5cGVfXzp7b2JqZWN0OnIsXCJib29sZWFuXCI6b319LF9fdHlwZV9fOntzdHJpbmc6W1wiZnJvbVwiLFwidG9cIixcIm1pZGRsZVwiXSxvYmplY3Q6cn19LGNvbG9yOntjb2xvcjp7c3RyaW5nOml9LGhpZ2hsaWdodDp7c3RyaW5nOml9LGhvdmVyOntzdHJpbmc6aX0saW5oZXJpdDp7c3RyaW5nOltcImZyb21cIixcInRvXCIsXCJib3RoXCJdLFwiYm9vbGVhblwiOm99LG9wYWNpdHk6e251bWJlcjpufSxfX3R5cGVfXzp7b2JqZWN0OnIsc3RyaW5nOml9fSxkYXNoZXM6e1wiYm9vbGVhblwiOm8sYXJyYXk6c30sZm9udDp7Y29sb3I6e3N0cmluZzppfSxzaXplOntudW1iZXI6bn0sZmFjZTp7c3RyaW5nOml9LGJhY2tncm91bmQ6e3N0cmluZzppfSxzdHJva2VXaWR0aDp7bnVtYmVyOm59LHN0cm9rZUNvbG9yOntzdHJpbmc6aX0sYWxpZ246e3N0cmluZzpbXCJob3Jpem9udGFsXCIsXCJ0b3BcIixcIm1pZGRsZVwiLFwiYm90dG9tXCJdfSxfX3R5cGVfXzp7b2JqZWN0OnIsc3RyaW5nOml9fSxoaWRkZW46e1wiYm9vbGVhblwiOm99LGhvdmVyV2lkdGg6e1wiZnVuY3Rpb25cIjpcImZ1bmN0aW9uXCIsbnVtYmVyOm59LGxhYmVsOntzdHJpbmc6aSx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sbGFiZWxIaWdobGlnaHRCb2xkOntcImJvb2xlYW5cIjpvfSxsZW5ndGg6e251bWJlcjpuLHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSxwaHlzaWNzOntcImJvb2xlYW5cIjpvfSxzY2FsaW5nOnttaW46e251bWJlcjpufSxtYXg6e251bWJlcjpufSxsYWJlbDp7ZW5hYmxlZDp7XCJib29sZWFuXCI6b30sbWluOntudW1iZXI6bn0sbWF4OntudW1iZXI6bn0sbWF4VmlzaWJsZTp7bnVtYmVyOm59LGRyYXdUaHJlc2hvbGQ6e251bWJlcjpufSxfX3R5cGVfXzp7b2JqZWN0OnIsXCJib29sZWFuXCI6b319LGN1c3RvbVNjYWxpbmdGdW5jdGlvbjp7XCJmdW5jdGlvblwiOlwiZnVuY3Rpb25cIn0sX190eXBlX186e29iamVjdDpyfX0sc2VsZWN0aW9uV2lkdGg6e1wiZnVuY3Rpb25cIjpcImZ1bmN0aW9uXCIsbnVtYmVyOm59LHNlbGZSZWZlcmVuY2VTaXplOntudW1iZXI6bn0sc2hhZG93OntlbmFibGVkOntcImJvb2xlYW5cIjpvfSxzaXplOntudW1iZXI6bn0seDp7bnVtYmVyOm59LHk6e251bWJlcjpufSxfX3R5cGVfXzp7b2JqZWN0OnIsXCJib29sZWFuXCI6b319LHNtb290aDp7ZW5hYmxlZDp7XCJib29sZWFuXCI6b30sdHlwZTp7c3RyaW5nOltcImR5bmFtaWNcIixcImNvbnRpbnVvdXNcIixcImRpc2NyZXRlXCIsXCJkaWFnb25hbENyb3NzXCIsXCJzdHJhaWdodENyb3NzXCIsXCJob3Jpem9udGFsXCIsXCJ2ZXJ0aWNhbFwiLFwiY3VydmVkQ1dcIixcImN1cnZlZENDV1wiLFwiY3ViaWNCZXppZXJcIl19LHJvdW5kbmVzczp7bnVtYmVyOm59LGZvcmNlRGlyZWN0aW9uOntzdHJpbmc6W1wiaG9yaXpvbnRhbFwiLFwidmVydGljYWxcIixcIm5vbmVcIl0sXCJib29sZWFuXCI6b30sX190eXBlX186e29iamVjdDpyLFwiYm9vbGVhblwiOm99fSx0aXRsZTp7c3RyaW5nOmksdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LHdpZHRoOntudW1iZXI6bn0sdmFsdWU6e251bWJlcjpuLHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSxfX3R5cGVfXzp7b2JqZWN0OnJ9fSxncm91cHM6e3VzZURlZmF1bHRHcm91cHM6e1wiYm9vbGVhblwiOm99LF9fYW55X186XCJnZXQgZnJvbSBub2Rlcywgd2lsbCBiZSBvdmVyd3JpdHRlbiBiZWxvd1wiLF9fdHlwZV9fOntvYmplY3Q6cn19LGludGVyYWN0aW9uOntkcmFnTm9kZXM6e1wiYm9vbGVhblwiOm99LGRyYWdWaWV3OntcImJvb2xlYW5cIjpvfSxoaWRlRWRnZXNPbkRyYWc6e1wiYm9vbGVhblwiOm99LGhpZGVOb2Rlc09uRHJhZzp7XCJib29sZWFuXCI6b30saG92ZXI6e1wiYm9vbGVhblwiOm99LGtleWJvYXJkOntlbmFibGVkOntcImJvb2xlYW5cIjpvfSxzcGVlZDp7eDp7bnVtYmVyOm59LHk6e251bWJlcjpufSx6b29tOntudW1iZXI6bn0sX190eXBlX186e29iamVjdDpyfX0sYmluZFRvV2luZG93OntcImJvb2xlYW5cIjpvfSxfX3R5cGVfXzp7b2JqZWN0OnIsXCJib29sZWFuXCI6b319LG11bHRpc2VsZWN0OntcImJvb2xlYW5cIjpvfSxuYXZpZ2F0aW9uQnV0dG9uczp7XCJib29sZWFuXCI6b30sc2VsZWN0YWJsZTp7XCJib29sZWFuXCI6b30sc2VsZWN0Q29ubmVjdGVkRWRnZXM6e1wiYm9vbGVhblwiOm99LGhvdmVyQ29ubmVjdGVkRWRnZXM6e1wiYm9vbGVhblwiOm99LHRvb2x0aXBEZWxheTp7bnVtYmVyOm59LHpvb21WaWV3OntcImJvb2xlYW5cIjpvfSxfX3R5cGVfXzp7b2JqZWN0OnJ9fSxsYXlvdXQ6e3JhbmRvbVNlZWQ6e3VuZGVmaW5lZDpcInVuZGVmaW5lZFwiLG51bWJlcjpufSxpbXByb3ZlZExheW91dDp7XCJib29sZWFuXCI6b30saGllcmFyY2hpY2FsOntlbmFibGVkOntcImJvb2xlYW5cIjpvfSxsZXZlbFNlcGFyYXRpb246e251bWJlcjpufSxkaXJlY3Rpb246e3N0cmluZzpbXCJVRFwiLFwiRFVcIixcIkxSXCIsXCJSTFwiXX0sc29ydE1ldGhvZDp7c3RyaW5nOltcImh1YnNpemVcIixcImRpcmVjdGVkXCJdfSxfX3R5cGVfXzp7b2JqZWN0OnIsXCJib29sZWFuXCI6b319LF9fdHlwZV9fOntvYmplY3Q6cn19LG1hbmlwdWxhdGlvbjp7ZW5hYmxlZDp7XCJib29sZWFuXCI6b30saW5pdGlhbGx5QWN0aXZlOntcImJvb2xlYW5cIjpvfSxhZGROb2RlOntcImJvb2xlYW5cIjpvLFwiZnVuY3Rpb25cIjpcImZ1bmN0aW9uXCJ9LGFkZEVkZ2U6e1wiYm9vbGVhblwiOm8sXCJmdW5jdGlvblwiOlwiZnVuY3Rpb25cIn0sZWRpdE5vZGU6e1wiZnVuY3Rpb25cIjpcImZ1bmN0aW9uXCJ9LGVkaXRFZGdlOntcImJvb2xlYW5cIjpvLFwiZnVuY3Rpb25cIjpcImZ1bmN0aW9uXCJ9LGRlbGV0ZU5vZGU6e1wiYm9vbGVhblwiOm8sXCJmdW5jdGlvblwiOlwiZnVuY3Rpb25cIn0sZGVsZXRlRWRnZTp7XCJib29sZWFuXCI6byxcImZ1bmN0aW9uXCI6XCJmdW5jdGlvblwifSxjb250cm9sTm9kZVN0eWxlOlwiZ2V0IGZyb20gbm9kZXMsIHdpbGwgYmUgb3ZlcndyaXR0ZW4gYmVsb3dcIixfX3R5cGVfXzp7b2JqZWN0OnIsXCJib29sZWFuXCI6b319LG5vZGVzOntib3JkZXJXaWR0aDp7bnVtYmVyOm59LGJvcmRlcldpZHRoU2VsZWN0ZWQ6e251bWJlcjpuLHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSxicm9rZW5JbWFnZTp7c3RyaW5nOmksdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LGNvbG9yOntib3JkZXI6e3N0cmluZzppfSxiYWNrZ3JvdW5kOntzdHJpbmc6aX0saGlnaGxpZ2h0Ontib3JkZXI6e3N0cmluZzppfSxiYWNrZ3JvdW5kOntzdHJpbmc6aX0sX190eXBlX186e29iamVjdDpyLHN0cmluZzppfX0saG92ZXI6e2JvcmRlcjp7c3RyaW5nOml9LGJhY2tncm91bmQ6e3N0cmluZzppfSxfX3R5cGVfXzp7b2JqZWN0OnIsc3RyaW5nOml9fSxfX3R5cGVfXzp7b2JqZWN0OnIsc3RyaW5nOml9fSxmaXhlZDp7eDp7XCJib29sZWFuXCI6b30seTp7XCJib29sZWFuXCI6b30sX190eXBlX186e29iamVjdDpyLFwiYm9vbGVhblwiOm99fSxmb250Ontjb2xvcjp7c3RyaW5nOml9LHNpemU6e251bWJlcjpufSxmYWNlOntzdHJpbmc6aX0sYmFja2dyb3VuZDp7c3RyaW5nOml9LHN0cm9rZVdpZHRoOntudW1iZXI6bn0sc3Ryb2tlQ29sb3I6e3N0cmluZzppfSxfX3R5cGVfXzp7b2JqZWN0OnIsc3RyaW5nOml9fSxncm91cDp7c3RyaW5nOmksbnVtYmVyOm4sdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LGhpZGRlbjp7XCJib29sZWFuXCI6b30saWNvbjp7ZmFjZTp7c3RyaW5nOml9LGNvZGU6e3N0cmluZzppfSxzaXplOntudW1iZXI6bn0sY29sb3I6e3N0cmluZzppfSxfX3R5cGVfXzp7b2JqZWN0OnJ9fSxpZDp7c3RyaW5nOmksbnVtYmVyOm59LGltYWdlOntzdHJpbmc6aSx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sbGFiZWw6e3N0cmluZzppLHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSxsYWJlbEhpZ2hsaWdodEJvbGQ6e1wiYm9vbGVhblwiOm99LGxldmVsOntudW1iZXI6bix1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sbWFzczp7bnVtYmVyOm59LHBoeXNpY3M6e1wiYm9vbGVhblwiOm99LHNjYWxpbmc6e21pbjp7bnVtYmVyOm59LG1heDp7bnVtYmVyOm59LGxhYmVsOntlbmFibGVkOntcImJvb2xlYW5cIjpvfSxtaW46e251bWJlcjpufSxtYXg6e251bWJlcjpufSxtYXhWaXNpYmxlOntudW1iZXI6bn0sZHJhd1RocmVzaG9sZDp7bnVtYmVyOm59LF9fdHlwZV9fOntvYmplY3Q6cixcImJvb2xlYW5cIjpvfX0sY3VzdG9tU2NhbGluZ0Z1bmN0aW9uOntcImZ1bmN0aW9uXCI6XCJmdW5jdGlvblwifSxfX3R5cGVfXzp7b2JqZWN0OnJ9fSxzaGFkb3c6e2VuYWJsZWQ6e1wiYm9vbGVhblwiOm99LHNpemU6e251bWJlcjpufSx4OntudW1iZXI6bn0seTp7bnVtYmVyOm59LF9fdHlwZV9fOntvYmplY3Q6cixcImJvb2xlYW5cIjpvfX0sc2hhcGU6e3N0cmluZzpbXCJlbGxpcHNlXCIsXCJjaXJjbGVcIixcImRhdGFiYXNlXCIsXCJib3hcIixcInRleHRcIixcImltYWdlXCIsXCJjaXJjdWxhckltYWdlXCIsXCJkaWFtb25kXCIsXCJkb3RcIixcInN0YXJcIixcInRyaWFuZ2xlXCIsXCJ0cmlhbmdsZURvd25cIixcInNxdWFyZVwiLFwiaWNvblwiXX0sc2hhcGVQcm9wZXJ0aWVzOntib3JkZXJEYXNoZXM6e1wiYm9vbGVhblwiOm8sYXJyYXk6c30sYm9yZGVyUmFkaXVzOntudW1iZXI6bn0sdXNlSW1hZ2VTaXplOntcImJvb2xlYW5cIjpvfSx1c2VCb3JkZXJXaXRoSW1hZ2U6e1wiYm9vbGVhblwiOm99LF9fdHlwZV9fOntvYmplY3Q6cn19LHNpemU6e251bWJlcjpufSx0aXRsZTp7c3RyaW5nOmksdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LHZhbHVlOntudW1iZXI6bix1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0seDp7bnVtYmVyOm59LHk6e251bWJlcjpufSxfX3R5cGVfXzp7b2JqZWN0OnJ9fSxwaHlzaWNzOntlbmFibGVkOntcImJvb2xlYW5cIjpvfSxiYXJuZXNIdXQ6e2dyYXZpdGF0aW9uYWxDb25zdGFudDp7bnVtYmVyOm59LGNlbnRyYWxHcmF2aXR5OntudW1iZXI6bn0sc3ByaW5nTGVuZ3RoOntudW1iZXI6bn0sc3ByaW5nQ29uc3RhbnQ6e251bWJlcjpufSxkYW1waW5nOntudW1iZXI6bn0sYXZvaWRPdmVybGFwOntudW1iZXI6bn0sX190eXBlX186e29iamVjdDpyfX0sZm9yY2VBdGxhczJCYXNlZDp7Z3Jhdml0YXRpb25hbENvbnN0YW50OntudW1iZXI6bn0sY2VudHJhbEdyYXZpdHk6e251bWJlcjpufSxzcHJpbmdMZW5ndGg6e251bWJlcjpufSxzcHJpbmdDb25zdGFudDp7bnVtYmVyOm59LGRhbXBpbmc6e251bWJlcjpufSxhdm9pZE92ZXJsYXA6e251bWJlcjpufSxfX3R5cGVfXzp7b2JqZWN0OnJ9fSxyZXB1bHNpb246e2NlbnRyYWxHcmF2aXR5OntudW1iZXI6bn0sc3ByaW5nTGVuZ3RoOntudW1iZXI6bn0sc3ByaW5nQ29uc3RhbnQ6e251bWJlcjpufSxub2RlRGlzdGFuY2U6e251bWJlcjpufSxkYW1waW5nOntudW1iZXI6bn0sX190eXBlX186e29iamVjdDpyfX0saGllcmFyY2hpY2FsUmVwdWxzaW9uOntjZW50cmFsR3Jhdml0eTp7bnVtYmVyOm59LHNwcmluZ0xlbmd0aDp7bnVtYmVyOm59LHNwcmluZ0NvbnN0YW50OntudW1iZXI6bn0sbm9kZURpc3RhbmNlOntudW1iZXI6bn0sZGFtcGluZzp7bnVtYmVyOm59LF9fdHlwZV9fOntvYmplY3Q6cn19LG1heFZlbG9jaXR5OntudW1iZXI6bn0sbWluVmVsb2NpdHk6e251bWJlcjpufSxzb2x2ZXI6e3N0cmluZzpbXCJiYXJuZXNIdXRcIixcInJlcHVsc2lvblwiLFwiaGllcmFyY2hpY2FsUmVwdWxzaW9uXCIsXCJmb3JjZUF0bGFzMkJhc2VkXCJdfSxzdGFiaWxpemF0aW9uOntlbmFibGVkOntcImJvb2xlYW5cIjpvfSxpdGVyYXRpb25zOntudW1iZXI6bn0sdXBkYXRlSW50ZXJ2YWw6e251bWJlcjpufSxvbmx5RHluYW1pY0VkZ2VzOntcImJvb2xlYW5cIjpvfSxmaXQ6e1wiYm9vbGVhblwiOm99LF9fdHlwZV9fOntvYmplY3Q6cixcImJvb2xlYW5cIjpvfX0sdGltZXN0ZXA6e251bWJlcjpufSxhZGFwdGl2ZVRpbWVzdGVwOntcImJvb2xlYW5cIjpvfSxfX3R5cGVfXzp7b2JqZWN0OnIsXCJib29sZWFuXCI6b319LGF1dG9SZXNpemU6e1wiYm9vbGVhblwiOm99LGNsaWNrVG9Vc2U6e1wiYm9vbGVhblwiOm99LGxvY2FsZTp7c3RyaW5nOml9LGxvY2FsZXM6e19fYW55X186e2FueTpofSxfX3R5cGVfXzp7b2JqZWN0OnJ9fSxoZWlnaHQ6e3N0cmluZzppfSx3aWR0aDp7c3RyaW5nOml9LF9fdHlwZV9fOntvYmplY3Q6cn19O2QuZ3JvdXBzLl9fYW55X189ZC5ub2RlcyxkLm1hbmlwdWxhdGlvbi5jb250cm9sTm9kZVN0eWxlPWQubm9kZXM7dmFyIGw9e25vZGVzOntib3JkZXJXaWR0aDpbMSwwLDEwLDFdLGJvcmRlcldpZHRoU2VsZWN0ZWQ6WzIsMCwxMCwxXSxjb2xvcjp7Ym9yZGVyOltcImNvbG9yXCIsXCIjMkI3Q0U5XCJdLGJhY2tncm91bmQ6W1wiY29sb3JcIixcIiM5N0MyRkNcIl0saGlnaGxpZ2h0Ontib3JkZXI6W1wiY29sb3JcIixcIiMyQjdDRTlcIl0sYmFja2dyb3VuZDpbXCJjb2xvclwiLFwiI0QyRTVGRlwiXX0saG92ZXI6e2JvcmRlcjpbXCJjb2xvclwiLFwiIzJCN0NFOVwiXSxiYWNrZ3JvdW5kOltcImNvbG9yXCIsXCIjRDJFNUZGXCJdfX0sZml4ZWQ6e3g6ITEseTohMX0sZm9udDp7Y29sb3I6W1wiY29sb3JcIixcIiMzNDM0MzRcIl0sc2l6ZTpbMTQsMCwxMDAsMV0sZmFjZTpbXCJhcmlhbFwiLFwidmVyZGFuYVwiLFwidGFob21hXCJdLGJhY2tncm91bmQ6W1wiY29sb3JcIixcIm5vbmVcIl0sc3Ryb2tlV2lkdGg6WzAsMCw1MCwxXSxzdHJva2VDb2xvcjpbXCJjb2xvclwiLFwiI2ZmZmZmZlwiXX0saGlkZGVuOiExLGxhYmVsSGlnaGxpZ2h0Qm9sZDohMCxwaHlzaWNzOiEwLHNjYWxpbmc6e21pbjpbMTAsMCwyMDAsMV0sbWF4OlszMCwwLDIwMCwxXSxsYWJlbDp7ZW5hYmxlZDohMSxtaW46WzE0LDAsMjAwLDFdLG1heDpbMzAsMCwyMDAsMV0sbWF4VmlzaWJsZTpbMzAsMCwyMDAsMV0sZHJhd1RocmVzaG9sZDpbNSwwLDIwLDFdfX0sc2hhZG93OntlbmFibGVkOiExLHNpemU6WzEwLDAsMjAsMV0seDpbNSwtMzAsMzAsMV0seTpbNSwtMzAsMzAsMV19LHNoYXBlOltcImVsbGlwc2VcIixcImJveFwiLFwiY2lyY2xlXCIsXCJkYXRhYmFzZVwiLFwiZGlhbW9uZFwiLFwiZG90XCIsXCJzcXVhcmVcIixcInN0YXJcIixcInRleHRcIixcInRyaWFuZ2xlXCIsXCJ0cmlhbmdsZURvd25cIl0sc2hhcGVQcm9wZXJ0aWVzOntib3JkZXJEYXNoZXM6ITEsYm9yZGVyUmFkaXVzOls2LDAsMjAsMV0sdXNlSW1hZ2VTaXplOiExfSxzaXplOlsyNSwwLDIwMCwxXX0sZWRnZXM6e2Fycm93czp7dG86e2VuYWJsZWQ6ITEsc2NhbGVGYWN0b3I6WzEsMCwzLC4wNV19LG1pZGRsZTp7ZW5hYmxlZDohMSxzY2FsZUZhY3RvcjpbMSwwLDMsLjA1XX0sZnJvbTp7ZW5hYmxlZDohMSxzY2FsZUZhY3RvcjpbMSwwLDMsLjA1XX19LGNvbG9yOntjb2xvcjpbXCJjb2xvclwiLFwiIzg0ODQ4NFwiXSxoaWdobGlnaHQ6W1wiY29sb3JcIixcIiM4NDg0ODRcIl0saG92ZXI6W1wiY29sb3JcIixcIiM4NDg0ODRcIl0saW5oZXJpdDpbXCJmcm9tXCIsXCJ0b1wiLFwiYm90aFwiLCEwLCExXSxvcGFjaXR5OlsxLDAsMSwuMDVdfSxkYXNoZXM6ITEsZm9udDp7Y29sb3I6W1wiY29sb3JcIixcIiMzNDM0MzRcIl0sc2l6ZTpbMTQsMCwxMDAsMV0sZmFjZTpbXCJhcmlhbFwiLFwidmVyZGFuYVwiLFwidGFob21hXCJdLGJhY2tncm91bmQ6W1wiY29sb3JcIixcIm5vbmVcIl0sc3Ryb2tlV2lkdGg6WzIsMCw1MCwxXSxzdHJva2VDb2xvcjpbXCJjb2xvclwiLFwiI2ZmZmZmZlwiXSxhbGlnbjpbXCJob3Jpem9udGFsXCIsXCJ0b3BcIixcIm1pZGRsZVwiLFwiYm90dG9tXCJdfSxoaWRkZW46ITEsaG92ZXJXaWR0aDpbMS41LDAsNSwuMV0sbGFiZWxIaWdobGlnaHRCb2xkOiEwLHBoeXNpY3M6ITAsc2NhbGluZzp7bWluOlsxLDAsMTAwLDFdLG1heDpbMTUsMCwxMDAsMV0sbGFiZWw6e2VuYWJsZWQ6ITAsbWluOlsxNCwwLDIwMCwxXSxtYXg6WzMwLDAsMjAwLDFdLG1heFZpc2libGU6WzMwLDAsMjAwLDFdLGRyYXdUaHJlc2hvbGQ6WzUsMCwyMCwxXX19LHNlbGVjdGlvbldpZHRoOlsxLjUsMCw1LC4xXSxzZWxmUmVmZXJlbmNlU2l6ZTpbMjAsMCwyMDAsMV0sc2hhZG93OntlbmFibGVkOiExLHNpemU6WzEwLDAsMjAsMV0seDpbNSwtMzAsMzAsMV0seTpbNSwtMzAsMzAsMV19LHNtb290aDp7ZW5hYmxlZDohMCx0eXBlOltcImR5bmFtaWNcIixcImNvbnRpbnVvdXNcIixcImRpc2NyZXRlXCIsXCJkaWFnb25hbENyb3NzXCIsXCJzdHJhaWdodENyb3NzXCIsXCJob3Jpem9udGFsXCIsXCJ2ZXJ0aWNhbFwiLFwiY3VydmVkQ1dcIixcImN1cnZlZENDV1wiLFwiY3ViaWNCZXppZXJcIl0sZm9yY2VEaXJlY3Rpb246W1wiaG9yaXpvbnRhbFwiLFwidmVydGljYWxcIixcIm5vbmVcIl0scm91bmRuZXNzOlsuNSwwLDEsLjA1XX0sd2lkdGg6WzEsMCwzMCwxXX0sbGF5b3V0OntoaWVyYXJjaGljYWw6e2VuYWJsZWQ6ITEsbGV2ZWxTZXBhcmF0aW9uOlsxNTAsMjAsNTAwLDVdLGRpcmVjdGlvbjpbXCJVRFwiLFwiRFVcIixcIkxSXCIsXCJSTFwiXSxzb3J0TWV0aG9kOltcImh1YnNpemVcIixcImRpcmVjdGVkXCJdfX0saW50ZXJhY3Rpb246e2RyYWdOb2RlczohMCxkcmFnVmlldzohMCxoaWRlRWRnZXNPbkRyYWc6ITEsaGlkZU5vZGVzT25EcmFnOiExLGhvdmVyOiExLGtleWJvYXJkOntlbmFibGVkOiExLHNwZWVkOnt4OlsxMCwwLDQwLDFdLHk6WzEwLDAsNDAsMV0sem9vbTpbLjAyLDAsLjEsLjAwNV19LGJpbmRUb1dpbmRvdzohMH0sbXVsdGlzZWxlY3Q6ITEsbmF2aWdhdGlvbkJ1dHRvbnM6ITEsc2VsZWN0YWJsZTohMCxzZWxlY3RDb25uZWN0ZWRFZGdlczohMCxob3ZlckNvbm5lY3RlZEVkZ2VzOiEwLHRvb2x0aXBEZWxheTpbMzAwLDAsMWUzLDI1XSx6b29tVmlldzohMH0sbWFuaXB1bGF0aW9uOntlbmFibGVkOiExLGluaXRpYWxseUFjdGl2ZTohMX0scGh5c2ljczp7ZW5hYmxlZDohMCxiYXJuZXNIdXQ6e2dyYXZpdGF0aW9uYWxDb25zdGFudDpbLTJlMywtM2U0LDAsNTBdLGNlbnRyYWxHcmF2aXR5OlsuMywwLDEwLC4wNV0sc3ByaW5nTGVuZ3RoOls5NSwwLDUwMCw1XSxzcHJpbmdDb25zdGFudDpbLjA0LDAsMS4yLC4wMDVdLGRhbXBpbmc6Wy4wOSwwLDEsLjAxXSxhdm9pZE92ZXJsYXA6WzAsMCwxLC4wMV19LGZvcmNlQXRsYXMyQmFzZWQ6e2dyYXZpdGF0aW9uYWxDb25zdGFudDpbLTUwLC01MDAsMCwxXSxjZW50cmFsR3Jhdml0eTpbLjAxLDAsMSwuMDA1XSxzcHJpbmdMZW5ndGg6Wzk1LDAsNTAwLDVdLHNwcmluZ0NvbnN0YW50OlsuMDgsMCwxLjIsLjAwNV0sZGFtcGluZzpbLjQsMCwxLC4wMV0sYXZvaWRPdmVybGFwOlswLDAsMSwuMDFdfSxyZXB1bHNpb246e2NlbnRyYWxHcmF2aXR5OlsuMiwwLDEwLC4wNV0sc3ByaW5nTGVuZ3RoOlsyMDAsMCw1MDAsNV0sc3ByaW5nQ29uc3RhbnQ6Wy4wNSwwLDEuMiwuMDA1XSxub2RlRGlzdGFuY2U6WzEwMCwwLDUwMCw1XSxkYW1waW5nOlsuMDksMCwxLC4wMV19LGhpZXJhcmNoaWNhbFJlcHVsc2lvbjp7Y2VudHJhbEdyYXZpdHk6Wy4yLDAsMTAsLjA1XSxzcHJpbmdMZW5ndGg6WzEwMCwwLDUwMCw1XSxzcHJpbmdDb25zdGFudDpbLjAxLDAsMS4yLC4wMDVdLG5vZGVEaXN0YW5jZTpbMTIwLDAsNTAwLDVdLGRhbXBpbmc6Wy4wOSwwLDEsLjAxXX0sbWF4VmVsb2NpdHk6WzUwLDAsMTUwLDFdLG1pblZlbG9jaXR5OlsuMSwuMDEsLjUsLjAxXSxzb2x2ZXI6W1wiYmFybmVzSHV0XCIsXCJmb3JjZUF0bGFzMkJhc2VkXCIsXCJyZXB1bHNpb25cIixcImhpZXJhcmNoaWNhbFJlcHVsc2lvblwiXSx0aW1lc3RlcDpbLjUsLjAxLDEsLjAxXX0sZ2xvYmFsOntsb2NhbGU6W1wiZW5cIixcIm5sXCJdfX07ZS5hbGxPcHRpb25zPWQsZS5jb25maWd1cmVPcHRpb25zPWx9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBvKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dmFyIGk9W10sbz0hMCxuPSExLHM9dm9pZCAwO3RyeXtmb3IodmFyIHIsYT10W1N5bWJvbC5pdGVyYXRvcl0oKTshKG89KHI9YS5uZXh0KCkpLmRvbmUpJiYoaS5wdXNoKHIudmFsdWUpLCFlfHxpLmxlbmd0aCE9PWUpO289ITApO31jYXRjaChoKXtuPSEwLHM9aH1maW5hbGx5e3RyeXshbyYmYVtcInJldHVyblwiXSYmYVtcInJldHVyblwiXSgpfWZpbmFsbHl7aWYobil0aHJvdyBzfX1yZXR1cm4gaX1yZXR1cm4gZnVuY3Rpb24oZSxpKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlO2lmKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSkpcmV0dXJuIHQoZSxpKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKX19KCkscj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLGE9aSgxMTMpLGg9byhhKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLGksbyl7bih0aGlzLHQpLHRoaXMuYm9keT1lLHRoaXMuc3ByaW5nTGVuZ3RoPWksdGhpcy5zcHJpbmdDb25zdGFudD1vLHRoaXMuZGlzdGFuY2VTb2x2ZXI9bmV3IGhbXCJkZWZhdWx0XCJdfXJldHVybiByKHQsW3trZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7dCYmKHQuc3ByaW5nTGVuZ3RoJiYodGhpcy5zcHJpbmdMZW5ndGg9dC5zcHJpbmdMZW5ndGgpLHQuc3ByaW5nQ29uc3RhbnQmJih0aGlzLnNwcmluZ0NvbnN0YW50PXQuc3ByaW5nQ29uc3RhbnQpKX19LHtrZXk6XCJzb2x2ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aDw9Mnx8dm9pZCAwPT09YXJndW1lbnRzWzJdPyExOmFyZ3VtZW50c1syXSxvPXRoaXMuZGlzdGFuY2VTb2x2ZXIuZ2V0RGlzdGFuY2VzKHRoaXMuYm9keSx0LGUpO3RoaXMuX2NyZWF0ZUxfbWF0cml4KG8pLHRoaXMuX2NyZWF0ZUtfbWF0cml4KG8pO2Zvcih2YXIgbj0uMDEscj0xLGE9MCxoPU1hdGgubWF4KDFlMyxNYXRoLm1pbigxMCp0aGlzLmJvZHkubm9kZUluZGljZXMubGVuZ3RoLDZlMykpLGQ9NSxsPTFlOSx1PTAsYz0wLHA9MCxmPTAsbT0wO2w+biYmaD5hOyl7YSs9MTt2YXIgdj10aGlzLl9nZXRIaWdoZXN0RW5lcmd5Tm9kZShpKSxnPXModiw0KTtmb3IodT1nWzBdLGw9Z1sxXSxjPWdbMl0scD1nWzNdLGY9bCxtPTA7Zj5yJiZkPm07KXttKz0xLHRoaXMuX21vdmVOb2RlKHUsYyxwKTt2YXIgeT10aGlzLl9nZXRFbmVyZ3kodSksYj1zKHksMyk7Zj1iWzBdLGM9YlsxXSxwPWJbMl19fX19LHtrZXk6XCJfZ2V0SGlnaGVzdEVuZXJneU5vZGVcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5ib2R5Lm5vZGVJbmRpY2VzLGk9dGhpcy5ib2R5Lm5vZGVzLG89MCxuPWVbMF0scj0wLGE9MCxoPTA7aDxlLmxlbmd0aDtoKyspe3ZhciBkPWVbaF07aWYoaVtkXS5wcmVkZWZpbmVkUG9zaXRpb249PT0hMXx8aVtkXS5pc0NsdXN0ZXI9PT0hMCYmdD09PSEwfHxpW2RdLm9wdGlvbnMuZml4ZWQueD09PSEwfHxpW2RdLm9wdGlvbnMuZml4ZWQueT09PSEwKXtcbnZhciBsPXRoaXMuX2dldEVuZXJneShkKSx1PXMobCwzKSxjPXVbMF0scD11WzFdLGY9dVsyXTtjPm8mJihvPWMsbj1kLHI9cCxhPWYpfX1yZXR1cm5bbixvLHIsYV19fSx7a2V5OlwiX2dldEVuZXJneVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmJvZHkubm9kZUluZGljZXMsaT10aGlzLmJvZHkubm9kZXMsbz1pW3RdLngsbj1pW3RdLnkscz0wLHI9MCxhPTA7YTxlLmxlbmd0aDthKyspe3ZhciBoPWVbYV07aWYoaCE9PXQpe3ZhciBkPWlbaF0ueCxsPWlbaF0ueSx1PTEvTWF0aC5zcXJ0KE1hdGgucG93KG8tZCwyKStNYXRoLnBvdyhuLWwsMikpO3MrPXRoaXMuS19tYXRyaXhbdF1baF0qKG8tZC10aGlzLkxfbWF0cml4W3RdW2hdKihvLWQpKnUpLHIrPXRoaXMuS19tYXRyaXhbdF1baF0qKG4tbC10aGlzLkxfbWF0cml4W3RdW2hdKihuLWwpKnUpfX12YXIgYz1NYXRoLnNxcnQoTWF0aC5wb3cocywyKStNYXRoLnBvdyhyLDIpKTtyZXR1cm5bYyxzLHJdfX0se2tleTpcIl9tb3ZlTm9kZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG89dGhpcy5ib2R5Lm5vZGVJbmRpY2VzLG49dGhpcy5ib2R5Lm5vZGVzLHM9MCxyPTAsYT0wLGg9blt0XS54LGQ9blt0XS55LGw9MDtsPG8ubGVuZ3RoO2wrKyl7dmFyIHU9b1tsXTtpZih1IT09dCl7dmFyIGM9blt1XS54LHA9blt1XS55LGY9MS9NYXRoLnBvdyhNYXRoLnBvdyhoLWMsMikrTWF0aC5wb3coZC1wLDIpLDEuNSk7cys9dGhpcy5LX21hdHJpeFt0XVt1XSooMS10aGlzLkxfbWF0cml4W3RdW3VdKk1hdGgucG93KGQtcCwyKSpmKSxyKz10aGlzLktfbWF0cml4W3RdW3VdKih0aGlzLkxfbWF0cml4W3RdW3VdKihoLWMpKihkLXApKmYpLGErPXRoaXMuS19tYXRyaXhbdF1bdV0qKDEtdGhpcy5MX21hdHJpeFt0XVt1XSpNYXRoLnBvdyhoLWMsMikqZil9fXZhciBtPXMsdj1yLGc9ZSx5PWEsYj1pLHc9KGcvbStiL3YpLyh2L20teS92KSxfPS0odip3K2cpL207blt0XS54Kz1fLG5bdF0ueSs9d319LHtrZXk6XCJfY3JlYXRlTF9tYXRyaXhcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmJvZHkubm9kZUluZGljZXMsaT10aGlzLnNwcmluZ0xlbmd0aDt0aGlzLkxfbWF0cml4PVtdO2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKXt0aGlzLkxfbWF0cml4W2Vbb11dPXt9O2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXRoaXMuTF9tYXRyaXhbZVtvXV1bZVtuXV09aSp0W2Vbb11dW2Vbbl1dfX19LHtrZXk6XCJfY3JlYXRlS19tYXRyaXhcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmJvZHkubm9kZUluZGljZXMsaT10aGlzLnNwcmluZ0NvbnN0YW50O3RoaXMuS19tYXRyaXg9W107Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspe3RoaXMuS19tYXRyaXhbZVtvXV09e307Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdGhpcy5LX21hdHJpeFtlW29dXVtlW25dXT1pKk1hdGgucG93KHRbZVtvXV1bZVtuXV0sLTIpfX19XSksdH0oKTtlW1wiZGVmYXVsdFwiXT1kLHQuZXhwb3J0cz1lW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7aSh0aGlzLHQpfXJldHVybiBvKHQsW3trZXk6XCJnZXREaXN0YW5jZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBvPXt9LG49dC5lZGdlcyxzPTA7czxlLmxlbmd0aDtzKyspe29bZVtzXV09e30sb1tlW3NdXT17fTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylvW2Vbc11dW2Vbcl1dPXM9PXI/MDoxZTksb1tlW3NdXVtlW3JdXT1zPT1yPzA6MWU5fWZvcih2YXIgcz0wO3M8aS5sZW5ndGg7cysrKXt2YXIgYT1uW2lbc11dO2EuY29ubmVjdGVkPT09ITAmJnZvaWQgMCE9PW9bYS5mcm9tSWRdJiZ2b2lkIDAhPT1vW2EudG9JZF0mJihvW2EuZnJvbUlkXVthLnRvSWRdPTEsb1thLnRvSWRdW2EuZnJvbUlkXT0xKX1mb3IodmFyIGg9ZS5sZW5ndGgsZD0wO2g+ZDtkKyspZm9yKHZhciBzPTA7aC0xPnM7cysrKWZvcih2YXIgcj1zKzE7aD5yO3IrKylvW2Vbc11dW2Vbcl1dPU1hdGgubWluKG9bZVtzXV1bZVtyXV0sb1tlW3NdXVtlW2RdXStvW2VbZF1dW2Vbcl1dKSxvW2Vbcl1dW2Vbc11dPW9bZVtzXV1bZVtyXV07cmV0dXJuIG99fV0pLHR9KCk7ZVtcImRlZmF1bHRcIl09bix0LmV4cG9ydHM9ZVtcImRlZmF1bHRcIl19LGZ1bmN0aW9uKHQsZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCYmKENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5wcm90b3R5cGUuY2lyY2xlPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLmJlZ2luUGF0aCgpLHRoaXMuYXJjKHQsZSxpLDAsMipNYXRoLlBJLCExKSx0aGlzLmNsb3NlUGF0aCgpfSxDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQucHJvdG90eXBlLnNxdWFyZT1mdW5jdGlvbih0LGUsaSl7dGhpcy5iZWdpblBhdGgoKSx0aGlzLnJlY3QodC1pLGUtaSwyKmksMippKSx0aGlzLmNsb3NlUGF0aCgpfSxDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQucHJvdG90eXBlLnRyaWFuZ2xlPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLmJlZ2luUGF0aCgpLGkqPTEuMTUsZSs9LjI3NSppO3ZhciBvPTIqaSxuPW8vMixzPU1hdGguc3FydCgzKS82Km8scj1NYXRoLnNxcnQobypvLW4qbik7dGhpcy5tb3ZlVG8odCxlLShyLXMpKSx0aGlzLmxpbmVUbyh0K24sZStzKSx0aGlzLmxpbmVUbyh0LW4sZStzKSx0aGlzLmxpbmVUbyh0LGUtKHItcykpLHRoaXMuY2xvc2VQYXRoKCl9LENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5wcm90b3R5cGUudHJpYW5nbGVEb3duPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLmJlZ2luUGF0aCgpLGkqPTEuMTUsZS09LjI3NSppO3ZhciBvPTIqaSxuPW8vMixzPU1hdGguc3FydCgzKS82Km8scj1NYXRoLnNxcnQobypvLW4qbik7dGhpcy5tb3ZlVG8odCxlKyhyLXMpKSx0aGlzLmxpbmVUbyh0K24sZS1zKSx0aGlzLmxpbmVUbyh0LW4sZS1zKSx0aGlzLmxpbmVUbyh0LGUrKHItcykpLHRoaXMuY2xvc2VQYXRoKCl9LENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5wcm90b3R5cGUuc3Rhcj1mdW5jdGlvbih0LGUsaSl7dGhpcy5iZWdpblBhdGgoKSxpKj0uODIsZSs9LjEqaTtmb3IodmFyIG89MDsxMD5vO28rKyl7dmFyIG49byUyPT09MD8xLjMqaTouNSppO3RoaXMubGluZVRvKHQrbipNYXRoLnNpbigyKm8qTWF0aC5QSS8xMCksZS1uKk1hdGguY29zKDIqbypNYXRoLlBJLzEwKSl9dGhpcy5jbG9zZVBhdGgoKX0sQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELnByb3RvdHlwZS5kaWFtb25kPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLmJlZ2luUGF0aCgpLHRoaXMubGluZVRvKHQsZStpKSx0aGlzLmxpbmVUbyh0K2ksZSksdGhpcy5saW5lVG8odCxlLWkpLHRoaXMubGluZVRvKHQtaSxlKSx0aGlzLmNsb3NlUGF0aCgpfSxDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQucHJvdG90eXBlLnJvdW5kUmVjdD1mdW5jdGlvbih0LGUsaSxvLG4pe3ZhciBzPU1hdGguUEkvMTgwOzA+aS0yKm4mJihuPWkvMiksMD5vLTIqbiYmKG49by8yKSx0aGlzLmJlZ2luUGF0aCgpLHRoaXMubW92ZVRvKHQrbixlKSx0aGlzLmxpbmVUbyh0K2ktbixlKSx0aGlzLmFyYyh0K2ktbixlK24sbiwyNzAqcywzNjAqcywhMSksdGhpcy5saW5lVG8odCtpLGUrby1uKSx0aGlzLmFyYyh0K2ktbixlK28tbixuLDAsOTAqcywhMSksdGhpcy5saW5lVG8odCtuLGUrbyksdGhpcy5hcmModCtuLGUrby1uLG4sOTAqcywxODAqcywhMSksdGhpcy5saW5lVG8odCxlK24pLHRoaXMuYXJjKHQrbixlK24sbiwxODAqcywyNzAqcywhMSksdGhpcy5jbG9zZVBhdGgoKX0sQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELnByb3RvdHlwZS5lbGxpcHNlPWZ1bmN0aW9uKHQsZSxpLG8pe3ZhciBuPS41NTIyODQ4LHM9aS8yKm4scj1vLzIqbixhPXQraSxoPWUrbyxkPXQraS8yLGw9ZStvLzI7dGhpcy5iZWdpblBhdGgoKSx0aGlzLm1vdmVUbyh0LGwpLHRoaXMuYmV6aWVyQ3VydmVUbyh0LGwtcixkLXMsZSxkLGUpLHRoaXMuYmV6aWVyQ3VydmVUbyhkK3MsZSxhLGwtcixhLGwpLHRoaXMuYmV6aWVyQ3VydmVUbyhhLGwrcixkK3MsaCxkLGgpLHRoaXMuYmV6aWVyQ3VydmVUbyhkLXMsaCx0LGwrcix0LGwpLHRoaXMuY2xvc2VQYXRoKCl9LENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5wcm90b3R5cGUuZGF0YWJhc2U9ZnVuY3Rpb24odCxlLGksbyl7dmFyIG49MS8zLHM9aSxyPW8qbixhPS41NTIyODQ4LGg9cy8yKmEsZD1yLzIqYSxsPXQrcyx1PWUrcixjPXQrcy8yLHA9ZStyLzIsZj1lKyhvLXIvMiksbT1lK287dGhpcy5iZWdpblBhdGgoKSx0aGlzLm1vdmVUbyhsLHApLHRoaXMuYmV6aWVyQ3VydmVUbyhsLHArZCxjK2gsdSxjLHUpLHRoaXMuYmV6aWVyQ3VydmVUbyhjLWgsdSx0LHArZCx0LHApLHRoaXMuYmV6aWVyQ3VydmVUbyh0LHAtZCxjLWgsZSxjLGUpLHRoaXMuYmV6aWVyQ3VydmVUbyhjK2gsZSxsLHAtZCxsLHApLHRoaXMubGluZVRvKGwsZiksdGhpcy5iZXppZXJDdXJ2ZVRvKGwsZitkLGMraCxtLGMsbSksdGhpcy5iZXppZXJDdXJ2ZVRvKGMtaCxtLHQsZitkLHQsZiksdGhpcy5saW5lVG8odCxwKX0sQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELnByb3RvdHlwZS5hcnJvdz1mdW5jdGlvbih0LGUsaSxvKXt2YXIgbj10LW8qTWF0aC5jb3MoaSkscz1lLW8qTWF0aC5zaW4oaSkscj10LS45Km8qTWF0aC5jb3MoaSksYT1lLS45Km8qTWF0aC5zaW4oaSksaD1uK28vMypNYXRoLmNvcyhpKy41Kk1hdGguUEkpLGQ9cytvLzMqTWF0aC5zaW4oaSsuNSpNYXRoLlBJKSxsPW4rby8zKk1hdGguY29zKGktLjUqTWF0aC5QSSksdT1zK28vMypNYXRoLnNpbihpLS41Kk1hdGguUEkpO3RoaXMuYmVnaW5QYXRoKCksdGhpcy5tb3ZlVG8odCxlKSx0aGlzLmxpbmVUbyhoLGQpLHRoaXMubGluZVRvKHIsYSksdGhpcy5saW5lVG8obCx1KSx0aGlzLmNsb3NlUGF0aCgpfSxDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQucHJvdG90eXBlLmRhc2hlZExpbmU9ZnVuY3Rpb24odCxlLGksbyxuKXt0aGlzLmJlZ2luUGF0aCgpLHRoaXMubW92ZVRvKHQsZSk7Zm9yKHZhciBzPW4ubGVuZ3RoLHI9aS10LGE9by1lLGg9YS9yLGQ9TWF0aC5zcXJ0KHIqcithKmEpLGw9MCx1PSEwLGM9MCxwPW5bMF07ZD49LjE7KXA9bltsKyslc10scD5kJiYocD1kKSxjPU1hdGguc3FydChwKnAvKDEraCpoKSksYz0wPnI/LWM6Yyx0Kz1jLGUrPWgqYyx1PT09ITA/dGhpcy5saW5lVG8odCxlKTp0aGlzLm1vdmVUbyh0LGUpLGQtPXAsdT0hdX0pfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkodCl7cmV0dXJuIFA9dCxwKCl9ZnVuY3Rpb24gbygpe0k9MCxOPVAuY2hhckF0KDApfWZ1bmN0aW9uIG4oKXtJKyssTj1QLmNoYXJBdChJKX1mdW5jdGlvbiBzKCl7cmV0dXJuIFAuY2hhckF0KEkrMSl9ZnVuY3Rpb24gcih0KXtyZXR1cm4gQS50ZXN0KHQpfWZ1bmN0aW9uIGEodCxlKXtpZih0fHwodD17fSksZSlmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gdH1mdW5jdGlvbiBoKHQsZSxpKXtmb3IodmFyIG89ZS5zcGxpdChcIi5cIiksbj10O28ubGVuZ3RoOyl7dmFyIHM9by5zaGlmdCgpO28ubGVuZ3RoPyhuW3NdfHwobltzXT17fSksbj1uW3NdKTpuW3NdPWl9fWZ1bmN0aW9uIGQodCxlKXtmb3IodmFyIGksbyxuPW51bGwscz1bdF0scj10O3IucGFyZW50OylzLnB1c2goci5wYXJlbnQpLHI9ci5wYXJlbnQ7aWYoci5ub2Rlcylmb3IoaT0wLG89ci5ub2Rlcy5sZW5ndGg7bz5pO2krKylpZihlLmlkPT09ci5ub2Rlc1tpXS5pZCl7bj1yLm5vZGVzW2ldO2JyZWFrfWZvcihufHwobj17aWQ6ZS5pZH0sdC5ub2RlJiYobi5hdHRyPWEobi5hdHRyLHQubm9kZSkpKSxpPXMubGVuZ3RoLTE7aT49MDtpLS0pe3ZhciBoPXNbaV07aC5ub2Rlc3x8KGgubm9kZXM9W10pLC0xPT09aC5ub2Rlcy5pbmRleE9mKG4pJiZoLm5vZGVzLnB1c2gobil9ZS5hdHRyJiYobi5hdHRyPWEobi5hdHRyLGUuYXR0cikpfWZ1bmN0aW9uIGwodCxlKXtpZih0LmVkZ2VzfHwodC5lZGdlcz1bXSksdC5lZGdlcy5wdXNoKGUpLHQuZWRnZSl7dmFyIGk9YSh7fSx0LmVkZ2UpO2UuYXR0cj1hKGksZS5hdHRyKX19ZnVuY3Rpb24gdSh0LGUsaSxvLG4pe3ZhciBzPXtmcm9tOmUsdG86aSx0eXBlOm99O3JldHVybiB0LmVkZ2UmJihzLmF0dHI9YSh7fSx0LmVkZ2UpKSxzLmF0dHI9YShzLmF0dHJ8fHt9LG4pLHN9ZnVuY3Rpb24gYygpe2ZvcihMPVMuTlVMTCx6PVwiXCI7XCIgXCI9PT1OfHxcIlx0XCI9PT1OfHxcIlxcblwiPT09Tnx8XCJcXHJcIj09PU47KW4oKTtkb3t2YXIgdD0hMTtpZihcIiNcIj09PU4pe2Zvcih2YXIgZT1JLTE7XCIgXCI9PT1QLmNoYXJBdChlKXx8XCJcdFwiPT09UC5jaGFyQXQoZSk7KWUtLTtpZihcIlxcblwiPT09UC5jaGFyQXQoZSl8fFwiXCI9PT1QLmNoYXJBdChlKSl7Zm9yKDtcIlwiIT1OJiZcIlxcblwiIT1OOyluKCk7dD0hMH19aWYoXCIvXCI9PT1OJiZcIi9cIj09PXMoKSl7Zm9yKDtcIlwiIT1OJiZcIlxcblwiIT1OOyluKCk7dD0hMH1pZihcIi9cIj09PU4mJlwiKlwiPT09cygpKXtmb3IoO1wiXCIhPU47KXtpZihcIipcIj09PU4mJlwiL1wiPT09cygpKXtuKCksbigpO2JyZWFrfW4oKX10PSEwfWZvcig7XCIgXCI9PT1OfHxcIlx0XCI9PT1OfHxcIlxcblwiPT09Tnx8XCJcXHJcIj09PU47KW4oKX13aGlsZSh0KTtpZihcIlwiPT09TilyZXR1cm4gdm9pZChMPVMuREVMSU1JVEVSKTt2YXIgaT1OK3MoKTtpZihFW2ldKXJldHVybiBMPVMuREVMSU1JVEVSLHo9aSxuKCksdm9pZCBuKCk7aWYoRVtOXSlyZXR1cm4gTD1TLkRFTElNSVRFUix6PU4sdm9pZCBuKCk7aWYocihOKXx8XCItXCI9PT1OKXtmb3Ioeis9TixuKCk7cihOKTspeis9TixuKCk7cmV0dXJuXCJmYWxzZVwiPT09ej96PSExOlwidHJ1ZVwiPT09ej96PSEwOmlzTmFOKE51bWJlcih6KSl8fCh6PU51bWJlcih6KSksdm9pZChMPVMuSURFTlRJRklFUil9aWYoJ1wiJz09PU4pe2ZvcihuKCk7XCJcIiE9TiYmKCdcIichPU58fCdcIic9PT1OJiYnXCInPT09cygpKTspeis9TiwnXCInPT09TiYmbigpLG4oKTtpZignXCInIT1OKXRocm93IF8oJ0VuZCBvZiBzdHJpbmcgXCIgZXhwZWN0ZWQnKTtyZXR1cm4gbigpLHZvaWQoTD1TLklERU5USUZJRVIpfWZvcihMPVMuVU5LTk9XTjtcIlwiIT1OOyl6Kz1OLG4oKTt0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1N5bnRheCBlcnJvciBpbiBwYXJ0IFwiJyt4KHosMzApKydcIicpfWZ1bmN0aW9uIHAoKXt2YXIgdD17fTtpZihvKCksYygpLFwic3RyaWN0XCI9PT16JiYodC5zdHJpY3Q9ITAsYygpKSwoXCJncmFwaFwiPT09enx8XCJkaWdyYXBoXCI9PT16KSYmKHQudHlwZT16LGMoKSksTD09PVMuSURFTlRJRklFUiYmKHQuaWQ9eixjKCkpLFwie1wiIT16KXRocm93IF8oXCJBbmdsZSBicmFja2V0IHsgZXhwZWN0ZWRcIik7aWYoYygpLGYodCksXCJ9XCIhPXopdGhyb3cgXyhcIkFuZ2xlIGJyYWNrZXQgfSBleHBlY3RlZFwiKTtpZihjKCksXCJcIiE9PXopdGhyb3cgXyhcIkVuZCBvZiBmaWxlIGV4cGVjdGVkXCIpO3JldHVybiBjKCksZGVsZXRlIHQubm9kZSxkZWxldGUgdC5lZGdlLGRlbGV0ZSB0LmdyYXBoLHR9ZnVuY3Rpb24gZih0KXtmb3IoO1wiXCIhPT16JiZcIn1cIiE9ejspbSh0KSxcIjtcIj09PXomJmMoKX1mdW5jdGlvbiBtKHQpe3ZhciBlPXYodCk7aWYoZSlyZXR1cm4gdm9pZCBiKHQsZSk7dmFyIGk9Zyh0KTtpZighaSl7aWYoTCE9Uy5JREVOVElGSUVSKXRocm93IF8oXCJJZGVudGlmaWVyIGV4cGVjdGVkXCIpO3ZhciBvPXo7aWYoYygpLFwiPVwiPT09eil7aWYoYygpLEwhPVMuSURFTlRJRklFUil0aHJvdyBfKFwiSWRlbnRpZmllciBleHBlY3RlZFwiKTt0W29dPXosYygpfWVsc2UgeSh0LG8pfX1mdW5jdGlvbiB2KHQpe3ZhciBlPW51bGw7aWYoXCJzdWJncmFwaFwiPT09eiYmKGU9e30sZS50eXBlPVwic3ViZ3JhcGhcIixjKCksTD09PVMuSURFTlRJRklFUiYmKGUuaWQ9eixjKCkpKSxcIntcIj09PXope2lmKGMoKSxlfHwoZT17fSksZS5wYXJlbnQ9dCxlLm5vZGU9dC5ub2RlLGUuZWRnZT10LmVkZ2UsZS5ncmFwaD10LmdyYXBoLGYoZSksXCJ9XCIhPXopdGhyb3cgXyhcIkFuZ2xlIGJyYWNrZXQgfSBleHBlY3RlZFwiKTtjKCksZGVsZXRlIGUubm9kZSxkZWxldGUgZS5lZGdlLGRlbGV0ZSBlLmdyYXBoLGRlbGV0ZSBlLnBhcmVudCx0LnN1YmdyYXBoc3x8KHQuc3ViZ3JhcGhzPVtdKSx0LnN1YmdyYXBocy5wdXNoKGUpfXJldHVybiBlfWZ1bmN0aW9uIGcodCl7cmV0dXJuXCJub2RlXCI9PT16PyhjKCksdC5ub2RlPXcoKSxcIm5vZGVcIik6XCJlZGdlXCI9PT16PyhjKCksdC5lZGdlPXcoKSxcImVkZ2VcIik6XCJncmFwaFwiPT09ej8oYygpLHQuZ3JhcGg9dygpLFwiZ3JhcGhcIik6bnVsbH1mdW5jdGlvbiB5KHQsZSl7dmFyIGk9e2lkOmV9LG89dygpO28mJihpLmF0dHI9byksZCh0LGkpLGIodCxlKX1mdW5jdGlvbiBiKHQsZSl7Zm9yKDtcIi0+XCI9PT16fHxcIi0tXCI9PT16Oyl7dmFyIGksbz16O2MoKTt2YXIgbj12KHQpO2lmKG4paT1uO2Vsc2V7aWYoTCE9Uy5JREVOVElGSUVSKXRocm93IF8oXCJJZGVudGlmaWVyIG9yIHN1YmdyYXBoIGV4cGVjdGVkXCIpO2k9eixkKHQse2lkOml9KSxjKCl9dmFyIHM9dygpLHI9dSh0LGUsaSxvLHMpO2wodCxyKSxlPWl9fWZ1bmN0aW9uIHcoKXtmb3IodmFyIHQ9bnVsbDtcIltcIj09PXo7KXtmb3IoYygpLHQ9e307XCJcIiE9PXomJlwiXVwiIT16Oyl7aWYoTCE9Uy5JREVOVElGSUVSKXRocm93IF8oXCJBdHRyaWJ1dGUgbmFtZSBleHBlY3RlZFwiKTt2YXIgZT16O2lmKGMoKSxcIj1cIiE9eil0aHJvdyBfKFwiRXF1YWwgc2lnbiA9IGV4cGVjdGVkXCIpO2lmKGMoKSxMIT1TLklERU5USUZJRVIpdGhyb3cgXyhcIkF0dHJpYnV0ZSB2YWx1ZSBleHBlY3RlZFwiKTt2YXIgaT16O2godCxlLGkpLGMoKSxcIixcIj09eiYmYygpfWlmKFwiXVwiIT16KXRocm93IF8oXCJCcmFja2V0IF0gZXhwZWN0ZWRcIik7YygpfXJldHVybiB0fWZ1bmN0aW9uIF8odCl7cmV0dXJuIG5ldyBTeW50YXhFcnJvcih0KycsIGdvdCBcIicreCh6LDMwKSsnXCIgKGNoYXIgJytJK1wiKVwiKX1mdW5jdGlvbiB4KHQsZSl7cmV0dXJuIHQubGVuZ3RoPD1lP3Q6dC5zdWJzdHIoMCwyNykrXCIuLi5cIn1mdW5jdGlvbiBrKHQsZSxpKXtBcnJheS5pc0FycmF5KHQpP3QuZm9yRWFjaChmdW5jdGlvbih0KXtBcnJheS5pc0FycmF5KGUpP2UuZm9yRWFjaChmdW5jdGlvbihlKXtpKHQsZSl9KTppKHQsZSl9KTpBcnJheS5pc0FycmF5KGUpP2UuZm9yRWFjaChmdW5jdGlvbihlKXtpKHQsZSl9KTppKHQsZSl9ZnVuY3Rpb24gTyh0LGUsaSl7Zm9yKHZhciBvPWUuc3BsaXQoXCIuXCIpLG49by5wb3AoKSxzPXQscj0wO3I8by5sZW5ndGg7cisrKXt2YXIgYT1vW3JdO2EgaW4gc3x8KHNbYV09e30pLHM9c1thXX1yZXR1cm4gc1tuXT1pLHR9ZnVuY3Rpb24gTSh0LGUpe3ZhciBpPXt9O2Zvcih2YXIgbyBpbiB0KWlmKHQuaGFzT3duUHJvcGVydHkobykpe3ZhciBuPWVbb107QXJyYXkuaXNBcnJheShuKT9uLmZvckVhY2goZnVuY3Rpb24oZSl7TyhpLGUsdFtvXSl9KTpcInN0cmluZ1wiPT10eXBlb2Ygbj9PKGksbix0W29dKTpPKGksbyx0W29dKX1yZXR1cm4gaX1mdW5jdGlvbiBEKHQpe3ZhciBlPWkodCksbz17bm9kZXM6W10sZWRnZXM6W10sb3B0aW9uczp7fX07aWYoZS5ub2RlcyYmZS5ub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPXtpZDp0LmlkLGxhYmVsOlN0cmluZyh0LmxhYmVsfHx0LmlkKX07YShlLE0odC5hdHRyLEMpKSxlLmltYWdlJiYoZS5zaGFwZT1cImltYWdlXCIpLG8ubm9kZXMucHVzaChlKX0pLGUuZWRnZXMpe3ZhciBuPWZ1bmN0aW9uKHQpe3ZhciBlPXtmcm9tOnQuZnJvbSx0bzp0LnRvfTtyZXR1cm4gYShlLE0odC5hdHRyLFQpKSxlLmFycm93cz1cIi0+XCI9PT10LnR5cGU/XCJ0b1wiOnZvaWQgMCxlfTtlLmVkZ2VzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGUsaTtlPXQuZnJvbSBpbnN0YW5jZW9mIE9iamVjdD90LmZyb20ubm9kZXM6e2lkOnQuZnJvbX0saT10LnRvIGluc3RhbmNlb2YgT2JqZWN0P3QudG8ubm9kZXM6e2lkOnQudG99LHQuZnJvbSBpbnN0YW5jZW9mIE9iamVjdCYmdC5mcm9tLmVkZ2VzJiZ0LmZyb20uZWRnZXMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT1uKHQpO28uZWRnZXMucHVzaChlKX0pLGsoZSxpLGZ1bmN0aW9uKGUsaSl7dmFyIHM9dShvLGUuaWQsaS5pZCx0LnR5cGUsdC5hdHRyKSxyPW4ocyk7by5lZGdlcy5wdXNoKHIpfSksdC50byBpbnN0YW5jZW9mIE9iamVjdCYmdC50by5lZGdlcyYmdC50by5lZGdlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPW4odCk7by5lZGdlcy5wdXNoKGUpfSl9KX1yZXR1cm4gZS5hdHRyJiYoby5vcHRpb25zPWUuYXR0ciksb312YXIgQz17Zm9udHNpemU6XCJmb250LnNpemVcIixmb250Y29sb3I6XCJmb250LmNvbG9yXCIsbGFiZWxmb250Y29sb3I6XCJmb250LmNvbG9yXCIsZm9udG5hbWU6XCJmb250LmZhY2VcIixjb2xvcjpbXCJjb2xvci5ib3JkZXJcIixcImNvbG9yLmJhY2tncm91bmRcIl0sZmlsbGNvbG9yOlwiY29sb3IuYmFja2dyb3VuZFwiLHRvb2x0aXA6XCJ0aXRsZVwiLGxhYmVsdG9vbHRpcDpcInRpdGxlXCJ9LFQ9T2JqZWN0LmNyZWF0ZShDKTtULmNvbG9yPVwiY29sb3IuY29sb3JcIjt2YXIgUz17TlVMTDowLERFTElNSVRFUjoxLElERU5USUZJRVI6MixVTktOT1dOOjN9LEU9e1wie1wiOiEwLFwifVwiOiEwLFwiW1wiOiEwLFwiXVwiOiEwLFwiO1wiOiEwLFwiPVwiOiEwLFwiLFwiOiEwLFwiLT5cIjohMCxcIi0tXCI6ITB9LFA9XCJcIixJPTAsTj1cIlwiLHo9XCJcIixMPVMuTlVMTCxBPS9bYS16QS1aXzAtOS46I10vO2UucGFyc2VET1Q9aSxlLkRPVFRvR3JhcGg9RH0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQsZSl7dmFyIGk9W10sbz1bXSxuPXtlZGdlczp7aW5oZXJpdENvbG9yOiExfSxub2Rlczp7Zml4ZWQ6ITEscGFyc2VDb2xvcjohMX19O3ZvaWQgMCE9PWUmJih2b2lkIDAhPT1lLmZpeGVkJiYobi5ub2Rlcy5maXhlZD1lLmZpeGVkKSx2b2lkIDAhPT1lLnBhcnNlQ29sb3ImJihuLm5vZGVzLnBhcnNlQ29sb3I9ZS5wYXJzZUNvbG9yKSx2b2lkIDAhPT1lLmluaGVyaXRDb2xvciYmKG4uZWRnZXMuaW5oZXJpdENvbG9yPWUuaW5oZXJpdENvbG9yKSk7Zm9yKHZhciBzPXQuZWRnZXMscj10Lm5vZGVzLGE9MDthPHMubGVuZ3RoO2ErKyl7dmFyIGg9e30sZD1zW2FdO2guaWQ9ZC5pZCxoLmZyb209ZC5zb3VyY2UsaC50bz1kLnRhcmdldCxoLmF0dHJpYnV0ZXM9ZC5hdHRyaWJ1dGVzLGgubGFiZWw9ZC5sYWJlbCxoLnRpdGxlPXZvaWQgMCE9PWQuYXR0cmlidXRlcz9kLmF0dHJpYnV0ZXMudGl0bGU6dm9pZCAwLFwiRGlyZWN0ZWRcIj09PWQudHlwZSYmKGguYXJyb3dzPVwidG9cIiksZC5jb2xvciYmbi5pbmhlcml0Q29sb3I9PT0hMSYmKGguY29sb3I9ZC5jb2xvciksaS5wdXNoKGgpfWZvcih2YXIgYT0wO2E8ci5sZW5ndGg7YSsrKXt2YXIgbD17fSx1PXJbYV07bC5pZD11LmlkLGwuYXR0cmlidXRlcz11LmF0dHJpYnV0ZXMsbC50aXRsZT11LnRpdGxlLGwueD11LngsbC55PXUueSxsLmxhYmVsPXUubGFiZWwsbC50aXRsZT12b2lkIDAhPT11LmF0dHJpYnV0ZXM/dS5hdHRyaWJ1dGVzLnRpdGxlOnZvaWQgMCxuLm5vZGVzLnBhcnNlQ29sb3I9PT0hMD9sLmNvbG9yPXUuY29sb3I6bC5jb2xvcj12b2lkIDAhPT11LmNvbG9yP3tiYWNrZ3JvdW5kOnUuY29sb3IsYm9yZGVyOnUuY29sb3IsaGlnaGxpZ2h0OntiYWNrZ3JvdW5kOnUuY29sb3IsYm9yZGVyOnUuY29sb3J9LGhvdmVyOntiYWNrZ3JvdW5kOnUuY29sb3IsYm9yZGVyOnUuY29sb3J9fTp2b2lkIDAsbC5zaXplPXUuc2l6ZSxsLmZpeGVkPW4ubm9kZXMuZml4ZWQmJnZvaWQgMCE9PXUueCYmdm9pZCAwIT09dS55LG8ucHVzaChsKX1yZXR1cm57bm9kZXM6byxlZGdlczppfX1lLnBhcnNlR2VwaGk9aX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbihlLGksbyl7cmV0dXJuIGkmJnQoZS5wcm90b3R5cGUsaSksbyYmdChlLG8pLGV9fSgpLG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe2kodGhpcyx0KSx0aGlzLmltYWdlcz17fSx0aGlzLmltYWdlQnJva2VuPXt9LHRoaXMuY2FsbGJhY2s9ZX1yZXR1cm4gbyh0LFt7a2V5OlwiX2FkZEltYWdlVG9DYWNoZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7MD09PWUud2lkdGgmJihkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGUpLGUud2lkdGg9ZS5vZmZzZXRXaWR0aCxlLmhlaWdodD1lLm9mZnNldEhlaWdodCxkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGUpKSx0aGlzLmltYWdlc1t0XT1lfX0se2tleTpcIl90cnlsb2FkQnJva2VuVXJsXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXRoaXM7dm9pZCAwIT09dCYmdm9pZCAwIT09ZSYmdm9pZCAwIT09aSYmKGkub25lcnJvcj1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJDb3VsZCBub3QgbG9hZCBicm9rZW5JbWFnZTpcIixlKSxvLl9hZGRJbWFnZVRvQ2FjaGUodCxuZXcgSW1hZ2UpfSxpLnNyYz1lKX19LHtrZXk6XCJfcmVkcmF3V2l0aEltYWdlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5jYWxsYmFjayYmdGhpcy5jYWxsYmFjayh0KX19LHtrZXk6XCJsb2FkXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXRoaXMsbj10aGlzLmltYWdlc1t0XTtpZihuKXJldHVybiBuO3ZhciBzPW5ldyBJbWFnZTtyZXR1cm4gcy5vbmxvYWQ9ZnVuY3Rpb24oKXtvLl9hZGRJbWFnZVRvQ2FjaGUodCxzKSxvLl9yZWRyYXdXaXRoSW1hZ2Uocyl9LHMub25lcnJvcj1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoXCJDb3VsZCBub3QgbG9hZCBpbWFnZTpcIix0KSxvLl90cnlsb2FkQnJva2VuVXJsKHQsZSxzKX0scy5zcmM9dCxzfX1dKSx0fSgpO2VbXCJkZWZhdWx0XCJdPW4sdC5leHBvcnRzPWVbXCJkZWZhdWx0XCJdfSxmdW5jdGlvbih0LGUpe2UuZW49e2VkaXQ6XCJFZGl0XCIsZGVsOlwiRGVsZXRlIHNlbGVjdGVkXCIsYmFjazpcIkJhY2tcIixhZGROb2RlOlwiQWRkIE5vZGVcIixhZGRFZGdlOlwiQWRkIEVkZ2VcIixlZGl0Tm9kZTpcIkVkaXQgTm9kZVwiLGVkaXRFZGdlOlwiRWRpdCBFZGdlXCIsYWRkRGVzY3JpcHRpb246XCJDbGljayBpbiBhbiBlbXB0eSBzcGFjZSB0byBwbGFjZSBhIG5ldyBub2RlLlwiLGVkZ2VEZXNjcmlwdGlvbjpcIkNsaWNrIG9uIGEgbm9kZSBhbmQgZHJhZyB0aGUgZWRnZSB0byBhbm90aGVyIG5vZGUgdG8gY29ubmVjdCB0aGVtLlwiLGVkaXRFZGdlRGVzY3JpcHRpb246XCJDbGljayBvbiB0aGUgY29udHJvbCBwb2ludHMgYW5kIGRyYWcgdGhlbSB0byBhIG5vZGUgdG8gY29ubmVjdCB0byBpdC5cIixjcmVhdGVFZGdlRXJyb3I6XCJDYW5ub3QgbGluayBlZGdlcyB0byBhIGNsdXN0ZXIuXCIsZGVsZXRlQ2x1c3RlckVycm9yOlwiQ2x1c3RlcnMgY2Fubm90IGJlIGRlbGV0ZWQuXCIsZWRpdENsdXN0ZXJFcnJvcjpcIkNsdXN0ZXJzIGNhbm5vdCBiZSBlZGl0ZWQuXCJ9LGUuZW5fRU49ZS5lbixlLmVuX1VTPWUuZW4sZS5kZT17ZWRpdDpcIkVkaXRpZXJlblwiLGRlbDpcIkzDtnNjaGUgQXVzd2FobFwiLGJhY2s6XCJadXLDvGNrXCIsYWRkTm9kZTpcIktub3RlbiBoaW56dWbDvGdlblwiLGFkZEVkZ2U6XCJLYW50ZSBoaW56dWbDvGdlblwiLGVkaXROb2RlOlwiS25vdGVuIGVkaXRpZXJlblwiLGVkaXRFZGdlOlwiS2FudGUgZWRpdGllcmVuXCIsYWRkRGVzY3JpcHRpb246XCJLbGlja2UgYXVmIGVpbmUgZnJlaWUgU3RlbGxlLCB1bSBlaW5lbiBuZXVlbiBLbm90ZW4genUgcGxhemllcmVuLlwiLGVkZ2VEZXNjcmlwdGlvbjpcIktsaWNrZSBhdWYgZWluZW4gS25vdGVuIHVuZCB6aWVoZSBkaWUgS2FudGUgenUgZWluZW0gYW5kZXJlbiBLbm90ZW4sIHVtIGRpZXNlIHp1IHZlcmJpbmRlbi5cIixlZGl0RWRnZURlc2NyaXB0aW9uOlwiS2xpY2tlIGF1ZiBkaWUgVmVyYmluZHVuZ3NwdW5rdGUgdW5kIHppZWhlIGRpZXNlIGF1ZiBlaW5lbiBLbm90ZW4sIHVtIHNpZSB6dSB2ZXJiaW5kZW4uXCIsY3JlYXRlRWRnZUVycm9yOlwiRXMgaXN0IG5pY2h0IG3DtmdsaWNoLCBLYW50ZW4gbWl0IENsdXN0ZXJuIHp1IHZlcmJpbmRlbi5cIixkZWxldGVDbHVzdGVyRXJyb3I6XCJDbHVzdGVyIGvDtm5uZW4gbmljaHQgZ2Vsw7ZzY2h0IHdlcmRlbi5cIixlZGl0Q2x1c3RlckVycm9yOlwiQ2x1c3RlciBrw7ZubmVuIG5pY2h0IGVkaXRpZXJ0IHdlcmRlbi5cIn0sZS5kZV9ERT1lLmRlLGUuZXM9e2VkaXQ6XCJFZGl0YXJcIixkZWw6XCJFbGltaW5hciBzZWxlY2Npw7NuXCIsYmFjazpcIsOBdHJhc1wiLGFkZE5vZGU6XCJBw7FhZGlyIG5vZG9cIixhZGRFZGdlOlwiQcOxYWRpciBhcmlzdGFcIixlZGl0Tm9kZTpcIkVkaXRhciBub2RvXCIsZWRpdEVkZ2U6XCJFZGl0YXIgYXJpc3RhXCIsYWRkRGVzY3JpcHRpb246XCJIYWdhIGNsaWMgZW4gdW4gbHVnYXIgdmFjw61vIHBhcmEgY29sb2NhciB1biBudWV2byBub2RvLlwiLGVkZ2VEZXNjcmlwdGlvbjpcIkhhZ2EgY2xpYyBlbiB1biBub2RvIHkgYXJyYXN0cmUgbGEgYXJpc3RhIGhhY2lhIG90cm8gbm9kbyBwYXJhIGNvbmVjdGFybG9zLlwiLGVkaXRFZGdlRGVzY3JpcHRpb246XCJIYWdhIGNsaWMgZW4gdW4gcHVudG8gZGUgY29udHJvbCB5IGFycmFzdHJlbG8gYSB1biBub2RvIHBhcmEgY29uZWN0YXJsby5cIixjcmVhdGVFZGdlRXJyb3I6XCJObyBzZSBwdWVkZSBjb25lY3RhciB1bmEgYXJpc3RhIGEgdW4gZ3J1cG8uXCIsZGVsZXRlQ2x1c3RlckVycm9yOlwiTm8gZXMgcG9zaWJsZSBlbGltaW5hciBncnVwb3MuXCIsZWRpdENsdXN0ZXJFcnJvcjpcIk5vIGVzIHBvc2libGUgZWRpdGFyIGdydXBvcy5cIn0sZS5lc19FUz1lLmVzLGUubmw9e2VkaXQ6XCJXaWp6aWdlblwiLGRlbDpcIlNlbGVjdGllIHZlcndpamRlcmVuXCIsYmFjazpcIlRlcnVnXCIsYWRkTm9kZTpcIk5vZGUgdG9ldm9lZ2VuXCIsYWRkRWRnZTpcIkxpbmsgdG9ldm9lZ2VuXCIsZWRpdE5vZGU6XCJOb2RlIHdpanppZ2VuXCIsZWRpdEVkZ2U6XCJMaW5rIHdpanppZ2VuXCIsYWRkRGVzY3JpcHRpb246XCJLbGlrIG9wIGVlbiBsZWVnIGdlYmllZCBvbSBlZW4gbmlldXdlIG5vZGUgdGUgbWFrZW4uXCIsZWRnZURlc2NyaXB0aW9uOlwiS2xpayBvcCBlZW4gbm9kZSBlbiBzbGVlcCBkZSBsaW5rIG5hYXIgZWVuIGFuZGVyZSBub2RlIG9tIHplIHRlIHZlcmJpbmRlbi5cIixlZGl0RWRnZURlc2NyaXB0aW9uOlwiS2xpayBvcCBkZSB2ZXJiaW5kaW5nc3B1bnRlbiBlbiBzbGVlcCB6ZSBuYWFyIGVlbiBub2RlIG9tIGRhYXJtZWUgdGUgdmVyYmluZGVuLlwiLGNyZWF0ZUVkZ2VFcnJvcjpcIkthbiBnZWVuIGxpbmsgbWFrZW4gbmFhciBlZW4gY2x1c3Rlci5cIixkZWxldGVDbHVzdGVyRXJyb3I6XCJDbHVzdGVycyBrdW5uZW4gbmlldCB3b3JkZW4gdmVyd2lqZGVyZC5cIixlZGl0Q2x1c3RlckVycm9yOlwiQ2x1c3RlcnMga3VubmVuIG5pZXQgd29yZGVuIGFhbmdlcGFzdC5cIn0sZS5ubF9OTD1lLm5sLGUubmxfQkU9ZS5ubH1dKX0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IEV4cGxvcmVyO1xuXG5mdW5jdGlvbiBFeHBsb3Jlciggd2Rxc0V4cGxvcmVyLCBpdGVtKSB7XG4gICAgdGhpcy5fVmlzID0gcmVxdWlyZSgndmlzJyk7XG4gICAgdGhpcy5fRXhwbG9yZXIgPSB3ZHFzRXhwbG9yZXI7XG4gICAgdGhpcy5faGFuZGxlRXhwbG9yZUl0ZW0oaXRlbSk7XG59XG5cbkV4cGxvcmVyLnByb3RvdHlwZS5faGFuZGxlRXhwbG9yZUV2ZW50ID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICAgIHRoaXMuX2hhbmRsZUV4cGxvcmVJdGVtKGl0ZW0pO1xufTtcblxuRXhwbG9yZXIucHJvdG90eXBlLl9oYW5kbGVFeHBsb3JlSXRlbSA9IGZ1bmN0aW9uKCBpdGVtICkge1xuICAgIHZhciBleHBsb3JlclNlbGVjdG9yID0gJCggJy5leHBsb3JlcicgKTtcbiAgICBleHBsb3JlclNlbGVjdG9yLmVtcHR5KCAnJyApO1xuICAgICQoICcuZXhwbG9yZXItcGFuZWwnICkuc2hvdygpO1xuXG4gICAgdmFyIGlkID0gaXRlbS5zdWJzdHJpbmcoaXRlbS5sYXN0SW5kZXhPZignLycpICsgMSk7XG4gICAgdGhpcy5fVmlzLmNvbmZpZyA9IHsgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9IH07XG4gICAgbmV3IHRoaXMuX0V4cGxvcmVyKCAkLCB0aGlzLl9WaXMsIGV4cGxvcmVyU2VsZWN0b3IsIHRoaXMuX1Zpcy5jb25maWcuZ2V0KCd3Z1dpa2liYXNlSXRlbUlkJykgKTtcbn07IiwiKGZ1bmN0aW9uIChnbG9iYWwpe1xuJ3VzZSBzdHJpY3QnO1xudmFyICQgPSAgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJyQnXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJyQnXSA6IG51bGwpO1xuXG52YXIgd2Rxc0V4cGxvcmVyID0gcmVxdWlyZSgnLi93ZHFzRXhwbG9yZXIuanMnKTtcbnZhciBFeHBsb3JlciA9IHJlcXVpcmUoJy4vRXhwbG9yZXIuanMnKTtcblxuZnVuY3Rpb24gZ2V0UmFuZG9tSWQobWluLCBtYXgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcbn1cblxudmFyIGl0ZW0gPSAnaHR0cHM6Ly93d3cud2lraWRhdGEub3JnL2VudGl0eS9RJyArIGdldFJhbmRvbUlkKDEsMTgwMDAwMDApO1xuXG4kKCBkb2N1bWVudCApLnJlYWR5KCBmdW5jdGlvbiAoKSB7XG4gICAgbmV3IEV4cGxvcmVyKCB3ZHFzRXhwbG9yZXIsIGl0ZW0gKTtcbn0gKTtcblxuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkluTnlZeTlwYm1SbGVDNXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPMEZCUVVFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVNJc0ltWnBiR1VpT2lKblpXNWxjbUYwWldRdWFuTWlMQ0p6YjNWeVkyVlNiMjkwSWpvaUlpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2lKM1Z6WlNCemRISnBZM1FuTzF4dWRtRnlJQ1FnUFNBZ0tIUjVjR1Z2WmlCM2FXNWtiM2NnSVQwOUlGd2lkVzVrWldacGJtVmtYQ0lnUHlCM2FXNWtiM2RiSnlRblhTQTZJSFI1Y0dWdlppQm5iRzlpWVd3Z0lUMDlJRndpZFc1a1pXWnBibVZrWENJZ1B5Qm5iRzlpWVd4Ykp5UW5YU0E2SUc1MWJHd3BPMXh1WEc1MllYSWdkMlJ4YzBWNGNHeHZjbVZ5SUQwZ2NtVnhkV2x5WlNnbkxpOTNaSEZ6Ulhod2JHOXlaWEl1YW5NbktUdGNiblpoY2lCRmVIQnNiM0psY2lBOUlISmxjWFZwY21Vb0p5NHZSWGh3Ykc5eVpYSXVhbk1uS1R0Y2JseHVablZ1WTNScGIyNGdaMlYwVW1GdVpHOXRTV1FvYldsdUxDQnRZWGdwSUh0Y2JpQWdJQ0J5WlhSMWNtNGdUV0YwYUM1bWJHOXZjaWhOWVhSb0xuSmhibVJ2YlNncElDb2dLRzFoZUNBdElHMXBiaUFySURFcEtTQXJJRzFwYmp0Y2JuMWNibHh1ZG1GeUlHbDBaVzBnUFNBbmFIUjBjSE02THk5M2QzY3VkMmxyYVdSaGRHRXViM0puTDJWdWRHbDBlUzlSSnlBcklHZGxkRkpoYm1SdmJVbGtLREVzTVRnd01EQXdNREFwTzF4dVhHNGtLQ0JrYjJOMWJXVnVkQ0FwTG5KbFlXUjVLQ0JtZFc1amRHbHZiaUFvS1NCN1hHNGdJQ0FnYm1WM0lFVjRjR3h2Y21WeUtDQjNaSEZ6Ulhod2JHOXlaWElzSUdsMFpXMGdLVHRjYm4wZ0tUdGNibHh1SWwxOSIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gd2Rxc0V4cGxvcmVyO1xuXG5mdW5jdGlvbiB3ZHFzRXhwbG9yZXIoICQsIFZpcywgYXR0YWNoQ29udGVudCwgcm9vdElkICkge1xuICAgIHJlcXVpcmUoJy4vd2Rxc0V4cGxvcmVyUGFuZWwuanMnKSgkLCBWaXMpO1xuXG4gICAgdmFyIGdyYXBoQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZ3JhcGhDb250YWluZXIuY2xhc3NOYW1lID0gXCJ2aXMtZ3JhcGhcIjtcblxuICAgIHZhciBwYW5lbENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHBhbmVsQ29udGFpbmVyLmNsYXNzTmFtZSA9IFwidmlzLXBhbmVsXCI7XG5cbiAgICB2YXIgY2xlYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjbGVhci5zdHlsZS5jbGVhciA9ICdsZWZ0JztcblxuICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb250YWluZXIuY2xhc3NOYW1lID0gXCJ2aXMtY29udGFpbmVyXCI7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGdyYXBoQ29udGFpbmVyKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocGFuZWxDb250YWluZXIpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjbGVhcik7XG4gICAgYXR0YWNoQ29udGVudC5hcHBlbmQoY29udGFpbmVyKTtcblxuICAgIHZhciBub2RlcyA9IG5ldyBWaXMuRGF0YVNldCgpO1xuICAgIHZhciBlZGdlcyA9IG5ldyBWaXMuRGF0YVNldCgpO1xuXG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgIGF1dG9SZXNpemU6IGZhbHNlLFxuICAgICAgICB3aWR0aDogJzEyMDBweCcsXG4gICAgICAgIGhlaWdodDogJzgwMHB4JyxcbiAgICAgICAgbGF5b3V0OiB7XG4gICAgICAgICAgICBpbXByb3ZlZExheW91dDpmYWxzZSxcbiAgICAgICAgICAgIHJhbmRvbVNlZWQ6MVxuICAgICAgICB9LFxuICAgICAgICBub2Rlczp7XG4gICAgICAgICAgICBjb2xvcjogJyNFNERGREYnLFxuICAgICAgICAgICAgZml4ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgZm9udDogJzhweCBhcmlhbCdcbiAgICAgICAgfSxcbiAgICAgICAgZWRnZXM6e1xuICAgICAgICAgICAgY29sb3I6ICcjRTRERkRGJyxcbiAgICAgICAgICAgIGZvbnQ6ICc4cHggYXJpYWwnLFxuICAgICAgICAgICAgc21vb3RoOiB7XG4gICAgICAgICAgICAgICAgdHlwZTonY3ViaWNCZXppZXInLFxuICAgICAgICAgICAgICAgIHJvdW5kbmVzczogMC40XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHBoeXNpY3M6e1xuICAgICAgICAgICAgbWF4VmVsb2NpdHk6IDI1LFxuICAgICAgICAgICAgYmFybmVzSHV0OiB7XG4gICAgICAgICAgICAgICAgc3ByaW5nTGVuZ3RoOiA1NVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBuZXR3b3JrID0gbmV3IFZpcy5OZXR3b3JrKFxuICAgICAgICBncmFwaENvbnRhaW5lcixcbiAgICAgICAgeyBub2Rlczogbm9kZXMsIGVkZ2VzOiBlZGdlcyB9LFxuICAgICAgICBvcHRpb25zXG4gICAgKTtcblxuICAgIG5ldHdvcmsub24oJ2RvdWJsZUNsaWNrJywgZnVuY3Rpb24gKHByb3BlcnRpZXMpIHtcbiAgICAgIGlmIChwcm9wZXJ0aWVzLm5vZGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB2YXIgbGFiZWwgPSBub2Rlcy5nZXQocHJvcGVydGllcy5ub2Rlc1swXSkubGFiZWw7XG4gICAgICAgIHdpbmRvdy5vcGVuKCcvL2VuLndpa2lwZWRpYS5vcmcvd2lraS8nICsgbGFiZWwsICdfYmxhbmsnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIG5ldHdvcmsub24oJ2NsaWNrJywgZnVuY3Rpb24gKHByb3BlcnRpZXMpIHtcbiAgICAgIHdoaWxlIChwYW5lbENvbnRhaW5lci5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgcGFuZWxDb250YWluZXIucmVtb3ZlQ2hpbGQocGFuZWxDb250YWluZXIuY2hpbGROb2Rlc1swXSk7XG4gICAgICB9XG4gICAgICBpZiAocHJvcGVydGllcy5ub2Rlcy5sZW5ndGggPT09IDEpIHtcblxuICAgICAgICB2YXIgbG9hZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2VtJyk7XG4gICAgICAgIGxvYWRpbmcuaW5uZXJIVE1MID0gJ0xvYWRpbmcgbGlua3MuLi4nO1xuICAgICAgICBwYW5lbENvbnRhaW5lci5hcHBlbmRDaGlsZChsb2FkaW5nKTtcblxuICAgICAgICBnZXRCaW5kaW5ncyhwcm9wZXJ0aWVzLm5vZGVzWzBdKTtcblxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHNob3dQYW5lbCA9IGZ1bmN0aW9uIChmcm9tSWQsIGFsbEJpbmRpbmdzKSB7XG4gICAgICB3aGlsZSAocGFuZWxDb250YWluZXIuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgIHBhbmVsQ29udGFpbmVyLnJlbW92ZUNoaWxkKHBhbmVsQ29udGFpbmVyLmNoaWxkTm9kZXNbMF0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgaGlzdG9ncmFtID0ge307XG4gICAgICB2YXIgdGFsbHkgPSBmdW5jdGlvbihiaW5kaW5ncykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJpbmRpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGJpbmRpbmcgPSBiaW5kaW5nc1tpXTtcbiAgICAgICAgICB2YXIgbGlua0xhYmVsID0gdmFsdWUoYmluZGluZy5wbCk7XG5cdCAgaGlzdG9ncmFtW2xpbmtMYWJlbF0gPSBoaXN0b2dyYW1bbGlua0xhYmVsXSB8fCAwO1xuICAgICAgICAgIGhpc3RvZ3JhbVtsaW5rTGFiZWxdID0gaGlzdG9ncmFtW2xpbmtMYWJlbF0gKyAxO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdGFsbHkoYWxsQmluZGluZ3Mub3V0Z29pbmcpO1xuICAgICAgdGFsbHkoYWxsQmluZGluZ3MuaW5jb21pbmcpO1xuXG4gICAgICB2YXIgbGlzdCA9IFtdO1xuICAgICAgZm9yICh2YXIgeCBpbiBoaXN0b2dyYW0pIHtcbiAgICAgICAgaWYgKGhpc3RvZ3JhbS5oYXNPd25Qcm9wZXJ0eSh4KSkge1xuICAgICAgICAgIGxpc3QucHVzaChjcmVhdGVMaXN0SXRlbShmcm9tSWQsIGFsbEJpbmRpbmdzLCB4LCBoaXN0b2dyYW1beF0pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGlzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBiLmNvdW50IC0gYS5jb3VudDsgfSk7XG5cbiAgICAgIHZhciBoZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDInKTtcbiAgICAgIGhlYWRpbmcuaW5uZXJIVE1MID0gJ0xpbmtzJztcbiAgICAgIHBhbmVsQ29udGFpbmVyLmFwcGVuZENoaWxkKGhlYWRpbmcpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc2hvd0xpc3RJdGVtKGxpc3RbaV0pO1xuICAgICAgfVxuXG4gICAgfTtcblxuICAgIHZhciBjcmVhdGVMaXN0SXRlbSA9IGZ1bmN0aW9uIChmcm9tSWQsIGFsbEJpbmRpbmdzLCBsYWJlbCwgaXRlbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgICBjb3VudDogaXRlbSxcbiAgICAgICAgc2hvdzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHNob3dCaW5kaW5ncyhmcm9tSWQsIGFsbEJpbmRpbmdzLm91dGdvaW5nLCBsYWJlbCk7XG4gICAgICAgICAgc2hvd0JpbmRpbmdzKGZyb21JZCwgYWxsQmluZGluZ3MuaW5jb21pbmcsIGxhYmVsLCB0cnVlKTtcbiAgICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBzaG93TGlzdEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgYnV0dG9uLmlubmVySFRNTCA9ICdzaG93JztcbiAgICAgIGJ1dHRvbi5zdHlsZS5tYXJnaW4gPSAnMC41ZW0nO1xuICAgICAgYnV0dG9uLm9uY2xpY2sgPSBpdGVtLnNob3c7XG5cbiAgICAgIHZhciBjb3VudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2VtJyk7XG4gICAgICBjb3VudC5zdHlsZS5tYXJnaW4gPSAnMC4yNWVtJztcbiAgICAgIGNvdW50LmlubmVySFRNTCA9ICcoJyArIGl0ZW0uY291bnQgKyAnKSc7XG5cbiAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2VtJyk7XG4gICAgICBsYWJlbC5zdHlsZS5tYXJnaW4gPSAnMC4yNWVtJztcbiAgICAgIGxhYmVsLmlubmVySFRNTCA9IGl0ZW0ubGFiZWw7XG5cbiAgICAgIHZhciBidXR0b25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGJ1dHRvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgYnV0dG9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGNvdW50KTtcbiAgICAgIGJ1dHRvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChsYWJlbCk7XG5cbiAgICAgIHBhbmVsQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbkNvbnRhaW5lcik7XG4gICAgfTtcbiBcbiAgICB2YXIgZ2V0QmluZGluZ3MgPSBmdW5jdGlvbiAoZnJvbUlkKSB7XG4gICAgICBWaXMud2Rxc0dldE91dGdvaW5nTGlua3NCeUlkKGZyb21JZCkuc2VxdWVuY2UoXG4gICAgICAgIFZpcy53ZHFzR2V0SW5jb21pbmdMaW5rc0J5SWQoZnJvbUlkKSkuYXBwbHkoXG4gICAgICAgIGZ1bmN0aW9uIChiaW5kaW5nc2VzKSB7XG4gICAgICAgICAgc2hvd1BhbmVsKGZyb21JZCwgeyBvdXRnb2luZzogYmluZGluZ3Nlc1swXSwgaW5jb21pbmc6IGJpbmRpbmdzZXNbMV0gfSk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfTtcblxuICAgIHZhciB2YWx1ZSA9IGZ1bmN0aW9uIChiaW5kaW5nVmFyKSB7XG4gICAgICBpZiAoYmluZGluZ1ZhciAmJiBiaW5kaW5nVmFyLnZhbHVlKSB7XG4gICAgICAgIHJldHVybiBiaW5kaW5nVmFyLnZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcodW5rbm93biknO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgZW50aXR5SWQgPSBmdW5jdGlvbiAoYmluZGluZ1Zhcikge1xuICAgICAgaWYgKGJpbmRpbmdWYXIgJiYgYmluZGluZ1Zhci52YWx1ZSkge1xuICAgICAgICByZXR1cm4gYmluZGluZ1Zhci52YWx1ZS5zdWJzdHIoJ2h0dHA6Ly93d3cud2lraWRhdGEub3JnL2VudGl0eS8nLmxlbmd0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJyh1bmtub3duKSc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciBzaG93QmluZGluZ3MgPSBmdW5jdGlvbiAoZnJvbUlkLCBiaW5kaW5ncywgbGlua1R5cGUsIGluY29taW5nKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJpbmRpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBiaW5kaW5nID0gYmluZGluZ3NbaV07XG4gICAgICAgIHZhciBsaW5rTGFiZWwgPSB2YWx1ZShiaW5kaW5nLnBsKTtcbiAgICAgICAgaWYgKGxpbmtMYWJlbCA9PT0gbGlua1R5cGUpIHtcbiAgICAgICAgICB2YXIgdG9JZCA9IGVudGl0eUlkKGJpbmRpbmcubyk7XG4gICAgICAgICAgdmFyIHRvTGFiZWwgPSB2YWx1ZShiaW5kaW5nLm9sKTtcbiAgICAgICAgICBhZGROb2RlKHRvSWQsIHRvTGFiZWwpO1xuICAgICAgICAgIGlmIChpbmNvbWluZykge1xuICAgICAgICAgICAgYWRkTGluayh0b0lkLCBsaW5rTGFiZWwsIGZyb21JZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFkZExpbmsoZnJvbUlkLCBsaW5rTGFiZWwsIHRvSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgYWRkTm9kZSA9IGZ1bmN0aW9uKGlkLCBsYWJlbCkge1xuICAgICAgaWYgKCFub2Rlcy5nZXQoaWQpKSB7XG4gICAgICAgIG5vZGVzLmFkZChbIHsgaWQ6IGlkLCBsYWJlbDogbGFiZWwgfSBdKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGFkZExpbmsgPSBmdW5jdGlvbihmcm9tSWQsIGxpbmtMYWJlbCwgdG9JZCkge1xuICAgICAgdmFyIGlkID0gZnJvbUlkICsgJy0nICsgbGlua0xhYmVsICsgJy0nICsgdG9JZDtcbiAgICAgIGlmICghZWRnZXMuZ2V0KGlkKSkge1xuICAgICAgICBlZGdlcy5hZGQoWyB7IGlkOiBpZCwgZnJvbTogZnJvbUlkLCB0bzogdG9JZCwgbGFiZWw6IGxpbmtMYWJlbCB9IF0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBWaXMud2Rxc0dldExhYmVsQnlJZChyb290SWQpLmFwcGx5KFxuICAgICAgZnVuY3Rpb24gKGxhYmVsKSB7XG4gICAgICAgIGFkZE5vZGUocm9vdElkLCBsYWJlbCk7XG4gICAgICB9XG4gICAgKTtcbiAgfVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgkLCB2aXMpIHtcbiAgdmFyIGlkID0gZnVuY3Rpb24gKHgpIHtcbiAgICByZXR1cm4geDtcbiAgfTtcblxuICB2YXIgZnV0dXJlID0gZnVuY3Rpb24oZikge1xuICAgIHJldHVybiB7XG4gICAgICBhcHBseTogZnVuY3Rpb24gKGspIHtcbiAgICAgICAgaWYgKGsgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBmKGlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZihrKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG1hcDogZnVuY3Rpb24gKGcpIHtcbiAgICAgICAgcmV0dXJuIGZ1dHVyZSAoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICByZXR1cm4gZihmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgcmV0dXJuIGsoZyh4KSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGZsYXRNYXA6IGZ1bmN0aW9uIChnKSB7XG4gICAgICAgIHJldHVybiBmdXR1cmUgKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgcmV0dXJuIGYoZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIHJldHVybiBnKHgpLmFwcGx5KGspO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBzZXF1ZW5jZTogZnVuY3Rpb24gKGYyKSB7XG4gICAgICAgIHZhciB4MSA9IG51bGw7XG4gICAgICAgIHZhciB4MiA9IG51bGw7XG4gICAgICAgIHJldHVybiBmdXR1cmUoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICBmKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICB4MSA9IHg7XG4gICAgICAgICAgICBpZiAoeDIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgayhbeDEsIHgyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZjIuYXBwbHkoZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIHgyID0geDtcbiAgICAgICAgICAgIGlmICh4MSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBrKFt4MSwgeDJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICB2aXMud2Rxc1F1ZXJ5ID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgcmV0dXJuIGZ1dHVyZShmdW5jdGlvbiAoaykge1xuICAgICAgJC5hamF4KHtcbiAgICAgICAgdXJsOiAnaHR0cHM6Ly9xdWVyeS53aWtpZGF0YS5vcmcvYmlnZGF0YS9uYW1lc3BhY2Uvd2RxL3NwYXJxbCcsXG4gICAgICAgIGRhdGE6IHsgcXVlcnk6IHF1ZXJ5IH0sXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICh4KSB7IHJldHVybiBrKHgucmVzdWx0cy5iaW5kaW5ncyk7IH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHZpcy53ZHFzR2V0SW5jb21pbmdMaW5rcyA9IGZ1bmN0aW9uICh1cmkpIHtcbiAgICByZXR1cm4gdmlzLndkcXNRdWVyeShcbiAgICAgICdTRUxFQ1QgP28gP29sID9wID9wbCBXSEVSRSB7JyArXG4gICAgICAnICA/byA/cCAnICsgdXJpICsgJyAuJyArXG4gICAgICAnICA/byA8aHR0cDovL3d3dy53My5vcmcvMjAwMC8wMS9yZGYtc2NoZW1hI2xhYmVsPiA/b2wgLicgK1xuICAgICAgJyAgRklMVEVSICggTEFORyg/b2wpID0gXCJlblwiICknICtcbiAgICAgICcgID9wcyA8aHR0cDovL3dpa2liYS5zZS9vbnRvbG9neSNkaXJlY3RDbGFpbT4gP3AgLicgK1xuICAgICAgJyAgP3BzIHJkZnM6bGFiZWwgP3BsIC4nICtcbiAgICAgICcgIEZJTFRFUiAoIExBTkcoP3BsKSA9IFwiZW5cIiApJyArXG4gICAgICAnfSBMSU1JVCA1MCdcbiAgICApO1xuICB9O1xuXG4gIHZpcy53ZHFzR2V0SW5jb21pbmdMaW5rc0J5SWQgPSBmdW5jdGlvbiAocWlkKSB7XG4gICAgcmV0dXJuIHZpcy53ZHFzR2V0SW5jb21pbmdMaW5rcygnPGh0dHA6Ly93d3cud2lraWRhdGEub3JnL2VudGl0eS8nICsgcWlkICsgJz4nKTtcbiAgfTtcblxuICB2aXMud2Rxc0dldE91dGdvaW5nTGlua3MgPSBmdW5jdGlvbiAodXJpKSB7XG4gICAgcmV0dXJuIHZpcy53ZHFzUXVlcnkoXG4gICAgICAnU0VMRUNUID9wID9wbCA/byA/b2wgV0hFUkUgeycgK1xuICAgICAgJyAgJyArIHVyaSArICcgP3AgP28gLicgK1xuICAgICAgJyAgP28gPGh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDEvcmRmLXNjaGVtYSNsYWJlbD4gP29sIC4nICtcbiAgICAgICcgIEZJTFRFUiAoIExBTkcoP29sKSA9IFwiZW5cIiApJyArXG4gICAgICAnICA/cyA8aHR0cDovL3dpa2liYS5zZS9vbnRvbG9neSNkaXJlY3RDbGFpbT4gP3AgLicgK1xuICAgICAgJyAgP3MgcmRmczpsYWJlbCA/cGwgLicgK1xuICAgICAgJyAgRklMVEVSICggTEFORyg/cGwpID0gXCJlblwiICknICtcbiAgICAgICd9IExJTUlUIDUwJ1xuICAgICk7XG4gIH07XG5cbiAgdmlzLndkcXNHZXRPdXRnb2luZ0xpbmtzQnlJZCA9IGZ1bmN0aW9uIChxaWQpIHtcbiAgICByZXR1cm4gdmlzLndkcXNHZXRPdXRnb2luZ0xpbmtzKCc8aHR0cDovL3d3dy53aWtpZGF0YS5vcmcvZW50aXR5LycgKyBxaWQgKyAnPicpO1xuICB9O1xuXG4gIHZpcy53ZHFzR2V0TGFiZWwgPSBmdW5jdGlvbiAodXJpKSB7XG4gICAgcmV0dXJuIHZpcy53ZHFzUXVlcnkoXG4gICAgICAnU0VMRUNUID9zbCBXSEVSRSB7JyArXG4gICAgICAnICAnICsgdXJpICsgJyA8aHR0cDovL3d3dy53My5vcmcvMjAwMC8wMS9yZGYtc2NoZW1hI2xhYmVsPiA/c2wgLicgK1xuICAgICAgJyAgRklMVEVSICggTEFORyg/c2wpID0gXCJlblwiICknICtcbiAgICAgICd9IExJTUlUIDEnXG4gICAgKTtcbiAgfTtcblxuICB2aXMud2Rxc0dldExhYmVsQnlJZCA9IGZ1bmN0aW9uIChxaWQpIHtcbiAgICByZXR1cm4gdmlzLndkcXNHZXRMYWJlbCgnPGh0dHA6Ly93d3cud2lraWRhdGEub3JnL2VudGl0eS8nICsgcWlkICsgJz4nKS5tYXAoXG4gICAgICBmdW5jdGlvbiAoYmluZGluZ3MpIHtcbiAgICAgICAgaWYgKGJpbmRpbmdzLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAgICAgYmluZGluZ3NbMF0uc2wgJiZcbiAgICAgICAgICAgIGJpbmRpbmdzWzBdLnNsLnZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGJpbmRpbmdzWzBdLnNsLnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiAnKHVubGFiZWxlZCknO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfTtcblxufTtcblxuIl19
